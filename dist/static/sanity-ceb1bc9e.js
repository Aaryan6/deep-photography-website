function l0(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function td(e){return l0(e)&&typeof e._ref=="string"}function CMe(e){return l0(e)&&td(e.asset)&&e.asset._ref.startsWith("image-")}function mve(e){return l0(e)&&typeof e._ref=="string"&&typeof e._dataset=="string"&&typeof e._projectId=="string"}function _Me(e){return l0(e)&&typeof e._id=="string"&&typeof e._type=="string"}function sF(e){return l0(e)&&typeof e._type=="string"}function kl(e){return l0(e)&&typeof e._key=="string"}function SMe(e){return e.level==="error"}const EMe=/_key\s*==\s*['"](.*)['"]/,kMe=/^\d*:\d*$/;function wl(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function Rr(e){return typeof e=="string"?EMe.test(e.trim()):typeof e=="object"&&"_key"in e}function Ep(e){if(typeof e=="string"&&kMe.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}function m2(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Vf(e){return m2(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>m2(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>m2(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function Ks(e){return m2(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function jMe(e){return Vf(e)&&"listItem"in e&&typeof e.listItem=="string"&&"level"in e&&Number.isInteger(e.level)}function rm(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Ya(e){return rm(e)?e.jsonType==="object":!1}function Ll(e){return rm(e)?e.jsonType==="array":!1}function aF(e){return Ll(e)&&e.of.every(t=>Ya(t))}function TMe(e){return Ll(e)&&e.of.every(t=>vve(t))}function Yx(e){return rm(e)?e.jsonType==="boolean":!1}function gve(e){return rm(e)?e.jsonType==="string":!1}function kp(e){return rm(e)?e.jsonType==="number":!1}function vve(e){return Yx(e)||gve(e)||kp(e)}function Tu(e){return rm(e)&&(e.name==="reference"||Tu(e.type))}function lF(e){return rm(e)&&(e.name==="crossDatasetReference"||lF(e.type))}function cF(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function Oc(e,t){return e}function yve(e,t){return e}function AMe(e,t){return e}function DMe(e){return e.level==="error"}function IMe(e){return e.level==="warning"}var ys=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PMe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var bve={exports:{}},j5={},xve={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx=Symbol.for("react.element"),OMe=Symbol.for("react.portal"),RMe=Symbol.for("react.fragment"),$Me=Symbol.for("react.strict_mode"),MMe=Symbol.for("react.profiler"),FMe=Symbol.for("react.provider"),LMe=Symbol.for("react.context"),BMe=Symbol.for("react.forward_ref"),NMe=Symbol.for("react.suspense"),zMe=Symbol.for("react.memo"),VMe=Symbol.for("react.lazy"),Iz=Symbol.iterator;function HMe(e){return e===null||typeof e!="object"?null:(e=Iz&&e[Iz]||e["@@iterator"],typeof e=="function"?e:null)}var wve={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cve=Object.assign,_ve={};function c0(e,t,n){this.props=e,this.context=t,this.refs=_ve,this.updater=n||wve}c0.prototype.isReactComponent={};c0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};c0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sve(){}Sve.prototype=c0.prototype;function uF(e,t,n){this.props=e,this.context=t,this.refs=_ve,this.updater=n||wve}var dF=uF.prototype=new Sve;dF.constructor=uF;Cve(dF,c0.prototype);dF.isPureReactComponent=!0;var Pz=Array.isArray,Eve=Object.prototype.hasOwnProperty,fF={current:null},kve={key:!0,ref:!0,__self:!0,__source:!0};function jve(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Eve.call(t,r)&&!kve.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:qx,type:e,key:i,ref:s,props:o,_owner:fF.current}}function UMe(e,t){return{$$typeof:qx,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hF(e){return typeof e=="object"&&e!==null&&e.$$typeof===qx}function WMe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Oz=/\/+/g;function gD(e,t){return typeof e=="object"&&e!==null&&e.key!=null?WMe(""+e.key):t.toString(36)}function g2(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case qx:case OMe:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+gD(s,0):r,Pz(o)?(n="",e!=null&&(n=e.replace(Oz,"$&/")+"/"),g2(o,t,n,"",function(u){return u})):o!=null&&(hF(o)&&(o=UMe(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Oz,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Pz(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+gD(i,a);s+=g2(i,t,n,c,o)}else if(c=HMe(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+gD(i,a++),s+=g2(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function CC(e,t,n){if(e==null)return e;var r=[],o=0;return g2(e,r,"","",function(i){return t.call(n,i,o++)}),r}function YMe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ji={current:null},v2={transition:null},qMe={ReactCurrentDispatcher:Ji,ReactCurrentBatchConfig:v2,ReactCurrentOwner:fF};Wt.Children={map:CC,forEach:function(e,t,n){CC(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return CC(e,function(){t++}),t},toArray:function(e){return CC(e,function(t){return t})||[]},only:function(e){if(!hF(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Wt.Component=c0;Wt.Fragment=RMe;Wt.Profiler=MMe;Wt.PureComponent=uF;Wt.StrictMode=$Me;Wt.Suspense=NMe;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qMe;Wt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Cve({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=fF.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Eve.call(t,c)&&!kve.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:qx,type:e.type,key:o,ref:i,props:r,_owner:s}};Wt.createContext=function(e){return e={$$typeof:LMe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FMe,_context:e},e.Consumer=e};Wt.createElement=jve;Wt.createFactory=function(e){var t=jve.bind(null,e);return t.type=e,t};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(e){return{$$typeof:BMe,render:e}};Wt.isValidElement=hF;Wt.lazy=function(e){return{$$typeof:VMe,_payload:{_status:-1,_result:e},_init:YMe}};Wt.memo=function(e,t){return{$$typeof:zMe,type:e,compare:t===void 0?null:t}};Wt.startTransition=function(e){var t=v2.transition;v2.transition={};try{e()}finally{v2.transition=t}};Wt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Wt.useCallback=function(e,t){return Ji.current.useCallback(e,t)};Wt.useContext=function(e){return Ji.current.useContext(e)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(e){return Ji.current.useDeferredValue(e)};Wt.useEffect=function(e,t){return Ji.current.useEffect(e,t)};Wt.useId=function(){return Ji.current.useId()};Wt.useImperativeHandle=function(e,t,n){return Ji.current.useImperativeHandle(e,t,n)};Wt.useInsertionEffect=function(e,t){return Ji.current.useInsertionEffect(e,t)};Wt.useLayoutEffect=function(e,t){return Ji.current.useLayoutEffect(e,t)};Wt.useMemo=function(e,t){return Ji.current.useMemo(e,t)};Wt.useReducer=function(e,t,n){return Ji.current.useReducer(e,t,n)};Wt.useRef=function(e){return Ji.current.useRef(e)};Wt.useState=function(e){return Ji.current.useState(e)};Wt.useSyncExternalStore=function(e,t,n){return Ji.current.useSyncExternalStore(e,t,n)};Wt.useTransition=function(){return Ji.current.useTransition()};Wt.version="18.2.0";xve.exports=Wt;var h=xve.exports;const ie=Pe(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GMe=h,KMe=Symbol.for("react.element"),ZMe=Symbol.for("react.fragment"),XMe=Object.prototype.hasOwnProperty,QMe=GMe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JMe={key:!0,ref:!0,__self:!0,__source:!0};function Tve(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)XMe.call(t,r)&&!JMe.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:KMe,type:e,key:i,ref:s,props:o,_owner:QMe.current}}j5.Fragment=ZMe;j5.jsx=Tve;j5.jsxs=Tve;bve.exports=j5;var l=bve.exports;const e4e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t4e=/_key\s*==\s*['"](.*)['"]/,Ave=[],Dve="$";function om(e,t,n){const r=typeof t=="string"?jl(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let o=e;for(let i=0;i<r.length;i++){const s=r[i];if(wl(s)){if(!Array.isArray(o))return n;o=o[s]}if(Rr(s)){if(!Array.isArray(o))return n;o=o.find(a=>a._key===s._key)}if(typeof s=="string"&&(o=typeof o=="object"&&o!==null?o[s]:void 0),typeof o>"u")return n}return o}const vD=new Map;function im(e){if(e.length===0)return Ave;const t=Br(e);return vD.has(t)?vD.get(t):(vD.set(t,e),Object.freeze(e),e)}function yn(e,t){return e.length===t.length&&e.every((n,r)=>T5(n,t[r]))}function n4e(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!T5(e[r],t[r]))return r;return n}function T5(e,t){return Rr(e)&&Rr(t)?e._key===t._key:wl(e)?Number(e)===Number(t):Ep(e)&&Ep(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function wi(e,t){return e.every((n,r)=>T5(n,t[r]))}function Ry(e,t){if(e.length===0||t.length===0)return t;const[n,...r]=e,[o,...i]=t;return T5(n,o)?im(Ry(r,i)):t}function pF(e,t){return wi(e,t)?Ry(e,t):Ave}function Br(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Rr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function v3(e,t){if(t.length===0)return t;const[n,...r]=t;if(typeof n=="number"){if(!Array.isArray(e)||!(n in e))return[];const i=e[n];return[typeof(i==null?void 0:i._key)=="string"?{_key:i._key}:n,...v3(i,r)]}const o=om(e,[n]);return[n,...v3(o,r)]}function r4e(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return im(v3(e,t))}function jl(e){if(typeof e!="string")throw new Error("Path is not a string");const t=e.match(e4e);if(!t)throw new Error("Invalid path string");return t.map(o4e)}function o4e(e){return wl(e)?i4e(e):Rr(e)?s4e(e):Ep(e)?a4e(e):e}function i4e(e){return Number(e.replace(/[^\d]/g,""))}function s4e(e){return{_key:e.match(t4e)[1]}}function a4e(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}var l4e=typeof Element<"u",c4e=typeof Map=="function",u4e=typeof Set=="function",d4e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function y2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!y2(e[r],t[r]))return!1;return!0}var i;if(c4e&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!y2(r.value[1],t.get(r.value[0])))return!1;return!0}if(u4e&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(d4e&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(l4e&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!y2(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var f4e=function(t,n){try{return y2(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const mF=Pe(f4e);function h4e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qa=h4e;const Gx=Pe(qa);var p4e=typeof ys=="object"&&ys&&ys.Object===Object&&ys,Ive=p4e,m4e=Ive,g4e=typeof self=="object"&&self&&self.Object===Object&&self,v4e=m4e||g4e||Function("return this")(),Bl=v4e,y4e=Bl,b4e=function(){return y4e.Date.now()},x4e=b4e,w4e=/\s/;function C4e(e){for(var t=e.length;t--&&w4e.test(e.charAt(t)););return t}var _4e=C4e,S4e=_4e,E4e=/^\s+/;function k4e(e){return e&&e.slice(0,S4e(e)+1).replace(E4e,"")}var Pve=k4e,j4e=Bl,T4e=j4e.Symbol,u0=T4e,Rz=u0,Ove=Object.prototype,A4e=Ove.hasOwnProperty,D4e=Ove.toString,v1=Rz?Rz.toStringTag:void 0;function I4e(e){var t=A4e.call(e,v1),n=e[v1];try{e[v1]=void 0;var r=!0}catch{}var o=D4e.call(e);return r&&(t?e[v1]=n:delete e[v1]),o}var P4e=I4e,O4e=Object.prototype,R4e=O4e.toString;function $4e(e){return R4e.call(e)}var M4e=$4e,$z=u0,F4e=P4e,L4e=M4e,B4e="[object Null]",N4e="[object Undefined]",Mz=$z?$z.toStringTag:void 0;function z4e(e){return e==null?e===void 0?N4e:B4e:Mz&&Mz in Object(e)?F4e(e):L4e(e)}var Hf=z4e;function V4e(e){return e!=null&&typeof e=="object"}var Ga=V4e,H4e=Hf,U4e=Ga,W4e="[object Symbol]";function Y4e(e){return typeof e=="symbol"||U4e(e)&&H4e(e)==W4e}var sm=Y4e,q4e=Pve,Fz=qa,G4e=sm,Lz=0/0,K4e=/^[-+]0x[0-9a-f]+$/i,Z4e=/^0b[01]+$/i,X4e=/^0o[0-7]+$/i,Q4e=parseInt;function J4e(e){if(typeof e=="number")return e;if(G4e(e))return Lz;if(Fz(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Fz(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=q4e(e);var n=Z4e.test(e);return n||X4e.test(e)?Q4e(e.slice(2),n?2:8):K4e.test(e)?Lz:+e}var Rve=J4e,eFe=qa,yD=x4e,Bz=Rve,tFe="Expected a function",nFe=Math.max,rFe=Math.min;function oFe(e,t,n){var r,o,i,s,a,c,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(tFe);t=Bz(t)||0,eFe(n)&&(d=!!n.leading,f="maxWait"in n,i=f?nFe(Bz(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function m(S){var E=r,j=o;return r=o=void 0,u=S,s=e.apply(j,E),s}function v(S){return u=S,a=setTimeout(x,t),d?m(S):s}function g(S){var E=S-c,j=S-u,k=t-E;return f?rFe(k,i-j):k}function y(S){var E=S-c,j=S-u;return c===void 0||E>=t||E<0||f&&j>=i}function x(){var S=yD();if(y(S))return b(S);a=setTimeout(x,g(S))}function b(S){return a=void 0,p&&r?m(S):(r=o=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=c=o=a=void 0}function C(){return a===void 0?s:b(yD())}function _(){var S=yD(),E=y(S);if(r=arguments,o=this,c=S,E){if(a===void 0)return v(c);if(f)return clearTimeout(a),a=setTimeout(x,t),m(c)}return a===void 0&&(a=setTimeout(x,t)),s}return _.cancel=w,_.flush=C,_}var $ve=oFe;const Kx=Pe($ve);function gF(){var e=Object.create(null),t=0;function n(o){var i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(var i in e)e[i](o)}return{publish:r,subscribe:n}}var Mve={exports:{}},_n={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vF=Symbol.for("react.element"),yF=Symbol.for("react.portal"),A5=Symbol.for("react.fragment"),D5=Symbol.for("react.strict_mode"),I5=Symbol.for("react.profiler"),P5=Symbol.for("react.provider"),O5=Symbol.for("react.context"),iFe=Symbol.for("react.server_context"),R5=Symbol.for("react.forward_ref"),$5=Symbol.for("react.suspense"),M5=Symbol.for("react.suspense_list"),F5=Symbol.for("react.memo"),L5=Symbol.for("react.lazy"),sFe=Symbol.for("react.offscreen"),Fve;Fve=Symbol.for("react.module.reference");function Ka(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case vF:switch(e=e.type,e){case A5:case I5:case D5:case $5:case M5:return e;default:switch(e=e&&e.$$typeof,e){case iFe:case O5:case R5:case L5:case F5:case P5:return e;default:return t}}case yF:return t}}}_n.ContextConsumer=O5;_n.ContextProvider=P5;_n.Element=vF;_n.ForwardRef=R5;_n.Fragment=A5;_n.Lazy=L5;_n.Memo=F5;_n.Portal=yF;_n.Profiler=I5;_n.StrictMode=D5;_n.Suspense=$5;_n.SuspenseList=M5;_n.isAsyncMode=function(){return!1};_n.isConcurrentMode=function(){return!1};_n.isContextConsumer=function(e){return Ka(e)===O5};_n.isContextProvider=function(e){return Ka(e)===P5};_n.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===vF};_n.isForwardRef=function(e){return Ka(e)===R5};_n.isFragment=function(e){return Ka(e)===A5};_n.isLazy=function(e){return Ka(e)===L5};_n.isMemo=function(e){return Ka(e)===F5};_n.isPortal=function(e){return Ka(e)===yF};_n.isProfiler=function(e){return Ka(e)===I5};_n.isStrictMode=function(e){return Ka(e)===D5};_n.isSuspense=function(e){return Ka(e)===$5};_n.isSuspenseList=function(e){return Ka(e)===M5};_n.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===A5||e===I5||e===D5||e===$5||e===M5||e===sFe||typeof e=="object"&&e!==null&&(e.$$typeof===L5||e.$$typeof===F5||e.$$typeof===P5||e.$$typeof===O5||e.$$typeof===R5||e.$$typeof===Fve||e.getModuleId!==void 0)};_n.typeOf=Ka;Mve.exports=_n;var Xn=Mve.exports;const aFe=Pe(Xn);function lFe(e){function t(q,X,B,Y,z){for(var Z=0,Q=0,ne=0,K=0,J,re,fe=0,le=0,ge,xe=ge=J=0,ce=0,ve=0,$e=0,Ae=0,st=B.length,et=st-1,lt,Oe="",we="",We="",ze="",Ze;ce<st;){if(re=B.charCodeAt(ce),ce===et&&Q+K+ne+Z!==0&&(Q!==0&&(re=Q===47?10:47),K=ne=Z=0,st++,et++),Q+K+ne+Z===0){if(ce===et&&(0<ve&&(Oe=Oe.replace(p,"")),0<Oe.trim().length)){switch(re){case 32:case 9:case 59:case 13:case 10:break;default:Oe+=B.charAt(ce)}re=59}switch(re){case 123:for(Oe=Oe.trim(),J=Oe.charCodeAt(0),ge=1,Ae=++ce;ce<st;){switch(re=B.charCodeAt(ce)){case 123:ge++;break;case 125:ge--;break;case 47:switch(re=B.charCodeAt(ce+1)){case 42:case 47:e:{for(xe=ce+1;xe<et;++xe)switch(B.charCodeAt(xe)){case 47:if(re===42&&B.charCodeAt(xe-1)===42&&ce+2!==xe){ce=xe+1;break e}break;case 10:if(re===47){ce=xe+1;break e}}ce=xe}}break;case 91:re++;case 40:re++;case 34:case 39:for(;ce++<et&&B.charCodeAt(ce)!==re;);}if(ge===0)break;ce++}switch(ge=B.substring(Ae,ce),J===0&&(J=(Oe=Oe.replace(f,"").trim()).charCodeAt(0)),J){case 64:switch(0<ve&&(Oe=Oe.replace(p,"")),re=Oe.charCodeAt(1),re){case 100:case 109:case 115:case 45:ve=X;break;default:ve=R}if(ge=t(X,ve,ge,re,z+1),Ae=ge.length,0<N&&(ve=n(R,Oe,$e),Ze=a(3,ge,ve,X,I,D,Ae,re,z,Y),Oe=ve.join(""),Ze!==void 0&&(Ae=(ge=Ze.trim()).length)===0&&(re=0,ge="")),0<Ae)switch(re){case 115:Oe=Oe.replace(S,s);case 100:case 109:case 45:ge=Oe+"{"+ge+"}";break;case 107:Oe=Oe.replace(b,"$1 $2"),ge=Oe+"{"+ge+"}",ge=$===1||$===2&&i("@"+ge,3)?"@-webkit-"+ge+"@"+ge:"@"+ge;break;default:ge=Oe+ge,Y===112&&(ge=(we+=ge,""))}else ge="";break;default:ge=t(X,n(X,Oe,$e),ge,Y,z+1)}We+=ge,ge=$e=ve=xe=J=0,Oe="",re=B.charCodeAt(++ce);break;case 125:case 59:if(Oe=(0<ve?Oe.replace(p,""):Oe).trim(),1<(Ae=Oe.length))switch(xe===0&&(J=Oe.charCodeAt(0),J===45||96<J&&123>J)&&(Ae=(Oe=Oe.replace(" ",":")).length),0<N&&(Ze=a(1,Oe,X,q,I,D,we.length,Y,z,Y))!==void 0&&(Ae=(Oe=Ze.trim()).length)===0&&(Oe="\0\0"),J=Oe.charCodeAt(0),re=Oe.charCodeAt(1),J){case 0:break;case 64:if(re===105||re===99){ze+=Oe+B.charAt(ce);break}default:Oe.charCodeAt(Ae-1)!==58&&(we+=o(Oe,J,re,Oe.charCodeAt(2)))}$e=ve=xe=J=0,Oe="",re=B.charCodeAt(++ce)}}switch(re){case 13:case 10:Q===47?Q=0:1+J===0&&Y!==107&&0<Oe.length&&(ve=1,Oe+="\0"),0<N*G&&a(0,Oe,X,q,I,D,we.length,Y,z,Y),D=1,I++;break;case 59:case 125:if(Q+K+ne+Z===0){D++;break}default:switch(D++,lt=B.charAt(ce),re){case 9:case 32:if(K+Z+Q===0)switch(fe){case 44:case 58:case 9:case 32:lt="";break;default:re!==32&&(lt=" ")}break;case 0:lt="\\0";break;case 12:lt="\\f";break;case 11:lt="\\v";break;case 38:K+Q+Z===0&&(ve=$e=1,lt="\f"+lt);break;case 108:if(K+Q+Z+P===0&&0<xe)switch(ce-xe){case 2:fe===112&&B.charCodeAt(ce-3)===58&&(P=fe);case 8:le===111&&(P=le)}break;case 58:K+Q+Z===0&&(xe=ce);break;case 44:Q+ne+K+Z===0&&(ve=1,lt+="\r");break;case 34:case 39:Q===0&&(K=K===re?0:K===0?re:K);break;case 91:K+Q+ne===0&&Z++;break;case 93:K+Q+ne===0&&Z--;break;case 41:K+Q+Z===0&&ne--;break;case 40:if(K+Q+Z===0){if(J===0)switch(2*fe+3*le){case 533:break;default:J=1}ne++}break;case 64:Q+ne+K+Z+xe+ge===0&&(ge=1);break;case 42:case 47:if(!(0<K+Z+ne))switch(Q){case 0:switch(2*re+3*B.charCodeAt(ce+1)){case 235:Q=47;break;case 220:Ae=ce,Q=42}break;case 42:re===47&&fe===42&&Ae+2!==ce&&(B.charCodeAt(Ae+2)===33&&(we+=B.substring(Ae,ce+1)),lt="",Q=0)}}Q===0&&(Oe+=lt)}le=fe,fe=re,ce++}if(Ae=we.length,0<Ae){if(ve=X,0<N&&(Ze=a(2,we,ve,q,I,D,Ae,Y,z,Y),Ze!==void 0&&(we=Ze).length===0))return ze+we+We;if(we=ve.join(",")+"{"+we+"}",$*P!==0){switch($!==2||i(we,2)||(P=0),P){case 111:we=we.replace(C,":-moz-$1")+we;break;case 112:we=we.replace(w,"::-webkit-input-$1")+we.replace(w,"::-moz-$1")+we.replace(w,":-ms-input-$1")+we}P=0}}return ze+we+We}function n(q,X,B){var Y=X.trim().split(y);X=Y;var z=Y.length,Z=q.length;switch(Z){case 0:case 1:var Q=0;for(q=Z===0?"":q[0]+" ";Q<z;++Q)X[Q]=r(q,X[Q],B).trim();break;default:var ne=Q=0;for(X=[];Q<z;++Q)for(var K=0;K<Z;++K)X[ne++]=r(q[K]+" ",Y[Q],B).trim()}return X}function r(q,X,B){var Y=X.charCodeAt(0);switch(33>Y&&(Y=(X=X.trim()).charCodeAt(0)),Y){case 38:return X.replace(x,"$1"+q.trim());case 58:return q.trim()+X.replace(x,"$1"+q.trim());default:if(0<1*B&&0<X.indexOf("\f"))return X.replace(x,(q.charCodeAt(0)===58?"":"$1")+q.trim())}return q+X}function o(q,X,B,Y){var z=q+";",Z=2*X+3*B+4*Y;if(Z===944){q=z.indexOf(":",9)+1;var Q=z.substring(q,z.length-1).trim();return Q=z.substring(0,q).trim()+Q+";",$===1||$===2&&i(Q,1)?"-webkit-"+Q+Q:Q}if($===0||$===2&&!i(z,1))return z;switch(Z){case 1015:return z.charCodeAt(10)===97?"-webkit-"+z+z:z;case 951:return z.charCodeAt(3)===116?"-webkit-"+z+z:z;case 963:return z.charCodeAt(5)===110?"-webkit-"+z+z:z;case 1009:if(z.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+z+z;case 978:return"-webkit-"+z+"-moz-"+z+z;case 1019:case 983:return"-webkit-"+z+"-moz-"+z+"-ms-"+z+z;case 883:if(z.charCodeAt(8)===45)return"-webkit-"+z+z;if(0<z.indexOf("image-set(",11))return z.replace(A,"$1-webkit-$2")+z;break;case 932:if(z.charCodeAt(4)===45)switch(z.charCodeAt(5)){case 103:return"-webkit-box-"+z.replace("-grow","")+"-webkit-"+z+"-ms-"+z.replace("grow","positive")+z;case 115:return"-webkit-"+z+"-ms-"+z.replace("shrink","negative")+z;case 98:return"-webkit-"+z+"-ms-"+z.replace("basis","preferred-size")+z}return"-webkit-"+z+"-ms-"+z+z;case 964:return"-webkit-"+z+"-ms-flex-"+z+z;case 1023:if(z.charCodeAt(8)!==99)break;return Q=z.substring(z.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Q+"-webkit-"+z+"-ms-flex-pack"+Q+z;case 1005:return v.test(z)?z.replace(m,":-webkit-")+z.replace(m,":-moz-")+z:z;case 1e3:switch(Q=z.substring(13).trim(),X=Q.indexOf("-")+1,Q.charCodeAt(0)+Q.charCodeAt(X)){case 226:Q=z.replace(_,"tb");break;case 232:Q=z.replace(_,"tb-rl");break;case 220:Q=z.replace(_,"lr");break;default:return z}return"-webkit-"+z+"-ms-"+Q+z;case 1017:if(z.indexOf("sticky",9)===-1)break;case 975:switch(X=(z=q).length-10,Q=(z.charCodeAt(X)===33?z.substring(0,X):z).substring(q.indexOf(":",7)+1).trim(),Z=Q.charCodeAt(0)+(Q.charCodeAt(7)|0)){case 203:if(111>Q.charCodeAt(8))break;case 115:z=z.replace(Q,"-webkit-"+Q)+";"+z;break;case 207:case 102:z=z.replace(Q,"-webkit-"+(102<Z?"inline-":"")+"box")+";"+z.replace(Q,"-webkit-"+Q)+";"+z.replace(Q,"-ms-"+Q+"box")+";"+z}return z+";";case 938:if(z.charCodeAt(5)===45)switch(z.charCodeAt(6)){case 105:return Q=z.replace("-items",""),"-webkit-"+z+"-webkit-box-"+Q+"-ms-flex-"+Q+z;case 115:return"-webkit-"+z+"-ms-flex-item-"+z.replace(j,"")+z;default:return"-webkit-"+z+"-ms-flex-line-pack"+z.replace("align-content","").replace(j,"")+z}break;case 973:case 989:if(z.charCodeAt(3)!==45||z.charCodeAt(4)===122)break;case 931:case 953:if(T.test(q)===!0)return(Q=q.substring(q.indexOf(":")+1)).charCodeAt(0)===115?o(q.replace("stretch","fill-available"),X,B,Y).replace(":fill-available",":stretch"):z.replace(Q,"-webkit-"+Q)+z.replace(Q,"-moz-"+Q.replace("fill-",""))+z;break;case 962:if(z="-webkit-"+z+(z.charCodeAt(5)===102?"-ms-"+z:"")+z,B+Y===211&&z.charCodeAt(13)===105&&0<z.indexOf("transform",10))return z.substring(0,z.indexOf(";",27)+1).replace(g,"$1-webkit-$2")+z}return z}function i(q,X){var B=q.indexOf(X===1?":":"{"),Y=q.substring(0,X!==3?B:10);return B=q.substring(B+1,q.length-1),W(X!==2?Y:Y.replace(k,"$1"),B,X)}function s(q,X){var B=o(X,X.charCodeAt(0),X.charCodeAt(1),X.charCodeAt(2));return B!==X+";"?B.replace(E," or ($1)").substring(4):"("+X+")"}function a(q,X,B,Y,z,Z,Q,ne,K,J){for(var re=0,fe=X,le;re<N;++re)switch(le=V[re].call(d,q,fe,B,Y,z,Z,Q,ne,K,J)){case void 0:case!1:case!0:case null:break;default:fe=le}if(fe!==X)return fe}function c(q){switch(q){case void 0:case null:N=V.length=0;break;default:if(typeof q=="function")V[N++]=q;else if(typeof q=="object")for(var X=0,B=q.length;X<B;++X)c(q[X]);else G=!!q|0}return c}function u(q){return q=q.prefix,q!==void 0&&(W=null,q?typeof q!="function"?$=1:($=2,W=q):$=0),u}function d(q,X){var B=q;if(33>B.charCodeAt(0)&&(B=B.trim()),H=B,B=[H],0<N){var Y=a(-1,X,B,B,I,D,0,0,0,0);Y!==void 0&&typeof Y=="string"&&(X=Y)}var z=t(R,B,X,0,0);return 0<N&&(Y=a(-2,z,B,B,I,D,z.length,0,0,0),Y!==void 0&&(z=Y)),H="",P=0,D=I=1,z}var f=/^\0+/g,p=/[\0\r\f]/g,m=/: */g,v=/zoo|gra/,g=/([,: ])(transform)/g,y=/,\r+?/g,x=/([\t\r\n ])*\f?&/g,b=/@(k\w+)\s*(\S*)\s*/,w=/::(place)/g,C=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,j=/-self|flex-/g,k=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,A=/([^-])(image-set\()/,D=1,I=1,P=0,$=1,R=[],V=[],N=0,W=null,G=0,H="";return d.use=c,d.set=u,e!==void 0&&u(e),d}var cFe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function uFe(e){var t={};return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var dFe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Nz=uFe(function(e){return dFe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Lve={exports:{}},Sn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=typeof Symbol=="function"&&Symbol.for,bF=zo?Symbol.for("react.element"):60103,xF=zo?Symbol.for("react.portal"):60106,B5=zo?Symbol.for("react.fragment"):60107,N5=zo?Symbol.for("react.strict_mode"):60108,z5=zo?Symbol.for("react.profiler"):60114,V5=zo?Symbol.for("react.provider"):60109,H5=zo?Symbol.for("react.context"):60110,wF=zo?Symbol.for("react.async_mode"):60111,U5=zo?Symbol.for("react.concurrent_mode"):60111,W5=zo?Symbol.for("react.forward_ref"):60112,Y5=zo?Symbol.for("react.suspense"):60113,fFe=zo?Symbol.for("react.suspense_list"):60120,q5=zo?Symbol.for("react.memo"):60115,G5=zo?Symbol.for("react.lazy"):60116,hFe=zo?Symbol.for("react.block"):60121,pFe=zo?Symbol.for("react.fundamental"):60117,mFe=zo?Symbol.for("react.responder"):60118,gFe=zo?Symbol.for("react.scope"):60119;function sa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bF:switch(e=e.type,e){case wF:case U5:case B5:case z5:case N5:case Y5:return e;default:switch(e=e&&e.$$typeof,e){case H5:case W5:case G5:case q5:case V5:return e;default:return t}}case xF:return t}}}function Bve(e){return sa(e)===U5}Sn.AsyncMode=wF;Sn.ConcurrentMode=U5;Sn.ContextConsumer=H5;Sn.ContextProvider=V5;Sn.Element=bF;Sn.ForwardRef=W5;Sn.Fragment=B5;Sn.Lazy=G5;Sn.Memo=q5;Sn.Portal=xF;Sn.Profiler=z5;Sn.StrictMode=N5;Sn.Suspense=Y5;Sn.isAsyncMode=function(e){return Bve(e)||sa(e)===wF};Sn.isConcurrentMode=Bve;Sn.isContextConsumer=function(e){return sa(e)===H5};Sn.isContextProvider=function(e){return sa(e)===V5};Sn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bF};Sn.isForwardRef=function(e){return sa(e)===W5};Sn.isFragment=function(e){return sa(e)===B5};Sn.isLazy=function(e){return sa(e)===G5};Sn.isMemo=function(e){return sa(e)===q5};Sn.isPortal=function(e){return sa(e)===xF};Sn.isProfiler=function(e){return sa(e)===z5};Sn.isStrictMode=function(e){return sa(e)===N5};Sn.isSuspense=function(e){return sa(e)===Y5};Sn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===B5||e===U5||e===z5||e===N5||e===Y5||e===fFe||typeof e=="object"&&e!==null&&(e.$$typeof===G5||e.$$typeof===q5||e.$$typeof===V5||e.$$typeof===H5||e.$$typeof===W5||e.$$typeof===pFe||e.$$typeof===mFe||e.$$typeof===gFe||e.$$typeof===hFe)};Sn.typeOf=sa;Lve.exports=Sn;var vFe=Lve.exports,CF=vFe,yFe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bFe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xFe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Nve={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_F={};_F[CF.ForwardRef]=xFe;_F[CF.Memo]=Nve;function zz(e){return CF.isMemo(e)?Nve:_F[e.$$typeof]||yFe}var wFe=Object.defineProperty,CFe=Object.getOwnPropertyNames,Vz=Object.getOwnPropertySymbols,_Fe=Object.getOwnPropertyDescriptor,SFe=Object.getPrototypeOf,Hz=Object.prototype;function zve(e,t,n){if(typeof t!="string"){if(Hz){var r=SFe(t);r&&r!==Hz&&zve(e,r,n)}var o=CFe(t);Vz&&(o=o.concat(Vz(t)));for(var i=zz(e),s=zz(t),a=0;a<o.length;++a){var c=o[a];if(!bFe[c]&&!(n&&n[c])&&!(s&&s[c])&&!(i&&i[c])){var u=_Fe(t,c);try{wFe(e,c,u)}catch{}}}}return e}var EFe=zve;const kFe=Pe(EFe);function gl(){return(gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Uz=function(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n},y3=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!Xn.typeOf(e)},MS=Object.freeze([]),of=Object.freeze({});function kv(e){return typeof e=="function"}function Wz(e){return e.displayName||e.name||"Component"}function SF(e){return e&&typeof e.styledComponentId=="string"}var jv=typeof process<"u"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",EF=typeof window<"u"&&"HTMLElement"in window,jFe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),TFe={};function jp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var AFe=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var r=0,o=0;o<n;o++)r+=this.groupSizes[o];return r},t.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var o=this.groupSizes,i=o.length,s=i;n>=s;)(s<<=1)<0&&jp(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(o),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var c=this.indexOfGroup(n+1),u=0,d=r.length;u<d;u++)this.tag.insertRule(c,r[u])&&(this.groupSizes[n]++,c++)},t.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],o=this.indexOfGroup(n),i=o+r;this.groupSizes[n]=0;for(var s=o;s<i;s++)this.tag.deleteRule(o)}},t.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var o=this.groupSizes[n],i=this.indexOfGroup(n),s=i+o,a=i;a<s;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},e}(),b2=new Map,FS=new Map,bD=1,_C=function(e){if(b2.has(e))return b2.get(e);for(;FS.has(bD);)bD++;var t=bD++;return b2.set(e,t),FS.set(t,e),t},DFe=function(e){return FS.get(e)},IFe=function(e,t){b2.set(e,t),FS.set(t,e)},PFe="style["+jv+'][data-styled-version="5.2.3"]',OFe=new RegExp("^"+jv+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),RFe=function(e,t,n){for(var r,o=n.split(","),i=0,s=o.length;i<s;i++)(r=o[i])&&e.registerName(t,r)},$Fe=function(e,t){for(var n=t.innerHTML.split(`/*!sc*/
`),r=[],o=0,i=n.length;o<i;o++){var s=n[o].trim();if(s){var a=s.match(OFe);if(a){var c=0|parseInt(a[1],10),u=a[2];c!==0&&(IFe(u,c),RFe(e,u,a[3]),e.getTag().insertRules(c,r)),r.length=0}else r.push(s)}}},MFe=function(){return typeof window<"u"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},Vve=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(a){for(var c=a.childNodes,u=c.length;u>=0;u--){var d=c[u];if(d&&d.nodeType===1&&d.hasAttribute(jv))return d}}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(jv,"active"),r.setAttribute("data-styled-version","5.2.3");var s=MFe();return s&&r.setAttribute("nonce",s),n.insertBefore(r,i),r},FFe=function(){function e(n){var r=this.element=Vve(n);r.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var i=document.styleSheets,s=0,a=i.length;s<a;s++){var c=i[s];if(c.ownerNode===o)return c}jp(17)}(r),this.length=0}var t=e.prototype;return t.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},e}(),LFe=function(){function e(n){var r=this.element=Vve(n);this.nodes=r.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,r){if(n<=this.length&&n>=0){var o=document.createTextNode(r),i=this.nodes[n];return this.element.insertBefore(o,i||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),BFe=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),Yz=EF,NFe={isServer:!EF,useCSSOMInjection:!jFe},LS=function(){function e(n,r,o){n===void 0&&(n=of),r===void 0&&(r={}),this.options=gl({},NFe,{},n),this.gs=r,this.names=new Map(o),!this.options.isServer&&EF&&Yz&&(Yz=!1,function(i){for(var s=document.querySelectorAll(PFe),a=0,c=s.length;a<c;a++){var u=s[a];u&&u.getAttribute(jv)!=="active"&&($Fe(i,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}e.registerId=function(n){return _C(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new e(gl({},this.options,{},n),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(o=(r=this.options).isServer,i=r.useCSSOMInjection,s=r.target,n=o?new BFe(s):i?new FFe(s):new LFe(s),new AFe(n)));var n,r,o,i,s},t.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},t.registerName=function(n,r){if(_C(n),this.names.has(n))this.names.get(n).add(r);else{var o=new Set;o.add(r),this.names.set(n,o)}},t.insertRules=function(n,r,o){this.registerName(n,r),this.getTag().insertRules(_C(n),o)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(_C(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var r=n.getTag(),o=r.length,i="",s=0;s<o;s++){var a=DFe(s);if(a!==void 0){var c=n.names.get(a),u=r.getGroup(s);if(c!==void 0&&u.length!==0){var d=jv+".g"+s+'[id="'+a+'"]',f="";c!==void 0&&c.forEach(function(p){p.length>0&&(f+=p+",")}),i+=""+u+d+'{content:"'+f+`"}/*!sc*/
`}}}return i}(this)},e}(),zFe=/(a)(d)/gi,qz=function(e){return String.fromCharCode(e+(e>25?39:97))};function b3(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=qz(t%52)+n;return(qz(t%52)+n).replace(zFe,"$1-$2")}var bg=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Hve=function(e){return bg(5381,e)};function Uve(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(kv(n)&&!SF(n))return!1}return!0}var VFe=Hve("5.2.3"),HFe=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Uve(t),this.componentId=n,this.baseHash=bg(VFe,n),this.baseStyle=r,LS.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(t,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(o,this.staticRulesId))i.push(this.staticRulesId);else{var s=Tp(this.rules,t,n,r).join(""),a=b3(bg(this.baseHash,s.length)>>>0);if(!n.hasNameForId(o,a)){var c=r(s,"."+a,void 0,o);n.insertRules(o,a,c)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,d=bg(this.baseHash,r.hash),f="",p=0;p<u;p++){var m=this.rules[p];if(typeof m=="string")f+=m;else if(m){var v=Tp(m,t,n,r),g=Array.isArray(v)?v.join(""):v;d=bg(d,g+p),f+=g}}if(f){var y=b3(d>>>0);if(!n.hasNameForId(o,y)){var x=r(f,"."+y,void 0,o);n.insertRules(o,y,x)}i.push(y)}}return i.join(" ")},e}(),UFe=/^\s*\/\/.*$/gm,WFe=[":","[",".","#"];function YFe(e){var t,n,r,o,i=e===void 0?of:e,s=i.options,a=s===void 0?of:s,c=i.plugins,u=c===void 0?MS:c,d=new lFe(a),f=[],p=function(g){function y(x){if(x)try{g(x+"}")}catch{}}return function(x,b,w,C,_,S,E,j,k,T){switch(x){case 1:if(k===0&&b.charCodeAt(0)===64)return g(b+";"),"";break;case 2:if(j===0)return b+"/*|*/";break;case 3:switch(j){case 102:case 112:return g(w[0]+b),"";default:return b+(T===0?"/*|*/":"")}case-2:b.split("/*|*/}").forEach(y)}}}(function(g){f.push(g)}),m=function(g,y,x){return y===0&&WFe.indexOf(x[n.length])!==-1||x.match(o)?g:"."+t};function v(g,y,x,b){b===void 0&&(b="&");var w=g.replace(UFe,""),C=y&&x?x+" "+y+" { "+w+" }":w;return t=b,n=y,r=new RegExp("\\"+n+"\\b","g"),o=new RegExp("(\\"+n+"\\b){2,}"),d(x||!y?"":y,C)}return d.use([].concat(u,[function(g,y,x){g===2&&x.length&&x[0].lastIndexOf(n)>0&&(x[0]=x[0].replace(r,m))},p,function(g){if(g===-2){var y=f;return f=[],y}}])),v.hash=u.length?u.reduce(function(g,y){return y.name||jp(15),bg(g,y.name)},5381).toString():"",v}var Wve=ie.createContext();Wve.Consumer;var Yve=ie.createContext(),qFe=(Yve.Consumer,new LS),x3=YFe();function qve(){return h.useContext(Wve)||qFe}function Gve(){return h.useContext(Yve)||x3}var Kve=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=x3);var s=r.name+i.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,i(r.rules,s,"@keyframes"))},this.toString=function(){return jp(12,String(r.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=x3),this.name+t.hash},e}(),GFe=/([A-Z])/,KFe=/([A-Z])/g,ZFe=/^ms-/,XFe=function(e){return"-"+e.toLowerCase()};function Gz(e){return GFe.test(e)?e.replace(KFe,XFe).replace(ZFe,"-ms-"):e}var Kz=function(e){return e==null||e===!1||e===""};function Tp(e,t,n,r){if(Array.isArray(e)){for(var o,i=[],s=0,a=e.length;s<a;s+=1)(o=Tp(e[s],t,n,r))!==""&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));return i}if(Kz(e))return"";if(SF(e))return"."+e.styledComponentId;if(kv(e)){if(typeof(u=e)!="function"||u.prototype&&u.prototype.isReactComponent||!t)return e;var c=e(t);return Tp(c,t,n,r)}var u;return e instanceof Kve?n?(e.inject(n,r),e.getName(r)):e:y3(e)?function d(f,p){var m,v,g=[];for(var y in f)f.hasOwnProperty(y)&&!Kz(f[y])&&(y3(f[y])?g.push.apply(g,d(f[y],y)):kv(f[y])?g.push(Gz(y)+":",f[y],";"):g.push(Gz(y)+": "+(m=y,(v=f[y])==null||typeof v=="boolean"||v===""?"":typeof v!="number"||v===0||m in cFe?String(v).trim():v+"px")+";"));return p?[p+" {"].concat(g,["}"]):g}(e):e.toString()}function he(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kv(e)||y3(e)?Tp(Uz(MS,[e].concat(n))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:Tp(Uz(e,n))}var Zve=function(e,t,n){return n===void 0&&(n=of),e.theme!==n.theme&&e.theme||t||n.theme},QFe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,JFe=/(^-|-$)/g;function xD(e){return e.replace(QFe,"-").replace(JFe,"")}var kF=function(e){return b3(Hve(e)>>>0)};function SC(e){return typeof e=="string"&&!0}var w3=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},eLe=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function tLe(e,t,n){var r=e[n];w3(t)&&w3(r)?Xve(r,t):e[n]=t}function Xve(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,i=n;o<i.length;o++){var s=i[o];if(w3(s))for(var a in s)eLe(a)&&tLe(e,s[a],a)}return e}var Tv=ie.createContext();Tv.Consumer;function nLe(e){var t=h.useContext(Tv),n=h.useMemo(function(){return function(r,o){if(!r)return jp(14);if(kv(r)){var i=r(o);return i}return Array.isArray(r)||typeof r!="object"?jp(8):o?gl({},o,{},r):r}(e.theme,t)},[e.theme,t]);return e.children?ie.createElement(Tv.Provider,{value:n},e.children):null}var wD={};function Qve(e,t,n){var r=SF(e),o=!SC(e),i=t.attrs,s=i===void 0?MS:i,a=t.componentId,c=a===void 0?function(b,w){var C=typeof b!="string"?"sc":xD(b);wD[C]=(wD[C]||0)+1;var _=C+"-"+kF("5.2.3"+C+wD[C]);return w?w+"-"+_:_}(t.displayName,t.parentComponentId):a,u=t.displayName,d=u===void 0?function(b){return SC(b)?"styled."+b:"Styled("+Wz(b)+")"}(e):u,f=t.displayName&&t.componentId?xD(t.displayName)+"-"+t.componentId:t.componentId||c,p=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,m=t.shouldForwardProp;r&&e.shouldForwardProp&&(m=t.shouldForwardProp?function(b,w){return e.shouldForwardProp(b,w)&&t.shouldForwardProp(b,w)}:e.shouldForwardProp);var v,g=new HFe(n,f,r?e.componentStyle:void 0),y=g.isStatic&&s.length===0,x=function(b,w){return function(C,_,S,E){var j=C.attrs,k=C.componentStyle,T=C.defaultProps,A=C.foldedComponentIds,D=C.shouldForwardProp,I=C.styledComponentId,P=C.target,$=function(Y,z,Z){Y===void 0&&(Y=of);var Q=gl({},z,{theme:Y}),ne={};return Z.forEach(function(K){var J,re,fe,le=K;for(J in kv(le)&&(le=le(Q)),le)Q[J]=ne[J]=J==="className"?(re=ne[J],fe=le[J],re&&fe?re+" "+fe:re||fe):le[J]}),[Q,ne]}(Zve(_,h.useContext(Tv),T)||of,_,j),R=$[0],V=$[1],N=function(Y,z,Z,Q){var ne=qve(),K=Gve(),J=z?Y.generateAndInjectStyles(of,ne,K):Y.generateAndInjectStyles(Z,ne,K);return J}(k,E,R),W=S,G=V.$as||_.$as||V.as||_.as||P,H=SC(G),q=V!==_?gl({},_,{},V):_,X={};for(var B in q)B[0]!=="$"&&B!=="as"&&(B==="forwardedAs"?X.as=q[B]:(D?D(B,Nz):!H||Nz(B))&&(X[B]=q[B]));return _.style&&V.style!==_.style&&(X.style=gl({},_.style,{},V.style)),X.className=Array.prototype.concat(A,I,N!==I?N:null,_.className,V.className).filter(Boolean).join(" "),X.ref=W,h.createElement(G,X)}(v,b,w,y)};return x.displayName=d,(v=ie.forwardRef(x)).attrs=p,v.componentStyle=g,v.displayName=d,v.shouldForwardProp=m,v.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):MS,v.styledComponentId=f,v.target=r?e.target:e,v.withComponent=function(b){var w=t.componentId,C=function(S,E){if(S==null)return{};var j,k,T={},A=Object.keys(S);for(k=0;k<A.length;k++)j=A[k],E.indexOf(j)>=0||(T[j]=S[j]);return T}(t,["componentId"]),_=w&&w+"-"+(SC(b)?b:xD(Wz(b)));return Qve(b,gl({},C,{attrs:p,componentId:_}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=r?Xve({},e.defaultProps,b):b}}),v.toString=function(){return"."+v.styledComponentId},o&&kFe(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var C3=function(e){return function t(n,r,o){if(o===void 0&&(o=of),!Xn.isValidElementType(r))return jp(1,String(r));var i=function(){return n(r,o,he.apply(void 0,arguments))};return i.withConfig=function(s){return t(n,r,gl({},o,{},s))},i.attrs=function(s){return t(n,r,gl({},o,{attrs:Array.prototype.concat(o.attrs,s).filter(Boolean)}))},i}(Qve,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){C3[e]=C3(e)});var rLe=function(){function e(n,r){this.rules=n,this.componentId=r,this.isStatic=Uve(n),LS.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,r,o,i){var s=i(Tp(this.rules,r,o,i).join(""),""),a=this.componentId+n;o.insertRules(a,a,s)},t.removeStyles=function(n,r){r.clearRules(this.componentId+n)},t.renderStyles=function(n,r,o,i){n>2&&LS.registerId(this.componentId+n),this.removeStyles(n,o),this.createStyles(n,r,o,i)},e}();function Jve(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=he.apply(void 0,[e].concat(n)),i="sc-global-"+kF(JSON.stringify(o)),s=new rLe(o,i);function a(u){var d=qve(),f=Gve(),p=h.useContext(Tv),m=h.useRef(d.allocateGSInstance(i)).current;return h.useLayoutEffect(function(){return c(m,u,d,p,f),function(){return s.removeStyles(m,d)}},[m,u,d,p,f]),null}function c(u,d,f,p,m){if(s.isStatic)s.renderStyles(u,TFe,f,m);else{var v=gl({},d,{theme:Zve(d,p,a.defaultProps)});s.renderStyles(u,v,f,m)}}return ie.memo(a)}function am(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=he.apply(void 0,[e].concat(n)).join(""),i=kF(o);return new Kve(i,o)}var e0e=function(){return h.useContext(Tv)};const O=C3,oLe="#101112",iLe="#fff",x2={50:{title:"Gray 50",hex:"#f2f3f5"},100:{title:"Gray 100",hex:"#e6e8ec"},200:{title:"Gray 200",hex:"#ced2d9"},300:{title:"Gray 300",hex:"#b6bcc6"},400:{title:"Gray 400",hex:"#9ea6b3"},500:{title:"Gray 500",hex:"#8690a0"},600:{title:"Gray 600",hex:"#6e7683"},700:{title:"Gray 700",hex:"#565d67"},800:{title:"Gray 800",hex:"#3f434a"},900:{title:"Gray 900",hex:"#272a2e"},950:{title:"Gray 950",hex:"#1b1d20"}},ly={50:{title:"Blue 50",hex:"#e8f1fe"},100:{title:"Blue 100",hex:"#d2e3fe"},200:{title:"Blue 200",hex:"#a6c8fd"},300:{title:"Blue 300",hex:"#7aacfd"},400:{title:"Blue 400",hex:"#4e91fc"},500:{title:"Blue 500",hex:"#2276fc"},600:{title:"Blue 600",hex:"#1e61cd"},700:{title:"Blue 700",hex:"#1a4d9e"},800:{title:"Blue 800",hex:"#17396f"},900:{title:"Blue 900",hex:"#132540"},950:{title:"Blue 950",hex:"#111b29"}},sLe={50:{title:"Purple 50",hex:"#f8e9fe"},100:{title:"Purple 100",hex:"#f2d3fe"},200:{title:"Purple 200",hex:"#e6a7fd"},300:{title:"Purple 300",hex:"#d97bfd"},400:{title:"Purple 400",hex:"#cd4efc"},500:{title:"Purple 500",hex:"#c123fc"},600:{title:"Purple 600",hex:"#9d1fcd"},700:{title:"Purple 700",hex:"#7a1b9e"},800:{title:"Purple 800",hex:"#56186f"},900:{title:"Purple 900",hex:"#331440"},950:{title:"Purple 950",hex:"#211229"}},aLe={50:{title:"Magenta 50",hex:"#fcebf5"},100:{title:"Magenta 100",hex:"#f9d7eb"},200:{title:"Magenta 200",hex:"#f4afd8"},300:{title:"Magenta 300",hex:"#ef87c4"},400:{title:"Magenta 400",hex:"#ea5fb1"},500:{title:"Magenta 500",hex:"#e5389e"},600:{title:"Magenta 600",hex:"#ba3082"},700:{title:"Magenta 700",hex:"#8f2866"},800:{title:"Magenta 800",hex:"#65204a"},900:{title:"Magenta 900",hex:"#3a182d"},950:{title:"Magenta 950",hex:"#25141f"}},_3={50:{title:"Red 50",hex:"#fdebea"},100:{title:"Red 100",hex:"#fcd8d5"},200:{title:"Red 200",hex:"#f9b1ab"},300:{title:"Red 300",hex:"#f68b82"},400:{title:"Red 400",hex:"#f36458"},500:{title:"Red 500",hex:"#f03e2f"},600:{title:"Red 600",hex:"#c33529"},700:{title:"Red 700",hex:"#962c23"},800:{title:"Red 800",hex:"#69231d"},900:{title:"Red 900",hex:"#3c1a17"},950:{title:"Red 950",hex:"#261514"}},lLe={50:{title:"Orange 50",hex:"#fef0e6"},100:{title:"Orange 100",hex:"#fee2ce"},200:{title:"Orange 200",hex:"#fdc59d"},300:{title:"Orange 300",hex:"#fca86d"},400:{title:"Orange 400",hex:"#fb8b3c"},500:{title:"Orange 500",hex:"#e57322"},600:{title:"Orange 600",hex:"#ba5f1f"},700:{title:"Orange 700",hex:"#904b1b"},800:{title:"Orange 800",hex:"#653818"},900:{title:"Orange 900",hex:"#3a2415"},950:{title:"Orange 950",hex:"#251a13"}},S3={50:{title:"Yellow 50",hex:"#fef7da"},100:{title:"Yellow 100",hex:"#fdefb6"},200:{title:"Yellow 200",hex:"#fcdf6d"},300:{title:"Yellow 300",hex:"#fbd024"},400:{title:"Yellow 400",hex:"#d9b421"},500:{title:"Yellow 500",hex:"#b7991e"},600:{title:"Yellow 600",hex:"#967e1c"},700:{title:"Yellow 700",hex:"#746219"},800:{title:"Yellow 800",hex:"#534717"},900:{title:"Yellow 900",hex:"#312c14"},950:{title:"Yellow 950",hex:"#201e13"}},E3={50:{title:"Green 50",hex:"#e7f9ed"},100:{title:"Green 100",hex:"#d0f4dc"},200:{title:"Green 200",hex:"#a1eaba"},300:{title:"Green 300",hex:"#72e097"},400:{title:"Green 400",hex:"#43d675"},500:{title:"Green 500",hex:"#3ab564"},600:{title:"Green 600",hex:"#329454"},700:{title:"Green 700",hex:"#297343"},800:{title:"Green 800",hex:"#215233"},900:{title:"Green 900",hex:"#183122"},950:{title:"Green 950",hex:"#14211a"}},cLe={50:{title:"Cyan 50",hex:"#e3fafd"},100:{title:"Cyan 100",hex:"#c7f5fc"},200:{title:"Cyan 200",hex:"#90ecf9"},300:{title:"Cyan 300",hex:"#59e3f6"},400:{title:"Cyan 400",hex:"#22daf4"},500:{title:"Cyan 500",hex:"#1fb8ce"},600:{title:"Cyan 600",hex:"#1c97a8"},700:{title:"Cyan 700",hex:"#197583"},800:{title:"Cyan 800",hex:"#16545d"},900:{title:"Cyan 900",hex:"#133237"},950:{title:"Cyan 950",hex:"#112124"}},pe={gray:x2,blue:ly,purple:sLe,magenta:aLe,red:_3,orange:lLe,yellow:S3,green:E3,cyan:cLe},t0e=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],lc={title:"Black",hex:oLe},_a={title:"White",hex:iLe},Sf=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),uLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k3=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ko=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),l.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),fLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),n0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Zx=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),r0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),hLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),pLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),mLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),yLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),o0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),l.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),i0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),s0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),xLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),wLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),CLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_Le=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),l.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}),K5=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),xg=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),SLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ELe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Z5=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Js=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Za=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),X5=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Rc=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),a0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),TLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),l0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ALe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ti=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),DLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Q5=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),u0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ILe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),PLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),OLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),J5=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Au=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),RLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),f0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$Le=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),MLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),FLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ef=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),LLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),BLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),NLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),zLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),VLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),HLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ULe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),jF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),WLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:1.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),YLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 8.5L12.5 13L8 8.5M17 12.5L12.5 17L8 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 17L8 12.5L12.5 8M16.5 17L12 12.5L16.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),TF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8L17 12.5L12.5 17M8.5 8L13 12.5L8.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),GLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.5L12.5 8L17 12.5M8 16.5L12.5 12L17 16.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),AF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),p0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),l.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),KLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ZLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Du=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),XLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),To=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),QLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),JLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),e6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),t6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),n6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),aa=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),r6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),DF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),o6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),v0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),i6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),s6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),l.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),l.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),a6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),l6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Av=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),u6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Tl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),lm=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),p6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),x0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),w0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}),m6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Uf=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),IF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),v6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kf=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),w6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),C0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),PF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),C6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),OF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),l.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),l.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),l.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),_6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),E6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),A6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),D6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Xx=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),P6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),O6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),R6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Iu=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}),RF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),M6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$F=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),F6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),L6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),B6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ei=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Nl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),N6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),MF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),z6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),V6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),Qx=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),H6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),A0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Y6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),l.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),l.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),ig=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),l.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),FF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),q6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),G6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),K6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Z6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),X6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Q6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),J6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),e8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ej=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),t8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),r8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),po=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),i8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),s8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),a8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),l8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),$y=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),P0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),l.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),BS=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Cl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),NS=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),tj=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),u8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),nj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),Fr=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),f8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),h8e={"access-denied":Sf,activity:uLe,"add-circle":k3,add:ko,api:dLe,archive:fLe,"arrow-down":n0e,"arrow-left":Zx,"arrow-right":r0e,"arrow-top-right":hLe,"arrow-up":pLe,"bar-chart":mLe,basket:gLe,bell:vLe,bill:yLe,"binary-document":d0,"block-content":o0e,"block-element":i0e,blockquote:bLe,bold:s0e,bolt:xLe,book:wLe,bottle:CLe,"bulb-filled":_Le,"bulb-outline":K5,calendar:xg,case:SLe,"chart-upward":ELe,"checkmark-circle":Z5,checkmark:Js,"chevron-down":Za,"chevron-left":X5,"chevron-right":Rc,"chevron-up":a0e,circle:kLe,clipboard:jLe,"clipboard-image":TLe,clock:l0e,"close-circle":ALe,close:Ti,"code-block":DLe,code:c0e,cog:Q5,collapse:u0e,"color-wheel":ILe,comment:d0e,component:PLe,compose:OLe,controls:J5,copy:Au,"credit-card":RLe,crop:f0e,cube:$Le,dashboard:MLe,database:FLe,desktop:h0e,document:Ef,"document-pdf":LLe,"document-remove":BLe,"document-sheet":NLe,"document-text":zLe,"document-video":VLe,"document-word":HLe,"document-zip":ULe,documents:jF,dot:WLe,"double-chevron-down":YLe,"double-chevron-left":qLe,"double-chevron-right":TF,"double-chevron-up":GLe,download:AF,"drag-handle":p0e,drop:KLe,"earth-americas":m0e,"earth-globe":ZLe,edit:Du,"ellipsis-horizontal":XLe,"ellipsis-vertical":To,enter:QLe,"enter-right":JLe,envelope:e6e,equal:t6e,"error-filled":n6e,"error-outline":aa,expand:g0e,"eye-closed":r6e,"eye-open":DF,filter:o6e,folder:v0e,generate:i6e,groq:s6e,"heart-filled":a6e,heart:l6e,"help-circle":Av,home:c6e,"ice-cream":u6e,image:Tl,"image-remove":d6e,images:f6e,"info-filled":h6e,"info-outline":lm,"inline-element":y0e,inline:p6e,"insert-above":b0e,"insert-below":x0e,italic:w0e,joystick:m6e,json:g6e,launch:Uf,leave:IF,lemon:v6e,link:kf,"link-removed":y6e,lock:b6e,"logo-js":x6e,"logo-ts":w6e,"master-detail":C0e,menu:PF,"mobile-device":C6e,moon:OF,number:_0e,"ok-hand":_6e,olist:S0e,overage:S6e,package:E6e,"panel-left":k6e,"panel-right":j6e,pause:T6e,pin:A6e,"pin-removed":D6e,play:E0e,plug:k0e,presentation:I6e,publish:f0,"read-only":Xx,redo:P6e,refresh:O6e,"remove-circle":R6e,remove:j0e,reset:Iu,restore:RF,retrieve:$6e,retry:M6e,revert:$F,robot:F6e,rocket:L6e,schema:B6e,search:ei,select:Nl,share:N6e,sort:MF,sparkle:z6e,sparkles:V6e,spinner:Qx,"split-horizontal":H6e,"split-vertical":T0e,square:U6e,"stack-compact":A0e,stack:D0e,star:W6e,stop:Y6e,strikethrough:I0e,string:ig,sun:FF,sync:h0,"tablet-device":q6e,tag:G6e,tags:K6e,terminal:Z6e,text:X6e,"th-large":Q6e,"th-list":J6e,tiers:e8e,"toggle-arrow-right":ej,token:t8e,transfer:n8e,translate:r8e,trash:po,"trend-upward":o8e,"triangle-outline":i8e,trolley:s8e,truncate:a8e,twitter:l8e,ulist:$y,underline:P0e,undo:BS,unknown:Cl,unlock:c8e,unpublish:NS,upload:tj,user:u8e,users:nj,"warning-filled":d8e,"warning-outline":Fr,wrench:f8e};h.forwardRef(function(t,n){const{symbol:r,...o}=t,i=h8e[r];return i?h.createElement(i,{...o,ref:n}):null});var O0e={exports:{}},p8e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",m8e=p8e,g8e=m8e;function R0e(){}function $0e(){}$0e.resetWarningCache=R0e;var v8e=function(){function e(r,o,i,s,a,c){if(c!==g8e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$0e,resetWarningCache:R0e};return n.PropTypes=n,n};O0e.exports=v8e();var M0e=O0e.exports;const e$n=Pe(M0e);var y8e=x8e,b8e=Object.prototype.hasOwnProperty;function x8e(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)b8e.call(n,r)&&(e[r]=n[r])}return e}var F0e=L0e,LF=L0e.prototype;LF.space=null;LF.normal={};LF.property={};function L0e(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}var Zz=y8e,w8e=F0e,C8e=_8e;function _8e(e){for(var t=e.length,n=[],r=[],o=-1,i,s;++o<t;)i=e[o],n.push(i.property),r.push(i.normal),s=i.space;return new w8e(Zz.apply(null,n),Zz.apply(null,r),s)}var BF=S8e;function S8e(e){return e.toLowerCase()}var B0e=N0e,Xa=N0e.prototype;Xa.space=null;Xa.attribute=null;Xa.property=null;Xa.boolean=!1;Xa.booleanish=!1;Xa.overloadedBoolean=!1;Xa.number=!1;Xa.commaSeparated=!1;Xa.spaceSeparated=!1;Xa.commaOrSpaceSeparated=!1;Xa.mustUseProperty=!1;Xa.defined=!1;function N0e(e,t){this.property=e,this.attribute=t}var $c={},E8e=0;$c.boolean=cm();$c.booleanish=cm();$c.overloadedBoolean=cm();$c.number=cm();$c.spaceSeparated=cm();$c.commaSeparated=cm();$c.commaOrSpaceSeparated=cm();function cm(){return Math.pow(2,++E8e)}var z0e=B0e,Xz=$c,V0e=NF;NF.prototype=new z0e;NF.prototype.defined=!0;var H0e=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],k8e=H0e.length;function NF(e,t,n,r){var o=-1,i;for(Qz(this,"space",r),z0e.call(this,e,t);++o<k8e;)i=H0e[o],Qz(this,i,(n&Xz[i])===Xz[i])}function Qz(e,t,n){n&&(e[t]=n)}var Jz=BF,j8e=F0e,T8e=V0e,Jx=A8e;function A8e(e){var t=e.space,n=e.mustUseProperty||[],r=e.attributes||{},o=e.properties,i=e.transform,s={},a={},c,u;for(c in o)u=new T8e(c,i(r,c),o[c],t),n.indexOf(c)!==-1&&(u.mustUseProperty=!0),s[c]=u,a[Jz(c)]=c,a[Jz(u.attribute)]=c;return new j8e(s,a,t)}var D8e=Jx,I8e=D8e({space:"xlink",transform:P8e,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function P8e(e,t){return"xlink:"+t.slice(5).toLowerCase()}var O8e=Jx,R8e=O8e({space:"xml",transform:$8e,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function $8e(e,t){return"xml:"+t.slice(3).toLowerCase()}var M8e=F8e;function F8e(e,t){return t in e?e[t]:t}var L8e=M8e,U0e=B8e;function B8e(e,t){return L8e(e,t.toLowerCase())}var N8e=Jx,z8e=U0e,V8e=N8e({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:z8e,properties:{xmlns:null,xmlnsXLink:null}}),zF=$c,H8e=Jx,ss=zF.booleanish,ga=zF.number,ph=zF.spaceSeparated,U8e=H8e({transform:W8e,properties:{ariaActiveDescendant:null,ariaAtomic:ss,ariaAutoComplete:null,ariaBusy:ss,ariaChecked:ss,ariaColCount:ga,ariaColIndex:ga,ariaColSpan:ga,ariaControls:ph,ariaCurrent:null,ariaDescribedBy:ph,ariaDetails:null,ariaDisabled:ss,ariaDropEffect:ph,ariaErrorMessage:null,ariaExpanded:ss,ariaFlowTo:ph,ariaGrabbed:ss,ariaHasPopup:null,ariaHidden:ss,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ph,ariaLevel:ga,ariaLive:null,ariaModal:ss,ariaMultiLine:ss,ariaMultiSelectable:ss,ariaOrientation:null,ariaOwns:ph,ariaPlaceholder:null,ariaPosInSet:ga,ariaPressed:ss,ariaReadOnly:ss,ariaRelevant:null,ariaRequired:ss,ariaRoleDescription:ph,ariaRowCount:ga,ariaRowIndex:ga,ariaRowSpan:ga,ariaSelected:ss,ariaSetSize:ga,ariaSort:null,ariaValueMax:ga,ariaValueMin:ga,ariaValueNow:ga,ariaValueText:null,role:null}});function W8e(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}var p0=$c,Y8e=Jx,q8e=U0e,$t=p0.boolean,G8e=p0.overloadedBoolean,y1=p0.booleanish,tr=p0.number,Bi=p0.spaceSeparated,EC=p0.commaSeparated,K8e=Y8e({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:q8e,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:EC,acceptCharset:Bi,accessKey:Bi,action:null,allow:null,allowFullScreen:$t,allowPaymentRequest:$t,allowUserMedia:$t,alt:null,as:null,async:$t,autoCapitalize:null,autoComplete:Bi,autoFocus:$t,autoPlay:$t,capture:$t,charSet:null,checked:$t,cite:null,className:Bi,cols:tr,colSpan:null,content:null,contentEditable:y1,controls:$t,controlsList:Bi,coords:tr|EC,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$t,defer:$t,dir:null,dirName:null,disabled:$t,download:G8e,draggable:y1,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$t,formTarget:null,headers:Bi,height:tr,hidden:$t,high:tr,href:null,hrefLang:null,htmlFor:Bi,httpEquiv:Bi,id:null,imageSizes:null,imageSrcSet:EC,inputMode:null,integrity:null,is:null,isMap:$t,itemId:null,itemProp:Bi,itemRef:Bi,itemScope:$t,itemType:Bi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$t,low:tr,manifest:null,max:null,maxLength:tr,media:null,method:null,min:null,minLength:tr,multiple:$t,muted:$t,name:null,nonce:null,noModule:$t,noValidate:$t,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$t,optimum:tr,pattern:null,ping:Bi,placeholder:null,playsInline:$t,poster:null,preload:null,readOnly:$t,referrerPolicy:null,rel:Bi,required:$t,reversed:$t,rows:tr,rowSpan:tr,sandbox:Bi,scope:null,scoped:$t,seamless:$t,selected:$t,shape:null,size:tr,sizes:null,slot:null,span:tr,spellCheck:y1,src:null,srcDoc:null,srcLang:null,srcSet:EC,start:tr,step:null,style:null,tabIndex:tr,target:null,title:null,translate:null,type:null,typeMustMatch:$t,useMap:null,value:y1,width:tr,wrap:null,align:null,aLink:null,archive:Bi,axis:null,background:null,bgColor:null,border:tr,borderColor:null,bottomMargin:tr,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$t,declare:$t,event:null,face:null,frame:null,frameBorder:null,hSpace:tr,leftMargin:tr,link:null,longDesc:null,lowSrc:null,marginHeight:tr,marginWidth:tr,noResize:$t,noHref:$t,noShade:$t,noWrap:$t,object:null,profile:null,prompt:null,rev:null,rightMargin:tr,rules:null,scheme:null,scrolling:y1,standby:null,summary:null,text:null,topMargin:tr,valueType:null,version:null,vAlign:null,vLink:null,vSpace:tr,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$t,disableRemotePlayback:$t,prefix:null,property:null,results:tr,security:null,unselectable:null}}),Z8e=C8e,X8e=I8e,Q8e=R8e,J8e=V8e,e9e=U8e,t9e=K8e,n9e=Z8e([Q8e,X8e,J8e,e9e,t9e]),r9e=BF,o9e=V0e,i9e=B0e,VF="data",s9e=c9e,a9e=/^data[-\w.:]+$/i,W0e=/-[a-z]/g,l9e=/[A-Z]/g;function c9e(e,t){var n=r9e(t),r=t,o=i9e;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===VF&&a9e.test(t)&&(t.charAt(4)==="-"?r=u9e(t):t=d9e(t),o=o9e),new o(r,t))}function u9e(e){var t=e.slice(5).replace(W0e,h9e);return VF+t.charAt(0).toUpperCase()+t.slice(1)}function d9e(e){var t=e.slice(4);return W0e.test(t)?e:(t=t.replace(l9e,f9e),t.charAt(0)!=="-"&&(t="-"+t),VF+t)}function f9e(e){return"-"+e.toLowerCase()}function h9e(e){return e.charAt(1).toUpperCase()}var p9e=m9e,eV=/[#.]/g;function m9e(e,t){for(var n=e||"",r=t||"div",o={},i=0,s,a,c;i<n.length;)eV.lastIndex=i,c=eV.exec(n),s=n.slice(i,c?c.index:n.length),s&&(a?a==="#"?o.id=s:o.className?o.className.push(s):o.className=[s]:r=s,i+=s.length),c&&(a=c[0],i++);return{type:"element",tagName:r,properties:o,children:[]}}var HF={};HF.parse=y9e;HF.stringify=b9e;var tV="",g9e=" ",v9e=/[ \t\n\r\f]+/g;function y9e(e){var t=String(e||tV).trim();return t===tV?[]:t.split(v9e)}function b9e(e){return e.join(g9e).trim()}var UF={};UF.parse=x9e;UF.stringify=w9e;var j3=",",nV=" ",cy="";function x9e(e){for(var t=[],n=String(e||cy),r=n.indexOf(j3),o=0,i=!1,s;!i;)r===-1&&(r=n.length,i=!0),s=n.slice(o,r).trim(),(s||!i)&&t.push(s),o=r+1,r=n.indexOf(j3,o);return t}function w9e(e,t){var n=t||{},r=n.padLeft===!1?cy:nV,o=n.padRight?nV:cy;return e[e.length-1]===cy&&(e=e.concat(cy)),e.join(o+j3+r).trim()}var C9e=s9e,rV=BF,_9e=p9e,oV=HF.parse,iV=UF.parse,S9e=k9e,E9e={}.hasOwnProperty;function k9e(e,t,n){var r=n?I9e(n):null;return o;function o(s,a){var c=_9e(s,t),u=Array.prototype.slice.call(arguments,2),d=c.tagName.toLowerCase(),f;if(c.tagName=r&&E9e.call(r,d)?r[d]:d,a&&j9e(a,c)&&(u.unshift(a),a=null),a)for(f in a)i(c.properties,f,a[f]);return Y0e(c.children,u),c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}function i(s,a,c){var u,d,f;c==null||c!==c||(u=C9e(e,a),d=u.property,f=c,typeof f=="string"&&(u.spaceSeparated?f=oV(f):u.commaSeparated?f=iV(f):u.commaOrSpaceSeparated&&(f=oV(iV(f).join(" ")))),d==="style"&&typeof c!="string"&&(f=D9e(f)),d==="className"&&s.className&&(f=s.className.concat(f)),s[d]=A9e(u,d,f))}}function j9e(e,t){return typeof e=="string"||"length"in e||T9e(t.tagName,e)}function T9e(e,t){var n=t.type;return e==="input"||!n||typeof n!="string"?!1:typeof t.children=="object"&&"length"in t.children?!0:(n=n.toLowerCase(),e==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in t)}function Y0e(e,t){var n,r;if(typeof t=="string"||typeof t=="number"){e.push({type:"text",value:String(t)});return}if(typeof t=="object"&&"length"in t){for(n=-1,r=t.length;++n<r;)Y0e(e,t[n]);return}if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}function A9e(e,t,n){var r,o,i;if(typeof n!="object"||!("length"in n))return sV(e,t,n);for(o=n.length,r=-1,i=[];++r<o;)i[r]=sV(e,t,n[r]);return i}function sV(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&typeof r=="string"&&(r===""||rV(n)===rV(t))&&(r=!0),r}function D9e(e){var t=[],n;for(n in e)t.push([n,e[n]].join(": "));return t.join("; ")}function I9e(e){for(var t=e.length,n=-1,r={},o;++n<t;)o=e[n],r[o.toLowerCase()]=o;return r}var P9e=n9e,O9e=S9e,q0e=O9e(P9e,"div");q0e.displayName="html";var R9e=q0e,$9e=R9e;const M9e="Æ",F9e="&",L9e="Á",B9e="Â",N9e="À",z9e="Å",V9e="Ã",H9e="Ä",U9e="©",W9e="Ç",Y9e="Ð",q9e="É",G9e="Ê",K9e="È",Z9e="Ë",X9e=">",Q9e="Í",J9e="Î",e7e="Ì",t7e="Ï",n7e="<",r7e="Ñ",o7e="Ó",i7e="Ô",s7e="Ò",a7e="Ø",l7e="Õ",c7e="Ö",u7e='"',d7e="®",f7e="Þ",h7e="Ú",p7e="Û",m7e="Ù",g7e="Ü",v7e="Ý",y7e="á",b7e="â",x7e="´",w7e="æ",C7e="à",_7e="&",S7e="å",E7e="ã",k7e="ä",j7e="¦",T7e="ç",A7e="¸",D7e="¢",I7e="©",P7e="¤",O7e="°",R7e="÷",$7e="é",M7e="ê",F7e="è",L7e="ð",B7e="ë",N7e="½",z7e="¼",V7e="¾",H7e=">",U7e="í",W7e="î",Y7e="¡",q7e="ì",G7e="¿",K7e="ï",Z7e="«",X7e="<",Q7e="¯",J7e="µ",eBe="·",tBe=" ",nBe="¬",rBe="ñ",oBe="ó",iBe="ô",sBe="ò",aBe="ª",lBe="º",cBe="ø",uBe="õ",dBe="ö",fBe="¶",hBe="±",pBe="£",mBe='"',gBe="»",vBe="®",yBe="§",bBe="­",xBe="¹",wBe="²",CBe="³",_Be="ß",SBe="þ",EBe="×",kBe="ú",jBe="û",TBe="ù",ABe="¨",DBe="ü",IBe="ý",PBe="¥",OBe="ÿ",RBe={AElig:M9e,AMP:F9e,Aacute:L9e,Acirc:B9e,Agrave:N9e,Aring:z9e,Atilde:V9e,Auml:H9e,COPY:U9e,Ccedil:W9e,ETH:Y9e,Eacute:q9e,Ecirc:G9e,Egrave:K9e,Euml:Z9e,GT:X9e,Iacute:Q9e,Icirc:J9e,Igrave:e7e,Iuml:t7e,LT:n7e,Ntilde:r7e,Oacute:o7e,Ocirc:i7e,Ograve:s7e,Oslash:a7e,Otilde:l7e,Ouml:c7e,QUOT:u7e,REG:d7e,THORN:f7e,Uacute:h7e,Ucirc:p7e,Ugrave:m7e,Uuml:g7e,Yacute:v7e,aacute:y7e,acirc:b7e,acute:x7e,aelig:w7e,agrave:C7e,amp:_7e,aring:S7e,atilde:E7e,auml:k7e,brvbar:j7e,ccedil:T7e,cedil:A7e,cent:D7e,copy:I7e,curren:P7e,deg:O7e,divide:R7e,eacute:$7e,ecirc:M7e,egrave:F7e,eth:L7e,euml:B7e,frac12:N7e,frac14:z7e,frac34:V7e,gt:H7e,iacute:U7e,icirc:W7e,iexcl:Y7e,igrave:q7e,iquest:G7e,iuml:K7e,laquo:Z7e,lt:X7e,macr:Q7e,micro:J7e,middot:eBe,nbsp:tBe,not:nBe,ntilde:rBe,oacute:oBe,ocirc:iBe,ograve:sBe,ordf:aBe,ordm:lBe,oslash:cBe,otilde:uBe,ouml:dBe,para:fBe,plusmn:hBe,pound:pBe,quot:mBe,raquo:gBe,reg:vBe,sect:yBe,shy:bBe,sup1:xBe,sup2:wBe,sup3:CBe,szlig:_Be,thorn:SBe,times:EBe,uacute:kBe,ucirc:jBe,ugrave:TBe,uml:ABe,uuml:DBe,yacute:IBe,yen:PBe,yuml:OBe},$Be={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};var G0e=MBe;function MBe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}var FBe=LBe;function LBe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var BBe=NBe;function NBe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var zBe=BBe,VBe=G0e,HBe=UBe;function UBe(e){return zBe(e)||VBe(e)}var kC,WBe=59,YBe=qBe;function qBe(e){var t="&"+e+";",n;return kC=kC||document.createElement("i"),kC.innerHTML=t,n=kC.textContent,n.charCodeAt(n.length-1)===WBe&&e!=="semi"||n===t?!1:n}var aV=RBe,lV=$Be,GBe=G0e,KBe=FBe,K0e=HBe,ZBe=YBe,XBe=uNe,QBe={}.hasOwnProperty,zm=String.fromCharCode,JBe=Function.prototype,cV={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},eNe=9,uV=10,tNe=12,nNe=32,dV=38,rNe=59,oNe=60,iNe=61,sNe=35,aNe=88,lNe=120,cNe=65533,sg="named",WF="hexadecimal",YF="decimal",qF={};qF[WF]=16;qF[YF]=10;var rj={};rj[sg]=K0e;rj[YF]=GBe;rj[WF]=KBe;var Z0e=1,X0e=2,Q0e=3,J0e=4,e1e=5,T3=6,t1e=7,Wf={};Wf[Z0e]="Named character references must be terminated by a semicolon";Wf[X0e]="Numeric character references must be terminated by a semicolon";Wf[Q0e]="Named character references cannot be empty";Wf[J0e]="Numeric character references cannot be empty";Wf[e1e]="Named character references must be known";Wf[T3]="Numeric character references cannot be disallowed";Wf[t1e]="Numeric character references cannot be outside the permissible Unicode range";function uNe(e,t){var n={},r,o;t||(t={});for(o in cV)r=t[o],n[o]=r??cV[o];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),dNe(e,n)}function dNe(e,t){var n=t.additional,r=t.nonTerminated,o=t.text,i=t.reference,s=t.warning,a=t.textContext,c=t.referenceContext,u=t.warningContext,d=t.position,f=t.indent||[],p=e.length,m=0,v=-1,g=d.column||1,y=d.line||1,x="",b=[],w,C,_,S,E,j,k,T,A,D,I,P,$,R,V,N,W,G,H;for(typeof n=="string"&&(n=n.charCodeAt(0)),N=q(),T=s?X:JBe,m--,p++;++m<p;)if(E===uV&&(g=f[v]||1),E=e.charCodeAt(m),E===dV){if(k=e.charCodeAt(m+1),k===eNe||k===uV||k===tNe||k===nNe||k===dV||k===oNe||k!==k||n&&k===n){x+=zm(E),g++;continue}for($=m+1,P=$,H=$,k===sNe?(H=++P,k=e.charCodeAt(H),k===aNe||k===lNe?(R=WF,H=++P):R=YF):R=sg,w="",I="",S="",V=rj[R],H--;++H<p&&(k=e.charCodeAt(H),!!V(k));)S+=zm(k),R===sg&&QBe.call(aV,S)&&(w=S,I=aV[S]);_=e.charCodeAt(H)===rNe,_&&(H++,C=R===sg?ZBe(S):!1,C&&(w=S,I=C)),G=1+H-$,!_&&!r||(S?R===sg?(_&&!I?T(e1e,1):(w!==S&&(H=P+w.length,G=1+H-P,_=!1),_||(A=w?Z0e:Q0e,t.attribute?(k=e.charCodeAt(H),k===iNe?(T(A,G),I=null):K0e(k)?I=null:T(A,G)):T(A,G))),j=I):(_||T(X0e,G),j=parseInt(S,qF[R]),fNe(j)?(T(t1e,G),j=zm(cNe)):j in lV?(T(T3,G),j=lV[j]):(D="",hNe(j)&&T(T3,G),j>65535&&(j-=65536,D+=zm(j>>>10|55296),j=56320|j&1023),j=D+zm(j))):R!==sg&&T(J0e,G)),j?(B(),N=q(),m=H-1,g+=H-$+1,b.push(j),W=q(),W.offset++,i&&i.call(c,j,{start:N,end:W},e.slice($-1,H)),N=W):(S=e.slice($-1,H),x+=S,g+=S.length,m=H-1)}else E===10&&(y++,v++,g=0),E===E?(x+=zm(E),g++):B();return b.join("");function q(){return{line:y,column:g,offset:m+(d.offset||0)}}function X(Y,z){var Z=q();Z.column+=z,Z.offset+=z,s.call(u,Wf[Y],Z,Y)}function B(){x&&(b.push(x),o&&o.call(a,x,{start:N,end:q()}),x="")}}function fNe(e){return e>=55296&&e<=57343||e>1114111}function hNe(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var n1e={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function b(w){return w instanceof c?new c(w.type,b(w.content),w.alias):Array.isArray(w)?w.map(b):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(b){return Object.prototype.toString.call(b).slice(8,-1)},objId:function(b){return b.__id||Object.defineProperty(b,"__id",{value:++i}),b.__id},clone:function b(w,C){C=C||{};var _,S;switch(a.util.type(w)){case"Object":if(S=a.util.objId(w),C[S])return C[S];_={},C[S]=_;for(var E in w)w.hasOwnProperty(E)&&(_[E]=b(w[E],C));return _;case"Array":return S=a.util.objId(w),C[S]?C[S]:(_=[],C[S]=_,w.forEach(function(j,k){_[k]=b(j,C)}),_);default:return w}},getLanguage:function(b){for(;b;){var w=o.exec(b.className);if(w)return w[1].toLowerCase();b=b.parentElement}return"none"},setLanguage:function(b,w){b.className=b.className.replace(RegExp(o,"gi"),""),b.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(_){var b=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(_.stack)||[])[1];if(b){var w=document.getElementsByTagName("script");for(var C in w)if(w[C].src==b)return w[C]}return null}},isActive:function(b,w,C){for(var _="no-"+w;b;){var S=b.classList;if(S.contains(w))return!0;if(S.contains(_))return!1;b=b.parentElement}return!!C}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(b,w){var C=a.util.clone(a.languages[b]);for(var _ in w)C[_]=w[_];return C},insertBefore:function(b,w,C,_){_=_||a.languages;var S=_[b],E={};for(var j in S)if(S.hasOwnProperty(j)){if(j==w)for(var k in C)C.hasOwnProperty(k)&&(E[k]=C[k]);C.hasOwnProperty(j)||(E[j]=S[j])}var T=_[b];return _[b]=E,a.languages.DFS(a.languages,function(A,D){D===T&&A!=b&&(this[A]=E)}),E},DFS:function b(w,C,_,S){S=S||{};var E=a.util.objId;for(var j in w)if(w.hasOwnProperty(j)){C.call(w,j,w[j],_||j);var k=w[j],T=a.util.type(k);T==="Object"&&!S[E(k)]?(S[E(k)]=!0,b(k,C,null,S)):T==="Array"&&!S[E(k)]&&(S[E(k)]=!0,b(k,C,j,S))}}},plugins:{},highlightAll:function(b,w){a.highlightAllUnder(document,b,w)},highlightAllUnder:function(b,w,C){var _={callback:C,container:b,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",_),_.elements=Array.prototype.slice.apply(_.container.querySelectorAll(_.selector)),a.hooks.run("before-all-elements-highlight",_);for(var S=0,E;E=_.elements[S++];)a.highlightElement(E,w===!0,_.callback)},highlightElement:function(b,w,C){var _=a.util.getLanguage(b),S=a.languages[_];a.util.setLanguage(b,_);var E=b.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(E,_);var j=b.textContent,k={element:b,language:_,grammar:S,code:j};function T(D){k.highlightedCode=D,a.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,a.hooks.run("after-highlight",k),a.hooks.run("complete",k),C&&C.call(k.element)}if(a.hooks.run("before-sanity-check",k),E=k.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!k.code){a.hooks.run("complete",k),C&&C.call(k.element);return}if(a.hooks.run("before-highlight",k),!k.grammar){T(a.util.encode(k.code));return}if(w&&r.Worker){var A=new Worker(a.filename);A.onmessage=function(D){T(D.data)},A.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else T(a.highlight(k.code,k.grammar,k.language))},highlight:function(b,w,C){var _={code:b,grammar:w,language:C};if(a.hooks.run("before-tokenize",_),!_.grammar)throw new Error('The language "'+_.language+'" has no grammar.');return _.tokens=a.tokenize(_.code,_.grammar),a.hooks.run("after-tokenize",_),c.stringify(a.util.encode(_.tokens),_.language)},tokenize:function(b,w){var C=w.rest;if(C){for(var _ in C)w[_]=C[_];delete w.rest}var S=new f;return p(S,S.head,b),d(b,S,w,S.head,0),v(S)},hooks:{all:{},add:function(b,w){var C=a.hooks.all;C[b]=C[b]||[],C[b].push(w)},run:function(b,w){var C=a.hooks.all[b];if(!(!C||!C.length))for(var _=0,S;S=C[_++];)S(w)}},Token:c};r.Prism=a;function c(b,w,C,_){this.type=b,this.content=w,this.alias=C,this.length=(_||"").length|0}c.stringify=function b(w,C){if(typeof w=="string")return w;if(Array.isArray(w)){var _="";return w.forEach(function(T){_+=b(T,C)}),_}var S={type:w.type,content:b(w.content,C),tag:"span",classes:["token",w.type],attributes:{},language:C},E=w.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(S.classes,E):S.classes.push(E)),a.hooks.run("wrap",S);var j="";for(var k in S.attributes)j+=" "+k+'="'+(S.attributes[k]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+j+">"+S.content+"</"+S.tag+">"};function u(b,w,C,_){b.lastIndex=w;var S=b.exec(C);if(S&&_&&S[1]){var E=S[1].length;S.index+=E,S[0]=S[0].slice(E)}return S}function d(b,w,C,_,S,E){for(var j in C)if(!(!C.hasOwnProperty(j)||!C[j])){var k=C[j];k=Array.isArray(k)?k:[k];for(var T=0;T<k.length;++T){if(E&&E.cause==j+","+T)return;var A=k[T],D=A.inside,I=!!A.lookbehind,P=!!A.greedy,$=A.alias;if(P&&!A.pattern.global){var R=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,R+"g")}for(var V=A.pattern||A,N=_.next,W=S;N!==w.tail&&!(E&&W>=E.reach);W+=N.value.length,N=N.next){var G=N.value;if(w.length>b.length)return;if(!(G instanceof c)){var H=1,q;if(P){if(q=u(V,W,b,I),!q||q.index>=b.length)break;var z=q.index,X=q.index+q[0].length,B=W;for(B+=N.value.length;z>=B;)N=N.next,B+=N.value.length;if(B-=N.value.length,W=B,N.value instanceof c)continue;for(var Y=N;Y!==w.tail&&(B<X||typeof Y.value=="string");Y=Y.next)H++,B+=Y.value.length;H--,G=b.slice(W,B),q.index-=W}else if(q=u(V,0,G,I),!q)continue;var z=q.index,Z=q[0],Q=G.slice(0,z),ne=G.slice(z+Z.length),K=W+G.length;E&&K>E.reach&&(E.reach=K);var J=N.prev;Q&&(J=p(w,J,Q),W+=Q.length),m(w,J,H);var re=new c(j,D?a.tokenize(Z,D):Z,$,Z);if(N=p(w,J,re),ne&&p(w,N,ne),H>1){var fe={cause:j+","+T,reach:K};d(b,w,C,N.prev,W,fe),E&&fe.reach>E.reach&&(E.reach=fe.reach)}}}}}}function f(){var b={value:null,prev:null,next:null},w={value:null,prev:b,next:null};b.next=w,this.head=b,this.tail=w,this.length=0}function p(b,w,C){var _=w.next,S={value:C,prev:w,next:_};return w.next=S,_.prev=S,b.length++,S}function m(b,w,C){for(var _=w.next,S=0;S<C&&_!==b.tail;S++)_=_.next;w.next=_,_.prev=w,b.length-=S}function v(b){for(var w=[],C=b.head.next;C!==b.tail;)w.push(C.value),C=C.next;return w}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(b){var w=JSON.parse(b.data),C=w.language,_=w.code,S=w.immediateClose;r.postMessage(a.highlight(_,a.languages[C],C)),S&&r.close()},!1)),a;var g=a.util.currentScript();g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0));function y(){a.manual||a.highlightAll()}if(!a.manual){var x=document.readyState;x==="loading"||x==="interactive"&&g&&g.defer?document.addEventListener("DOMContentLoaded",y):window.requestAnimationFrame?window.requestAnimationFrame(y):window.setTimeout(y,16)}return a}(t);e.exports&&(e.exports=n),typeof ys<"u"&&(ys.Prism=n)})(n1e);var pNe=n1e.exports,mNe=GF;GF.displayName="markup";GF.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function GF(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var o={};o["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};i["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var s={};s[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}var gNe=KF;KF.displayName="css";KF.aliases=[];function KF(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}var vNe=ZF;ZF.displayName="clike";ZF.aliases=[];function ZF(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var r1e=XF;XF.displayName="javascript";XF.aliases=["js"];function XF(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}const yNe=Pe(r1e);var uy=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof ys=="object"?ys:{},bNe=$Ne();uy.Prism={manual:!0,disableWorkerMessageHandler:!0};var xNe=$9e,wNe=XBe,o1e=pNe,CNe=mNe,_Ne=gNe,SNe=vNe,ENe=r1e;bNe();var QF={}.hasOwnProperty;function i1e(){}i1e.prototype=o1e;var uo=new i1e,kNe=uo;uo.highlight=TNe;uo.register=ew;uo.alias=jNe;uo.registered=ANe;uo.listLanguages=DNe;ew(CNe);ew(_Ne);ew(SNe);ew(ENe);uo.util.encode=ONe;uo.Token.stringify=INe;function ew(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");uo.languages[e.displayName]===void 0&&e(uo)}function jNe(e,t){var n=uo.languages,r=e,o,i,s,a;t&&(r={},r[e]=t);for(o in r)for(i=r[o],i=typeof i=="string"?[i]:i,s=i.length,a=-1;++a<s;)n[i[a]]=n[o]}function TNe(e,t){var n=o1e.highlight,r;if(typeof e!="string")throw new Error("Expected `string` for `value`, got `"+e+"`");if(uo.util.type(t)==="Object")r=t,t=null;else{if(typeof t!="string")throw new Error("Expected `string` for `name`, got `"+t+"`");if(QF.call(uo.languages,t))r=uo.languages[t];else throw new Error("Unknown language: `"+t+"` is not registered")}return n.call(this,e,r,t)}function ANe(e){if(typeof e!="string")throw new Error("Expected `string` for `language`, got `"+e+"`");return QF.call(uo.languages,e)}function DNe(){var e=uo.languages,t=[],n;for(n in e)QF.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function INe(e,t,n){var r;return typeof e=="string"?{type:"text",value:e}:uo.util.type(e)==="Array"?PNe(e,t):(r={type:e.type,content:uo.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),uo.hooks.run("wrap",r),xNe(r.tag+"."+r.classes.join("."),RNe(r.attributes),r.content))}function PNe(e,t){for(var n=[],r=e.length,o=-1,i;++o<r;)i=e[o],i!==""&&i!==null&&i!==void 0&&n.push(i);for(o=-1,r=n.length;++o<r;)i=n[o],n[o]=uo.Token.stringify(i,t,n);return n}function ONe(e){return e}function RNe(e){var t;for(t in e)e[t]=wNe(e[t]);return e}function $Ne(){var e="Prism"in uy,t=e?uy.Prism:void 0;return n;function n(){e?uy.Prism=t:delete uy.Prism,e=void 0,t=void 0}}var s1e={},MNe=h;function FNe(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return MNe.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(a1e(n+1)))}return e.value}function a1e(e){return function(n,r){return FNe(n,r,e)}}s1e.depth=a1e;var l1e=c1e;function c1e(e){if(e==null)return zNe;if(typeof e=="string")return NNe(e);if(typeof e=="object")return"length"in e?BNe(e):LNe(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function LNe(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function BNe(e){for(var t=[],n=-1;++n<e.length;)t[n]=c1e(e[n]);return r;function r(){for(var o=-1;++o<t.length;)if(t[o].apply(this,arguments))return!0;return!1}}function NNe(e){return t;function t(n){return!!(n&&n.type===e)}}function zNe(){return!0}var VNe=l1e,HNe=WNe,UNe={}.hasOwnProperty;function WNe(e,t,n){var r=VNe(n||t),o=t.cascade==null?!0:t.cascade;return i(e,null,null);function i(s,a,c){var u,d,f,p,m;if(!r(s,a,c))return null;if(s.children){for(u=[],d=-1;++d<s.children.length;)f=i(s.children[d],d,s),f&&u.push(f);if(o&&s.children.length&&!u.length)return null}p={};for(m in s)UNe.call(s,m)&&(p[m]=m==="children"?u:s[m]);return p}}var YNe=qNe;function qNe(e){return e}var GNe=oj,KNe=l1e,ZNe=YNe,u1e=!0,d1e="skip",A3=!1;oj.CONTINUE=u1e;oj.SKIP=d1e;oj.EXIT=A3;function oj(e,t,n,r){var o,i;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),i=KNe(t),o=r?-1:1,s(e,null,[])();function s(a,c,u){var d=typeof a=="object"&&a!==null?a:{},f;return typeof d.type=="string"&&(f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,p.displayName="node ("+ZNe(d.type+(f?"<"+f+">":""))+")"),p;function p(){var m=u.concat(a),v=[],g,y;if((!t||i(a,c,u[u.length-1]||null))&&(v=XNe(n(a,u)),v[0]===A3))return v;if(a.children&&v[0]!==d1e)for(y=(r?a.children.length:-1)+o;y>-1&&y<a.children.length;){if(g=s(a.children[y],y,m)(),g[0]===A3)return g;y=typeof g[1]=="number"?g[1]:y+o}return v}}}function XNe(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[u1e,e]:[e]}var QNe=typeof WeakMap=="function"?tw:nw;function tw(){this.map=new WeakMap}tw.prototype.has=function(e){return this.map.has(e)};tw.prototype.set=function(e,t){return this.map.set(e,t),this};tw.prototype.get=function(e){return this.map.get(e)};tw.prototype.clear=function(){};function nw(){this.keys=[],this.values=[]}nw.prototype.has=function(e){return this.keys.indexOf(e)!==-1};nw.prototype.set=function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this};nw.prototype.get=function(e){var t=this.keys.indexOf(e);return t===-1?void 0:this.values[t]};nw.prototype.clear=function(){this.keys=[],this.values=[]};var JNe=HNe,fV=GNe,CD=QNe;function f1e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return e.reduce(function(n,r){var o=t.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=o,r.lineEnd=o,n.nodes.push(r),n;for(var i=r.value.split(`
`),s=0;s<i.length;s++){var a=s===0?t.lineNumber:++t.lineNumber;n.nodes.push({type:"text",value:s===i.length-1?i[s]:"".concat(i[s],`
`),lineStart:a,lineEnd:a})}return n.lineNumber=t.lineNumber,n}if(r.children){var c=f1e(r.children,t),u=c.nodes[0],d=c.nodes[c.nodes.length-1];return r.lineStart=u?u.lineStart:o,r.lineEnd=d?d.lineEnd:o,r.children=c.nodes,n.lineNumber=c.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:t.lineNumber})}function eze(e,t){var n={type:"root",children:t},r=new CD,o=new CD,i=new CD,s=[];function a(f,p,m){s.push(p),m.forEach(function(b){f.has(b)||(f.set(b,Object.assign({},b,{children:[]})),b!==n&&s.push(b))});for(var v=m.length;v--;){var g=f.get(m[v]),y=m[v+1],x=f.get(y)||p;g.children.indexOf(x)===-1&&g.children.push(x)}}fV(n,function(f,p){if(!f.children){if(f.lineStart<e){a(r,f,p);return}if(f.lineStart===e){a(o,f,p);return}f.lineEnd>e&&s.some(function(m){return p.indexOf(m)!==-1})&&a(i,f,p)}});var c=JNe(n,function(f){return s.indexOf(f)===-1}),u=function(p){var m=p.get(n);return m?(fV(m,function(v,g){if(v.children){v.lineStart=0,v.lineEnd=0;return}g.forEach(function(y){y.lineStart=Math.max(y.lineStart,v.lineStart),y.lineEnd=Math.max(y.lineEnd,v.lineEnd)})}),m.children):[]},d=[].concat(u(r),u(o),u(i),c?c.children:[]);return r.clear(),o.clear(),i.clear(),d}function tze(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function nze(e,t,n){if(t.length===0||e.length===0)return e;for(var r=t.reduce(function(f,p){return eze(p.line,f)},e),o=[],i=0,s=0;s<t.length;s++){for(var a=t[s],c=r[i];c&&c.lineEnd<a.line;c=r[++i])o.push(c);for(var u=[],d=r[i];d&&d.lineEnd===a.line;d=r[++i])u.push(d);u.length>0&&o.push(tze(u,a,n))}for(;i<r.length;)o.push(r[i++]);return o}function rze(e,t){var n=t.markers.map(function(o){return o.line?o:{line:o}}).sort(function(o,i){return o.line-i.line}),r=f1e(e).nodes;return nze(r,n,t)}var oze=rze,ize=h,Os=M0e,JF=kNe,sze=s1e,aze=oze,hV=ize.createElement;function rw(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className,t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className);var o=JF.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(o=aze(o,{markers:e.markers}));var i=o.length===0?e.value:o.map(sze.depth(0)),s=hV("code",n,i);return e.inline?s:hV("pre",r,s)}rw.propTypes={className:Os.string,inline:Os.bool,language:Os.string.isRequired,value:Os.string.isRequired,markers:Os.arrayOf(Os.oneOfType([Os.number,Os.shape({line:Os.number.isRequired,className:Os.string,component:Os.oneOfType([Os.node,Os.func])})]))};rw.defaultProps={className:"refractor",inline:!1};rw.registerLanguage=function(e){return JF.register(e)};rw.hasLanguage=function(e){return JF.registered(e)};var lze=rw;const Ap=Pe(lze),cze=["top","right","bottom","left"],Dv=Math.min,dp=Math.max,zS=Math.round,jC=Math.floor,jf=e=>({x:e,y:e}),uze={left:"right",right:"left",bottom:"top",top:"bottom"},dze={start:"end",end:"start"};function D3(e,t,n){return dp(e,Dv(t,n))}function m0(e,t){return typeof e=="function"?e(t):e}function Dp(e){return e.split("-")[0]}function ow(e){return e.split("-")[1]}function h1e(e){return e==="x"?"y":"x"}function eL(e){return e==="y"?"height":"width"}function ij(e){return["top","bottom"].includes(Dp(e))?"y":"x"}function tL(e){return h1e(ij(e))}function fze(e,t,n){n===void 0&&(n=!1);const r=ow(e),o=tL(e),i=eL(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=VS(s)),[s,VS(s)]}function hze(e){const t=VS(e);return[I3(e),t,I3(t)]}function I3(e){return e.replace(/start|end/g,t=>dze[t])}function pze(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function mze(e,t,n,r){const o=ow(e);let i=pze(Dp(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(I3)))),i}function VS(e){return e.replace(/left|right|bottom|top/g,t=>uze[t])}function gze(e){return{top:0,right:0,bottom:0,left:0,...e}}function p1e(e){return typeof e!="number"?gze(e):{top:e,right:e,bottom:e,left:e}}function HS(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function pV(e,t,n){let{reference:r,floating:o}=e;const i=ij(t),s=tL(t),a=eL(s),c=Dp(t),u=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(ow(t)){case"start":m[s]-=p*(n&&u?-1:1);break;case"end":m[s]+=p*(n&&u?-1:1);break}return m}const vze=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=pV(u,r,c),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:y,fn:x}=a[g],{x:b,y:w,data:C,reset:_}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});if(d=b??d,f=w??f,m={...m,[y]:{...m[y],...C}},_&&v<=50){v++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:d,y:f}=pV(u,p,c)),g=-1;continue}}return{x:d,y:f,placement:p,strategy:o,middlewareData:m}};async function Sb(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=m0(t,e),v=p1e(m),y=a[p?f==="floating"?"reference":"floating":f],x=HS(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{...s.floating,x:r,y:o}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},_=HS(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:w,strategy:c}):b);return{top:(x.top-_.top+v.top)/C.y,bottom:(_.bottom-x.bottom+v.bottom)/C.y,left:(x.left-_.left+v.left)/C.x,right:(_.right-x.right+v.right)/C.x}}const mV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=m0(e,t)||{};if(u==null)return{};const f=p1e(d),p={x:n,y:r},m=tL(o),v=eL(m),g=await s.getDimensions(u),y=m==="y",x=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",C=i.reference[v]+i.reference[m]-p[m]-i.floating[v],_=p[m]-i.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let E=S?S[w]:0;(!E||!await(s.isElement==null?void 0:s.isElement(S)))&&(E=a.floating[w]||i.floating[v]);const j=C/2-_/2,k=E/2-g[v]/2-1,T=Dv(f[x],k),A=Dv(f[b],k),D=T,I=E-g[v]-A,P=E/2-g[v]/2+j,$=D3(D,P,I),R=!c.arrow&&ow(o)!=null&&P!=$&&i.reference[v]/2-(P<D?T:A)-g[v]/2<0,V=R?P<D?P-D:P-I:0;return{[m]:p[m]+V,data:{[m]:$,centerOffset:P-$-V,...R&&{alignmentOffset:V}},reset:R}}}),m1e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...y}=m0(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Dp(o),b=Dp(a)===a,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=p||(b||!g?[VS(a)]:hze(a));!p&&v!=="none"&&C.push(...mze(a,g,v,w));const _=[a,...C],S=await Sb(t,y),E=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&E.push(S[x]),f){const D=fze(o,s,w);E.push(S[D[0]],S[D[1]])}if(j=[...j,{placement:o,overflows:E}],!E.every(D=>D<=0)){var k,T;const D=(((k=i.flip)==null?void 0:k.index)||0)+1,I=_[D];if(I)return{data:{index:D,overflows:j},reset:{placement:I}};let P=(T=j.filter($=>$.overflows[0]<=0).sort(($,R)=>$.overflows[1]-R.overflows[1])[0])==null?void 0:T.placement;if(!P)switch(m){case"bestFit":{var A;const $=(A=j.map(R=>[R.placement,R.overflows.filter(V=>V>0).reduce((V,N)=>V+N,0)]).sort((R,V)=>R[1]-V[1])[0])==null?void 0:A[0];$&&(P=$);break}case"initialPlacement":P=a;break}if(o!==P)return{reset:{placement:P}}}return{}}}};function gV(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vV(e){return cze.some(t=>e[t]>=0)}const yze=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=m0(e,t);switch(r){case"referenceHidden":{const i=await Sb(t,{...o,elementContext:"reference"}),s=gV(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:vV(s)}}}case"escaped":{const i=await Sb(t,{...o,altBoundary:!0}),s=gV(i,n.floating);return{data:{escapedOffsets:s,escaped:vV(s)}}}default:return{}}}}};async function bze(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Dp(n),a=ow(n),c=ij(n)==="y",u=["left","top"].includes(s)?-1:1,d=i&&c?-1:1,f=m0(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const g1e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await bze(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},v1e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x,y:b}=y;return{x,y:b}}},...c}=m0(e,t),u={x:n,y:r},d=await Sb(t,c),f=ij(Dp(o)),p=h1e(f);let m=u[p],v=u[f];if(i){const y=p==="y"?"top":"left",x=p==="y"?"bottom":"right",b=m+d[y],w=m-d[x];m=D3(b,m,w)}if(s){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",b=v+d[y],w=v-d[x];v=D3(b,v,w)}const g=a.fn({...t,[p]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}};function Tf(e){return y1e(e)?(e.nodeName||"").toLowerCase():"#document"}function Zs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nd(e){var t;return(t=(y1e(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function y1e(e){return e instanceof Node||e instanceof Zs(e).Node}function Pu(e){return e instanceof Element||e instanceof Zs(e).Element}function Tc(e){return e instanceof HTMLElement||e instanceof Zs(e).HTMLElement}function yV(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zs(e).ShadowRoot}function iw(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Na(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function xze(e){return["table","td","th"].includes(Tf(e))}function nL(e){const t=rL(),n=Na(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function wze(e){let t=Iv(e);for(;Tc(t)&&!sj(t);){if(nL(t))return t;t=Iv(t)}return null}function rL(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function sj(e){return["html","body","#document"].includes(Tf(e))}function Na(e){return Zs(e).getComputedStyle(e)}function aj(e){return Pu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Iv(e){if(Tf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||yV(e)&&e.host||nd(e);return yV(t)?t.host:t}function b1e(e){const t=Iv(e);return sj(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tc(t)&&iw(t)?t:b1e(t)}function Eb(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=b1e(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=Zs(o);return i?t.concat(s,s.visualViewport||[],iw(o)?o:[],s.frameElement&&n?Eb(s.frameElement):[]):t.concat(o,Eb(o,[],n))}function x1e(e){const t=Na(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Tc(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=zS(n)!==i||zS(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function oL(e){return Pu(e)?e:e.contextElement}function Yg(e){const t=oL(e);if(!Tc(t))return jf(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=x1e(t);let s=(i?zS(n.width):n.width)/r,a=(i?zS(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Cze=jf(0);function w1e(e){const t=Zs(e);return!rL()||!t.visualViewport?Cze:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _ze(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Zs(e)?!1:t}function Ip(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=oL(e);let s=jf(1);t&&(r?Pu(r)&&(s=Yg(r)):s=Yg(e));const a=_ze(i,n,r)?w1e(i):jf(0);let c=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(i){const p=Zs(i),m=r&&Pu(r)?Zs(r):r;let v=p.frameElement;for(;v&&r&&m!==p;){const g=Yg(v),y=v.getBoundingClientRect(),x=Na(v),b=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,w=y.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=b,u+=w,v=Zs(v).frameElement}}return HS({width:d,height:f,x:c,y:u})}function Sze(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=Tc(n),i=nd(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},a=jf(1);const c=jf(0);if((o||!o&&r!=="fixed")&&((Tf(n)!=="body"||iw(i))&&(s=aj(n)),Tc(n))){const u=Ip(n);a=Yg(n),c.x=u.x+n.clientLeft,c.y=u.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+c.x,y:t.y*a.y-s.scrollTop*a.y+c.y}}function Eze(e){return Array.from(e.getClientRects())}function C1e(e){return Ip(nd(e)).left+aj(e).scrollLeft}function kze(e){const t=nd(e),n=aj(e),r=e.ownerDocument.body,o=dp(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=dp(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+C1e(e);const a=-n.scrollTop;return Na(r).direction==="rtl"&&(s+=dp(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function jze(e,t){const n=Zs(e),r=nd(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;const u=rL();(!u||u&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a,y:c}}function Tze(e,t){const n=Ip(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Tc(e)?Yg(e):jf(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,c=o*i.x,u=r*i.y;return{width:s,height:a,x:c,y:u}}function bV(e,t,n){let r;if(t==="viewport")r=jze(e,n);else if(t==="document")r=kze(nd(e));else if(Pu(t))r=Tze(t,n);else{const o=w1e(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return HS(r)}function _1e(e,t){const n=Iv(e);return n===t||!Pu(n)||sj(n)?!1:Na(n).position==="fixed"||_1e(n,t)}function Aze(e,t){const n=t.get(e);if(n)return n;let r=Eb(e,[],!1).filter(a=>Pu(a)&&Tf(a)!=="body"),o=null;const i=Na(e).position==="fixed";let s=i?Iv(e):e;for(;Pu(s)&&!sj(s);){const a=Na(s),c=nL(s);!c&&a.position==="fixed"&&(o=null),(i?!c&&!o:!c&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||iw(s)&&!c&&_1e(e,s))?r=r.filter(d=>d!==s):o=a,s=Iv(s)}return t.set(e,r),r}function Dze(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Aze(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((u,d)=>{const f=bV(t,d,o);return u.top=dp(f.top,u.top),u.right=Dv(f.right,u.right),u.bottom=Dv(f.bottom,u.bottom),u.left=dp(f.left,u.left),u},bV(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ize(e){return x1e(e)}function Pze(e,t,n){const r=Tc(t),o=nd(t),i=n==="fixed",s=Ip(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=jf(0);if(r||!r&&!i)if((Tf(t)!=="body"||iw(o))&&(a=aj(t)),r){const u=Ip(t,!0,i,t);c.x=u.x+t.clientLeft,c.y=u.y+t.clientTop}else o&&(c.x=C1e(o));return{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function xV(e,t){return!Tc(e)||Na(e).position==="fixed"?null:t?t(e):e.offsetParent}function S1e(e,t){const n=Zs(e);if(!Tc(e))return n;let r=xV(e,t);for(;r&&xze(r)&&Na(r).position==="static";)r=xV(r,t);return r&&(Tf(r)==="html"||Tf(r)==="body"&&Na(r).position==="static"&&!nL(r))?n:r||wze(e)||n}const Oze=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||S1e,i=this.getDimensions;return{reference:Pze(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function Rze(e){return Na(e).direction==="rtl"}const $ze={convertOffsetParentRelativeRectToViewportRelativeRect:Sze,getDocumentElement:nd,getClippingRect:Dze,getOffsetParent:S1e,getElementRects:Oze,getClientRects:Eze,getDimensions:Ize,getScale:Yg,isElement:Pu,isRTL:Rze};function Mze(e,t){let n=null,r;const o=nd(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const m=jC(d),v=jC(o.clientWidth-(u+f)),g=jC(o.clientHeight-(d+p)),y=jC(u),b={rootMargin:-m+"px "+-v+"px "+-g+"px "+-y+"px",threshold:dp(0,Dv(1,c))||1};let w=!0;function C(_){const S=_[0].intersectionRatio;if(S!==c){if(!w)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(C,{...b,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,b)}n.observe(e)}return s(!0),i}function E1e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=oL(e),d=o||i?[...u?Eb(u):[],...Eb(t)]:[];d.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&a?Mze(u,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(x=>{let[b]=x;b&&b.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{m&&m.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let v,g=c?Ip(e):null;c&&y();function y(){const x=Ip(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,v=requestAnimationFrame(y)}return n(),()=>{d.forEach(x=>{o&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f&&f(),m&&m.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const Fze=(e,t,n)=>{const r=new Map,o={platform:$ze,...n},i={...o.platform,_c:r};return vze(e,t,{...o,platform:i})};var k1e={exports:{}},la={},j1e={exports:{}},T1e={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,W){var G=N.length;N.push(W);e:for(;0<G;){var H=G-1>>>1,q=N[H];if(0<o(q,W))N[H]=W,N[G]=q,G=H;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var W=N[0],G=N.pop();if(G!==W){N[0]=G;e:for(var H=0,q=N.length,X=q>>>1;H<X;){var B=2*(H+1)-1,Y=N[B],z=B+1,Z=N[z];if(0>o(Y,G))z<q&&0>o(Z,Y)?(N[H]=Z,N[z]=G,H=z):(N[H]=Y,N[B]=G,H=B);else if(z<q&&0>o(Z,G))N[H]=Z,N[z]=G,H=z;else break e}}return W}function o(N,W){var G=N.sortIndex-W.sortIndex;return G!==0?G:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],u=[],d=1,f=null,p=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=N)r(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=n(u)}}function C(N){if(g=!1,w(N),!v)if(n(c)!==null)v=!0,R(_);else{var W=n(u);W!==null&&V(C,W.startTime-N)}}function _(N,W){v=!1,g&&(g=!1,x(j),j=-1),m=!0;var G=p;try{for(w(W),f=n(c);f!==null&&(!(f.expirationTime>W)||N&&!A());){var H=f.callback;if(typeof H=="function"){f.callback=null,p=f.priorityLevel;var q=H(f.expirationTime<=W);W=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(c)&&r(c),w(W)}else r(c);f=n(c)}if(f!==null)var X=!0;else{var B=n(u);B!==null&&V(C,B.startTime-W),X=!1}return X}finally{f=null,p=G,m=!1}}var S=!1,E=null,j=-1,k=5,T=-1;function A(){return!(e.unstable_now()-T<k)}function D(){if(E!==null){var N=e.unstable_now();T=N;var W=!0;try{W=E(!0,N)}finally{W?I():(S=!1,E=null)}}else S=!1}var I;if(typeof b=="function")I=function(){b(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,$=P.port2;P.port1.onmessage=D,I=function(){$.postMessage(null)}}else I=function(){y(D,0)};function R(N){E=N,S||(S=!0,I())}function V(N,W){j=y(function(){N(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,R(_))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(N){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var G=p;p=W;try{return N()}finally{p=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var G=p;p=N;try{return W()}finally{p=G}},e.unstable_scheduleCallback=function(N,W,G){var H=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?H+G:H):G=H,N){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=G+q,N={id:d++,callback:W,priorityLevel:N,startTime:G,expirationTime:q,sortIndex:-1},G>H?(N.sortIndex=G,t(u,N),n(c)===null&&N===n(u)&&(g?(x(j),j=-1):g=!0,V(C,G-H))):(N.sortIndex=q,t(c,N),v||m||(v=!0,R(_))),N},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(N){var W=p;return function(){var G=p;p=W;try{return N.apply(this,arguments)}finally{p=G}}}})(T1e);j1e.exports=T1e;var Lze=j1e.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1e=h,ea=Lze;function Te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D1e=new Set,kb={};function um(e,t){Pv(e,t),Pv(e+"Capture",t)}function Pv(e,t){for(kb[e]=t,e=0;e<t.length;e++)D1e.add(t[e])}var Ou=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P3=Object.prototype.hasOwnProperty,Bze=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wV={},CV={};function Nze(e){return P3.call(CV,e)?!0:P3.call(wV,e)?!1:Bze.test(e)?CV[e]=!0:(wV[e]=!0,!1)}function zze(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vze(e,t,n,r){if(t===null||typeof t>"u"||zze(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function es(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ni={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ni[e]=new es(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ni[t]=new es(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ni[e]=new es(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ni[e]=new es(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ni[e]=new es(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ni[e]=new es(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ni[e]=new es(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ni[e]=new es(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ni[e]=new es(e,5,!1,e.toLowerCase(),null,!1,!1)});var iL=/[\-:]([a-z])/g;function sL(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(iL,sL);ni[t]=new es(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(iL,sL);ni[t]=new es(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(iL,sL);ni[t]=new es(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ni[e]=new es(e,1,!1,e.toLowerCase(),null,!1,!1)});ni.xlinkHref=new es("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ni[e]=new es(e,1,!1,e.toLowerCase(),null,!0,!0)});function aL(e,t,n,r){var o=ni.hasOwnProperty(t)?ni[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vze(t,n,o,r)&&(n=null),r||o===null?Nze(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var rd=A1e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,TC=Symbol.for("react.element"),wg=Symbol.for("react.portal"),Cg=Symbol.for("react.fragment"),lL=Symbol.for("react.strict_mode"),O3=Symbol.for("react.profiler"),I1e=Symbol.for("react.provider"),P1e=Symbol.for("react.context"),cL=Symbol.for("react.forward_ref"),R3=Symbol.for("react.suspense"),$3=Symbol.for("react.suspense_list"),uL=Symbol.for("react.memo"),jd=Symbol.for("react.lazy"),O1e=Symbol.for("react.offscreen"),_V=Symbol.iterator;function b1(e){return e===null||typeof e!="object"?null:(e=_V&&e[_V]||e["@@iterator"],typeof e=="function"?e:null)}var $r=Object.assign,_D;function dy(e){if(_D===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_D=t&&t[1]||""}return`
`+_D+e}var SD=!1;function ED(e,t){if(!e||SD)return"";SD=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{SD=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?dy(e):""}function Hze(e){switch(e.tag){case 5:return dy(e.type);case 16:return dy("Lazy");case 13:return dy("Suspense");case 19:return dy("SuspenseList");case 0:case 2:case 15:return e=ED(e.type,!1),e;case 11:return e=ED(e.type.render,!1),e;case 1:return e=ED(e.type,!0),e;default:return""}}function M3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cg:return"Fragment";case wg:return"Portal";case O3:return"Profiler";case lL:return"StrictMode";case R3:return"Suspense";case $3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case P1e:return(e.displayName||"Context")+".Consumer";case I1e:return(e._context.displayName||"Context")+".Provider";case cL:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uL:return t=e.displayName||null,t!==null?t:M3(e.type)||"Memo";case jd:t=e._payload,e=e._init;try{return M3(e(t))}catch{}}return null}function Uze(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M3(t);case 8:return t===lL?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Af(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function R1e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wze(e){var t=R1e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function AC(e){e._valueTracker||(e._valueTracker=Wze(e))}function $1e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=R1e(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function US(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function F3(e,t){var n=t.checked;return $r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function SV(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Af(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function M1e(e,t){t=t.checked,t!=null&&aL(e,"checked",t,!1)}function L3(e,t){M1e(e,t);var n=Af(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?B3(e,t.type,n):t.hasOwnProperty("defaultValue")&&B3(e,t.type,Af(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function EV(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function B3(e,t,n){(t!=="number"||US(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fy=Array.isArray;function qg(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Af(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function N3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Te(91));return $r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kV(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Te(92));if(fy(n)){if(1<n.length)throw Error(Te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Af(n)}}function F1e(e,t){var n=Af(t.value),r=Af(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function jV(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function L1e(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function z3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?L1e(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var DC,B1e=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(DC=DC||document.createElement("div"),DC.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=DC.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jb(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var My={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yze=["Webkit","ms","Moz","O"];Object.keys(My).forEach(function(e){Yze.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),My[t]=My[e]})});function N1e(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||My.hasOwnProperty(e)&&My[e]?(""+t).trim():t+"px"}function z1e(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=N1e(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var qze=$r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function V3(e,t){if(t){if(qze[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Te(62))}}function H3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U3=null;function dL(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var W3=null,Gg=null,Kg=null;function TV(e){if(e=lw(e)){if(typeof W3!="function")throw Error(Te(280));var t=e.stateNode;t&&(t=fj(t),W3(e.stateNode,e.type,t))}}function V1e(e){Gg?Kg?Kg.push(e):Kg=[e]:Gg=e}function H1e(){if(Gg){var e=Gg,t=Kg;if(Kg=Gg=null,TV(e),t)for(e=0;e<t.length;e++)TV(t[e])}}function U1e(e,t){return e(t)}function W1e(){}var kD=!1;function Y1e(e,t,n){if(kD)return e(t,n);kD=!0;try{return U1e(e,t,n)}finally{kD=!1,(Gg!==null||Kg!==null)&&(W1e(),H1e())}}function Tb(e,t){var n=e.stateNode;if(n===null)return null;var r=fj(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Te(231,t,typeof n));return n}var Y3=!1;if(Ou)try{var x1={};Object.defineProperty(x1,"passive",{get:function(){Y3=!0}}),window.addEventListener("test",x1,x1),window.removeEventListener("test",x1,x1)}catch{Y3=!1}function Gze(e,t,n,r,o,i,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Fy=!1,WS=null,YS=!1,q3=null,Kze={onError:function(e){Fy=!0,WS=e}};function Zze(e,t,n,r,o,i,s,a,c){Fy=!1,WS=null,Gze.apply(Kze,arguments)}function Xze(e,t,n,r,o,i,s,a,c){if(Zze.apply(this,arguments),Fy){if(Fy){var u=WS;Fy=!1,WS=null}else throw Error(Te(198));YS||(YS=!0,q3=u)}}function dm(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function q1e(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function AV(e){if(dm(e)!==e)throw Error(Te(188))}function Qze(e){var t=e.alternate;if(!t){if(t=dm(e),t===null)throw Error(Te(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return AV(o),e;if(i===r)return AV(o),t;i=i.sibling}throw Error(Te(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(Te(189))}}if(n.alternate!==r)throw Error(Te(190))}if(n.tag!==3)throw Error(Te(188));return n.stateNode.current===n?e:t}function G1e(e){return e=Qze(e),e!==null?K1e(e):null}function K1e(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=K1e(e);if(t!==null)return t;e=e.sibling}return null}var Z1e=ea.unstable_scheduleCallback,DV=ea.unstable_cancelCallback,Jze=ea.unstable_shouldYield,eVe=ea.unstable_requestPaint,Kr=ea.unstable_now,tVe=ea.unstable_getCurrentPriorityLevel,fL=ea.unstable_ImmediatePriority,X1e=ea.unstable_UserBlockingPriority,qS=ea.unstable_NormalPriority,nVe=ea.unstable_LowPriority,Q1e=ea.unstable_IdlePriority,lj=null,wc=null;function rVe(e){if(wc&&typeof wc.onCommitFiberRoot=="function")try{wc.onCommitFiberRoot(lj,e,void 0,(e.current.flags&128)===128)}catch{}}var _l=Math.clz32?Math.clz32:sVe,oVe=Math.log,iVe=Math.LN2;function sVe(e){return e>>>=0,e===0?32:31-(oVe(e)/iVe|0)|0}var IC=64,PC=4194304;function hy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function GS(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=hy(a):(i&=s,i!==0&&(r=hy(i)))}else s=n&~o,s!==0?r=hy(s):i!==0&&(r=hy(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_l(t),o=1<<n,r|=e[n],t&=~o;return r}function aVe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lVe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-_l(i),a=1<<s,c=o[s];c===-1?(!(a&n)||a&r)&&(o[s]=aVe(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function G3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function J1e(){var e=IC;return IC<<=1,!(IC&4194240)&&(IC=64),e}function jD(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function sw(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_l(t),e[t]=n}function cVe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-_l(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function hL(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_l(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var wn=0;function eye(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tye,pL,nye,rye,oye,K3=!1,OC=[],sf=null,af=null,lf=null,Ab=new Map,Db=new Map,Md=[],uVe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IV(e,t){switch(e){case"focusin":case"focusout":sf=null;break;case"dragenter":case"dragleave":af=null;break;case"mouseover":case"mouseout":lf=null;break;case"pointerover":case"pointerout":Ab.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Db.delete(t.pointerId)}}function w1(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=lw(t),t!==null&&pL(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function dVe(e,t,n,r,o){switch(t){case"focusin":return sf=w1(sf,e,t,n,r,o),!0;case"dragenter":return af=w1(af,e,t,n,r,o),!0;case"mouseover":return lf=w1(lf,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ab.set(i,w1(Ab.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Db.set(i,w1(Db.get(i)||null,e,t,n,r,o)),!0}return!1}function iye(e){var t=Zh(e.target);if(t!==null){var n=dm(t);if(n!==null){if(t=n.tag,t===13){if(t=q1e(n),t!==null){e.blockedOn=t,oye(e.priority,function(){nye(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function w2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Z3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);U3=r,n.target.dispatchEvent(r),U3=null}else return t=lw(n),t!==null&&pL(t),e.blockedOn=n,!1;t.shift()}return!0}function PV(e,t,n){w2(e)&&n.delete(t)}function fVe(){K3=!1,sf!==null&&w2(sf)&&(sf=null),af!==null&&w2(af)&&(af=null),lf!==null&&w2(lf)&&(lf=null),Ab.forEach(PV),Db.forEach(PV)}function C1(e,t){e.blockedOn===t&&(e.blockedOn=null,K3||(K3=!0,ea.unstable_scheduleCallback(ea.unstable_NormalPriority,fVe)))}function Ib(e){function t(o){return C1(o,e)}if(0<OC.length){C1(OC[0],e);for(var n=1;n<OC.length;n++){var r=OC[n];r.blockedOn===e&&(r.blockedOn=null)}}for(sf!==null&&C1(sf,e),af!==null&&C1(af,e),lf!==null&&C1(lf,e),Ab.forEach(t),Db.forEach(t),n=0;n<Md.length;n++)r=Md[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Md.length&&(n=Md[0],n.blockedOn===null);)iye(n),n.blockedOn===null&&Md.shift()}var Zg=rd.ReactCurrentBatchConfig,KS=!0;function hVe(e,t,n,r){var o=wn,i=Zg.transition;Zg.transition=null;try{wn=1,mL(e,t,n,r)}finally{wn=o,Zg.transition=i}}function pVe(e,t,n,r){var o=wn,i=Zg.transition;Zg.transition=null;try{wn=4,mL(e,t,n,r)}finally{wn=o,Zg.transition=i}}function mL(e,t,n,r){if(KS){var o=Z3(e,t,n,r);if(o===null)FD(e,t,r,ZS,n),IV(e,r);else if(dVe(o,e,t,n,r))r.stopPropagation();else if(IV(e,r),t&4&&-1<uVe.indexOf(e)){for(;o!==null;){var i=lw(o);if(i!==null&&tye(i),i=Z3(e,t,n,r),i===null&&FD(e,t,r,ZS,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else FD(e,t,r,null,n)}}var ZS=null;function Z3(e,t,n,r){if(ZS=null,e=dL(r),e=Zh(e),e!==null)if(t=dm(e),t===null)e=null;else if(n=t.tag,n===13){if(e=q1e(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ZS=e,null}function sye(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tVe()){case fL:return 1;case X1e:return 4;case qS:case nVe:return 16;case Q1e:return 536870912;default:return 16}default:return 16}}var zd=null,gL=null,C2=null;function aye(){if(C2)return C2;var e,t=gL,n=t.length,r,o="value"in zd?zd.value:zd.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return C2=o.slice(e,1<r?1-r:void 0)}function _2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function RC(){return!0}function OV(){return!1}function ca(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?RC:OV,this.isPropagationStopped=OV,this}return $r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=RC)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=RC)},persist:function(){},isPersistent:RC}),t}var g0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vL=ca(g0),aw=$r({},g0,{view:0,detail:0}),mVe=ca(aw),TD,AD,_1,cj=$r({},aw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yL,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_1&&(_1&&e.type==="mousemove"?(TD=e.screenX-_1.screenX,AD=e.screenY-_1.screenY):AD=TD=0,_1=e),TD)},movementY:function(e){return"movementY"in e?e.movementY:AD}}),RV=ca(cj),gVe=$r({},cj,{dataTransfer:0}),vVe=ca(gVe),yVe=$r({},aw,{relatedTarget:0}),DD=ca(yVe),bVe=$r({},g0,{animationName:0,elapsedTime:0,pseudoElement:0}),xVe=ca(bVe),wVe=$r({},g0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CVe=ca(wVe),_Ve=$r({},g0,{data:0}),$V=ca(_Ve),SVe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EVe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kVe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jVe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kVe[e])?!!t[e]:!1}function yL(){return jVe}var TVe=$r({},aw,{key:function(e){if(e.key){var t=SVe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EVe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yL,charCode:function(e){return e.type==="keypress"?_2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AVe=ca(TVe),DVe=$r({},cj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MV=ca(DVe),IVe=$r({},aw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yL}),PVe=ca(IVe),OVe=$r({},g0,{propertyName:0,elapsedTime:0,pseudoElement:0}),RVe=ca(OVe),$Ve=$r({},cj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),MVe=ca($Ve),FVe=[9,13,27,32],bL=Ou&&"CompositionEvent"in window,Ly=null;Ou&&"documentMode"in document&&(Ly=document.documentMode);var LVe=Ou&&"TextEvent"in window&&!Ly,lye=Ou&&(!bL||Ly&&8<Ly&&11>=Ly),FV=String.fromCharCode(32),LV=!1;function cye(e,t){switch(e){case"keyup":return FVe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uye(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _g=!1;function BVe(e,t){switch(e){case"compositionend":return uye(t);case"keypress":return t.which!==32?null:(LV=!0,FV);case"textInput":return e=t.data,e===FV&&LV?null:e;default:return null}}function NVe(e,t){if(_g)return e==="compositionend"||!bL&&cye(e,t)?(e=aye(),C2=gL=zd=null,_g=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lye&&t.locale!=="ko"?null:t.data;default:return null}}var zVe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BV(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zVe[e.type]:t==="textarea"}function dye(e,t,n,r){V1e(r),t=XS(t,"onChange"),0<t.length&&(n=new vL("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var By=null,Pb=null;function VVe(e){Cye(e,0)}function uj(e){var t=kg(e);if($1e(t))return e}function HVe(e,t){if(e==="change")return t}var fye=!1;if(Ou){var ID;if(Ou){var PD="oninput"in document;if(!PD){var NV=document.createElement("div");NV.setAttribute("oninput","return;"),PD=typeof NV.oninput=="function"}ID=PD}else ID=!1;fye=ID&&(!document.documentMode||9<document.documentMode)}function zV(){By&&(By.detachEvent("onpropertychange",hye),Pb=By=null)}function hye(e){if(e.propertyName==="value"&&uj(Pb)){var t=[];dye(t,Pb,e,dL(e)),Y1e(VVe,t)}}function UVe(e,t,n){e==="focusin"?(zV(),By=t,Pb=n,By.attachEvent("onpropertychange",hye)):e==="focusout"&&zV()}function WVe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uj(Pb)}function YVe(e,t){if(e==="click")return uj(t)}function qVe(e,t){if(e==="input"||e==="change")return uj(t)}function GVe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Al=typeof Object.is=="function"?Object.is:GVe;function Ob(e,t){if(Al(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!P3.call(t,o)||!Al(e[o],t[o]))return!1}return!0}function VV(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function HV(e,t){var n=VV(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=VV(n)}}function pye(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pye(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mye(){for(var e=window,t=US();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=US(e.document)}return t}function xL(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function KVe(e){var t=mye(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pye(n.ownerDocument.documentElement,n)){if(r!==null&&xL(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=HV(n,i);var s=HV(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZVe=Ou&&"documentMode"in document&&11>=document.documentMode,Sg=null,X3=null,Ny=null,Q3=!1;function UV(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Q3||Sg==null||Sg!==US(r)||(r=Sg,"selectionStart"in r&&xL(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ny&&Ob(Ny,r)||(Ny=r,r=XS(X3,"onSelect"),0<r.length&&(t=new vL("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sg)))}function $C(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Eg={animationend:$C("Animation","AnimationEnd"),animationiteration:$C("Animation","AnimationIteration"),animationstart:$C("Animation","AnimationStart"),transitionend:$C("Transition","TransitionEnd")},OD={},gye={};Ou&&(gye=document.createElement("div").style,"AnimationEvent"in window||(delete Eg.animationend.animation,delete Eg.animationiteration.animation,delete Eg.animationstart.animation),"TransitionEvent"in window||delete Eg.transitionend.transition);function dj(e){if(OD[e])return OD[e];if(!Eg[e])return e;var t=Eg[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gye)return OD[e]=t[n];return e}var vye=dj("animationend"),yye=dj("animationiteration"),bye=dj("animationstart"),xye=dj("transitionend"),wye=new Map,WV="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yf(e,t){wye.set(e,t),um(t,[e])}for(var RD=0;RD<WV.length;RD++){var $D=WV[RD],XVe=$D.toLowerCase(),QVe=$D[0].toUpperCase()+$D.slice(1);Yf(XVe,"on"+QVe)}Yf(vye,"onAnimationEnd");Yf(yye,"onAnimationIteration");Yf(bye,"onAnimationStart");Yf("dblclick","onDoubleClick");Yf("focusin","onFocus");Yf("focusout","onBlur");Yf(xye,"onTransitionEnd");Pv("onMouseEnter",["mouseout","mouseover"]);Pv("onMouseLeave",["mouseout","mouseover"]);Pv("onPointerEnter",["pointerout","pointerover"]);Pv("onPointerLeave",["pointerout","pointerover"]);um("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));um("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));um("onBeforeInput",["compositionend","keypress","textInput","paste"]);um("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));um("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));um("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var py="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JVe=new Set("cancel close invalid load scroll toggle".split(" ").concat(py));function YV(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Xze(r,t,void 0,e),e.currentTarget=null}function Cye(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;YV(o,a,u),i=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;YV(o,a,u),i=c}}}if(YS)throw e=q3,YS=!1,q3=null,e}function nr(e,t){var n=t[rR];n===void 0&&(n=t[rR]=new Set);var r=e+"__bubble";n.has(r)||(_ye(t,e,2,!1),n.add(r))}function MD(e,t,n){var r=0;t&&(r|=4),_ye(n,e,r,t)}var MC="_reactListening"+Math.random().toString(36).slice(2);function Rb(e){if(!e[MC]){e[MC]=!0,D1e.forEach(function(n){n!=="selectionchange"&&(JVe.has(n)||MD(n,!1,e),MD(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[MC]||(t[MC]=!0,MD("selectionchange",!1,t))}}function _ye(e,t,n,r){switch(sye(t)){case 1:var o=hVe;break;case 4:o=pVe;break;default:o=mL}n=o.bind(null,t,n,e),o=void 0,!Y3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function FD(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Zh(a),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}a=a.parentNode}}r=r.return}Y1e(function(){var u=i,d=dL(n),f=[];e:{var p=wye.get(e);if(p!==void 0){var m=vL,v=e;switch(e){case"keypress":if(_2(n)===0)break e;case"keydown":case"keyup":m=AVe;break;case"focusin":v="focus",m=DD;break;case"focusout":v="blur",m=DD;break;case"beforeblur":case"afterblur":m=DD;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=RV;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vVe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=PVe;break;case vye:case yye:case bye:m=xVe;break;case xye:m=RVe;break;case"scroll":m=mVe;break;case"wheel":m=MVe;break;case"copy":case"cut":case"paste":m=CVe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=MV}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var b=u,w;b!==null;){w=b;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,x!==null&&(C=Tb(b,x),C!=null&&g.push($b(b,C,w)))),y)break;b=b.return}0<g.length&&(p=new m(p,v,null,n,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==U3&&(v=n.relatedTarget||n.fromElement)&&(Zh(v)||v[Ru]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Zh(v):null,v!==null&&(y=dm(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=RV,C="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=MV,C="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?p:kg(m),w=v==null?p:kg(v),p=new g(C,b+"leave",m,n,d),p.target=y,p.relatedTarget=w,C=null,Zh(d)===u&&(g=new g(x,b+"enter",v,n,d),g.target=w,g.relatedTarget=y,C=g),y=C,m&&v)t:{for(g=m,x=v,b=0,w=g;w;w=Vm(w))b++;for(w=0,C=x;C;C=Vm(C))w++;for(;0<b-w;)g=Vm(g),b--;for(;0<w-b;)x=Vm(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=Vm(g),x=Vm(x)}g=null}else g=null;m!==null&&qV(f,p,m,g,!1),v!==null&&y!==null&&qV(f,y,v,g,!0)}}e:{if(p=u?kg(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=HVe;else if(BV(p))if(fye)_=qVe;else{_=WVe;var S=UVe}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=YVe);if(_&&(_=_(e,u))){dye(f,_,n,d);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&B3(p,"number",p.value)}switch(S=u?kg(u):window,e){case"focusin":(BV(S)||S.contentEditable==="true")&&(Sg=S,X3=u,Ny=null);break;case"focusout":Ny=X3=Sg=null;break;case"mousedown":Q3=!0;break;case"contextmenu":case"mouseup":case"dragend":Q3=!1,UV(f,n,d);break;case"selectionchange":if(ZVe)break;case"keydown":case"keyup":UV(f,n,d)}var E;if(bL)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else _g?cye(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(lye&&n.locale!=="ko"&&(_g||j!=="onCompositionStart"?j==="onCompositionEnd"&&_g&&(E=aye()):(zd=d,gL="value"in zd?zd.value:zd.textContent,_g=!0)),S=XS(u,j),0<S.length&&(j=new $V(j,e,null,n,d),f.push({event:j,listeners:S}),E?j.data=E:(E=uye(n),E!==null&&(j.data=E)))),(E=LVe?BVe(e,n):NVe(e,n))&&(u=XS(u,"onBeforeInput"),0<u.length&&(d=new $V("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}Cye(f,t)})}function $b(e,t,n){return{instance:e,listener:t,currentTarget:n}}function XS(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Tb(e,n),i!=null&&r.unshift($b(e,i,o)),i=Tb(e,t),i!=null&&r.push($b(e,i,o))),e=e.return}return r}function Vm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qV(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,o?(c=Tb(n,i),c!=null&&s.unshift($b(n,c,a))):o||(c=Tb(n,i),c!=null&&s.push($b(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var eHe=/\r\n?/g,tHe=/\u0000|\uFFFD/g;function GV(e){return(typeof e=="string"?e:""+e).replace(eHe,`
`).replace(tHe,"")}function FC(e,t,n){if(t=GV(t),GV(e)!==t&&n)throw Error(Te(425))}function QS(){}var J3=null,eR=null;function tR(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nR=typeof setTimeout=="function"?setTimeout:void 0,nHe=typeof clearTimeout=="function"?clearTimeout:void 0,KV=typeof Promise=="function"?Promise:void 0,rHe=typeof queueMicrotask=="function"?queueMicrotask:typeof KV<"u"?function(e){return KV.resolve(null).then(e).catch(oHe)}:nR;function oHe(e){setTimeout(function(){throw e})}function LD(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ib(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ib(t)}function cf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ZV(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var v0=Math.random().toString(36).slice(2),fc="__reactFiber$"+v0,Mb="__reactProps$"+v0,Ru="__reactContainer$"+v0,rR="__reactEvents$"+v0,iHe="__reactListeners$"+v0,sHe="__reactHandles$"+v0;function Zh(e){var t=e[fc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ru]||n[fc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ZV(e);e!==null;){if(n=e[fc])return n;e=ZV(e)}return t}e=n,n=e.parentNode}return null}function lw(e){return e=e[fc]||e[Ru],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Te(33))}function fj(e){return e[Mb]||null}var oR=[],jg=-1;function qf(e){return{current:e}}function sr(e){0>jg||(e.current=oR[jg],oR[jg]=null,jg--)}function Yn(e,t){jg++,oR[jg]=e.current,e.current=t}var Df={},Ai=qf(Df),_s=qf(!1),Pp=Df;function Ov(e,t){var n=e.type.contextTypes;if(!n)return Df;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ss(e){return e=e.childContextTypes,e!=null}function JS(){sr(_s),sr(Ai)}function XV(e,t,n){if(Ai.current!==Df)throw Error(Te(168));Yn(Ai,t),Yn(_s,n)}function Sye(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Te(108,Uze(e)||"Unknown",o));return $r({},n,r)}function eE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Df,Pp=Ai.current,Yn(Ai,e),Yn(_s,_s.current),!0}function QV(e,t,n){var r=e.stateNode;if(!r)throw Error(Te(169));n?(e=Sye(e,t,Pp),r.__reactInternalMemoizedMergedChildContext=e,sr(_s),sr(Ai),Yn(Ai,e)):sr(_s),Yn(_s,n)}var cu=null,hj=!1,BD=!1;function Eye(e){cu===null?cu=[e]:cu.push(e)}function aHe(e){hj=!0,Eye(e)}function Gf(){if(!BD&&cu!==null){BD=!0;var e=0,t=wn;try{var n=cu;for(wn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}cu=null,hj=!1}catch(o){throw cu!==null&&(cu=cu.slice(e+1)),Z1e(fL,Gf),o}finally{wn=t,BD=!1}}return null}var Tg=[],Ag=0,tE=null,nE=0,Ea=[],ka=0,Op=null,hu=1,pu="";function kh(e,t){Tg[Ag++]=nE,Tg[Ag++]=tE,tE=e,nE=t}function kye(e,t,n){Ea[ka++]=hu,Ea[ka++]=pu,Ea[ka++]=Op,Op=e;var r=hu;e=pu;var o=32-_l(r)-1;r&=~(1<<o),n+=1;var i=32-_l(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,hu=1<<32-_l(t)+o|n<<o|r,pu=i+e}else hu=1<<i|n<<o|r,pu=e}function wL(e){e.return!==null&&(kh(e,1),kye(e,1,0))}function CL(e){for(;e===tE;)tE=Tg[--Ag],Tg[Ag]=null,nE=Tg[--Ag],Tg[Ag]=null;for(;e===Op;)Op=Ea[--ka],Ea[ka]=null,pu=Ea[--ka],Ea[ka]=null,hu=Ea[--ka],Ea[ka]=null}var Xs=null,qs=null,wr=!1,dl=null;function jye(e,t){var n=Pa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function JV(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xs=e,qs=cf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xs=e,qs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Op!==null?{id:hu,overflow:pu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Pa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xs=e,qs=null,!0):!1;default:return!1}}function iR(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sR(e){if(wr){var t=qs;if(t){var n=t;if(!JV(e,t)){if(iR(e))throw Error(Te(418));t=cf(n.nextSibling);var r=Xs;t&&JV(e,t)?jye(r,n):(e.flags=e.flags&-4097|2,wr=!1,Xs=e)}}else{if(iR(e))throw Error(Te(418));e.flags=e.flags&-4097|2,wr=!1,Xs=e}}}function eH(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xs=e}function LC(e){if(e!==Xs)return!1;if(!wr)return eH(e),wr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tR(e.type,e.memoizedProps)),t&&(t=qs)){if(iR(e))throw Tye(),Error(Te(418));for(;t;)jye(e,t),t=cf(t.nextSibling)}if(eH(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qs=cf(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qs=null}}else qs=Xs?cf(e.stateNode.nextSibling):null;return!0}function Tye(){for(var e=qs;e;)e=cf(e.nextSibling)}function Rv(){qs=Xs=null,wr=!1}function _L(e){dl===null?dl=[e]:dl.push(e)}var lHe=rd.ReactCurrentBatchConfig;function cl(e,t){if(e&&e.defaultProps){t=$r({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var rE=qf(null),oE=null,Dg=null,SL=null;function EL(){SL=Dg=oE=null}function kL(e){var t=rE.current;sr(rE),e._currentValue=t}function aR(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xg(e,t){oE=e,SL=Dg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bs=!0),e.firstContext=null)}function za(e){var t=e._currentValue;if(SL!==e)if(e={context:e,memoizedValue:t,next:null},Dg===null){if(oE===null)throw Error(Te(308));Dg=e,oE.dependencies={lanes:0,firstContext:e}}else Dg=Dg.next=e;return t}var Xh=null;function jL(e){Xh===null?Xh=[e]:Xh.push(e)}function Aye(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,jL(t)):(n.next=o.next,o.next=n),t.interleaved=n,$u(e,r)}function $u(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Td=!1;function TL(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dye(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uf(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,rn&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,$u(e,n)}return o=r.interleaved,o===null?(t.next=t,jL(r)):(t.next=o.next,o.next=t),r.interleaved=t,$u(e,n)}function S2(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hL(e,n)}}function tH(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function iE(e,t,n,r){var o=e.updateQueue;Td=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=o.baseState;s=0,d=u=c=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(p=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=$r({},f,p);break e;case 2:Td=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(1);if(d===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);$p|=s,e.lanes=s,e.memoizedState=f}}function nH(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Te(191,o));o.call(r)}}}var Iye=new A1e.Component().refs;function lR(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$r({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var pj={isMounted:function(e){return(e=e._reactInternals)?dm(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ki(),o=ff(e),i=wu(r,o);i.payload=t,n!=null&&(i.callback=n),t=uf(e,i,o),t!==null&&(Sl(t,e,o,r),S2(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ki(),o=ff(e),i=wu(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=uf(e,i,o),t!==null&&(Sl(t,e,o,r),S2(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ki(),r=ff(e),o=wu(n,r);o.tag=2,t!=null&&(o.callback=t),t=uf(e,o,r),t!==null&&(Sl(t,e,r,n),S2(t,e,r))}};function rH(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Ob(n,r)||!Ob(o,i):!0}function Pye(e,t,n){var r=!1,o=Df,i=t.contextType;return typeof i=="object"&&i!==null?i=za(i):(o=Ss(t)?Pp:Ai.current,r=t.contextTypes,i=(r=r!=null)?Ov(e,o):Df),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pj,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function oH(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pj.enqueueReplaceState(t,t.state,null)}function cR(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Iye,TL(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=za(i):(i=Ss(t)?Pp:Ai.current,o.context=Ov(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(lR(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&pj.enqueueReplaceState(o,o.state,null),iE(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function S1(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Te(309));var r=n.stateNode}if(!r)throw Error(Te(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;a===Iye&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Te(284));if(!n._owner)throw Error(Te(290,e))}return e}function BC(e,t){throw e=Object.prototype.toString.call(t),Error(Te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iH(e){var t=e._init;return t(e._payload)}function Oye(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function o(x,b){return x=hf(x,b),x.index=0,x.sibling=null,x}function i(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,b,w,C){return b===null||b.tag!==6?(b=YD(w,x.mode,C),b.return=x,b):(b=o(b,w),b.return=x,b)}function c(x,b,w,C){var _=w.type;return _===Cg?d(x,b,w.props.children,C,w.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===jd&&iH(_)===b.type)?(C=o(b,w.props),C.ref=S1(x,b,w),C.return=x,C):(C=D2(w.type,w.key,w.props,null,x.mode,C),C.ref=S1(x,b,w),C.return=x,C)}function u(x,b,w,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=qD(w,x.mode,C),b.return=x,b):(b=o(b,w.children||[]),b.return=x,b)}function d(x,b,w,C,_){return b===null||b.tag!==7?(b=hp(w,x.mode,C,_),b.return=x,b):(b=o(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=YD(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case TC:return w=D2(b.type,b.key,b.props,null,x.mode,w),w.ref=S1(x,null,b),w.return=x,w;case wg:return b=qD(b,x.mode,w),b.return=x,b;case jd:var C=b._init;return f(x,C(b._payload),w)}if(fy(b)||b1(b))return b=hp(b,x.mode,w,null),b.return=x,b;BC(x,b)}return null}function p(x,b,w,C){var _=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(x,b,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case TC:return w.key===_?c(x,b,w,C):null;case wg:return w.key===_?u(x,b,w,C):null;case jd:return _=w._init,p(x,b,_(w._payload),C)}if(fy(w)||b1(w))return _!==null?null:d(x,b,w,C,null);BC(x,w)}return null}function m(x,b,w,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(w)||null,a(b,x,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case TC:return x=x.get(C.key===null?w:C.key)||null,c(b,x,C,_);case wg:return x=x.get(C.key===null?w:C.key)||null,u(b,x,C,_);case jd:var S=C._init;return m(x,b,w,S(C._payload),_)}if(fy(C)||b1(C))return x=x.get(w)||null,d(b,x,C,_,null);BC(b,C)}return null}function v(x,b,w,C){for(var _=null,S=null,E=b,j=b=0,k=null;E!==null&&j<w.length;j++){E.index>j?(k=E,E=null):k=E.sibling;var T=p(x,E,w[j],C);if(T===null){E===null&&(E=k);break}e&&E&&T.alternate===null&&t(x,E),b=i(T,b,j),S===null?_=T:S.sibling=T,S=T,E=k}if(j===w.length)return n(x,E),wr&&kh(x,j),_;if(E===null){for(;j<w.length;j++)E=f(x,w[j],C),E!==null&&(b=i(E,b,j),S===null?_=E:S.sibling=E,S=E);return wr&&kh(x,j),_}for(E=r(x,E);j<w.length;j++)k=m(E,x,j,w[j],C),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?j:k.key),b=i(k,b,j),S===null?_=k:S.sibling=k,S=k);return e&&E.forEach(function(A){return t(x,A)}),wr&&kh(x,j),_}function g(x,b,w,C){var _=b1(w);if(typeof _!="function")throw Error(Te(150));if(w=_.call(w),w==null)throw Error(Te(151));for(var S=_=null,E=b,j=b=0,k=null,T=w.next();E!==null&&!T.done;j++,T=w.next()){E.index>j?(k=E,E=null):k=E.sibling;var A=p(x,E,T.value,C);if(A===null){E===null&&(E=k);break}e&&E&&A.alternate===null&&t(x,E),b=i(A,b,j),S===null?_=A:S.sibling=A,S=A,E=k}if(T.done)return n(x,E),wr&&kh(x,j),_;if(E===null){for(;!T.done;j++,T=w.next())T=f(x,T.value,C),T!==null&&(b=i(T,b,j),S===null?_=T:S.sibling=T,S=T);return wr&&kh(x,j),_}for(E=r(x,E);!T.done;j++,T=w.next())T=m(E,x,j,T.value,C),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?j:T.key),b=i(T,b,j),S===null?_=T:S.sibling=T,S=T);return e&&E.forEach(function(D){return t(x,D)}),wr&&kh(x,j),_}function y(x,b,w,C){if(typeof w=="object"&&w!==null&&w.type===Cg&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case TC:e:{for(var _=w.key,S=b;S!==null;){if(S.key===_){if(_=w.type,_===Cg){if(S.tag===7){n(x,S.sibling),b=o(S,w.props.children),b.return=x,x=b;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===jd&&iH(_)===S.type){n(x,S.sibling),b=o(S,w.props),b.ref=S1(x,S,w),b.return=x,x=b;break e}n(x,S);break}else t(x,S);S=S.sibling}w.type===Cg?(b=hp(w.props.children,x.mode,C,w.key),b.return=x,x=b):(C=D2(w.type,w.key,w.props,null,x.mode,C),C.ref=S1(x,b,w),C.return=x,x=C)}return s(x);case wg:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=o(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=qD(w,x.mode,C),b.return=x,x=b}return s(x);case jd:return S=w._init,y(x,b,S(w._payload),C)}if(fy(w))return v(x,b,w,C);if(b1(w))return g(x,b,w,C);BC(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=o(b,w),b.return=x,x=b):(n(x,b),b=YD(w,x.mode,C),b.return=x,x=b),s(x)):n(x,b)}return y}var $v=Oye(!0),Rye=Oye(!1),cw={},Cc=qf(cw),Fb=qf(cw),Lb=qf(cw);function Qh(e){if(e===cw)throw Error(Te(174));return e}function AL(e,t){switch(Yn(Lb,t),Yn(Fb,e),Yn(Cc,cw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:z3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=z3(t,e)}sr(Cc),Yn(Cc,t)}function Mv(){sr(Cc),sr(Fb),sr(Lb)}function $ye(e){Qh(Lb.current);var t=Qh(Cc.current),n=z3(t,e.type);t!==n&&(Yn(Fb,e),Yn(Cc,n))}function DL(e){Fb.current===e&&(sr(Cc),sr(Fb))}var Ar=qf(0);function sE(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ND=[];function IL(){for(var e=0;e<ND.length;e++)ND[e]._workInProgressVersionPrimary=null;ND.length=0}var E2=rd.ReactCurrentDispatcher,zD=rd.ReactCurrentBatchConfig,Rp=0,Or=null,wo=null,Oo=null,aE=!1,zy=!1,Bb=0,cHe=0;function fi(){throw Error(Te(321))}function PL(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Al(e[n],t[n]))return!1;return!0}function OL(e,t,n,r,o,i){if(Rp=i,Or=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E2.current=e===null||e.memoizedState===null?hHe:pHe,e=n(r,o),zy){i=0;do{if(zy=!1,Bb=0,25<=i)throw Error(Te(301));i+=1,Oo=wo=null,t.updateQueue=null,E2.current=mHe,e=n(r,o)}while(zy)}if(E2.current=lE,t=wo!==null&&wo.next!==null,Rp=0,Oo=wo=Or=null,aE=!1,t)throw Error(Te(300));return e}function RL(){var e=Bb!==0;return Bb=0,e}function oc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oo===null?Or.memoizedState=Oo=e:Oo=Oo.next=e,Oo}function Va(){if(wo===null){var e=Or.alternate;e=e!==null?e.memoizedState:null}else e=wo.next;var t=Oo===null?Or.memoizedState:Oo.next;if(t!==null)Oo=t,wo=e;else{if(e===null)throw Error(Te(310));wo=e,e={memoizedState:wo.memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},Oo===null?Or.memoizedState=Oo=e:Oo=Oo.next=e}return Oo}function Nb(e,t){return typeof t=="function"?t(e):t}function VD(e){var t=Va(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=wo,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,c=null,u=i;do{var d=u.lane;if((Rp&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,s=r):c=c.next=f,Or.lanes|=d,$p|=d}u=u.next}while(u!==null&&u!==i);c===null?s=r:c.next=a,Al(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Or.lanes|=i,$p|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function HD(e){var t=Va(),n=t.queue;if(n===null)throw Error(Te(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Al(i,t.memoizedState)||(bs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Mye(){}function Fye(e,t){var n=Or,r=Va(),o=t(),i=!Al(r.memoizedState,o);if(i&&(r.memoizedState=o,bs=!0),r=r.queue,$L(Nye.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Oo!==null&&Oo.memoizedState.tag&1){if(n.flags|=2048,zb(9,Bye.bind(null,n,r,o,t),void 0,null),Lo===null)throw Error(Te(349));Rp&30||Lye(n,t,o)}return o}function Lye(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Or.updateQueue,t===null?(t={lastEffect:null,stores:null},Or.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Bye(e,t,n,r){t.value=n,t.getSnapshot=r,zye(t)&&Vye(e)}function Nye(e,t,n){return n(function(){zye(t)&&Vye(e)})}function zye(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Al(e,n)}catch{return!0}}function Vye(e){var t=$u(e,1);t!==null&&Sl(t,e,1,-1)}function sH(e){var t=oc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nb,lastRenderedState:e},t.queue=e,e=e.dispatch=fHe.bind(null,Or,e),[t.memoizedState,e]}function zb(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Or.updateQueue,t===null?(t={lastEffect:null,stores:null},Or.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Hye(){return Va().memoizedState}function k2(e,t,n,r){var o=oc();Or.flags|=e,o.memoizedState=zb(1|t,n,void 0,r===void 0?null:r)}function mj(e,t,n,r){var o=Va();r=r===void 0?null:r;var i=void 0;if(wo!==null){var s=wo.memoizedState;if(i=s.destroy,r!==null&&PL(r,s.deps)){o.memoizedState=zb(t,n,i,r);return}}Or.flags|=e,o.memoizedState=zb(1|t,n,i,r)}function aH(e,t){return k2(8390656,8,e,t)}function $L(e,t){return mj(2048,8,e,t)}function Uye(e,t){return mj(4,2,e,t)}function Wye(e,t){return mj(4,4,e,t)}function Yye(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qye(e,t,n){return n=n!=null?n.concat([e]):null,mj(4,4,Yye.bind(null,t,e),n)}function ML(){}function Gye(e,t){var n=Va();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&PL(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Kye(e,t){var n=Va();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&PL(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zye(e,t,n){return Rp&21?(Al(n,t)||(n=J1e(),Or.lanes|=n,$p|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n)}function uHe(e,t){var n=wn;wn=n!==0&&4>n?n:4,e(!0);var r=zD.transition;zD.transition={};try{e(!1),t()}finally{wn=n,zD.transition=r}}function Xye(){return Va().memoizedState}function dHe(e,t,n){var r=ff(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qye(e))Jye(t,n);else if(n=Aye(e,t,n,r),n!==null){var o=Ki();Sl(n,e,r,o),ebe(n,t,r)}}function fHe(e,t,n){var r=ff(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qye(e))Jye(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Al(a,s)){var c=t.interleaved;c===null?(o.next=o,jL(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Aye(e,t,o,r),n!==null&&(o=Ki(),Sl(n,e,r,o),ebe(n,t,r))}}function Qye(e){var t=e.alternate;return e===Or||t!==null&&t===Or}function Jye(e,t){zy=aE=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ebe(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hL(e,n)}}var lE={readContext:za,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},hHe={readContext:za,useCallback:function(e,t){return oc().memoizedState=[e,t===void 0?null:t],e},useContext:za,useEffect:aH,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,k2(4194308,4,Yye.bind(null,t,e),n)},useLayoutEffect:function(e,t){return k2(4194308,4,e,t)},useInsertionEffect:function(e,t){return k2(4,2,e,t)},useMemo:function(e,t){var n=oc();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oc();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=dHe.bind(null,Or,e),[r.memoizedState,e]},useRef:function(e){var t=oc();return e={current:e},t.memoizedState=e},useState:sH,useDebugValue:ML,useDeferredValue:function(e){return oc().memoizedState=e},useTransition:function(){var e=sH(!1),t=e[0];return e=uHe.bind(null,e[1]),oc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Or,o=oc();if(wr){if(n===void 0)throw Error(Te(407));n=n()}else{if(n=t(),Lo===null)throw Error(Te(349));Rp&30||Lye(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,aH(Nye.bind(null,r,i,e),[e]),r.flags|=2048,zb(9,Bye.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=oc(),t=Lo.identifierPrefix;if(wr){var n=pu,r=hu;n=(r&~(1<<32-_l(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bb++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cHe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pHe={readContext:za,useCallback:Gye,useContext:za,useEffect:$L,useImperativeHandle:qye,useInsertionEffect:Uye,useLayoutEffect:Wye,useMemo:Kye,useReducer:VD,useRef:Hye,useState:function(){return VD(Nb)},useDebugValue:ML,useDeferredValue:function(e){var t=Va();return Zye(t,wo.memoizedState,e)},useTransition:function(){var e=VD(Nb)[0],t=Va().memoizedState;return[e,t]},useMutableSource:Mye,useSyncExternalStore:Fye,useId:Xye,unstable_isNewReconciler:!1},mHe={readContext:za,useCallback:Gye,useContext:za,useEffect:$L,useImperativeHandle:qye,useInsertionEffect:Uye,useLayoutEffect:Wye,useMemo:Kye,useReducer:HD,useRef:Hye,useState:function(){return HD(Nb)},useDebugValue:ML,useDeferredValue:function(e){var t=Va();return wo===null?t.memoizedState=e:Zye(t,wo.memoizedState,e)},useTransition:function(){var e=HD(Nb)[0],t=Va().memoizedState;return[e,t]},useMutableSource:Mye,useSyncExternalStore:Fye,useId:Xye,unstable_isNewReconciler:!1};function Fv(e,t){try{var n="",r=t;do n+=Hze(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function UD(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function uR(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gHe=typeof WeakMap=="function"?WeakMap:Map;function tbe(e,t,n){n=wu(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){uE||(uE=!0,xR=r),uR(e,t)},n}function nbe(e,t,n){n=wu(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){uR(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){uR(e,t),typeof r!="function"&&(df===null?df=new Set([this]):df.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function lH(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gHe;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=DHe.bind(null,e,t,n),t.then(e,e))}function cH(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uH(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wu(-1,1),t.tag=2,uf(n,t,1))),n.lanes|=1),e)}var vHe=rd.ReactCurrentOwner,bs=!1;function Ui(e,t,n,r){t.child=e===null?Rye(t,null,n,r):$v(t,e.child,n,r)}function dH(e,t,n,r,o){n=n.render;var i=t.ref;return Xg(t,o),r=OL(e,t,n,r,i,o),n=RL(),e!==null&&!bs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Mu(e,t,o)):(wr&&n&&wL(t),t.flags|=1,Ui(e,t,r,o),t.child)}function fH(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!UL(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,rbe(e,t,i,r,o)):(e=D2(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ob,n(s,r)&&e.ref===t.ref)return Mu(e,t,o)}return t.flags|=1,e=hf(i,r),e.ref=t.ref,e.return=t,t.child=e}function rbe(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Ob(i,r)&&e.ref===t.ref)if(bs=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(bs=!0);else return t.lanes=e.lanes,Mu(e,t,o)}return dR(e,t,n,r,o)}function obe(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(Pg,Bs),Bs|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yn(Pg,Bs),Bs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Yn(Pg,Bs),Bs|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Yn(Pg,Bs),Bs|=r;return Ui(e,t,o,n),t.child}function ibe(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function dR(e,t,n,r,o){var i=Ss(n)?Pp:Ai.current;return i=Ov(t,i),Xg(t,o),n=OL(e,t,n,r,i,o),r=RL(),e!==null&&!bs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Mu(e,t,o)):(wr&&r&&wL(t),t.flags|=1,Ui(e,t,n,o),t.child)}function hH(e,t,n,r,o){if(Ss(n)){var i=!0;eE(t)}else i=!1;if(Xg(t,o),t.stateNode===null)j2(e,t),Pye(t,n,r),cR(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=za(u):(u=Ss(n)?Pp:Ai.current,u=Ov(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==u)&&oH(t,s,r,u),Td=!1;var p=t.memoizedState;s.state=p,iE(t,r,s,o),c=t.memoizedState,a!==r||p!==c||_s.current||Td?(typeof d=="function"&&(lR(t,n,d,r),c=t.memoizedState),(a=Td||rH(t,n,a,r,p,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Dye(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:cl(t.type,a),s.props=u,f=t.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=za(c):(c=Ss(n)?Pp:Ai.current,c=Ov(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==c)&&oH(t,s,r,c),Td=!1,p=t.memoizedState,s.state=p,iE(t,r,s,o);var v=t.memoizedState;a!==f||p!==v||_s.current||Td?(typeof m=="function"&&(lR(t,n,m,r),v=t.memoizedState),(u=Td||rH(t,n,u,r,p,v,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return fR(e,t,n,r,i,o)}function fR(e,t,n,r,o,i){ibe(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&QV(t,n,!1),Mu(e,t,i);r=t.stateNode,vHe.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=$v(t,e.child,null,i),t.child=$v(t,null,a,i)):Ui(e,t,a,i),t.memoizedState=r.state,o&&QV(t,n,!0),t.child}function sbe(e){var t=e.stateNode;t.pendingContext?XV(e,t.pendingContext,t.pendingContext!==t.context):t.context&&XV(e,t.context,!1),AL(e,t.containerInfo)}function pH(e,t,n,r,o){return Rv(),_L(o),t.flags|=256,Ui(e,t,n,r),t.child}var hR={dehydrated:null,treeContext:null,retryLane:0};function pR(e){return{baseLanes:e,cachePool:null,transitions:null}}function abe(e,t,n){var r=t.pendingProps,o=Ar.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Yn(Ar,o&1),e===null)return sR(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=yj(s,r,0,null),e=hp(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=pR(n),t.memoizedState=hR,e):FL(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return yHe(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=hf(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=hf(a,i):(i=hp(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?pR(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=hR,r}return i=e.child,e=i.sibling,r=hf(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function FL(e,t){return t=yj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function NC(e,t,n,r){return r!==null&&_L(r),$v(t,e.child,null,n),e=FL(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yHe(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=UD(Error(Te(422))),NC(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=yj({mode:"visible",children:r.children},o,0,null),i=hp(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&$v(t,e.child,null,s),t.child.memoizedState=pR(s),t.memoizedState=hR,i);if(!(t.mode&1))return NC(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Te(419)),r=UD(i,r,void 0),NC(e,t,s,r)}if(a=(s&e.childLanes)!==0,bs||a){if(r=Lo,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,$u(e,o),Sl(r,e,o,-1))}return HL(),r=UD(Error(Te(421))),NC(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=IHe.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,qs=cf(o.nextSibling),Xs=t,wr=!0,dl=null,e!==null&&(Ea[ka++]=hu,Ea[ka++]=pu,Ea[ka++]=Op,hu=e.id,pu=e.overflow,Op=t),t=FL(t,r.children),t.flags|=4096,t)}function mH(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),aR(e.return,t,n)}function WD(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function lbe(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ui(e,t,r.children,n),r=Ar.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mH(e,n,t);else if(e.tag===19)mH(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Yn(Ar,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&sE(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),WD(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&sE(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}WD(t,!0,n,null,i);break;case"together":WD(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function j2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$p|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Te(153));if(t.child!==null){for(e=t.child,n=hf(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hf(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bHe(e,t,n){switch(t.tag){case 3:sbe(t),Rv();break;case 5:$ye(t);break;case 1:Ss(t.type)&&eE(t);break;case 4:AL(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Yn(rE,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Yn(Ar,Ar.current&1),t.flags|=128,null):n&t.child.childLanes?abe(e,t,n):(Yn(Ar,Ar.current&1),e=Mu(e,t,n),e!==null?e.sibling:null);Yn(Ar,Ar.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return lbe(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Yn(Ar,Ar.current),r)break;return null;case 22:case 23:return t.lanes=0,obe(e,t,n)}return Mu(e,t,n)}var cbe,mR,ube,dbe;cbe=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mR=function(){};ube=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Qh(Cc.current);var i=null;switch(n){case"input":o=F3(e,o),r=F3(e,r),i=[];break;case"select":o=$r({},o,{value:void 0}),r=$r({},r,{value:void 0}),i=[];break;case"textarea":o=N3(e,o),r=N3(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=QS)}V3(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kb.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kb.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&nr("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};dbe=function(e,t,n,r){n!==r&&(t.flags|=4)};function E1(e,t){if(!wr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xHe(e,t,n){var r=t.pendingProps;switch(CL(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hi(t),null;case 1:return Ss(t.type)&&JS(),hi(t),null;case 3:return r=t.stateNode,Mv(),sr(_s),sr(Ai),IL(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(LC(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dl!==null&&(_R(dl),dl=null))),mR(e,t),hi(t),null;case 5:DL(t);var o=Qh(Lb.current);if(n=t.type,e!==null&&t.stateNode!=null)ube(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Te(166));return hi(t),null}if(e=Qh(Cc.current),LC(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[fc]=t,r[Mb]=i,e=(t.mode&1)!==0,n){case"dialog":nr("cancel",r),nr("close",r);break;case"iframe":case"object":case"embed":nr("load",r);break;case"video":case"audio":for(o=0;o<py.length;o++)nr(py[o],r);break;case"source":nr("error",r);break;case"img":case"image":case"link":nr("error",r),nr("load",r);break;case"details":nr("toggle",r);break;case"input":SV(r,i),nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},nr("invalid",r);break;case"textarea":kV(r,i),nr("invalid",r)}V3(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&FC(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&FC(r.textContent,a,e),o=["children",""+a]):kb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&nr("scroll",r)}switch(n){case"input":AC(r),EV(r,i,!0);break;case"textarea":AC(r),jV(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=QS)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=L1e(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fc]=t,e[Mb]=r,cbe(e,t,!1,!1),t.stateNode=e;e:{switch(s=H3(n,r),n){case"dialog":nr("cancel",e),nr("close",e),o=r;break;case"iframe":case"object":case"embed":nr("load",e),o=r;break;case"video":case"audio":for(o=0;o<py.length;o++)nr(py[o],e);o=r;break;case"source":nr("error",e),o=r;break;case"img":case"image":case"link":nr("error",e),nr("load",e),o=r;break;case"details":nr("toggle",e),o=r;break;case"input":SV(e,r),o=F3(e,r),nr("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=$r({},r,{value:void 0}),nr("invalid",e);break;case"textarea":kV(e,r),o=N3(e,r),nr("invalid",e);break;default:o=r}V3(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?z1e(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&B1e(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&jb(e,c):typeof c=="number"&&jb(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kb.hasOwnProperty(i)?c!=null&&i==="onScroll"&&nr("scroll",e):c!=null&&aL(e,i,c,s))}switch(n){case"input":AC(e),EV(e,r,!1);break;case"textarea":AC(e),jV(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Af(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?qg(e,!!r.multiple,i,!1):r.defaultValue!=null&&qg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=QS)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return hi(t),null;case 6:if(e&&t.stateNode!=null)dbe(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Te(166));if(n=Qh(Lb.current),Qh(Cc.current),LC(t)){if(r=t.stateNode,n=t.memoizedProps,r[fc]=t,(i=r.nodeValue!==n)&&(e=Xs,e!==null))switch(e.tag){case 3:FC(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&FC(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fc]=t,t.stateNode=r}return hi(t),null;case 13:if(sr(Ar),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wr&&qs!==null&&t.mode&1&&!(t.flags&128))Tye(),Rv(),t.flags|=98560,i=!1;else if(i=LC(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Te(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Te(317));i[fc]=t}else Rv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;hi(t),i=!1}else dl!==null&&(_R(dl),dl=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ar.current&1?_o===0&&(_o=3):HL())),t.updateQueue!==null&&(t.flags|=4),hi(t),null);case 4:return Mv(),mR(e,t),e===null&&Rb(t.stateNode.containerInfo),hi(t),null;case 10:return kL(t.type._context),hi(t),null;case 17:return Ss(t.type)&&JS(),hi(t),null;case 19:if(sr(Ar),i=t.memoizedState,i===null)return hi(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)E1(i,!1);else{if(_o!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=sE(e),s!==null){for(t.flags|=128,E1(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Yn(Ar,Ar.current&1|2),t.child}e=e.sibling}i.tail!==null&&Kr()>Lv&&(t.flags|=128,r=!0,E1(i,!1),t.lanes=4194304)}else{if(!r)if(e=sE(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),E1(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!wr)return hi(t),null}else 2*Kr()-i.renderingStartTime>Lv&&n!==1073741824&&(t.flags|=128,r=!0,E1(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Kr(),t.sibling=null,n=Ar.current,Yn(Ar,r?n&1|2:n&1),t):(hi(t),null);case 22:case 23:return VL(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Bs&1073741824&&(hi(t),t.subtreeFlags&6&&(t.flags|=8192)):hi(t),null;case 24:return null;case 25:return null}throw Error(Te(156,t.tag))}function wHe(e,t){switch(CL(t),t.tag){case 1:return Ss(t.type)&&JS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mv(),sr(_s),sr(Ai),IL(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return DL(t),null;case 13:if(sr(Ar),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Te(340));Rv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sr(Ar),null;case 4:return Mv(),null;case 10:return kL(t.type._context),null;case 22:case 23:return VL(),null;case 24:return null;default:return null}}var zC=!1,Ci=!1,CHe=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Ig(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Lr(e,t,r)}else n.current=null}function gR(e,t,n){try{n()}catch(r){Lr(e,t,r)}}var gH=!1;function _He(e,t){if(J3=KS,e=mye(),xL(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===o&&(a=s),p===i&&++d===r&&(c=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(eR={focusedElem:e,selectionRange:n},KS=!1,qe=t;qe!==null;)if(t=qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qe=e;else for(;qe!==null;){t=qe;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:cl(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(C){Lr(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,qe=e;break}qe=t.return}return v=gH,gH=!1,v}function Vy(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&gR(t,n,i)}o=o.next}while(o!==r)}}function gj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function vR(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fbe(e){var t=e.alternate;t!==null&&(e.alternate=null,fbe(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fc],delete t[Mb],delete t[rR],delete t[iHe],delete t[sHe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hbe(e){return e.tag===5||e.tag===3||e.tag===4}function vH(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hbe(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yR(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=QS));else if(r!==4&&(e=e.child,e!==null))for(yR(e,t,n),e=e.sibling;e!==null;)yR(e,t,n),e=e.sibling}function bR(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bR(e,t,n),e=e.sibling;e!==null;)bR(e,t,n),e=e.sibling}var qo=null,ul=!1;function vd(e,t,n){for(n=n.child;n!==null;)pbe(e,t,n),n=n.sibling}function pbe(e,t,n){if(wc&&typeof wc.onCommitFiberUnmount=="function")try{wc.onCommitFiberUnmount(lj,n)}catch{}switch(n.tag){case 5:Ci||Ig(n,t);case 6:var r=qo,o=ul;qo=null,vd(e,t,n),qo=r,ul=o,qo!==null&&(ul?(e=qo,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qo.removeChild(n.stateNode));break;case 18:qo!==null&&(ul?(e=qo,n=n.stateNode,e.nodeType===8?LD(e.parentNode,n):e.nodeType===1&&LD(e,n),Ib(e)):LD(qo,n.stateNode));break;case 4:r=qo,o=ul,qo=n.stateNode.containerInfo,ul=!0,vd(e,t,n),qo=r,ul=o;break;case 0:case 11:case 14:case 15:if(!Ci&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&gR(n,t,s),o=o.next}while(o!==r)}vd(e,t,n);break;case 1:if(!Ci&&(Ig(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Lr(n,t,a)}vd(e,t,n);break;case 21:vd(e,t,n);break;case 22:n.mode&1?(Ci=(r=Ci)||n.memoizedState!==null,vd(e,t,n),Ci=r):vd(e,t,n);break;default:vd(e,t,n)}}function yH(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new CHe),t.forEach(function(r){var o=PHe.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ol(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:qo=a.stateNode,ul=!1;break e;case 3:qo=a.stateNode.containerInfo,ul=!0;break e;case 4:qo=a.stateNode.containerInfo,ul=!0;break e}a=a.return}if(qo===null)throw Error(Te(160));pbe(i,s,o),qo=null,ul=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){Lr(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mbe(t,e),t=t.sibling}function mbe(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ol(t,e),Kl(e),r&4){try{Vy(3,e,e.return),gj(3,e)}catch(g){Lr(e,e.return,g)}try{Vy(5,e,e.return)}catch(g){Lr(e,e.return,g)}}break;case 1:ol(t,e),Kl(e),r&512&&n!==null&&Ig(n,n.return);break;case 5:if(ol(t,e),Kl(e),r&512&&n!==null&&Ig(n,n.return),e.flags&32){var o=e.stateNode;try{jb(o,"")}catch(g){Lr(e,e.return,g)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&M1e(o,i),H3(a,s);var u=H3(a,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?z1e(o,f):d==="dangerouslySetInnerHTML"?B1e(o,f):d==="children"?jb(o,f):aL(o,d,f,u)}switch(a){case"input":L3(o,i);break;case"textarea":F1e(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?qg(o,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?qg(o,!!i.multiple,i.defaultValue,!0):qg(o,!!i.multiple,i.multiple?[]:"",!1))}o[Mb]=i}catch(g){Lr(e,e.return,g)}}break;case 6:if(ol(t,e),Kl(e),r&4){if(e.stateNode===null)throw Error(Te(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(g){Lr(e,e.return,g)}}break;case 3:if(ol(t,e),Kl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ib(t.containerInfo)}catch(g){Lr(e,e.return,g)}break;case 4:ol(t,e),Kl(e);break;case 13:ol(t,e),Kl(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(NL=Kr())),r&4&&yH(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ci=(u=Ci)||d,ol(t,e),Ci=u):ol(t,e),Kl(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(qe=e,d=e.child;d!==null;){for(f=qe=d;qe!==null;){switch(p=qe,m=p.child,p.tag){case 0:case 11:case 14:case 15:Vy(4,p,p.return);break;case 1:Ig(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Lr(r,n,g)}}break;case 5:Ig(p,p.return);break;case 22:if(p.memoizedState!==null){xH(f);continue}}m!==null?(m.return=p,qe=m):xH(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=N1e("display",s))}catch(g){Lr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Lr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ol(t,e),Kl(e),r&4&&yH(e);break;case 21:break;default:ol(t,e),Kl(e)}}function Kl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hbe(n)){var r=n;break e}n=n.return}throw Error(Te(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(jb(o,""),r.flags&=-33);var i=vH(e);bR(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=vH(e);yR(e,a,s);break;default:throw Error(Te(161))}}catch(c){Lr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SHe(e,t,n){qe=e,gbe(e)}function gbe(e,t,n){for(var r=(e.mode&1)!==0;qe!==null;){var o=qe,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||zC;if(!s){var a=o.alternate,c=a!==null&&a.memoizedState!==null||Ci;a=zC;var u=Ci;if(zC=s,(Ci=c)&&!u)for(qe=o;qe!==null;)s=qe,c=s.child,s.tag===22&&s.memoizedState!==null?wH(o):c!==null?(c.return=s,qe=c):wH(o);for(;i!==null;)qe=i,gbe(i),i=i.sibling;qe=o,zC=a,Ci=u}bH(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,qe=i):bH(e)}}function bH(e){for(;qe!==null;){var t=qe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ci||gj(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ci)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:cl(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&nH(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nH(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ib(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}Ci||t.flags&512&&vR(t)}catch(p){Lr(t,t.return,p)}}if(t===e){qe=null;break}if(n=t.sibling,n!==null){n.return=t.return,qe=n;break}qe=t.return}}function xH(e){for(;qe!==null;){var t=qe;if(t===e){qe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,qe=n;break}qe=t.return}}function wH(e){for(;qe!==null;){var t=qe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gj(4,t)}catch(c){Lr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){Lr(t,o,c)}}var i=t.return;try{vR(t)}catch(c){Lr(t,i,c)}break;case 5:var s=t.return;try{vR(t)}catch(c){Lr(t,s,c)}}}catch(c){Lr(t,t.return,c)}if(t===e){qe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,qe=a;break}qe=t.return}}var EHe=Math.ceil,cE=rd.ReactCurrentDispatcher,LL=rd.ReactCurrentOwner,Ma=rd.ReactCurrentBatchConfig,rn=0,Lo=null,co=null,ti=0,Bs=0,Pg=qf(0),_o=0,Vb=null,$p=0,vj=0,BL=0,Hy=null,ps=null,NL=0,Lv=1/0,su=null,uE=!1,xR=null,df=null,VC=!1,Vd=null,dE=0,Uy=0,wR=null,T2=-1,A2=0;function Ki(){return rn&6?Kr():T2!==-1?T2:T2=Kr()}function ff(e){return e.mode&1?rn&2&&ti!==0?ti&-ti:lHe.transition!==null?(A2===0&&(A2=J1e()),A2):(e=wn,e!==0||(e=window.event,e=e===void 0?16:sye(e.type)),e):1}function Sl(e,t,n,r){if(50<Uy)throw Uy=0,wR=null,Error(Te(185));sw(e,n,r),(!(rn&2)||e!==Lo)&&(e===Lo&&(!(rn&2)&&(vj|=n),_o===4&&Fd(e,ti)),Es(e,r),n===1&&rn===0&&!(t.mode&1)&&(Lv=Kr()+500,hj&&Gf()))}function Es(e,t){var n=e.callbackNode;lVe(e,t);var r=GS(e,e===Lo?ti:0);if(r===0)n!==null&&DV(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&DV(n),t===1)e.tag===0?aHe(CH.bind(null,e)):Eye(CH.bind(null,e)),rHe(function(){!(rn&6)&&Gf()}),n=null;else{switch(eye(r)){case 1:n=fL;break;case 4:n=X1e;break;case 16:n=qS;break;case 536870912:n=Q1e;break;default:n=qS}n=Sbe(n,vbe.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vbe(e,t){if(T2=-1,A2=0,rn&6)throw Error(Te(327));var n=e.callbackNode;if(Qg()&&e.callbackNode!==n)return null;var r=GS(e,e===Lo?ti:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fE(e,r);else{t=r;var o=rn;rn|=2;var i=bbe();(Lo!==e||ti!==t)&&(su=null,Lv=Kr()+500,fp(e,t));do try{THe();break}catch(a){ybe(e,a)}while(1);EL(),cE.current=i,rn=o,co!==null?t=0:(Lo=null,ti=0,t=_o)}if(t!==0){if(t===2&&(o=G3(e),o!==0&&(r=o,t=CR(e,o))),t===1)throw n=Vb,fp(e,0),Fd(e,r),Es(e,Kr()),n;if(t===6)Fd(e,r);else{if(o=e.current.alternate,!(r&30)&&!kHe(o)&&(t=fE(e,r),t===2&&(i=G3(e),i!==0&&(r=i,t=CR(e,i))),t===1))throw n=Vb,fp(e,0),Fd(e,r),Es(e,Kr()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Te(345));case 2:jh(e,ps,su);break;case 3:if(Fd(e,r),(r&130023424)===r&&(t=NL+500-Kr(),10<t)){if(GS(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Ki(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=nR(jh.bind(null,e,ps,su),t);break}jh(e,ps,su);break;case 4:if(Fd(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-_l(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Kr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EHe(r/1960))-r,10<r){e.timeoutHandle=nR(jh.bind(null,e,ps,su),r);break}jh(e,ps,su);break;case 5:jh(e,ps,su);break;default:throw Error(Te(329))}}}return Es(e,Kr()),e.callbackNode===n?vbe.bind(null,e):null}function CR(e,t){var n=Hy;return e.current.memoizedState.isDehydrated&&(fp(e,t).flags|=256),e=fE(e,t),e!==2&&(t=ps,ps=n,t!==null&&_R(t)),e}function _R(e){ps===null?ps=e:ps.push.apply(ps,e)}function kHe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Al(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fd(e,t){for(t&=~BL,t&=~vj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_l(t),r=1<<n;e[n]=-1,t&=~r}}function CH(e){if(rn&6)throw Error(Te(327));Qg();var t=GS(e,0);if(!(t&1))return Es(e,Kr()),null;var n=fE(e,t);if(e.tag!==0&&n===2){var r=G3(e);r!==0&&(t=r,n=CR(e,r))}if(n===1)throw n=Vb,fp(e,0),Fd(e,t),Es(e,Kr()),n;if(n===6)throw Error(Te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jh(e,ps,su),Es(e,Kr()),null}function zL(e,t){var n=rn;rn|=1;try{return e(t)}finally{rn=n,rn===0&&(Lv=Kr()+500,hj&&Gf())}}function Mp(e){Vd!==null&&Vd.tag===0&&!(rn&6)&&Qg();var t=rn;rn|=1;var n=Ma.transition,r=wn;try{if(Ma.transition=null,wn=1,e)return e()}finally{wn=r,Ma.transition=n,rn=t,!(rn&6)&&Gf()}}function VL(){Bs=Pg.current,sr(Pg)}function fp(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nHe(n)),co!==null)for(n=co.return;n!==null;){var r=n;switch(CL(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&JS();break;case 3:Mv(),sr(_s),sr(Ai),IL();break;case 5:DL(r);break;case 4:Mv();break;case 13:sr(Ar);break;case 19:sr(Ar);break;case 10:kL(r.type._context);break;case 22:case 23:VL()}n=n.return}if(Lo=e,co=e=hf(e.current,null),ti=Bs=t,_o=0,Vb=null,BL=vj=$p=0,ps=Hy=null,Xh!==null){for(t=0;t<Xh.length;t++)if(n=Xh[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Xh=null}return e}function ybe(e,t){do{var n=co;try{if(EL(),E2.current=lE,aE){for(var r=Or.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}aE=!1}if(Rp=0,Oo=wo=Or=null,zy=!1,Bb=0,LL.current=null,n===null||n.return===null){_o=1,Vb=t,co=null;break}e:{var i=e,s=n.return,a=n,c=t;if(t=ti,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=cH(s);if(m!==null){m.flags&=-257,uH(m,s,a,i,t),m.mode&1&&lH(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){lH(i,u,t),HL();break e}c=Error(Te(426))}}else if(wr&&a.mode&1){var y=cH(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),uH(y,s,a,i,t),_L(Fv(c,a));break e}}i=c=Fv(c,a),_o!==4&&(_o=2),Hy===null?Hy=[i]:Hy.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=tbe(i,c,t);tH(i,x);break e;case 1:a=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(df===null||!df.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=nbe(i,a,t);tH(i,C);break e}}i=i.return}while(i!==null)}wbe(n)}catch(_){t=_,co===n&&n!==null&&(co=n=n.return);continue}break}while(1)}function bbe(){var e=cE.current;return cE.current=lE,e===null?lE:e}function HL(){(_o===0||_o===3||_o===2)&&(_o=4),Lo===null||!($p&268435455)&&!(vj&268435455)||Fd(Lo,ti)}function fE(e,t){var n=rn;rn|=2;var r=bbe();(Lo!==e||ti!==t)&&(su=null,fp(e,t));do try{jHe();break}catch(o){ybe(e,o)}while(1);if(EL(),rn=n,cE.current=r,co!==null)throw Error(Te(261));return Lo=null,ti=0,_o}function jHe(){for(;co!==null;)xbe(co)}function THe(){for(;co!==null&&!Jze();)xbe(co)}function xbe(e){var t=_be(e.alternate,e,Bs);e.memoizedProps=e.pendingProps,t===null?wbe(e):co=t,LL.current=null}function wbe(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=wHe(n,t),n!==null){n.flags&=32767,co=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_o=6,co=null;return}}else if(n=xHe(n,t,Bs),n!==null){co=n;return}if(t=t.sibling,t!==null){co=t;return}co=t=e}while(t!==null);_o===0&&(_o=5)}function jh(e,t,n){var r=wn,o=Ma.transition;try{Ma.transition=null,wn=1,AHe(e,t,n,r)}finally{Ma.transition=o,wn=r}return null}function AHe(e,t,n,r){do Qg();while(Vd!==null);if(rn&6)throw Error(Te(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Te(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(cVe(e,i),e===Lo&&(co=Lo=null,ti=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||VC||(VC=!0,Sbe(qS,function(){return Qg(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ma.transition,Ma.transition=null;var s=wn;wn=1;var a=rn;rn|=4,LL.current=null,_He(e,n),mbe(n,e),KVe(eR),KS=!!J3,eR=J3=null,e.current=n,SHe(n),eVe(),rn=a,wn=s,Ma.transition=i}else e.current=n;if(VC&&(VC=!1,Vd=e,dE=o),i=e.pendingLanes,i===0&&(df=null),rVe(n.stateNode),Es(e,Kr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(uE)throw uE=!1,e=xR,xR=null,e;return dE&1&&e.tag!==0&&Qg(),i=e.pendingLanes,i&1?e===wR?Uy++:(Uy=0,wR=e):Uy=0,Gf(),null}function Qg(){if(Vd!==null){var e=eye(dE),t=Ma.transition,n=wn;try{if(Ma.transition=null,wn=16>e?16:e,Vd===null)var r=!1;else{if(e=Vd,Vd=null,dE=0,rn&6)throw Error(Te(331));var o=rn;for(rn|=4,qe=e.current;qe!==null;){var i=qe,s=i.child;if(qe.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(qe=u;qe!==null;){var d=qe;switch(d.tag){case 0:case 11:case 15:Vy(8,d,i)}var f=d.child;if(f!==null)f.return=d,qe=f;else for(;qe!==null;){d=qe;var p=d.sibling,m=d.return;if(fbe(d),d===u){qe=null;break}if(p!==null){p.return=m,qe=p;break}qe=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}qe=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,qe=s;else e:for(;qe!==null;){if(i=qe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vy(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,qe=x;break e}qe=i.return}}var b=e.current;for(qe=b;qe!==null;){s=qe;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,qe=w;else e:for(s=b;qe!==null;){if(a=qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gj(9,a)}}catch(_){Lr(a,a.return,_)}if(a===s){qe=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,qe=C;break e}qe=a.return}}if(rn=o,Gf(),wc&&typeof wc.onPostCommitFiberRoot=="function")try{wc.onPostCommitFiberRoot(lj,e)}catch{}r=!0}return r}finally{wn=n,Ma.transition=t}}return!1}function _H(e,t,n){t=Fv(n,t),t=tbe(e,t,1),e=uf(e,t,1),t=Ki(),e!==null&&(sw(e,1,t),Es(e,t))}function Lr(e,t,n){if(e.tag===3)_H(e,e,n);else for(;t!==null;){if(t.tag===3){_H(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(df===null||!df.has(r))){e=Fv(n,e),e=nbe(t,e,1),t=uf(t,e,1),e=Ki(),t!==null&&(sw(t,1,e),Es(t,e));break}}t=t.return}}function DHe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ki(),e.pingedLanes|=e.suspendedLanes&n,Lo===e&&(ti&n)===n&&(_o===4||_o===3&&(ti&130023424)===ti&&500>Kr()-NL?fp(e,0):BL|=n),Es(e,t)}function Cbe(e,t){t===0&&(e.mode&1?(t=PC,PC<<=1,!(PC&130023424)&&(PC=4194304)):t=1);var n=Ki();e=$u(e,t),e!==null&&(sw(e,t,n),Es(e,n))}function IHe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cbe(e,n)}function PHe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Te(314))}r!==null&&r.delete(t),Cbe(e,n)}var _be;_be=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_s.current)bs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bs=!1,bHe(e,t,n);bs=!!(e.flags&131072)}else bs=!1,wr&&t.flags&1048576&&kye(t,nE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;j2(e,t),e=t.pendingProps;var o=Ov(t,Ai.current);Xg(t,n),o=OL(null,t,r,e,o,n);var i=RL();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ss(r)?(i=!0,eE(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,TL(t),o.updater=pj,t.stateNode=o,o._reactInternals=t,cR(t,r,e,n),t=fR(null,t,r,!0,i,n)):(t.tag=0,wr&&i&&wL(t),Ui(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(j2(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=RHe(r),e=cl(r,e),o){case 0:t=dR(null,t,r,e,n);break e;case 1:t=hH(null,t,r,e,n);break e;case 11:t=dH(null,t,r,e,n);break e;case 14:t=fH(null,t,r,cl(r.type,e),n);break e}throw Error(Te(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:cl(r,o),dR(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:cl(r,o),hH(e,t,r,o,n);case 3:e:{if(sbe(t),e===null)throw Error(Te(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Dye(e,t),iE(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Fv(Error(Te(423)),t),t=pH(e,t,r,n,o);break e}else if(r!==o){o=Fv(Error(Te(424)),t),t=pH(e,t,r,n,o);break e}else for(qs=cf(t.stateNode.containerInfo.firstChild),Xs=t,wr=!0,dl=null,n=Rye(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rv(),r===o){t=Mu(e,t,n);break e}Ui(e,t,r,n)}t=t.child}return t;case 5:return $ye(t),e===null&&sR(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,tR(r,o)?s=null:i!==null&&tR(r,i)&&(t.flags|=32),ibe(e,t),Ui(e,t,s,n),t.child;case 6:return e===null&&sR(t),null;case 13:return abe(e,t,n);case 4:return AL(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=$v(t,null,r,n):Ui(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:cl(r,o),dH(e,t,r,o,n);case 7:return Ui(e,t,t.pendingProps,n),t.child;case 8:return Ui(e,t,t.pendingProps.children,n),t.child;case 12:return Ui(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Yn(rE,r._currentValue),r._currentValue=s,i!==null)if(Al(i.value,s)){if(i.children===o.children&&!_s.current){t=Mu(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=wu(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),aR(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Te(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),aR(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ui(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Xg(t,n),o=za(o),r=r(o),t.flags|=1,Ui(e,t,r,n),t.child;case 14:return r=t.type,o=cl(r,t.pendingProps),o=cl(r.type,o),fH(e,t,r,o,n);case 15:return rbe(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:cl(r,o),j2(e,t),t.tag=1,Ss(r)?(e=!0,eE(t)):e=!1,Xg(t,n),Pye(t,r,o),cR(t,r,o,n),fR(null,t,r,!0,e,n);case 19:return lbe(e,t,n);case 22:return obe(e,t,n)}throw Error(Te(156,t.tag))};function Sbe(e,t){return Z1e(e,t)}function OHe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pa(e,t,n,r){return new OHe(e,t,n,r)}function UL(e){return e=e.prototype,!(!e||!e.isReactComponent)}function RHe(e){if(typeof e=="function")return UL(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cL)return 11;if(e===uL)return 14}return 2}function hf(e,t){var n=e.alternate;return n===null?(n=Pa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function D2(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")UL(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Cg:return hp(n.children,o,i,t);case lL:s=8,o|=8;break;case O3:return e=Pa(12,n,t,o|2),e.elementType=O3,e.lanes=i,e;case R3:return e=Pa(13,n,t,o),e.elementType=R3,e.lanes=i,e;case $3:return e=Pa(19,n,t,o),e.elementType=$3,e.lanes=i,e;case O1e:return yj(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I1e:s=10;break e;case P1e:s=9;break e;case cL:s=11;break e;case uL:s=14;break e;case jd:s=16,r=null;break e}throw Error(Te(130,e==null?e:typeof e,""))}return t=Pa(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function hp(e,t,n,r){return e=Pa(7,e,r,t),e.lanes=n,e}function yj(e,t,n,r){return e=Pa(22,e,r,t),e.elementType=O1e,e.lanes=n,e.stateNode={isHidden:!1},e}function YD(e,t,n){return e=Pa(6,e,null,t),e.lanes=n,e}function qD(e,t,n){return t=Pa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $He(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jD(0),this.expirationTimes=jD(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jD(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function WL(e,t,n,r,o,i,s,a,c){return e=new $He(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Pa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},TL(i),e}function MHe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ebe(e){if(!e)return Df;e=e._reactInternals;e:{if(dm(e)!==e||e.tag!==1)throw Error(Te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ss(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Te(171))}if(e.tag===1){var n=e.type;if(Ss(n))return Sye(e,n,t)}return t}function kbe(e,t,n,r,o,i,s,a,c){return e=WL(n,r,!0,e,o,i,s,a,c),e.context=Ebe(null),n=e.current,r=Ki(),o=ff(n),i=wu(r,o),i.callback=t??null,uf(n,i,o),e.current.lanes=o,sw(e,o,r),Es(e,r),e}function bj(e,t,n,r){var o=t.current,i=Ki(),s=ff(o);return n=Ebe(n),t.context===null?t.context=n:t.pendingContext=n,t=wu(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=uf(o,t,s),e!==null&&(Sl(e,o,s,i),S2(e,o,s)),s}function hE(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function SH(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function YL(e,t){SH(e,t),(e=e.alternate)&&SH(e,t)}function FHe(){return null}var jbe=typeof reportError=="function"?reportError:function(e){console.error(e)};function qL(e){this._internalRoot=e}xj.prototype.render=qL.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Te(409));bj(e,t,null,null)};xj.prototype.unmount=qL.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mp(function(){bj(null,e,null,null)}),t[Ru]=null}};function xj(e){this._internalRoot=e}xj.prototype.unstable_scheduleHydration=function(e){if(e){var t=rye();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Md.length&&t!==0&&t<Md[n].priority;n++);Md.splice(n,0,e),n===0&&iye(e)}};function GL(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function EH(){}function LHe(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=hE(s);i.call(u)}}var s=kbe(t,r,e,0,null,!1,!1,"",EH);return e._reactRootContainer=s,e[Ru]=s.current,Rb(e.nodeType===8?e.parentNode:e),Mp(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=hE(c);a.call(u)}}var c=WL(e,0,!1,null,null,!1,!1,"",EH);return e._reactRootContainer=c,e[Ru]=c.current,Rb(e.nodeType===8?e.parentNode:e),Mp(function(){bj(t,c,n,r)}),c}function Cj(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var c=hE(s);a.call(c)}}bj(t,s,e,o)}else s=LHe(n,t,e,o,r);return hE(s)}tye=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hy(t.pendingLanes);n!==0&&(hL(t,n|1),Es(t,Kr()),!(rn&6)&&(Lv=Kr()+500,Gf()))}break;case 13:Mp(function(){var r=$u(e,1);if(r!==null){var o=Ki();Sl(r,e,1,o)}}),YL(e,1)}};pL=function(e){if(e.tag===13){var t=$u(e,134217728);if(t!==null){var n=Ki();Sl(t,e,134217728,n)}YL(e,134217728)}};nye=function(e){if(e.tag===13){var t=ff(e),n=$u(e,t);if(n!==null){var r=Ki();Sl(n,e,t,r)}YL(e,t)}};rye=function(){return wn};oye=function(e,t){var n=wn;try{return wn=e,t()}finally{wn=n}};W3=function(e,t,n){switch(t){case"input":if(L3(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=fj(r);if(!o)throw Error(Te(90));$1e(r),L3(r,o)}}}break;case"textarea":F1e(e,n);break;case"select":t=n.value,t!=null&&qg(e,!!n.multiple,t,!1)}};U1e=zL;W1e=Mp;var BHe={usingClientEntryPoint:!1,Events:[lw,kg,fj,V1e,H1e,zL]},k1={findFiberByHostInstance:Zh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NHe={bundleType:k1.bundleType,version:k1.version,rendererPackageName:k1.rendererPackageName,rendererConfig:k1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rd.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=G1e(e),e===null?null:e.stateNode},findFiberByHostInstance:k1.findFiberByHostInstance||FHe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var HC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!HC.isDisabled&&HC.supportsFiber)try{lj=HC.inject(NHe),wc=HC}catch{}}la.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BHe;la.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GL(t))throw Error(Te(200));return MHe(e,t,null,n)};la.createRoot=function(e,t){if(!GL(e))throw Error(Te(299));var n=!1,r="",o=jbe;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=WL(e,1,!1,null,null,n,!1,r,o),e[Ru]=t.current,Rb(e.nodeType===8?e.parentNode:e),new qL(t)};la.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Te(188)):(e=Object.keys(e).join(","),Error(Te(268,e)));return e=G1e(t),e=e===null?null:e.stateNode,e};la.flushSync=function(e){return Mp(e)};la.hydrate=function(e,t,n){if(!wj(t))throw Error(Te(200));return Cj(null,e,t,!0,n)};la.hydrateRoot=function(e,t,n){if(!GL(e))throw Error(Te(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=jbe;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=kbe(t,null,e,1,n??null,o,!1,i,s),e[Ru]=t.current,Rb(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new xj(t)};la.render=function(e,t,n){if(!wj(t))throw Error(Te(200));return Cj(null,e,t,!1,n)};la.unmountComponentAtNode=function(e){if(!wj(e))throw Error(Te(40));return e._reactRootContainer?(Mp(function(){Cj(null,null,e,!1,function(){e._reactRootContainer=null,e[Ru]=null})}),!0):!1};la.unstable_batchedUpdates=zL;la.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!wj(n))throw Error(Te(200));if(e==null||e._reactInternals===void 0)throw Error(Te(38));return Cj(e,t,n,!1,r)};la.version="18.2.0-next-9e3b772b8-20220608";function Tbe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tbe)}catch(e){console.error(e)}}Tbe(),k1e.exports=la;var hc=k1e.exports;const zHe=Pe(hc),Abe=e=>{const{element:t,padding:n}=e;function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return t&&r(t)?t.current!=null?mV({element:t.current,padding:n}).fn(o):{}:t?mV({element:t,padding:n}).fn(o):{}}}};var I2=typeof document<"u"?h.useLayoutEffect:h.useEffect;function pE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!pE(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!pE(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Dbe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kH(e,t){const n=Dbe(e);return Math.round(t*n)/n}function jH(e){const t=h.useRef(e);return I2(()=>{t.current=e}),t}function Ibe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=h.useState(r);pE(p,r)||m(r);const[v,g]=h.useState(null),[y,x]=h.useState(null),b=h.useCallback(R=>{R!=S.current&&(S.current=R,g(R))},[g]),w=h.useCallback(R=>{R!==E.current&&(E.current=R,x(R))},[x]),C=i||v,_=s||y,S=h.useRef(null),E=h.useRef(null),j=h.useRef(d),k=jH(c),T=jH(o),A=h.useCallback(()=>{if(!S.current||!E.current)return;const R={placement:t,strategy:n,middleware:p};T.current&&(R.platform=T.current),Fze(S.current,E.current,R).then(V=>{const N={...V,isPositioned:!0};D.current&&!pE(j.current,N)&&(j.current=N,hc.flushSync(()=>{f(N)}))})},[p,t,n,T]);I2(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const D=h.useRef(!1);I2(()=>(D.current=!0,()=>{D.current=!1}),[]),I2(()=>{if(C&&(S.current=C),_&&(E.current=_),C&&_){if(k.current)return k.current(C,_,A);A()}},[C,_,A,k]);const I=h.useMemo(()=>({reference:S,floating:E,setReference:b,setFloating:w}),[b,w]),P=h.useMemo(()=>({reference:C,floating:_}),[C,_]),$=h.useMemo(()=>{const R={position:n,left:0,top:0};if(!P.floating)return R;const V=kH(P.floating,d.x),N=kH(P.floating,d.y);return a?{...R,transform:"translate("+V+"px, "+N+"px)",...Dbe(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:N}},[n,a,P.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:A,refs:I,elements:P,floatingStyles:$}),[d,A,I,P,$])}const Pbe=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),_j=h.createContext({}),Sj=h.createContext(null),Ej=typeof document<"u",KL=Ej?h.useLayoutEffect:h.useEffect,Obe=h.createContext({strict:!1});function VHe(e,t,n,r){const{visualElement:o}=h.useContext(_j),i=h.useContext(Obe),s=h.useContext(Sj),a=h.useContext(Pbe).reducedMotion,c=h.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;h.useInsertionEffect(()=>{u&&u.update(n,s)});const d=h.useRef(!!window.HandoffAppearAnimations);return KL(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,d.current=!1)}),u}function Og(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function HHe(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Og(n)&&(n.current=r))},[t])}function Hb(e){return typeof e=="string"||Array.isArray(e)}function kj(e){return typeof e=="object"&&typeof e.start=="function"}const ZL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],XL=["initial",...ZL];function jj(e){return kj(e.animate)||XL.some(t=>Hb(e[t]))}function Rbe(e){return!!(jj(e)||e.variants)}function UHe(e,t){if(jj(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Hb(n)?n:void 0,animate:Hb(r)?r:void 0}}return e.inherit!==!1?t:{}}function WHe(e){const{initial:t,animate:n}=UHe(e,h.useContext(_j));return h.useMemo(()=>({initial:t,animate:n}),[TH(t),TH(n)])}function TH(e){return Array.isArray(e)?e.join(" "):e}const AH={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ub={};for(const e in AH)Ub[e]={isEnabled:t=>AH[e].some(n=>!!t[n])};function YHe(e){for(const t in e)Ub[t]={...Ub[t],...e[t]}}const QL=h.createContext({}),$be=h.createContext({}),qHe=Symbol.for("motionComponentSymbol");function GHe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&YHe(e);function i(a,c){let u;const d={...h.useContext(Pbe),...a,layoutId:KHe(a)},{isStatic:f}=d,p=WHe(a),m=r(a,f);if(!f&&Ej){p.visualElement=VHe(o,m,d,t);const v=h.useContext($be),g=h.useContext(Obe).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,g,e,v))}return h.createElement(_j.Provider,{value:p},u&&p.visualElement?h.createElement(u,{visualElement:p.visualElement,...d}):null,n(o,a,HHe(m,p.visualElement,c),m,f,p.visualElement))}const s=h.forwardRef(i);return s[qHe]=o,s}function KHe({layoutId:e}){const t=h.useContext(QL).id;return t&&e!==void 0?t+"-"+e:e}function ZHe(e){function t(r,o={}){return GHe(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const XHe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function JL(e){return typeof e!="string"||e.includes("-")?!1:!!(XHe.indexOf(e)>-1||/[A-Z]/.test(e))}const mE={};function QHe(e){Object.assign(mE,e)}const uw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fm=new Set(uw);function Mbe(e,{layout:t,layoutId:n}){return fm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!mE[e]||e==="opacity")}const js=e=>!!(e&&e.getVelocity),JHe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eUe=uw.length;function tUe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<eUe;s++){const a=uw[s];if(e[a]!==void 0){const c=JHe[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const Fbe=e=>t=>typeof t=="string"&&t.startsWith(e),Lbe=Fbe("--"),SR=Fbe("var(--"),nUe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,rUe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,If=(e,t,n)=>Math.min(Math.max(n,e),t),hm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Wy={...hm,transform:e=>If(0,1,e)},UC={...hm,default:1},Yy=e=>Math.round(e*1e5)/1e5,Tj=/(-)?([\d]*\.?[\d])+/g,Bbe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,oUe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function dw(e){return typeof e=="string"}const fw=e=>({test:t=>dw(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),_d=fw("deg"),_c=fw("%"),ct=fw("px"),iUe=fw("vh"),sUe=fw("vw"),DH={..._c,parse:e=>_c.parse(e)/100,transform:e=>_c.transform(e*100)},IH={...hm,transform:Math.round},Nbe={borderWidth:ct,borderTopWidth:ct,borderRightWidth:ct,borderBottomWidth:ct,borderLeftWidth:ct,borderRadius:ct,radius:ct,borderTopLeftRadius:ct,borderTopRightRadius:ct,borderBottomRightRadius:ct,borderBottomLeftRadius:ct,width:ct,maxWidth:ct,height:ct,maxHeight:ct,size:ct,top:ct,right:ct,bottom:ct,left:ct,padding:ct,paddingTop:ct,paddingRight:ct,paddingBottom:ct,paddingLeft:ct,margin:ct,marginTop:ct,marginRight:ct,marginBottom:ct,marginLeft:ct,rotate:_d,rotateX:_d,rotateY:_d,rotateZ:_d,scale:UC,scaleX:UC,scaleY:UC,scaleZ:UC,skew:_d,skewX:_d,skewY:_d,distance:ct,translateX:ct,translateY:ct,translateZ:ct,x:ct,y:ct,z:ct,perspective:ct,transformPerspective:ct,opacity:Wy,originX:DH,originY:DH,originZ:ct,zIndex:IH,fillOpacity:Wy,strokeOpacity:Wy,numOctaves:IH};function e6(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let c=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(Lbe(f)){i[f]=p;continue}const m=Nbe[f],v=rUe(p,m);if(fm.has(f)){if(c=!0,s[f]=v,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=v):o[f]=v}if(t.transform||(c||r?o.transform=tUe(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;o.transformOrigin=`${f} ${p} ${m}`}}const t6=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zbe(e,t,n){for(const r in t)!js(t[r])&&!Mbe(r,n)&&(e[r]=t[r])}function aUe({transformTemplate:e},t,n){return h.useMemo(()=>{const r=t6();return e6(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function lUe(e,t,n){const r=e.style||{},o={};return zbe(o,r,e),Object.assign(o,aUe(e,t,n)),e.transformValues?e.transformValues(o):o}function cUe(e,t,n){const r={},o=lUe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const uUe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function gE(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||uUe.has(e)}let Vbe=e=>!gE(e);function dUe(e){e&&(Vbe=t=>t.startsWith("on")?!gE(t):e(t))}try{dUe(require("@emotion/is-prop-valid").default)}catch{}function fUe(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(Vbe(o)||n===!0&&gE(o)||!t&&!gE(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function PH(e,t,n){return typeof e=="string"?e:ct.transform(t+n*e)}function hUe(e,t,n){const r=PH(t,e.x,e.width),o=PH(n,e.y,e.height);return`${r} ${o}`}const pUe={offset:"stroke-dashoffset",array:"stroke-dasharray"},mUe={offset:"strokeDashoffset",array:"strokeDasharray"};function gUe(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?pUe:mUe;e[i.offset]=ct.transform(-r);const s=ct.transform(t),a=ct.transform(n);e[i.array]=`${s} ${a}`}function n6(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:c=0,...u},d,f,p){if(e6(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:g}=e;m.transform&&(g&&(v.transform=m.transform),delete m.transform),g&&(o!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=hUe(g,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&gUe(m,s,a,c,!1)}const Hbe=()=>({...t6(),attrs:{}}),r6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function vUe(e,t,n,r){const o=h.useMemo(()=>{const i=Hbe();return n6(i,t,{enableHardwareAcceleration:!1},r6(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};zbe(i,e.style,e),o.style={...i,...o.style}}return o}function yUe(e=!1){return(n,r,o,{latestValues:i},s)=>{const c=(JL(n)?vUe:cUe)(r,i,s,n),d={...fUe(r,typeof n=="string",e),...c,ref:o},{children:f}=r,p=h.useMemo(()=>js(f)?f.get():f,[f]);return h.createElement(n,{...d,children:p})}}const o6=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function Ube(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Wbe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ybe(e,t,n,r){Ube(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Wbe.has(o)?o:o6(o),t.attrs[o])}function i6(e,t){const{style:n}=e,r={};for(const o in n)(js(n[o])||t.style&&js(t.style[o])||Mbe(o,e))&&(r[o]=n[o]);return r}function qbe(e,t){const n=i6(e,t);for(const r in e)if(js(e[r])||js(t[r])){const o=uw.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function s6(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function Gbe(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const vE=e=>Array.isArray(e),bUe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),xUe=e=>vE(e)?e[e.length-1]||0:e;function P2(e){const t=js(e)?e.get():e;return bUe(t)?t.toValue():t}function wUe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const s={latestValues:CUe(r,o,i,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const Kbe=e=>(t,n)=>{const r=h.useContext(_j),o=h.useContext(Sj),i=()=>wUe(e,t,r,o);return n?i():Gbe(i)};function CUe(e,t,n,r){const o={},i=r(e,{});for(const p in i)o[p]=P2(i[p]);let{initial:s,animate:a}=e;const c=jj(e),u=Rbe(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?a:s;return f&&typeof f!="boolean"&&!kj(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const v=s6(e,m);if(!v)return;const{transitionEnd:g,transition:y,...x}=v;for(const b in x){let w=x[b];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(o[b]=w)}for(const b in g)o[b]=g[b]}),o}const Nr=e=>e;class OH{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function _Ue(e){let t=new OH,n=new OH,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const f=d&&o,p=f?t:n;return u&&s.add(c),p.add(c)&&f&&o&&(r=t.order.length),c},cancel:c=>{n.remove(c),s.delete(c)},process:c=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),s.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(c))}};return a}const WC=["prepare","read","update","preRender","render","postRender"],SUe=40;function EUe(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=WC.reduce((f,p)=>(f[p]=_Ue(()=>n=!0),f),{}),s=f=>i[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,SUe),1),o.timestamp=f,o.isProcessing=!0,WC.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},c=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:WC.reduce((f,p)=>{const m=i[p];return f[p]=(v,g=!1,y=!1)=>(n||c(),m.schedule(v,g,y)),f},{}),cancel:f=>WC.forEach(p=>i[p].cancel(f)),state:o,steps:i}}const{schedule:qn,cancel:Fu,state:Do,steps:GD}=EUe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nr,!0),kUe={useVisualState:Kbe({scrapeMotionValuesFromProps:qbe,createRenderState:Hbe,onMount:(e,t,{renderState:n,latestValues:r})=>{qn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),qn.render(()=>{n6(n,r,{enableHardwareAcceleration:!1},r6(t.tagName),e.transformTemplate),Ybe(t,n)})}})},jUe={useVisualState:Kbe({scrapeMotionValuesFromProps:i6,createRenderState:t6})};function TUe(e,{forwardMotionProps:t=!1},n,r){return{...JL(e)?kUe:jUe,preloadedFeatures:n,useRender:yUe(t),createVisualElement:r,Component:e}}function mu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Zbe=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Aj(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const AUe=e=>t=>Zbe(t)&&e(t,Aj(t));function Cu(e,t,n,r){return mu(e,t,AUe(n),r)}const DUe=(e,t)=>n=>t(e(n)),pf=(...e)=>e.reduce(DUe);function Xbe(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const RH=Xbe("dragHorizontal"),$H=Xbe("dragVertical");function Qbe(e){let t=!1;if(e==="y")t=$H();else if(e==="x")t=RH();else{const n=RH(),r=$H();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Jbe(){const e=Qbe(!0);return e?(e(),!1):!0}class Kf{constructor(t){this.isMounted=!1,this.node=t}update(){}}function MH(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,s)=>{if(i.type==="touch"||Jbe())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&qn.update(()=>a[r](i,s))};return Cu(e.current,n,o,{passive:!e.getProps()[r]})}class IUe extends Kf{mount(){this.unmount=pf(MH(this.node,!0),MH(this.node,!1))}unmount(){}}class PUe extends Kf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pf(mu(this.node.current,"focus",()=>this.onFocus()),mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const exe=(e,t)=>t?e===t?!0:exe(e,t.parentElement):!1;function KD(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Aj(n))}class OUe extends Kf{constructor(){super(...arguments),this.removeStartListeners=Nr,this.removeEndListeners=Nr,this.removeAccessibleListeners=Nr,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=Cu(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d}=this.node.getProps();qn.update(()=>{exe(this.node.current,a.target)?u&&u(a,c):d&&d(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),s=Cu(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=pf(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||KD("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&qn.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=mu(this.node.current,"keyup",s),KD("down",(a,c)=>{this.startPress(a,c)})},n=mu(this.node.current,"keydown",t),r=()=>{this.isPressing&&KD("cancel",(i,s)=>this.cancelPress(i,s))},o=mu(this.node.current,"blur",r);this.removeAccessibleListeners=pf(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&qn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Jbe()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&qn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Cu(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=mu(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pf(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ER=new WeakMap,ZD=new WeakMap,RUe=e=>{const t=ER.get(e.target);t&&t(e)},$Ue=e=>{e.forEach(RUe)};function MUe({root:e,...t}){const n=e||document;ZD.has(n)||ZD.set(n,{});const r=ZD.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver($Ue,{root:e,...t})),r[o]}function FUe(e,t,n){const r=MUe(t);return ER.set(e,n),r.observe(e),()=>{ER.delete(e),r.unobserve(e)}}const LUe={some:0,all:1};class BUe extends Kf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:LUe[o]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return FUe(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(NUe(t,n))&&this.startObserver()}unmount(){}}function NUe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const zUe={inView:{Feature:BUe},tap:{Feature:OUe},focus:{Feature:PUe},hover:{Feature:IUe}};function txe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function VUe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function HUe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Dj(e,t,n){const r=e.getProps();return s6(r,t,n!==void 0?n:r.custom,VUe(e),HUe(e))}const UUe="framerAppearId",WUe="data-"+o6(UUe);let YUe=Nr,a6=Nr;const mf=e=>e*1e3,_u=e=>e/1e3,qUe={current:!1},nxe=e=>Array.isArray(e)&&typeof e[0]=="number";function rxe(e){return!!(!e||typeof e=="string"&&oxe[e]||nxe(e)||Array.isArray(e)&&e.every(rxe))}const my=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,oxe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:my([0,.65,.55,1]),circOut:my([.55,0,1,.45]),backIn:my([.31,.01,.66,-.59]),backOut:my([.33,1.53,.69,.99])};function ixe(e){if(e)return nxe(e)?my(e):Array.isArray(e)?e.map(ixe):oxe[e]}function GUe(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=ixe(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function KUe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const sxe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ZUe=1e-7,XUe=12;function QUe(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=sxe(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>ZUe&&++a<XUe);return s}function hw(e,t,n,r){if(e===t&&n===r)return Nr;const o=i=>QUe(i,0,1,e,n);return i=>i===0||i===1?i:sxe(o(i),t,r)}const JUe=hw(.42,0,1,1),eWe=hw(0,0,.58,1),axe=hw(.42,0,.58,1),tWe=e=>Array.isArray(e)&&typeof e[0]!="number",lxe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,cxe=e=>t=>1-e(1-t),uxe=e=>1-Math.sin(Math.acos(e)),l6=cxe(uxe),nWe=lxe(l6),dxe=hw(.33,1.53,.69,.99),c6=cxe(dxe),rWe=lxe(c6),oWe=e=>(e*=2)<1?.5*c6(e):.5*(2-Math.pow(2,-10*(e-1))),iWe={linear:Nr,easeIn:JUe,easeInOut:axe,easeOut:eWe,circIn:uxe,circInOut:nWe,circOut:l6,backIn:c6,backInOut:rWe,backOut:dxe,anticipate:oWe},FH=e=>{if(Array.isArray(e)){a6(e.length===4);const[t,n,r,o]=e;return hw(t,n,r,o)}else if(typeof e=="string")return iWe[e];return e},u6=(e,t)=>n=>!!(dw(n)&&oUe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),fxe=(e,t,n)=>r=>{if(!dw(r))return r;const[o,i,s,a]=r.match(Tj);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},sWe=e=>If(0,255,e),XD={...hm,transform:e=>Math.round(sWe(e))},Jh={test:u6("rgb","red"),parse:fxe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+XD.transform(e)+", "+XD.transform(t)+", "+XD.transform(n)+", "+Yy(Wy.transform(r))+")"};function aWe(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const kR={test:u6("#"),parse:aWe,transform:Jh.transform},Rg={test:u6("hsl","hue"),parse:fxe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+_c.transform(Yy(t))+", "+_c.transform(Yy(n))+", "+Yy(Wy.transform(r))+")"},Hi={test:e=>Jh.test(e)||kR.test(e)||Rg.test(e),parse:e=>Jh.test(e)?Jh.parse(e):Rg.test(e)?Rg.parse(e):kR.parse(e),transform:e=>dw(e)?e:e.hasOwnProperty("red")?Jh.transform(e):Rg.transform(e)},Dr=(e,t,n)=>-n*e+n*t+e;function QD(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lWe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;o=QD(c,a,e+1/3),i=QD(c,a,e),s=QD(c,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const JD=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},cWe=[kR,Jh,Rg],uWe=e=>cWe.find(t=>t.test(e));function LH(e){const t=uWe(e);let n=t.parse(e);return t===Rg&&(n=lWe(n)),n}const hxe=(e,t)=>{const n=LH(e),r=LH(t),o={...n};return i=>(o.red=JD(n.red,r.red,i),o.green=JD(n.green,r.green,i),o.blue=JD(n.blue,r.blue,i),o.alpha=Dr(n.alpha,r.alpha,i),Jh.transform(o))};function dWe(e){var t,n;return isNaN(e)&&dw(e)&&(((t=e.match(Tj))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Bbe))===null||n===void 0?void 0:n.length)||0)>0}const pxe={regex:nUe,countKey:"Vars",token:"${v}",parse:Nr},mxe={regex:Bbe,countKey:"Colors",token:"${c}",parse:Hi.parse},gxe={regex:Tj,countKey:"Numbers",token:"${n}",parse:hm.parse};function eI(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function yE(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&eI(n,pxe),eI(n,mxe),eI(n,gxe),n}function vxe(e){return yE(e).values}function yxe(e){const{values:t,numColors:n,numVars:r,tokenised:o}=yE(e),i=t.length;return s=>{let a=o;for(let c=0;c<i;c++)c<r?a=a.replace(pxe.token,s[c]):c<r+n?a=a.replace(mxe.token,Hi.transform(s[c])):a=a.replace(gxe.token,Yy(s[c]));return a}}const fWe=e=>typeof e=="number"?0:e;function hWe(e){const t=vxe(e);return yxe(e)(t.map(fWe))}const Pf={test:dWe,parse:vxe,createTransformer:yxe,getAnimatableNone:hWe},bxe=(e,t)=>n=>`${n>0?t:e}`;function xxe(e,t){return typeof e=="number"?n=>Dr(e,t,n):Hi.test(e)?hxe(e,t):e.startsWith("var(")?bxe(e,t):Cxe(e,t)}const wxe=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,s)=>xxe(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},pWe=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=xxe(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},Cxe=(e,t)=>{const n=Pf.createTransformer(t),r=yE(e),o=yE(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?pf(wxe(r.values,o.values),n):bxe(e,t)},Wb=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},BH=(e,t)=>n=>Dr(e,t,n);function mWe(e){return typeof e=="number"?BH:typeof e=="string"?Hi.test(e)?hxe:Cxe:Array.isArray(e)?wxe:typeof e=="object"?pWe:BH}function gWe(e,t,n){const r=[],o=n||mWe(e[0]),i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||Nr:t;a=pf(c,a)}r.push(a)}return r}function _xe(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(a6(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=gWe(t,r,o),a=s.length,c=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Wb(e[d],e[d+1],u);return s[d](f)};return n?u=>c(If(e[0],e[i-1],u)):c}function vWe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Wb(0,t,r);e.push(Dr(n,1,o))}}function yWe(e){const t=[0];return vWe(t,e.length-1),t}function bWe(e,t){return e.map(n=>n*t)}function xWe(e,t){return e.map(()=>t||axe).splice(0,e.length-1)}function bE({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=tWe(r)?r.map(FH):FH(r),i={done:!1,value:t[0]},s=bWe(n&&n.length===t.length?n:yWe(t),e),a=_xe(s,t,{ease:Array.isArray(o)?o:xWe(t,o)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function Sxe(e,t){return t?e*(1e3/t):0}const wWe=5;function Exe(e,t,n){const r=Math.max(t-wWe,0);return Sxe(n-e(r),t-r)}const tI=.001,CWe=.01,NH=10,_We=.05,SWe=1;function EWe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;YUe(e<=mf(NH));let s=1-t;s=If(_We,SWe,s),e=If(CWe,NH,_u(e)),s<1?(o=u=>{const d=u*s,f=d*e,p=d-n,m=jR(u,s),v=Math.exp(-f);return tI-p/m*v},i=u=>{const f=u*s*e,p=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-f),g=jR(Math.pow(u,2),s);return(-o(u)+tI>0?-1:1)*((p-m)*v)/g}):(o=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-tI+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,c=jWe(o,i,a);if(e=mf(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const kWe=12;function jWe(e,t,n){let r=n;for(let o=1;o<kWe;o++)r=r-e(r)/t(r);return r}function jR(e,t){return e*Math.sqrt(1-t*t)}const TWe=["duration","bounce"],AWe=["stiffness","damping","mass"];function zH(e,t){return t.some(n=>e[n]!==void 0)}function DWe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!zH(e,AWe)&&zH(e,TWe)){const n=EWe(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function kxe({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:c,mass:u,velocity:d,duration:f,isResolvedFromDuration:p}=DWe(r),m=d?-_u(d):0,v=c/(2*Math.sqrt(a*u)),g=i-o,y=_u(Math.sqrt(a/u)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let b;if(v<1){const w=jR(y,v);b=C=>{const _=Math.exp(-v*y*C);return i-_*((m+v*y*g)/w*Math.sin(w*C)+g*Math.cos(w*C))}}else if(v===1)b=w=>i-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(v*v-1);b=C=>{const _=Math.exp(-v*y*C),S=Math.min(w*C,300);return i-_*((m+v*y*g)*Math.sinh(S)+w*g*Math.cosh(S))/w}}return{calculatedDuration:p&&f||null,next:w=>{const C=b(w);if(p)s.done=w>=f;else{let _=m;w!==0&&(v<1?_=Exe(b,w,C):_=0);const S=Math.abs(_)<=n,E=Math.abs(i-C)<=t;s.done=S&&E}return s.value=s.done?i:C,s}}}function VH({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=j=>a!==void 0&&j<a||c!==void 0&&j>c,v=j=>a===void 0?c:c===void 0||Math.abs(a-j)<Math.abs(c-j)?a:c;let g=n*t;const y=f+g,x=s===void 0?y:s(y);x!==y&&(g=x-f);const b=j=>-g*Math.exp(-j/r),w=j=>x+b(j),C=j=>{const k=b(j),T=w(j);p.done=Math.abs(k)<=u,p.value=p.done?x:T};let _,S;const E=j=>{m(p.value)&&(_=j,S=kxe({keyframes:[p.value,v(p.value)],velocity:Exe(w,j,p.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:j=>{let k=!1;return!S&&_===void 0&&(k=!0,C(j),E(j)),_!==void 0&&j>_?S.next(j-_):(!k&&C(j),p)}}}const IWe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>qn.update(t,!0),stop:()=>Fu(t),now:()=>Do.isProcessing?Do.timestamp:performance.now()}},HH=2e4;function UH(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<HH;)t+=n,r=e.next(t);return t>=HH?1/0:t}const PWe={decay:VH,inertia:VH,tween:bE,keyframes:bE,spring:kxe};function xE({autoplay:e=!0,delay:t=0,driver:n=IWe,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,v=!1,g,y;const x=()=>{y=new Promise(H=>{g=H})};x();let b;const w=PWe[o]||bE;let C;w!==bE&&typeof r[0]!="number"&&(C=_xe([0,100],r,{clamp:!1}),r=[0,100]);const _=w({...p,keyframes:r});let S;a==="mirror"&&(S=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let E="idle",j=null,k=null,T=null;_.calculatedDuration===null&&i&&(_.calculatedDuration=UH(_));const{calculatedDuration:A}=_;let D=1/0,I=1/0;A!==null&&(D=A+s,I=D*(i+1)-s);let P=0;const $=H=>{if(k===null)return;m>0&&(k=Math.min(k,H)),m<0&&(k=Math.min(H-I/m,k)),j!==null?P=j:P=Math.round(H-k)*m;const q=P-t*(m>=0?1:-1),X=m>=0?q<0:q>I;P=Math.max(q,0),E==="finished"&&j===null&&(P=I);let B=P,Y=_;if(i){const ne=P/D;let K=Math.floor(ne),J=ne%1;!J&&ne>=1&&(J=1),J===1&&K--,K=Math.min(K,i+1);const re=!!(K%2);re&&(a==="reverse"?(J=1-J,s&&(J-=s/D)):a==="mirror"&&(Y=S));let fe=If(0,1,J);P>I&&(fe=a==="reverse"&&re?1:0),B=fe*D}const z=X?{done:!1,value:r[0]}:Y.next(B);C&&(z.value=C(z.value));let{done:Z}=z;!X&&A!==null&&(Z=m>=0?P>=I:P<=0);const Q=j===null&&(E==="finished"||E==="running"&&Z);return f&&f(z.value),Q&&N(),z},R=()=>{b&&b.stop(),b=void 0},V=()=>{E="idle",R(),g(),x(),k=T=null},N=()=>{E="finished",d&&d(),R(),g()},W=()=>{if(v)return;b||(b=n($));const H=b.now();c&&c(),j!==null?k=H-j:(!k||E==="finished")&&(k=H),E==="finished"&&x(),T=k,j=null,E="running",b.start()};e&&W();const G={then(H,q){return y.then(H,q)},get time(){return _u(P)},set time(H){H=mf(H),P=H,j!==null||!b||m===0?j=H:k=b.now()-H/m},get duration(){const H=_.calculatedDuration===null?UH(_):_.calculatedDuration;return _u(H)},get speed(){return m},set speed(H){H===m||!b||(m=H,G.time=_u(P))},get state(){return E},play:W,pause:()=>{E="paused",j=P},stop:()=>{v=!0,E!=="idle"&&(E="idle",u&&u(),V())},cancel:()=>{T!==null&&$(T),V()},complete:()=>{E="finished"},sample:H=>(k=0,$(H))};return G}function OWe(e){let t;return()=>(t===void 0&&(t=e()),t)}const RWe=OWe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$We=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),YC=10,MWe=2e4,FWe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!rxe(t.ease);function LWe(e,t,{onUpdate:n,onComplete:r,...o}){if(!(RWe()&&$We.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,c;const u=()=>{c=new Promise(b=>{a=b})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=o;if(FWe(t,o)){const b=xE({...o,repeat:0,delay:0});let w={done:!1,value:d[0]};const C=[];let _=0;for(;!w.done&&_<MWe;)w=b.sample(_),C.push(w.value),_+=YC;m=void 0,d=C,f=_-YC,p="linear"}const v=GUe(e.owner.current,t,d,{...o,duration:f,ease:p,times:m});o.syncStart&&(v.startTime=Do.isProcessing?Do.timestamp:document.timeline?document.timeline.currentTime:performance.now());const g=()=>v.cancel(),y=()=>{qn.update(g),a(),u()};return v.onfinish=()=>{e.set(KUe(d,o)),r&&r(),y()},{then(b,w){return c.then(b,w)},attachTimeline(b){return v.timeline=b,v.onfinish=null,Nr},get time(){return _u(v.currentTime||0)},set time(b){v.currentTime=mf(b)},get speed(){return v.playbackRate},set speed(b){v.playbackRate=b},get duration(){return _u(f)},play:()=>{s||(v.play(),Fu(g))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:b}=v;if(b){const w=xE({...o,autoplay:!1});e.setWithVelocity(w.sample(b-YC).value,w.sample(b).value,YC)}y()},complete:()=>v.finish(),cancel:y}}function BWe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Nr,pause:Nr,stop:Nr,then:i=>(i(),Promise.resolve()),cancel:Nr,complete:Nr});return t?xE({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const NWe={type:"spring",stiffness:500,damping:25,restSpeed:10},zWe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),VWe={type:"keyframes",duration:.8},HWe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UWe=(e,{keyframes:t})=>t.length>2?VWe:fm.has(e)?e.startsWith("scale")?zWe(t[1]):NWe:HWe,TR=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Pf.test(t)||t==="0")&&!t.startsWith("url(")),WWe=new Set(["brightness","contrast","saturate","opacity"]);function YWe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Tj)||[];if(!r)return e;const o=n.replace(r,"");let i=WWe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const qWe=/([a-z-]*)\(.*?\)/g,AR={...Pf,getAnimatableNone:e=>{const t=e.match(qWe);return t?t.map(YWe).join(" "):e}},GWe={...Nbe,color:Hi,backgroundColor:Hi,outlineColor:Hi,fill:Hi,stroke:Hi,borderColor:Hi,borderTopColor:Hi,borderRightColor:Hi,borderBottomColor:Hi,borderLeftColor:Hi,filter:AR,WebkitFilter:AR},d6=e=>GWe[e];function jxe(e,t){let n=d6(e);return n!==AR&&(n=Pf),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Txe=e=>/^0[^.\s]+$/.test(e);function KWe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Txe(e)}function ZWe(e,t,n,r){const o=TR(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?s:i[u-1]),KWe(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&c.length&&a)for(let u=0;u<c.length;u++){const d=c[u];i[d]=jxe(t,a)}return i}function XWe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Axe(e,t){return e[t]||e.default||e}const f6=(e,t,n,r={})=>o=>{const i=Axe(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-mf(s);const c=ZWe(t,e,n,i),u=c[0],d=c[c.length-1],f=TR(e,u),p=TR(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(XWe(i)||(m={...m,...UWe(e,m)}),m.duration&&(m.duration=mf(m.duration)),m.repeatDelay&&(m.repeatDelay=mf(m.repeatDelay)),!f||!p||qUe.current||i.type===!1)return BWe(m);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=LWe(t,e,m);if(v)return v}return xE(m)};function wE(e){return!!(js(e)&&e.add)}const Dxe=e=>/^\-?\d*\.?\d+$/.test(e);function h6(e,t){e.indexOf(t)===-1&&e.push(t)}function p6(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class m6{constructor(){this.subscriptions=[]}add(t){return h6(this.subscriptions,t),()=>p6(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const QWe=e=>!isNaN(parseFloat(e));class JWe{constructor(t,n={}){this.version="10.16.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=Do;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,qn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>qn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=QWe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new m6);const r=this.events[t].add(n);return t==="change"?()=>{r(),qn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Sxe(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bv(e,t){return new JWe(e,t)}const Ixe=e=>t=>t.test(e),eYe={test:e=>e==="auto",parse:e=>e},Pxe=[hm,ct,_c,_d,sUe,iUe,eYe],j1=e=>Pxe.find(Ixe(e)),tYe=[...Pxe,Hi,Pf],nYe=e=>tYe.find(Ixe(e));function rYe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Bv(n))}function oYe(e,t){const n=Dj(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=xUe(i[s]);rYe(e,s,a)}}function iYe(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const c=i[a],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&o!==void 0?o:t[c]),d!=null&&(typeof d=="string"&&(Dxe(d)||Txe(d))?d=parseFloat(d):!nYe(d)&&Pf.test(u)&&(d=jxe(c,u)),e.addValue(c,Bv(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function sYe(e,t){return t?(t[e]||t.default||t).from:void 0}function aYe(e,t,n){const r={};for(const o in e){const i=sYe(o,t);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function lYe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Oxe(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const p=e.getValue(f),m=a[f];if(!p||m===void 0||d&&lYe(d,f))continue;const v={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!p.hasAnimated){const y=e.getProps()[WUe];y&&(v.elapsed=window.HandoffAppearAnimations(y,f,p,qn),v.syncStart=!0)}p.start(f6(f,p,m,e.shouldReduceMotion&&fm.has(f)?{type:!1}:v));const g=p.animation;wE(c)&&(c.add(f),g.then(()=>c.remove(f))),u.push(g)}return s&&Promise.all(u).then(()=>{s&&oYe(e,s)}),u}function DR(e,t,n={}){const r=Dj(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(Oxe(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return cYe(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[c,u]=a==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(n.delay)])}function cYe(e,t,n=0,r=0,o=1,i){const s=[],a=(e.variantChildren.size-1)*r,c=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(uYe).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(DR(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function uYe(e,t){return e.sortNodePosition(t)}function dYe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>DR(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=DR(e,t,n);else{const o=typeof t=="function"?Dj(e,t,n.custom):t;r=Promise.all(Oxe(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const fYe=[...ZL].reverse(),hYe=ZL.length;function pYe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>dYe(e,n,r)))}function mYe(e){let t=pYe(e);const n=vYe();let r=!0;const o=(c,u)=>{const d=Dj(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;c={...c,...m,...p}}return c};function i(c){t=c(e)}function s(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let v={},g=1/0;for(let x=0;x<hYe;x++){const b=fYe[x],w=n[b],C=d[b]!==void 0?d[b]:f[b],_=Hb(C),S=b===u?w.isActive:null;S===!1&&(g=x);let E=C===f[b]&&C!==d[b]&&_;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...v},!w.isActive&&S===null||!C&&!w.prevProp||kj(C)||typeof C=="boolean")continue;const j=gYe(w.prevProp,C);let k=j||b===u&&w.isActive&&!E&&_||x>g&&_;const T=Array.isArray(C)?C:[C];let A=T.reduce(o,{});S===!1&&(A={});const{prevResolvedValues:D={}}=w,I={...D,...A},P=$=>{k=!0,m.delete($),w.needsAnimating[$]=!0};for(const $ in I){const R=A[$],V=D[$];v.hasOwnProperty($)||(R!==V?vE(R)&&vE(V)?!txe(R,V)||j?P($):w.protectedKeys[$]=!0:R!==void 0?P($):m.add($):R!==void 0&&m.has($)?P($):w.protectedKeys[$]=!0)}w.prevProp=C,w.prevResolvedValues=A,w.isActive&&(v={...v,...A}),r&&e.blockInitialAnimation&&(k=!1),k&&!E&&p.push(...T.map($=>({animation:$,options:{type:b,...c}})))}if(m.size){const x={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(x[b]=w)}),p.push({animation:x})}let y=!!p.length;return r&&d.initial===!1&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(p):Promise.resolve()}function a(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const p=s(d,c);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function gYe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!txe(t,e):!1}function mh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vYe(){return{animate:mh(!0),whileInView:mh(),whileHover:mh(),whileTap:mh(),whileDrag:mh(),whileFocus:mh(),exit:mh()}}class yYe extends Kf{constructor(t){super(t),t.animationState||(t.animationState=mYe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),kj(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let bYe=0;class xYe extends Kf{constructor(){super(...arguments),this.id=bYe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const wYe={animation:{Feature:yYe},exit:{Feature:xYe}},WH=(e,t)=>Math.abs(e-t);function CYe(e,t){const n=WH(e.x,t.x),r=WH(e.y,t.y);return Math.sqrt(n**2+r**2)}class Rxe{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=rI(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=CYe(u.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:p}=u,{timestamp:m}=Do;this.history.push({...p,timestamp:m});const{onStart:v,onMove:g}=this.handlers;d||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,u)},this.handlePointerMove=(u,d)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=nI(d,this.transformPagePoint),qn.update(this.updatePoint,!0)},this.handlePointerUp=(u,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,m=rI(u.type==="pointercancel"?this.lastMoveEventInfo:nI(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,m),p&&p(u,m)},!Zbe(t))return;this.handlers=n,this.transformPagePoint=r;const o=Aj(t),i=nI(o,this.transformPagePoint),{point:s}=i,{timestamp:a}=Do;this.history=[{...s,timestamp:a}];const{onSessionStart:c}=n;c&&c(t,rI(i,this.history)),this.removeListeners=pf(Cu(window,"pointermove",this.handlePointerMove),Cu(window,"pointerup",this.handlePointerUp),Cu(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fu(this.updatePoint)}}function nI(e,t){return t?{point:t(e.point)}:e}function YH(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rI({point:e},t){return{point:e,delta:YH(e,$xe(t)),offset:YH(e,_Ye(t)),velocity:SYe(t,.1)}}function _Ye(e){return e[0]}function $xe(e){return e[e.length-1]}function SYe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=$xe(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>mf(t)));)n--;if(!r)return{x:0,y:0};const i=_u(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ta(e){return e.max-e.min}function IR(e,t=0,n=.01){return Math.abs(e-t)<=n}function qH(e,t,n,r=.5){e.origin=r,e.originPoint=Dr(t.min,t.max,e.origin),e.scale=ta(n)/ta(t),(IR(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Dr(n.min,n.max,e.origin)-e.originPoint,(IR(e.translate)||isNaN(e.translate))&&(e.translate=0)}function qy(e,t,n,r){qH(e.x,t.x,n.x,r?r.originX:void 0),qH(e.y,t.y,n.y,r?r.originY:void 0)}function GH(e,t,n){e.min=n.min+t.min,e.max=e.min+ta(t)}function EYe(e,t,n){GH(e.x,t.x,n.x),GH(e.y,t.y,n.y)}function KH(e,t,n){e.min=t.min-n.min,e.max=e.min+ta(t)}function Gy(e,t,n){KH(e.x,t.x,n.x),KH(e.y,t.y,n.y)}function kYe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Dr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Dr(n,e,r.max):Math.min(e,n)),e}function ZH(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function jYe(e,{top:t,left:n,bottom:r,right:o}){return{x:ZH(e.x,n,o),y:ZH(e.y,t,r)}}function XH(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function TYe(e,t){return{x:XH(e.x,t.x),y:XH(e.y,t.y)}}function AYe(e,t){let n=.5;const r=ta(e),o=ta(t);return o>r?n=Wb(t.min,t.max-r,e.min):r>o&&(n=Wb(e.min,e.max-o,t.min)),If(0,1,n)}function DYe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const PR=.35;function IYe(e=PR){return e===!1?e=0:e===!0&&(e=PR),{x:QH(e,"left","right"),y:QH(e,"top","bottom")}}function QH(e,t,n){return{min:JH(e,t),max:JH(e,n)}}function JH(e,t){return typeof e=="number"?e:e[t]||0}const eU=()=>({translate:0,scale:1,origin:0,originPoint:0}),$g=()=>({x:eU(),y:eU()}),tU=()=>({min:0,max:0}),ro=()=>({x:tU(),y:tU()});function ic(e){return[e("x"),e("y")]}function Mxe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function PYe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function OYe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function oI(e){return e===void 0||e===1}function OR({scale:e,scaleX:t,scaleY:n}){return!oI(e)||!oI(t)||!oI(n)}function Th(e){return OR(e)||Fxe(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Fxe(e){return nU(e.x)||nU(e.y)}function nU(e){return e&&e!=="0%"}function CE(e,t,n){const r=e-n,o=t*r;return n+o}function rU(e,t,n,r,o){return o!==void 0&&(e=CE(e,o,r)),CE(e,n,r)+t}function RR(e,t=0,n=1,r,o){e.min=rU(e.min,t,n,r,o),e.max=rU(e.max,t,n,r,o)}function Lxe(e,{x:t,y:n}){RR(e.x,t.translate,t.scale,t.originPoint),RR(e.y,n.translate,n.scale,n.originPoint)}function RYe(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Mg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Lxe(e,s)),r&&Th(i.latestValues)&&Mg(e,i.latestValues))}t.x=oU(t.x),t.y=oU(t.y)}function oU(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ad(e,t){e.min=e.min+t,e.max=e.max+t}function iU(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,s=Dr(e.min,e.max,i);RR(e,t[n],t[r],s,t.scale)}const $Ye=["x","scaleX","originX"],MYe=["y","scaleY","originY"];function Mg(e,t){iU(e.x,t,$Ye),iU(e.y,t,MYe)}function Bxe(e,t){return Mxe(OYe(e.getBoundingClientRect(),t))}function FYe(e,t,n){const r=Bxe(e,n),{scroll:o}=t;return o&&(Ad(r.x,o.offset.x),Ad(r.y,o.offset.y)),r}const LYe=new WeakMap;class BYe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ro(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=c=>{this.stopAnimation(),n&&this.snapToCursor(Aj(c,"page").point)},i=(c,u)=>{const{drag:d,dragPropagation:f,onDragStart:p}=this.getProps();if(d&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Qbe(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ic(v=>{let g=this.getAxisMotionValue(v).get()||0;if(_c.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[v];x&&(g=ta(x)*(parseFloat(g)/100))}}this.originPoint[v]=g}),p&&qn.update(()=>p(c,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(c,u)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:v}=u;if(f&&this.currentDirection===null){this.currentDirection=NYe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),m&&m(c,u)},a=(c,u)=>this.stop(c,u);this.panSession=new Rxe(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&qn.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!qC(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=kYe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},o=this.constraints;t&&Og(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=jYe(r.layoutBox,t):this.constraints=!1,this.elastic=IYe(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ic(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=DYe(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Og(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=FYe(r,o.root,this.visualElement.getTransformPagePoint());let s=TYe(o.layout.layoutBox,i);if(n){const a=n(PYe(s));this.hasMutatedConstraints=!!a,a&&(s=Mxe(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=ic(d=>{if(!qC(d,n,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const p=o?200:1e6,m=o?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(f6(t,r,0,n))}stopAnimation(){ic(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ic(n=>{const{drag:r}=this.getProps();if(!qC(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-Dr(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Og(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ic(s=>{const a=this.getAxisMotionValue(s);if(a){const c=a.get();o[s]=AYe({min:c,max:c},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ic(s=>{if(!qC(s,t,null))return;const a=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];a.set(Dr(c,u,o[s]))})}addListeners(){if(!this.visualElement.current)return;LYe.set(this.visualElement,this);const t=this.visualElement.current,n=Cu(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Og(c)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=mu(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ic(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=PR,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function qC(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function NYe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class zYe extends Kf{constructor(t){super(t),this.removeGroupControls=Nr,this.removeListeners=Nr,this.controls=new BYe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nr}unmount(){this.removeGroupControls(),this.removeListeners()}}const sU=e=>(t,n)=>{e&&qn.update(()=>e(t,n))};class VYe extends Kf{constructor(){super(...arguments),this.removePointerDownListener=Nr}onPointerDown(t){this.session=new Rxe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:sU(t),onStart:sU(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&qn.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=Cu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function HYe(){const e=h.useContext(Sj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const O2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aU(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const T1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ct.test(e))e=parseFloat(e);else return e;const n=aU(e,t.target.x),r=aU(e,t.target.y);return`${n}% ${r}%`}},UYe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Pf.parse(e);if(o.length>5)return r;const i=Pf.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=c;const u=Dr(a,c,.5);return typeof o[2+s]=="number"&&(o[2+s]/=u),typeof o[3+s]=="number"&&(o[3+s]/=u),i(o)}};class WYe extends ie.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;QHe(YYe),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),O2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||qn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Nxe(e){const[t,n]=HYe(),r=h.useContext(QL);return ie.createElement(WYe,{...e,layoutGroup:r,switchLayoutGroup:h.useContext($be),isPresent:t,safeToRemove:n})}const YYe={borderRadius:{...T1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:T1,borderTopRightRadius:T1,borderBottomLeftRadius:T1,borderBottomRightRadius:T1,boxShadow:UYe},zxe=["TopLeft","TopRight","BottomLeft","BottomRight"],qYe=zxe.length,lU=e=>typeof e=="string"?parseFloat(e):e,cU=e=>typeof e=="number"||ct.test(e);function GYe(e,t,n,r,o,i){o?(e.opacity=Dr(0,n.opacity!==void 0?n.opacity:1,KYe(r)),e.opacityExit=Dr(t.opacity!==void 0?t.opacity:1,0,ZYe(r))):i&&(e.opacity=Dr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<qYe;s++){const a=`border${zxe[s]}Radius`;let c=uU(t,a),u=uU(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||cU(c)===cU(u)?(e[a]=Math.max(Dr(lU(c),lU(u),r),0),(_c.test(u)||_c.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Dr(t.rotate||0,n.rotate||0,r))}function uU(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const KYe=Vxe(0,.5,l6),ZYe=Vxe(.5,.95,Nr);function Vxe(e,t,n){return r=>r<e?0:r>t?1:n(Wb(e,t,r))}function dU(e,t){e.min=t.min,e.max=t.max}function va(e,t){dU(e.x,t.x),dU(e.y,t.y)}function fU(e,t,n,r,o){return e-=t,e=CE(e,1/n,r),o!==void 0&&(e=CE(e,1/o,r)),e}function XYe(e,t=0,n=1,r=.5,o,i=e,s=e){if(_c.test(t)&&(t=parseFloat(t),t=Dr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Dr(i.min,i.max,r);e===i&&(a-=t),e.min=fU(e.min,t,n,a,o),e.max=fU(e.max,t,n,a,o)}function hU(e,t,[n,r,o],i,s){XYe(e,t[n],t[r],t[o],t.scale,i,s)}const QYe=["x","scaleX","originX"],JYe=["y","scaleY","originY"];function pU(e,t,n,r){hU(e.x,t,QYe,n?n.x:void 0,r?r.x:void 0),hU(e.y,t,JYe,n?n.y:void 0,r?r.y:void 0)}function mU(e){return e.translate===0&&e.scale===1}function Hxe(e){return mU(e.x)&&mU(e.y)}function eqe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Uxe(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function gU(e){return ta(e.x)/ta(e.y)}class tqe{constructor(){this.members=[]}add(t){h6(this.members,t),t.scheduleRender()}remove(t){if(p6(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vU(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const nqe=(e,t)=>e.depth-t.depth;class rqe{constructor(){this.children=[],this.isDirty=!1}add(t){h6(this.children,t),this.isDirty=!0}remove(t){p6(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(nqe),this.isDirty=!1,this.children.forEach(t)}}function oqe(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Fu(r),e(i-t))};return qn.read(r,!0),()=>Fu(r)}function iqe(e){window.MotionDebug&&window.MotionDebug.record(e)}function sqe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function aqe(e,t,n){const r=js(e)?e:Bv(e);return r.start(f6("",r,t,n)),r.animation}const yU=["","X","Y","Z"],bU=1e3;let lqe=0;const Ah={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Wxe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=lqe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ah.totalNodes=Ah.resolvedTargetDeltas=Ah.recalculatedProjection=0,this.nodes.forEach(dqe),this.nodes.forEach(gqe),this.nodes.forEach(vqe),this.nodes.forEach(fqe),iqe(Ah)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new rqe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new m6),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const c=this.eventHandlers.get(s);c&&c.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sqe(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=oqe(p,250),O2.hasAnimatedSinceResize&&(O2.hasAnimatedSinceResize=!1,this.nodes.forEach(wU))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||Cqe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!Uxe(this.targetLayout,v)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...Axe(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||wU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Fu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yqe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xU);return}this.isUpdating||this.nodes.forEach(pqe),this.isUpdating=!1,this.nodes.forEach(mqe),this.nodes.forEach(cqe),this.nodes.forEach(uqe),this.clearAllSnapshots();const a=performance.now();Do.delta=If(0,1e3/60,a-Do.timestamp),Do.timestamp=a,Do.isProcessing=!0,GD.update.process(Do),GD.preRender.process(Do),GD.render.process(Do),Do.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(hqe),this.sharedNodes.forEach(bqe)}scheduleUpdateProjection(){qn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ro(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Hxe(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(a||Th(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return s&&(c=this.removeTransform(c)),_qe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return ro();const a=s.measureViewportBox(),{scroll:c}=this.root;return c&&(Ad(a.x,c.offset.x),Ad(a.y,c.offset.y)),a}removeElementScroll(s){const a=ro();va(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){va(a,s);const{scroll:p}=this.root;p&&(Ad(a.x,-p.offset.x),Ad(a.y,-p.offset.y))}Ad(a.x,d.offset.x),Ad(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const c=ro();va(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Mg(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Th(d.latestValues)&&Mg(c,d.latestValues)}return Th(this.latestValues)&&Mg(c,this.latestValues),c}removeTransform(s){const a=ro();va(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Th(u.latestValues))continue;OR(u.latestValues)&&u.updateSnapshot();const d=ro(),f=u.measurePageBox();va(d,f),pU(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Th(this.latestValues)&&pU(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Do.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Do.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ro(),this.relativeTargetOrigin=ro(),Gy(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),va(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ro(),this.targetWithTransforms=ro()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EYe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):va(this.target,this.layout.layoutBox),Lxe(this.target,this.targetDelta)):va(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ro(),this.relativeTargetOrigin=ro(),Gy(this.relativeTargetOrigin,this.target,m.target),va(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ah.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||OR(this.parent.latestValues)||Fxe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Do.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;va(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;RYe(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=$g(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=$g(),this.projectionDeltaWithTransform=$g());const g=this.projectionTransform;qy(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=vU(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Ah.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=$g();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ro(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,y=this.getStack(),x=!y||y.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(wqe));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const _=C/1e3;CU(f.x,s.x,_),CU(f.y,s.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gy(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xqe(this.relativeTarget,this.relativeTargetOrigin,p,_),w&&eqe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ro()),va(w,this.relativeTarget)),g&&(this.animationValues=d,GYe(d,u,this.latestValues,_,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Fu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qn.update(()=>{O2.hasAnimatedSinceResize=!0,this.currentAnimation=aqe(0,bU,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=s;if(!(!a||!c||!u)){if(this!==s&&this.layout&&u&&Yxe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ro();const f=ta(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const p=ta(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+p}va(a,c),Mg(a,d),qy(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new tqe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:c}=s;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<yU.length;d++){const f="rotate"+yU[d];c[f]&&(u[f]=c[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s={}){var a,c;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=P2(s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=P2(s.pointerEvents)||""),this.hasProjected&&!Th(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=vU(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in mE){if(p[g]===void 0)continue;const{correct:y,applyTo:x}=mE[g],b=u.transform==="none"?p[g]:y(p[g],f);if(x){const w=x.length;for(let C=0;C<w;C++)u[x[C]]=b}else u[g]=b}return this.options.layoutId&&(u.pointerEvents=f===this?P2(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(xU),this.root.sharedNodes.clear()}}}function cqe(e){e.updateLayout()}function uqe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?ic(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ta(p);p.min=r[f].min,p.max=p.min+m}):Yxe(i,n.layoutBox,r)&&ic(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=ta(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=$g();qy(a,r,n.layoutBox);const c=$g();s?qy(c,e.applyTransform(o,!0),n.measuredBox):qy(c,r,n.layoutBox);const u=!Hxe(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=ro();Gy(v,n.layoutBox,p.layoutBox);const g=ro();Gy(g,r,m.layoutBox),Uxe(v,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function dqe(e){Ah.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function fqe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function hqe(e){e.clearSnapshot()}function xU(e){e.clearMeasurements()}function pqe(e){e.isLayoutDirty=!1}function mqe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function wU(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function gqe(e){e.resolveTargetDelta()}function vqe(e){e.calcProjection()}function yqe(e){e.resetRotation()}function bqe(e){e.removeLeadSnapshot()}function CU(e,t,n){e.translate=Dr(t.translate,0,n),e.scale=Dr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function _U(e,t,n,r){e.min=Dr(t.min,n.min,r),e.max=Dr(t.max,n.max,r)}function xqe(e,t,n,r){_U(e.x,t.x,n.x,r),_U(e.y,t.y,n.y,r)}function wqe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Cqe={duration:.45,ease:[.4,0,.1,1]},SU=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),EU=SU("applewebkit/")&&!SU("chrome/")?Math.round:Nr;function kU(e){e.min=EU(e.min),e.max=EU(e.max)}function _qe(e){kU(e.x),kU(e.y)}function Yxe(e,t,n){return e==="position"||e==="preserve-aspect"&&!IR(gU(t),gU(n),.2)}const Sqe=Wxe({attachResizeListener:(e,t)=>mu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iI={current:void 0},qxe=Wxe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!iI.current){const e=new Sqe({});e.mount(window),e.setOptions({layoutScroll:!0}),iI.current=e}return iI.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Eqe={pan:{Feature:VYe},drag:{Feature:zYe,ProjectionNode:qxe,MeasureLayout:Nxe}},kqe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function jqe(e){const t=kqe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function $R(e,t,n=1){const[r,o]=jqe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const s=i.trim();return Dxe(s)?parseFloat(s):s}else return SR(o)?$R(o,t,n+1):o}function Tqe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!SR(i))return;const s=$R(i,r);s&&o.set(s)});for(const o in t){const i=t[o];if(!SR(i))continue;const s=$R(i,r);s&&(t[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const Aqe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Gxe=e=>Aqe.has(e),Dqe=e=>Object.keys(e).some(Gxe),jU=e=>e===hm||e===ct,TU=(e,t)=>parseFloat(e.split(", ")[t]),AU=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return TU(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?TU(i[1],e):0}},Iqe=new Set(["x","y","z"]),Pqe=uw.filter(e=>!Iqe.has(e));function Oqe(e){const t=[];return Pqe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Nv={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:AU(4,13),y:AU(5,14)};Nv.translateX=Nv.x;Nv.translateY=Nv.y;const Rqe=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Nv[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=Nv[u](c,i)}),e},$qe=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(Gxe);let i=[],s=!1;const a=[];if(o.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=j1(d);const p=t[c];let m;if(vE(p)){const v=p.length,g=p[0]===null?1:0;d=p[g],f=j1(d);for(let y=g;y<v&&p[y]!==null;y++)m?a6(j1(p[y])===m):m=j1(p[y])}else m=j1(p);if(f!==m)if(jU(f)&&jU(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&m===ct&&(t[c]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[c]=f.transform(p):(s||(i=Oqe(e),s=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(p))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=Rqe(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Ej&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Mqe(e,t,n,r){return Dqe(t)?$qe(e,t,n,r):{target:t,transitionEnd:r}}const Fqe=(e,t,n,r)=>{const o=Tqe(e,t,r);return t=o.target,r=o.transitionEnd,Mqe(e,t,n,r)},MR={current:null},Kxe={current:!1};function Lqe(){if(Kxe.current=!0,!!Ej)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>MR.current=e.matches;e.addListener(t),t()}else MR.current=!1}function Bqe(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(js(i))e.addValue(o,i),wE(r)&&r.add(o);else if(js(s))e.addValue(o,Bv(i,{owner:e})),wE(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,Bv(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const DU=new WeakMap,Zxe=Object.keys(Ub),Nqe=Zxe.length,IU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],zqe=XL.length;class Vqe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>qn.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=jj(n),this.isVariantNode=Rbe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&js(p)&&(p.set(a[f],!1),wE(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,DU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Kxe.current||Lqe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:MR.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){DU.delete(this.current),this.projection&&this.projection.unmount(),Fu(this.notifyUpdate),Fu(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=fm.has(t),o=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&qn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let s,a;for(let c=0;c<Nqe;c++){const u=Zxe[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Ub[u];p&&(s=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Og(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ro()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<IU.length;r++){const o=IU[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=Bqe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<zqe;r++){const o=XL[r],i=this.props[o];(Hb(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Bv(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=s6(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!js(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new m6),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Xxe extends Vqe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let s=aYe(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){iYe(this,r,s);const a=Fqe(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function Hqe(e){return window.getComputedStyle(e)}class Uqe extends Xxe{readValueFromInstance(t,n){if(fm.has(n)){const r=d6(n);return r&&r.default||0}else{const r=Hqe(t),o=(Lbe(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Bxe(t,n)}build(t,n,r,o){e6(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return i6(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;js(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){Ube(t,n,r,o)}}class Wqe extends Xxe{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(fm.has(n)){const r=d6(n);return r&&r.default||0}return n=Wbe.has(n)?n:o6(n),t.getAttribute(n)}measureInstanceViewportBox(){return ro()}scrapeMotionValuesFromProps(t,n){return qbe(t,n)}build(t,n,r,o){n6(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){Ybe(t,n,r,o)}mount(t){this.isSVGTag=r6(t.tagName),super.mount(t)}}const Yqe=(e,t)=>JL(e)?new Wqe(t,{enableHardwareAcceleration:!1}):new Uqe(t,{enableHardwareAcceleration:!0}),qqe={layout:{ProjectionNode:qxe,MeasureLayout:Nxe}},Gqe={...wYe,...zUe,...Eqe,...qqe},od=ZHe((e,t)=>TUe(e,t,Gqe,Yqe));function Qxe(){const e=h.useRef(!1);return KL(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Kqe(){const e=Qxe(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>qn.postRender(r),[r]),t]}class Zqe extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Xqe({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:c}=o.current;if(t||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(Zqe,{isPresent:t,childRef:r,sizeRef:o},h.cloneElement(e,{ref:r}))}const sI=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=Gbe(Qqe),c=h.useId(),u=h.useMemo(()=>({id:c,initial:t,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return h.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),h.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=h.createElement(Xqe,{isPresent:n},e)),h.createElement(Sj.Provider,{value:u},e)};function Qqe(){return new Map}function Jqe(e){return h.useEffect(()=>()=>e(),[])}const Dh=e=>e.key||"";function eGe(e,t){e.forEach(n=>{const r=Dh(n);t.set(r,n)})}function tGe(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const g6=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=h.useContext(QL).forceRender||Kqe()[0],c=Qxe(),u=tGe(e);let d=u;const f=h.useRef(new Map).current,p=h.useRef(d),m=h.useRef(new Map).current,v=h.useRef(!0);if(KL(()=>{v.current=!1,eGe(u,m),p.current=d}),Jqe(()=>{v.current=!0,m.clear(),f.clear()}),v.current)return h.createElement(h.Fragment,null,d.map(b=>h.createElement(sI,{key:Dh(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},b)));d=[...d];const g=p.current.map(Dh),y=u.map(Dh),x=g.length;for(let b=0;b<x;b++){const w=g[b];y.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return s==="wait"&&f.size&&(d=[]),f.forEach((b,w)=>{if(y.indexOf(w)!==-1)return;const C=m.get(w);if(!C)return;const _=g.indexOf(w);let S=b;if(!S){const E=()=>{f.delete(w);const j=Array.from(m.keys()).filter(k=>!y.includes(k));if(j.forEach(k=>m.delete(k)),p.current=u.filter(k=>{const T=Dh(k);return T===w||j.includes(T)}),!f.size){if(c.current===!1)return;a(),r&&r()}};S=h.createElement(sI,{key:Dh(C),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:i,mode:s},C),f.set(w,S)}d.splice(_,0,S)}),d=d.map(b=>{const w=b.key;return f.has(w)?b:h.createElement(sI,{key:Dh(b),isPresent:!0,presenceAffectsLayout:i,mode:s},b)}),h.createElement(h.Fragment,null,f.size?d:d.map(b=>h.cloneElement(b)))},pw=[],gf={},Jxe={top:"bottom",right:"left",bottom:"top",left:"right"};function nGe(e,t){return e.reduce((n,r)=>(n[r]=t,n),{})}function ye(e){return e===0?0:"".concat(e/16,"rem")}function vt(e,t,n){return((t==null?void 0:t.map(n))||[]).map((o,i)=>i===0?o:{["@media screen and (min-width: ".concat(e[i-1],"px)")]:o})}function rGe(e,t){return e===void 0?t||pw:Array.isArray(e)?e:[e]}function hs(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pw;if(!Array.isArray(n))throw new Error("the property must be array of numbers");return n.length===0?null:vt(e.sanity.media,n,r=>nGe(t,ye(e.sanity.space[r])))}function zv(e,t){const{$size:n,$weight:r,theme:o}=t,{fonts:i,media:s}=o.sanity,{family:a,sizes:c,weights:u}=i[e],d=r&&u[r]||u.regular,f=c[2],p={position:"relative",fontFamily:a,fontWeight:d,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return zv.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:p}),zv.warned=!0),[p];const m=vt(s,n,v=>oGe(c[v]||f));return[p,...m]}function oGe(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:o,letterSpacing:i,lineHeight:s}=e,a=t+n,c=s-a,u=(c-o)/2,d=Math.floor(r*1.125/2)*2+1,f=(c-d)/2;return{fontSize:ye(r),lineHeight:"calc(".concat(s," / ").concat(r,")"),letterSpacing:ye(i),transform:"translateY(".concat(ye(n),")"),"&:before":{marginTop:"calc(".concat(ye(0-a)," - 1px)")},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:"calc(".concat(d," / 16 * 1rem)"),margin:ye(f)},"& [data-sanity-icon]":{fontSize:"calc(".concat(o," / 16 * 1rem)"),margin:ye(u)}}}function iGe(e){return zv("code",e)}function sGe(e){return zv("heading",e)}function aGe(e){return zv("label",e)}function v6(e){const{theme:t}=e;return vt(t.sanity.media,e.$align,n=>({textAlign:n}))}function lGe(e){return zv("text",e)}function Ce(e,t){const n=h.useMemo(()=>JSON.stringify(e??t),[t,e]);return h.useMemo(()=>rGe(e,t),[n])}function PU(e,t){const n=[e];for(const r of t)Array.isArray(r)?n.push(...r):n.push(r);return n.filter(Boolean)}function ur(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pw,n=arguments.length>2?arguments[2]:void 0;const[r,o]=h.useState(null),[i,s]=h.useState(()=>PU(r,t)),a=h.useRef(i);return h.useEffect(()=>{const c=a.current,u=PU(r,t);if(c.length!==u.length){s(u),a.current=u;return}for(const d of c)if(!u.includes(d)){s(u),a.current=u;return}for(const d of u)if(!c.includes(d)){s(u),a.current=u;return}},[r,t]),h.useEffect(()=>{if(!e)return;const c=u=>{const d=u.target;if(d instanceof Node&&!(n&&!n.contains(d))){for(const f of i)if(d===f||f.contains(d))return;e(u)}};return window.addEventListener("mousedown",c),()=>{window.removeEventListener("mousedown",c)}},[n,e,i]),o}var pp=[],cGe=function(){return pp.some(function(e){return e.activeTargets.length>0})},uGe=function(){return pp.some(function(e){return e.skippedTargets.length>0})},OU="ResizeObserver loop completed with undelivered notifications.",dGe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:OU}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=OU),window.dispatchEvent(e)},Yb;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Yb||(Yb={}));var mp=function(e){return Object.freeze(e)},fGe=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,mp(this)}return e}(),ewe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,mp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),y6=function(e){return e instanceof SVGElement&&"getBBox"in e},twe=function(e){if(y6(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},RU=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},hGe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Ky=typeof window<"u"?window:{},GC=new WeakMap,$U=/auto|scroll/,pGe=/^tb|vertical/,mGe=/msie|trident/i.test(Ky.navigator&&Ky.navigator.userAgent),Zl=function(e){return parseFloat(e||"0")},Jg=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new fGe((n?t:e)||0,(n?e:t)||0)},MU=mp({devicePixelContentBoxSize:Jg(),borderBoxSize:Jg(),contentBoxSize:Jg(),contentRect:new ewe(0,0,0,0)}),nwe=function(e,t){if(t===void 0&&(t=!1),GC.has(e)&&!t)return GC.get(e);if(twe(e))return GC.set(e,MU),MU;var n=getComputedStyle(e),r=y6(e)&&e.ownerSVGElement&&e.getBBox(),o=!mGe&&n.boxSizing==="border-box",i=pGe.test(n.writingMode||""),s=!r&&$U.test(n.overflowY||""),a=!r&&$U.test(n.overflowX||""),c=r?0:Zl(n.paddingTop),u=r?0:Zl(n.paddingRight),d=r?0:Zl(n.paddingBottom),f=r?0:Zl(n.paddingLeft),p=r?0:Zl(n.borderTopWidth),m=r?0:Zl(n.borderRightWidth),v=r?0:Zl(n.borderBottomWidth),g=r?0:Zl(n.borderLeftWidth),y=f+u,x=c+d,b=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-b-e.clientWidth:0,S=o?y+b:0,E=o?x+w:0,j=r?r.width:Zl(n.width)-S-_,k=r?r.height:Zl(n.height)-E-C,T=j+y+_+b,A=k+x+C+w,D=mp({devicePixelContentBoxSize:Jg(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:Jg(T,A,i),contentBoxSize:Jg(j,k,i),contentRect:new ewe(f,c,j,k)});return GC.set(e,D),D},rwe=function(e,t,n){var r=nwe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case Yb.DEVICE_PIXEL_CONTENT_BOX:return s;case Yb.BORDER_BOX:return o;default:return i}},gGe=function(){function e(t){var n=nwe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=mp([n.borderBoxSize]),this.contentBoxSize=mp([n.contentBoxSize]),this.devicePixelContentBoxSize=mp([n.devicePixelContentBoxSize])}return e}(),owe=function(e){if(twe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},vGe=function(){var e=1/0,t=[];pp.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new gGe(u.target),f=owe(u.target);a.push(d),u.lastReportedSize=rwe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},FU=function(e){pp.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(owe(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},yGe=function(){var e=0;for(FU(e);cGe();)e=vGe(),FU(e);return uGe()&&dGe(),e>0},aI,iwe=[],bGe=function(){return iwe.splice(0).forEach(function(e){return e()})},xGe=function(e){if(!aI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return bGe()}).observe(n,r),aI=function(){n.textContent="".concat(t?t--:t++)}}iwe.push(e),aI()},wGe=function(e){xGe(function(){requestAnimationFrame(e)})},R2=0,CGe=function(){return!!R2},_Ge=250,SGe={attributes:!0,characterData:!0,childList:!0,subtree:!0},LU=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],BU=function(e){return e===void 0&&(e=0),Date.now()+e},lI=!1,EGe=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=_Ge),!lI){lI=!0;var r=BU(t);wGe(function(){var o=!1;try{o=yGe()}finally{if(lI=!1,t=r-BU(),!CGe())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,SGe)};document.body?n():Ky.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),LU.forEach(function(n){return Ky.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),LU.forEach(function(n){return Ky.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),FR=new EGe,NU=function(e){!R2&&e>0&&FR.start(),R2+=e,!R2&&FR.stop()},kGe=function(e){return!y6(e)&&!hGe(e)&&getComputedStyle(e).display==="inline"},jGe=function(){function e(t,n){this.target=t,this.observedBox=n||Yb.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=rwe(this.target,this.observedBox,!0);return kGe(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),TGe=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),KC=new WeakMap,zU=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},ZC=function(){function e(){}return e.connect=function(t,n){var r=new TGe(t,n);KC.set(t,r)},e.observe=function(t,n,r){var o=KC.get(t),i=o.observationTargets.length===0;zU(o.observationTargets,n)<0&&(i&&pp.push(o),o.observationTargets.push(new jGe(n,r&&r.box)),NU(1),FR.schedule())},e.unobserve=function(t,n){var r=KC.get(t),o=zU(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&pp.splice(pp.indexOf(r),1),r.observationTargets.splice(o,1),NU(-1))},e.disconnect=function(t){var n=this,r=KC.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),AGe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ZC.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!RU(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ZC.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!RU(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ZC.unobserve(this,t)},e.prototype.disconnect=function(){ZC.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const swe=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:AGe,DGe=PGe();function IGe(){return{subscribe(e,t){const n=new swe(r=>{let[o]=r;t({_contentRect:o.contentRect,border:{width:o.borderBoxSize[0].inlineSize,height:o.borderBoxSize[0].blockSize},content:{width:o.contentRect.width,height:o.contentRect.height}})});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function PGe(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const o=t.get(n)||[];let i=e.get(n);return t.has(n)||(t.set(n,o),i=IGe().subscribe(n,a=>{for(const c of o)c(a)})),o.push(r),()=>{const s=o.indexOf(r);s>-1&&o.splice(s,1),o.length===0&&i&&i()}}}}function Ij(e){const[t,n]=h.useState(null);return h.useEffect(()=>{if(e)return DGe.subscribe(e,n)},[e]),t}function Zf(e){const t=Ij(e);return(t==null?void 0:t._contentRect)||null}function Ts(e){return h.useEffect(()=>(addEventListener("keydown",e),()=>removeEventListener("keydown",e)),[e])}function cI(e,t){return e*t}function OGe(e,t){return{r:Math.round(uI(cI(e.r/255,t.r/255)*255)),g:Math.round(uI(cI(e.g/255,t.g/255)*255)),b:Math.round(uI(cI(e.b/255,t.b/255)*255))}}function uI(e){return Math.max(Math.min(e,255),0)}function dI(e,t){return e+t-e*t}function RGe(e,t){return{r:Math.round(fI(dI(e.r/255,t.r/255)*255)),g:Math.round(fI(dI(e.g/255,t.g/255)*255)),b:Math.round(fI(dI(e.b/255,t.b/255)*255))}}function fI(e){return Math.max(Math.min(e,255),0)}function $Ge(e){if(e.length===4){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function awe(e){let{r:t,g:n,b:r}=e;return"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function MGe(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e.h/60%2-1)),i=n-r/2;let s=0,a=0,c=0;return 0<=e.h&&e.h<60?(s=r,a=o,c=0):60<=e.h&&e.h<120?(s=o,a=r,c=0):120<=e.h&&e.h<180?(s=0,a=r,c=o):180<=e.h&&e.h<240?(s=0,a=o,c=r):240<=e.h&&e.h<300?(s=o,a=0,c=r):300<=e.h&&e.h<360&&(s=r,a=0,c=o),{r:Math.round((s+i)*255),g:Math.round((a+i)*255),b:Math.round((c+i)*255)}}const FGe="0123456789ABCDEFabcdef",LGe=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function BGe(e){for(const t of e)if(FGe.indexOf(t)===-1)return!1;return!0}function NGe(e){return e[0]!=="#"||!(e.length===4||e.length===7)?!1:BGe(e.slice(1))}function zGe(e){const t=LGe.exec(e);if(!t)throw new Error('parseHsl: string is not a HSL color: "'.concat(e,'"'));return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function qb(e){if(!e)return{r:0,g:0,b:0};if(typeof e!="string")throw new Error("parseColor: expected a string");if(NGe(e))return $Ge(e);if(e.startsWith("hsl("))return MGe(zGe(e));throw new Error('parseColor: unexpected color format: "'.concat(e,'"'))}function Dt(e,t){const n=qb(e);return"rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(t,")")}function hI(e,t,n,r,o,i){return{default:e.button({base:t,dark:n,solid:r.default,muted:o.default,mode:i}),primary:e.button({base:t,dark:n,solid:r.primary,muted:o.primary,mode:i}),positive:e.button({base:t,dark:n,solid:r.positive,muted:o.positive,mode:i}),caution:e.button({base:t,dark:n,solid:r.caution,muted:o.caution,mode:i}),critical:e.button({base:t,dark:n,solid:r.critical,muted:o.critical,mode:i})}}function VGe(e,t,n,r,o){return{default:hI(e,t,n,r,o,"default"),ghost:hI(e,t,n,r,o,"ghost"),bleed:hI(e,t,n,r,o,"bleed")}}function HGe(e,t,n,r,o,i){return{enabled:e.card({base:t,dark:n,name:r,state:"enabled",solid:o,muted:i}),disabled:e.card({base:t,dark:n,name:r,state:"disabled",solid:o,muted:i}),hovered:e.card({base:t,dark:n,name:r,state:"hovered",solid:o,muted:i}),pressed:e.card({base:t,dark:n,name:r,state:"pressed",solid:o,muted:i}),selected:e.card({base:t,dark:n,name:r,state:"selected",solid:o,muted:i})}}const je="hsl(0, 0%, 0%)",Hm="hsl(0, 0%, 100%)",yt={default:{lightest:"hsl(0, 0%, 95%)",lighter:"hsl(0, 0%, 70%)",light:"hsl(0, 0%, 65%)",base:"hsl(0, 0%, 50%)",dark:"hsl(0, 0%, 35%)",darker:"hsl(0, 0%, 20%)",darkest:"hsl(0, 0%, 5%)"},transparent:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},primary:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},positive:{lightest:"hsl(120, 100%, 95%)",lighter:"hsl(120, 100%, 70%)",light:"hsl(120, 100%, 65%)",base:"hsl(120, 100%, 50%)",dark:"hsl(120, 100%, 35%)",darker:"hsl(120, 100%, 20%)",darkest:"hsl(120, 100%, 5%)"},caution:{lightest:"hsl(60, 100%, 95%)",lighter:"hsl(60, 100%, 70%)",light:"hsl(60, 100%, 65%)",base:"hsl(60, 100%, 50%)",dark:"hsl(60, 100%, 35%)",darker:"hsl(60, 100%, 20%)",darkest:"hsl(60, 100%, 5%)"},critical:{lightest:"hsl(0, 100%, 95%)",lighter:"hsl(0, 100%, 70%)",light:"hsl(0, 100%, 65%)",base:"hsl(0, 100%, 50%)",dark:"hsl(0, 100%, 35%)",darker:"hsl(0, 100%, 20%)",darkest:"hsl(0, 100%, 5%)"}},UGe={gray:"hsl(0, 0%, 50%)",red:"hsl(0, 100%, 50%)",orange:"hsl(30, 100%, 50%)",yellow:"hsl(60, 100%, 50%)",green:"hsl(120, 100%, 50%)",cyan:"hsl(180, 100%, 50%)",blue:"hsl(240, 100%, 50%)",purple:"hsl(270, 100%, 50%)",magenta:"hsl(300, 100%, 50%)"},XC={transparent:{bg:[yt.transparent.darkest,yt.transparent.lightest],fg:[yt.transparent.lightest,yt.transparent.darkest],border:[yt.transparent.darker,yt.transparent.lighter],focusRing:[yt.transparent.base,yt.transparent.base]},primary:{bg:[yt.primary.darkest,yt.primary.lightest],fg:[yt.primary.lightest,yt.primary.darkest],border:[yt.primary.darker,yt.primary.lighter],focusRing:[yt.primary.base,yt.primary.base]},positive:{bg:[yt.positive.darkest,yt.positive.lightest],fg:[yt.positive.lightest,yt.positive.darkest],border:[yt.positive.darker,yt.positive.lighter],focusRing:[yt.positive.base,yt.positive.base]},caution:{bg:[yt.caution.darkest,yt.caution.lightest],fg:[yt.caution.lightest,yt.caution.darkest],border:[yt.caution.darker,yt.caution.lighter],focusRing:[yt.caution.base,yt.caution.base]},critical:{bg:[yt.critical.darkest,yt.critical.lightest],fg:[yt.critical.lightest,yt.critical.darkest],border:[yt.critical.darker,yt.critical.lighter],focusRing:[yt.critical.base,yt.critical.base]}},WGe={base:e=>{let{dark:t,name:n}=e;return n==="default"?{bg:t?je:Hm,fg:t?Hm:je,border:t?yt.default.darkest:yt.default.lightest,focusRing:yt.primary.base,shadow:{outline:je,umbra:je,penumbra:je,ambient:je},skeleton:{from:t?Hm:je,to:t?Hm:je}}:{bg:XC[n].bg[t?0:1],fg:XC[n].fg[t?0:1],border:XC[n].border[t?0:1],focusRing:XC[n].focusRing[t?0:1],shadow:{outline:je,umbra:je,penumbra:je,ambient:je},skeleton:{from:t?Hm:je,to:t?Hm:je}}},solid:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=yt[o];return r==="hovered"?{bg:n?i.light:i.dark,bg2:n?i.light:i.dark,border:n?i.lighter:i.darker,fg:n?i.darkest:i.lightest,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}:{bg:i.base,bg2:i.base,border:n?i.light:i.dark,fg:n?i.darkest:i.lightest,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}},muted:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=yt[o];return r==="hovered"?{bg:n?i.darker:i.lighter,bg2:n?i.darker:i.lighter,border:n?i.lighter:i.darker,fg:n?i.lightest:i.darkest,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}:{bg:n?i.darkest:i.lightest,bg2:n?i.darkest:i.lightest,border:n?i.darker:i.lighter,fg:n?i.lighter:i.darker,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{...r,enabled:{bg:"transparent",bg2:"transparent",fg:r.enabled.fg,border:"transparent",muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton},hovered:{bg:r.enabled.bg,bg2:r.enabled.bg,fg:r.hovered.fg,border:"transparent",muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}}:n==="ghost"?{...o,enabled:r.enabled}:o},card:e=>{let{base:t}=e;return{bg:je,bg2:je,fg:je,border:je,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}},input:()=>({bg:je,fg:je,border:je,placeholder:je}),selectable:e=>{let{muted:t,state:n,tone:r}=e;return t[r][n]},spot:e=>{let{key:t}=e;return UGe[t]},syntax:()=>({atrule:je,attrName:je,attrValue:je,attribute:je,boolean:je,builtin:je,cdata:je,char:je,class:je,className:je,comment:je,constant:je,deleted:je,doctype:je,entity:je,function:je,hexcode:je,id:je,important:je,inserted:je,keyword:je,number:je,operator:je,prolog:je,property:je,pseudoClass:je,pseudoElement:je,punctuation:je,regex:je,selector:je,string:je,symbol:je,tag:je,unit:je,url:je,variable:je})};function YGe(e,t,n,r,o){return{default:{enabled:e.input({base:t,dark:n,mode:"default",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"default",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"default",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"default",state:"readOnly",solid:r.default,muted:o.default})},invalid:{enabled:e.input({base:t,dark:n,mode:"invalid",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"invalid",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"invalid",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"invalid",state:"readOnly",solid:r.default,muted:o.default})}}}function qGe(e,t,n,r){return{default:{enabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function GGe(e,t,n,r,o){return{default:A1(e,t,n,r,o,"default"),primary:A1(e,t,n,r,o,"primary"),positive:A1(e,t,n,r,o,"positive"),caution:A1(e,t,n,r,o,"caution"),critical:A1(e,t,n,r,o,"critical")}}function A1(e,t,n,r,o,i){return{enabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"enabled",tone:i}),hovered:e.selectable({base:t,dark:n,solid:r,muted:o,state:"hovered",tone:i}),pressed:e.selectable({base:t,dark:n,solid:r,muted:o,state:"pressed",tone:i}),selected:e.selectable({base:t,dark:n,solid:r,muted:o,state:"selected",tone:i}),disabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"disabled",tone:i})}}function KGe(e,t,n,r){return{default:{enabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function ZGe(e,t,n){return{gray:e.spot({base:t,dark:n,key:"gray"}),blue:e.spot({base:t,dark:n,key:"blue"}),purple:e.spot({base:t,dark:n,key:"purple"}),magenta:e.spot({base:t,dark:n,key:"magenta"}),red:e.spot({base:t,dark:n,key:"red"}),orange:e.spot({base:t,dark:n,key:"orange"}),yellow:e.spot({base:t,dark:n,key:"yellow"}),green:e.spot({base:t,dark:n,key:"green"}),cyan:e.spot({base:t,dark:n,key:"cyan"})}}function XGe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={...WGe,...e};return{light:VU(t,!1),dark:VU(t,!0)}}function VU(e,t){return{default:Um(e,t,"default"),transparent:Um(e,t,"transparent"),primary:Um(e,t,"primary"),positive:Um(e,t,"positive"),caution:Um(e,t,"caution"),critical:Um(e,t,"critical")}}function Um(e,t,n){const r=e.base({dark:t,name:n}),o=KGe(e,r,t,n),i=qGe(e,r,t,n);return{base:r,button:VGe(e,r,t,o,i),card:HGe(e,r,t,n,o,i),dark:t,input:YGe(e,r,t,o,i),selectable:GGe(e,r,t,o,i),spot:ZGe(e,r,t),syntax:e.syntax({base:r,dark:t}),solid:o,muted:i}}function gh(e,t){const n=qb(e),r=qb(t);return awe(OGe(n,r))}function vh(e,t){const n=qb(e),r=qb(t);return awe(RGe(n,r))}const Ni={default:pe.gray,transparent:pe.gray,primary:pe.blue,positive:pe.green,caution:pe.yellow,critical:pe.red},D1=["default","transparent"],QGe=XGe({base:e=>{let{dark:t,name:n}=e;if(n==="default"){const i=pe.gray,s=t?i[900].hex:i[100].hex;return{fg:t?_a.hex:lc.hex,bg:t?lc.hex:_a.hex,border:i[t?800:200].hex,focusRing:pe.blue[500].hex,shadow:{outline:Dt(i[500].hex,.4),umbra:t?Dt(i[950].hex,.4):Dt(i[500].hex,.2),penumbra:t?Dt(i[950].hex,.28):Dt(i[500].hex,.14),ambient:t?Dt(i[950].hex,.24):Dt(i[500].hex,.12)},skeleton:{from:s,to:Dt(s,.5)}}}if(n==="transparent"){const i=Ni.default,s=i[t?800:200].hex;return{fg:i[t?100:900].hex,bg:i[t?950:50].hex,border:i[t?800:300].hex,focusRing:pe.blue[500].hex,shadow:{outline:Dt(i[500].hex,.4),umbra:t?Dt(i[900].hex,.4):Dt(i[500].hex,.2),penumbra:t?Dt(i[900].hex,.28):Dt(i[500].hex,.14),ambient:t?Dt(i[900].hex,.24):Dt(i[500].hex,.12)},skeleton:{from:s,to:Dt(s,.5)}}}const r=Ni[n]||Ni.default,o=r[t?800:200].hex;return{fg:r[t?100:900].hex,bg:r[t?950:50].hex,border:r[t?800:200].hex,focusRing:r[500].hex,shadow:{outline:Dt(r[500].hex,.4),umbra:t?Dt(r[900].hex,.4):Dt(r[500].hex,.2),penumbra:t?Dt(r[900].hex,.28):Dt(r[500].hex,.14),ambient:t?Dt(r[900].hex,.24):Dt(r[500].hex,.12)},skeleton:{from:o,to:Dt(o,.5)}}},solid:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?vh:gh,a=n?gh:vh,c=Ni[r]||Ni.default,u=D1.includes(r)&&D1.includes(i);let d=Ni[i==="default"?r:i]||c;if(o==="disabled"){d=c;const m=s(t.bg,d[n?800:200].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?800:200].hex),fg:s(t.bg,n?lc.hex:_a.hex),muted:{fg:s(t.bg,d[n?950:50].hex)},accent:{fg:s(t.bg,d[n?950:50].hex)},link:{fg:s(t.bg,d[n?950:50].hex)},code:{bg:m,fg:s(t.bg,d[n?950:50].hex)},skeleton:{from:v,to:Dt(v,.5)}}}if(o==="hovered"){const m=s(t.bg,d[n?300:600].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?300:600].hex),fg:s(t.bg,n?lc.hex:_a.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,pe.red[n?800:200].hex)},link:{fg:a(m,pe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:Dt(v,.5)}}}if(o==="pressed"){const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:s(t.bg,d[n?200:800].hex),bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?lc.hex:_a.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,pe.red[n?800:200].hex)},link:{fg:a(m,pe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:Dt(v,.5)}}}if(o==="selected"){u&&(d=Ni.primary);const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?lc.hex:_a.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,pe.red[n?800:200].hex)},link:{fg:a(m,pe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:Dt(v,.5)}}}const f=s(t.bg,d[n?400:500].hex),p=a(f,d[n?200:800].hex);return{bg:f,bg2:a(f,d[n?50:950].hex),border:s(t.bg,d[n?400:500].hex),fg:s(t.bg,n?lc.hex:_a.hex),muted:{fg:s(t.bg,d[n?900:100].hex)},accent:{fg:a(f,pe.red[n?900:100].hex)},link:{fg:a(f,pe.blue[n?900:100].hex)},code:{bg:s(f,d[n?950:50].hex),fg:s(t.bg,d[n?900:100].hex)},skeleton:{from:p,to:Dt(p,.5)}}},muted:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?vh:gh,a=Ni[r]||Ni.default,c=D1.includes(r)&&D1.includes(i);let u=Ni[i==="default"?r:i]||a;if(o==="disabled"){u=a;const p=t.bg,m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?950:50].hex),fg:s(p,u[n?800:200].hex),muted:{fg:s(p,u[n?900:100].hex)},accent:{fg:s(p,u[n?900:100].hex)},link:{fg:s(p,u[n?900:100].hex)},code:{bg:p,fg:s(p,u[n?900:100].hex)},skeleton:{from:Dt(m,.5),to:Dt(m,.25)}}}if(o==="hovered"){const p=s(t.bg,u[n?950:50].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,pe.red[n?400:500].hex)},link:{fg:s(t.bg,pe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Dt(m,.5)}}}if(o==="pressed"){c&&(u=Ni.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,pe.red[n?400:500].hex)},link:{fg:s(p,pe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Dt(m,.5)}}}if(o==="selected"){c&&(u=Ni.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,pe.red[n?400:500].hex)},link:{fg:s(p,pe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Dt(m,.5)}}}const d=t.bg,f=s(d,u[n?900:100].hex);return{bg:d,bg2:s(d,u[n?950:50].hex),border:s(d,u[n?900:100].hex),fg:s(t.bg,u[n?300:700].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,pe.red[n?400:500].hex)},link:{fg:s(t.bg,pe.blue[n?400:600].hex)},code:{bg:s(t.bg,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:f,to:Dt(f,.5)}}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{enabled:{...r.enabled,border:r.enabled.bg},hovered:{...r.hovered,border:r.hovered.bg},pressed:{...r.pressed,border:r.pressed.bg},selected:{...r.selected,border:r.selected.bg},disabled:{...r.disabled,border:r.disabled.bg}}:n==="ghost"?{...o,enabled:{...r.enabled,border:t.border},disabled:r.disabled}:o},card:e=>{let{base:t,dark:n,muted:r,name:o,solid:i,state:s}=e;if(s==="hovered")return r[o].hovered;if(s==="disabled")return r[o].disabled;const a=D1.includes(o),c=Ni[o]||Ni.default,u=n?vh:gh;if(s==="pressed")return a?r.primary.pressed:r[o].pressed;if(s==="selected")return a?i.primary.enabled:i[o].enabled;const d=t.bg,f=u(t.bg,c[n?900:100].hex);return{bg:d,bg2:u(d,c[n?950:50].hex),fg:t.fg,border:t.border,muted:{fg:u(t.bg,c[n?400:600].hex)},accent:{fg:u(t.bg,pe.red[n?400:500].hex)},link:{fg:u(t.bg,pe.blue[n?400:600].hex)},code:{bg:u(t.bg,c[n?950:50].hex),fg:c[n?400:600].hex},skeleton:{from:f,to:Dt(f,.5)}}},input:e=>{let{base:t,dark:n,mode:r,state:o}=e;const i=n?vh:gh;if(r==="invalid"){const s=Ni.critical;return{bg:i(t.bg,s[n?950:50].hex),fg:i(t.bg,s[n?400:600].hex),border:i(t.bg,s[n?800:200].hex),placeholder:i(t.bg,s[n?600:400].hex)}}return o==="hovered"?{bg:t.bg,fg:t.fg,border:i(t.bg,pe.gray[n?700:300].hex),placeholder:i(t.bg,pe.gray[n?600:400].hex)}:o==="disabled"?{bg:i(t.bg,pe.gray[n?950:50].hex),fg:i(t.bg,pe.gray[n?700:300].hex),border:i(t.bg,pe.gray[n?900:100].hex),placeholder:i(t.bg,pe.gray[n?800:200].hex)}:o==="readOnly"?{bg:i(t.bg,pe.gray[n?950:50].hex),fg:i(t.bg,pe.gray[n?200:800].hex),border:i(t.bg,pe.gray[n?800:200].hex),placeholder:i(t.bg,pe.gray[n?600:400].hex)}:{bg:t.bg,fg:t.fg,border:t.border,placeholder:i(t.bg,pe.gray[n?600:400].hex)}},selectable:e=>{let{base:t,muted:n,tone:r,solid:o,state:i}=e;return i==="enabled"?{...n[r].enabled,bg:t.bg}:i==="pressed"?r==="default"?n.primary.pressed:n[r].pressed:i==="selected"?r==="default"?o.primary.enabled:o[r].enabled:i==="disabled"?{...n[r].disabled,bg:t.bg}:n[r][i]},spot:e=>{let{base:t,dark:n,key:r}=e;return(n?vh:gh)(t.bg,pe[r][n?400:500].hex)},syntax:e=>{let{base:t,dark:n}=e;const r=n?vh:gh,o=n?400:600,i=n?600:400;return{atrule:r(t.bg,pe.purple[o].hex),attrName:r(t.bg,pe.green[o].hex),attrValue:r(t.bg,pe.yellow[o].hex),attribute:r(t.bg,pe.yellow[o].hex),boolean:r(t.bg,pe.purple[o].hex),builtin:r(t.bg,pe.purple[o].hex),cdata:r(t.bg,pe.yellow[o].hex),char:r(t.bg,pe.yellow[o].hex),class:r(t.bg,pe.orange[o].hex),className:r(t.bg,pe.cyan[o].hex),comment:r(t.bg,pe.gray[i].hex),constant:r(t.bg,pe.purple[o].hex),deleted:r(t.bg,pe.red[o].hex),doctype:r(t.bg,pe.gray[i].hex),entity:r(t.bg,pe.red[o].hex),function:r(t.bg,pe.green[o].hex),hexcode:r(t.bg,pe.blue[o].hex),id:r(t.bg,pe.purple[o].hex),important:r(t.bg,pe.purple[o].hex),inserted:r(t.bg,pe.yellow[o].hex),keyword:r(t.bg,pe.magenta[o].hex),number:r(t.bg,pe.purple[o].hex),operator:r(t.bg,pe.magenta[o].hex),prolog:r(t.bg,pe.gray[i].hex),property:r(t.bg,pe.blue[o].hex),pseudoClass:r(t.bg,pe.yellow[o].hex),pseudoElement:r(t.bg,pe.yellow[o].hex),punctuation:r(t.bg,pe.gray[o].hex),regex:r(t.bg,pe.blue[o].hex),selector:r(t.bg,pe.red[o].hex),string:r(t.bg,pe.yellow[o].hex),symbol:r(t.bg,pe.purple[o].hex),tag:r(t.bg,pe.red[o].hex),unit:r(t.bg,pe.orange[o].hex),url:r(t.bg,pe.red[o].hex),variable:r(t.bg,pe.red[o].hex)}}}),JGe={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]},heading:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:12,iconSize:17,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:21,iconSize:33,lineHeight:27,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:27,iconSize:41,lineHeight:33,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:33,iconSize:49,lineHeight:39,letterSpacing:0},{ascenderHeight:9,descenderHeight:9,fontSize:38,iconSize:53,lineHeight:45,letterSpacing:0}]},label:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:9.8,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:11.25,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.75,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:14,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15.5,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]}},Of={avatar:{sizes:[{distance:-3,size:25},{distance:-6,size:35},{distance:-9,size:55}]},button:{textWeight:"medium"},color:QGe,container:[320,640,960,1280,1600,1920],focusRing:{offset:1,width:2},fonts:JGe,media:[360,600,900,1200,1800,2400],radius:[0,1,3,6,9,12,21],shadows:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-1],penumbra:[0,6,10,0],ambient:[0,1,18,0]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{checkbox:{size:17},radio:{size:17,markSize:9},switch:{width:33,height:17,padding:4,transitionDurationMs:150,transitionTimingFunction:"ease-out"},border:{width:1}}},eKe={dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}};function tKe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const Qt=tKe(),LR=Symbol.for("@sanity/ui/context/theme");Qt[LR]=Qt[LR]||h.createContext(null);const BR=Qt[LR];function _E(e){const t=h.useContext(BR),{children:n,scheme:r=(t==null?void 0:t.scheme)||"light",theme:o=(t==null?void 0:t.theme)||null,tone:i=(t==null?void 0:t.tone)||"default"}=e,s=h.useMemo(()=>{if(!o)return null;const{color:c,layer:u,...d}=o,f=c[r]||c.light,p=f[i]||f.default;return{sanity:{...d,color:p,layer:u||eKe}}},[r,o,i]),a=h.useMemo(()=>o&&{version:0,theme:o,scheme:r,tone:i},[o,r,i]);return s?l.jsx(BR.Provider,{value:a,children:l.jsx(nLe,{theme:s,children:n})}):l.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}function y0(e){return!!(e&&typeof e=="object")}function b0(){const e=h.useContext(BR);if(!e)throw new Error("useRootTheme(): missing context value");if(!y0(e)||e.version!==0)throw new Error("useRootTheme(): the context value is not compatible");return e}function lwe(e){const{children:t,scheme:n,tone:r}=e,o=b0();return l.jsx(_E,{scheme:n||o.scheme,theme:o.theme,tone:r,children:t})}function As(){return e0e()}const HU=new WeakMap;function nKe(e,t){return t===0?"screen and (max-width: ".concat(e[t]-1,"px)"):t===e.length?"screen and (min-width: ".concat(e[t-1],"px)"):"screen and (min-width: ".concat(e[t-1],"px) and (max-width: ").concat(e[t]-1,"px)")}function rKe(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let s=t;s>-1;s-=1){const a=nKe(e,s);n.push({index:s,mq:window.matchMedia(a)})}}return n};return{getSnapshot:()=>{for(const{index:s,mq:a}of r())if(a.matches)return s;return 0},subscribe:s=>{const a=[];for(const{mq:c}of r()){const u=()=>{c.matches&&s()};c.addEventListener("change",u),a.push(()=>c.removeEventListener("change",u))}return()=>{for(const c of a)c()}}}}function oKe(){return 0}function pm(){const e=As(),{media:t}=e.sanity;let n=HU.get(t);return n||(n=rKe(t),HU.set(t,n)),h.useSyncExternalStore(n.subscribe,n.getSnapshot,oKe)}let pI;function cwe(){return pI||(pI=window.matchMedia("(prefers-color-scheme: dark)")),pI}function iKe(e){const t=cwe();return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}function sKe(){return cwe().matches}function aKe(){return!1}function lKe(){return h.useSyncExternalStore(iKe,sKe,aKe)}const cKe=typeof window<"u"?h.useLayoutEffect:h.useEffect;function dr(e){const t=h.useRef(null);return cKe(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}function mw(e,t){h.useEffect(()=>{e.current&&e.current.setCustomValidity(t||"")},[t,e])}const gw="1px solid var(--card-border-color)";function uKe(){return[dKe,fKe,hKe,pKe,mKe]}function dKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$border,r=>r?{"&&":{border:gw}}:{"&&":{border:0}})}function fKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$borderTop,r=>r?{"&&":{borderTop:gw}}:{"&&":{borderTop:0}})}function hKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$borderRight,r=>r?{"&&":{borderRight:gw}}:{"&&":{borderRight:0}})}function pKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$borderBottom,r=>r?{"&&":{borderBottom:gw}}:{"&&":{borderBottom:0}})}function mKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$borderLeft,r=>r?{"&&":{borderLeft:gw}}:{"&&":{borderLeft:0}})}const gKe={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},vKe={content:"content-box",border:"border-box"},yKe={stretch:"stretch",fill:"100%"};function bKe(){return gKe}function xKe(){return[CKe,_Ke,SKe,wKe]}function wKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$display,r=>({"&:not([hidden])":{display:r}}))}function CKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$sizing,r=>({boxSizing:vKe[r]}))}function _Ke(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$height,r=>({height:yKe[r]}))}function SKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$overflow,r=>({overflow:r}))}const EKe={"&&:not([hidden])":{display:"flex"}};function kKe(){return[EKe,jKe,TKe,AKe,DKe,IKe]}function jKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$align,r=>({alignItems:r}))}function TKe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return vt(n,e.$gap,o=>({gap:o?ye(r[o]):void 0}))}function AKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$wrap,r=>({flexWrap:r}))}function DKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$justify,r=>({justifyContent:r}))}function IKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$direction,r=>({flexDirection:r}))}const PKe={minWidth:0,minHeight:0};function uwe(){return[PKe,OKe]}function OKe(e){const{theme:t}=e,{media:n}=t.sanity;return e.$flex?vt(n,e.$flex,r=>({flex:r})):pw}function So(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Ac(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&So(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}const RKe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},$Ke={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},MKe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function FKe(){return[RKe,LKe,BKe,NKe,zKe,VKe,HKe,UKe,WKe]}function LKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$autoFlow,r=>({gridAutoFlow:r}))}function BKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$autoRows,r=>({gridAutoRows:r&&MKe[r]}))}function NKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$autoCols,r=>({gridAutoColumns:r&&$Ke[r]}))}function zKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$columns,r=>({gridTemplateColumns:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function VKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$rows,r=>({gridTemplateRows:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function HKe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return vt(n,e.$gap,o=>({gridGap:o?ye(r[o]):void 0}))}function UKe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return vt(n,e.$gapX,o=>({columnGap:o?ye(r[o]):void 0}))}function WKe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return vt(n,e.$gapY,o=>({rowGap:o?ye(r[o]):void 0}))}function YKe(){return[KKe,ZKe,XKe,QKe,JKe,eZe]}const qKe={auto:"auto",full:"1 / -1"},GKe={auto:"auto",full:"1 / -1"};function KKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$row,r=>typeof r=="number"?{gridRow:"span ".concat(r," / span ").concat(r)}:{gridRow:qKe[r]})}function ZKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$rowStart,r=>({gridRowStart:r}))}function XKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$rowEnd,r=>({gridRowEnd:r}))}function QKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$column,r=>typeof r=="number"?{gridColumn:"span ".concat(r," / span ").concat(r)}:{gridColumn:GKe[r]})}function JKe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$columnStart,r=>({gridColumnStart:r}))}function eZe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$columnEnd,r=>({gridColumnEnd:r}))}function b6(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:o,$space:i,theme:s}=e,{fonts:a,media:c,space:u}=s.sanity,d=Math.max(o.length,i.length,t.length),f=[],p=[],m=[];for(let v=0;v<d;v+=1)m[v]=t[v]===void 0?m[v-1]:t[v],f[v]=o[v]===void 0?f[v-1]:o[v],p[v]=i[v]===void 0?p[v-1]:i[v];return vt(c,f,(v,g)=>{const y=a.text.sizes[m[g]]||a.text.sizes[2],x=y.lineHeight-y.ascenderHeight-y.descenderHeight,b=u[f[g]],w=u[p[g]],C={paddingTop:ye(b-y.ascenderHeight),paddingRight:ye(b),paddingBottom:ye(b-y.descenderHeight),paddingLeft:ye(b)};return r&&(C.paddingRight=ye(b+x+w)),n&&(C.paddingLeft=ye(b+x+w)),C})}function tZe(e){return b6({...e,$iconRight:!0})}var UU=Object.freeze,nZe=Object.defineProperty,x6=(e,t)=>UU(nZe(e,"raw",{value:UU(t||e.slice())})),WU,YU,qU;const rZe=he(WU||(WU=x6([`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`])));function dwe(){return rZe}function fwe(e){const{theme:t,$scheme:n,$tone:r,$weight:o}=e,i=t.sanity.fonts.text,s=t.sanity.color.input;return he(YU||(YU=x6([`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: `,`;
    font-weight: `,`;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chrome’s autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='`,"'][data-tone='",`'] {
      --input-fg-color: `,`;
      --input-placeholder-color: `,`;

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* invalid */
      &:invalid {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }
    }
  `])),i.family,o&&i.weights[o]||i.weights.regular,n,r,s.default.enabled.fg,s.default.enabled.placeholder,s.default.enabled.fg,s.default.enabled.placeholder,s.default.disabled.fg,s.default.disabled.placeholder,s.invalid.enabled.fg,s.invalid.enabled.placeholder,s.default.readOnly.fg,s.default.readOnly.placeholder)}function hwe(e){const{theme:t}=e,{fonts:n,media:r}=t.sanity;return vt(r,e.$fontSize,o=>{const i=n.text.sizes[o]||n.text.sizes[2];return{fontSize:ye(i.fontSize),lineHeight:i.lineHeight/i.fontSize}})}function pwe(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:o,theme:i}=e,{focusRing:s,input:a}=i.sanity,c=i.sanity.color.input;return he(qU||(qU=x6([`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: `,`;
    border-bottom-left-radius: `,`;
    border-top-right-radius: `,`;
    border-bottom-right-radius: `,`;

    &[data-scheme='`,"'][data-tone='",`'] {
      --card-bg-color: `,`;
      --card-fg-color: `,`;

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: `,`;
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: `,`;
        --card-fg-color: `,`;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: `,`;
        }

        &:not([data-border]) {
          --input-box-shadow: `,`;
        }
      }

      /* disabled */
      *:disabled + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* readOnly */
      *:read-only + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: `,`;
          --card-fg-color: `,`;
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: `,`;
        }
      }
    }
  `])),t?0:void 0,t?0:void 0,n?0:void 0,n?0:void 0,r,o,c.default.enabled.bg,c.default.enabled.fg,So({color:c.default.enabled.border,width:a.border.width}),c.invalid.enabled.bg,c.invalid.enabled.fg,So({color:c.invalid.enabled.border,width:a.border.width}),Ac({border:{color:c.default.enabled.border,width:a.border.width},focusRing:s}),Ac({focusRing:s}),c.default.disabled.bg,c.default.disabled.fg,So({color:c.default.disabled.border,width:a.border.width}),c.default.readOnly.bg,c.default.readOnly.fg,c.default.hovered.bg,c.default.hovered.fg,So({color:c.default.hovered.border,width:a.border.width}))}function oZe(e){const{theme:t}=e;return[hs(t,["margin"],e.$margin),hs(t,["marginLeft","marginRight"],e.$marginX),hs(t,["marginTop","marginBottom"],e.$marginY),hs(t,["marginTop"],e.$marginTop),hs(t,["marginRight"],e.$marginRight),hs(t,["marginBottom"],e.$marginBottom),hs(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function mwe(e){const{theme:t}=e;return[hs(t,["padding"],e.$padding),hs(t,["paddingLeft","paddingRight"],e.$paddingX),hs(t,["paddingTop","paddingBottom"],e.$paddingY),hs(t,["paddingTop"],e.$paddingTop),hs(t,["paddingRight"],e.$paddingRight),hs(t,["paddingBottom"],e.$paddingBottom),hs(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function id(e){const{theme:t}=e,{media:n,radius:r}=t.sanity;return vt(n,e.$radius,o=>({borderRadius:ye(r[o])}))}function mI(e,t){return"".concat(e.map(ye).join(" ")," ").concat(t)}function iZe(e){if(!e)return gf;const t="0 0 0 ".concat(ye(1)," var(--card-shadow-outline-color)"),n=mI(e.umbra,"var(--card-shadow-umbra-color)"),r=mI(e.penumbra,"var(--card-shadow-penumbra-color)"),o=mI(e.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:"".concat(t,", ").concat(n,", ").concat(r,", ").concat(o)}}function sZe(e){const{theme:t}=e,{media:n,shadows:r}=t.sanity;return vt(n,e.$shadow,o=>iZe(r[o]))}var GU=Object.freeze,aZe=Object.defineProperty,gI=(e,t)=>GU(aZe(e,"raw",{value:GU(t||e.slice())})),KU,ZU,XU;function lZe(e){const{$accent:t,$muted:n,theme:r}=e,{weights:o}=r.sanity.fonts.text;return he(XU||(XU=gI([`
    color: var(--card-fg-color);

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: `,`;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&he(KU||(KU=gI([`
      color: var(--card-accent-fg-color);
    `]))),n&&he(ZU||(ZU=gI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family,o.bold)}var QU=Object.freeze,cZe=Object.defineProperty,uZe=(e,t)=>QU(cZe(e,"raw",{value:QU(t||e.slice())})),JU;const dZe=O.div(lGe,v6,lZe),fZe=O.span(JU||(JU=uZe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),L=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(fZe,{children:f})),l.jsx(dZe,{"data-ui":"Text",...d,$accent:r,$align:Ce(o),$muted:s,ref:n,$size:Ce(a),$weight:u,children:l.jsx("span",{children:f})})}),vw={root:pZe,arrow:hZe,bgStroke:vZe,stroke:yZe,initials:gZe};function hZe(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function pZe(e){const{$color:t,theme:n}=e,{focusRing:r}=n.sanity;return{backgroundColor:t,position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:Ac({focusRing:r})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function mZe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return vt(r,e.$size,o=>{const i=n.sizes[o]||n.sizes[0];return{width:ye(i.size),height:ye(i.size),borderRadius:ye(i.size/2),"&>svg":{width:ye(i.size),height:ye(i.size),borderRadius:ye(i.size/2)}}})}function gZe(e){const{theme:t}=e,{base:n}=t.sanity.color;return{width:"100%",height:"100%",color:n.fg,alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function vZe(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function yZe(){return{strokeWidth:"3px",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const bZe=O.div(mZe,vw.root),xZe=O.div(vw.arrow),wZe=O.ellipse(vw.bgStroke),CZe=O.ellipse(vw.stroke),_Ze=O.div(vw.initials),gwe=h.forwardRef(function(t,n){const{as:r,color:o="gray",src:i,title:s,initials:a,onImageLoadError:c,arrowPosition:u,animateArrowFrom:d,status:f="online",size:p=0,...m}=t,v=aFe.isValidElementType(r)?r:"div",g=Ce(p),y=As(),x=y.sanity.color.spot[o]||y.sanity.color.spot.gray,w=(y.sanity.avatar.sizes[g[0]]||y.sanity.avatar.sizes[0]).size,C=w/2,_=h.useId(),[S,E]=h.useState(d||u||"inside"),[j,k]=h.useState(!1),T="avatar-image-".concat(_);h.useEffect(()=>{if(S===u)return;const I=requestAnimationFrame(()=>E(u));return()=>cancelAnimationFrame(I)},[S,u]),h.useEffect(()=>{i&&k(!1)},[i]);const A=h.useCallback(()=>{k(!0),c&&c(new Error("Avatar: the image failed to load"))},[c]),D=h.useMemo(()=>g.map(I=>I===0?0:I+1),[g]);return l.jsxs(bZe,{as:v,"data-as":typeof v=="string"?v:void 0,"data-ui":"Avatar",...m,$size:g,$color:x,"aria-label":s,"data-arrow-position":S,"data-status":f,ref:n,title:s,children:[l.jsx(xZe,{children:l.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:l.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:x})})}),!j&&i&&l.jsxs("svg",{viewBox:"0 0 ".concat(w," ").concat(w),fill:"none",children:[l.jsx("defs",{children:l.jsx("pattern",{id:T,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:l.jsx("image",{href:i,width:"1",height:"1",onError:A})})}),l.jsx("circle",{cx:C,cy:C,r:C,fill:"url(#".concat(T,")")}),l.jsx(wZe,{cx:C,cy:C,rx:C,ry:C,vectorEffect:"non-scaling-stroke"}),l.jsx(CZe,{cx:C,cy:C,rx:C,ry:C,stroke:x,vectorEffect:"non-scaling-stroke"})]}),(j||!i)&&a&&l.jsx(l.Fragment,{children:l.jsx(_Ze,{children:l.jsx(L,{as:"span",size:D,children:l.jsx("strong",{children:a})})})})]})});var eW=Object.freeze,SZe=Object.defineProperty,EZe=(e,t)=>eW(SZe(e,"raw",{value:eW(t||e.slice())})),tW;function kZe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return vt(r,e.$size,o=>{const i=n.sizes[o];return i?{borderRadius:ye(i.size/2),minWidth:ye(i.size),height:ye(i.size)}:gf})}function jZe(e){const{theme:t}=e;return he(tW||(tW=EZe([`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1.5px var(--card-hairline-hard-color);
    padding: 0 `,`;

    &:not([hidden]) {
      display: flex;
    }
  `])),ye(t.sanity.space[2]))}const TZe=O.div(kZe,jZe),NR=h.forwardRef(function(t,n){const{count:r,size:o=0}=t,i=Ce(o),s=h.useMemo(()=>i.map(a=>a===0?0:a+1),[i]);return l.jsx(TZe,{$size:i,"data-ui":"AvatarCounter",ref:n,children:l.jsx(L,{as:"span",size:s,children:l.jsx("strong",{children:r})})})});function vwe(e){return(Array.isArray(e)?e:[e]).filter(n=>Xn.isElement(n)||Xn.isFragment(n)||typeof n=="string")}var nW=Object.freeze,AZe=Object.defineProperty,DZe=(e,t)=>nW(AZe(e,"raw",{value:nW(t||e.slice())})),rW;const IZe=he(rW||(rW=DZe([`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`])));function PZe(){return IZe}function OZe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return vt(r,e.$size,o=>{const i=n.sizes[o];return i?{"& > div + div":{marginLeft:ye(i.distance)}}:gf})}const RZe=O.div(OZe,PZe),Pj=h.forwardRef(function(t,n){const{children:r,maxLength:o=4,size:i=0,...s}=t,a=vwe(r).filter(v=>typeof v!="string"),c=Math.max(o,0),u=Ce(i),d=a.length,f=c-1,p=d-f,m=p>1?a.slice(p,d):a;return l.jsxs(RZe,{"data-ui":"AvatarStack",...s,ref:n,$size:u,children:[d===0&&l.jsx("div",{children:l.jsx(NR,{count:d})}),d!==0&&p>1&&l.jsx("div",{children:l.jsx(NR,{count:p,size:u})}),m.map((v,g)=>l.jsx("div",{children:h.cloneElement(v,{size:u})},String(g)))]})}),$Ze=O.div(bKe,uwe,xKe,YKe,oZe,mwe),M=h.forwardRef(function(t,n){const{as:r="div",column:o,columnStart:i,columnEnd:s,display:a="block",flex:c,height:u,margin:d=0,marginX:f,marginY:p,marginTop:m,marginRight:v,marginBottom:g,marginLeft:y,overflow:x,padding:b=0,paddingX:w,paddingY:C,paddingTop:_,paddingRight:S,paddingBottom:E,paddingLeft:j,row:k,rowStart:T,rowEnd:A,sizing:D,...I}=t;return l.jsx($Ze,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Box",...I,$column:Ce(o),$columnStart:Ce(i),$columnEnd:Ce(s),$display:Ce(a),$flex:Ce(c),$height:Ce(u),$margin:Ce(d),$marginX:Ce(f),$marginY:Ce(p),$marginTop:Ce(m),$marginRight:Ce(v),$marginBottom:Ce(g),$marginLeft:Ce(y),$overflow:Ce(x),$padding:Ce(b),$paddingX:Ce(w),$paddingY:Ce(C),$paddingTop:Ce(_),$paddingRight:Ce(S),$paddingBottom:Ce(E),$paddingLeft:Ce(j),$row:Ce(k),$rowStart:Ce(T),$rowEnd:Ce(A),$sizing:Ce(D),as:r,ref:n,children:t.children})});var oW=Object.freeze,MZe=Object.defineProperty,vI=(e,t)=>oW(MZe(e,"raw",{value:oW(t||e.slice())})),iW,sW,aW;function FZe(e){const{$accent:t,$muted:n,theme:r}=e,{fonts:o}=r.sanity;return he(aW||(aW=vI([`
    text-transform: uppercase;

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&he(iW||(iW=vI([`
      color: var(--card-accent-fg-color);
    `]))),n&&he(sW||(sW=vI([`
      color: var(--card-muted-fg-color);
    `]))),o.code.family)}var lW=Object.freeze,LZe=Object.defineProperty,BZe=(e,t)=>lW(LZe(e,"raw",{value:lW(t||e.slice())})),cW;const NZe=O.div(aGe,v6,FZe),zZe=O.span(cW||(cW=BZe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Vt=h.forwardRef(function(t,n){const{accent:r,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"?f=l.jsx(zZe,{children:f}):f=l.jsx("span",{children:f}),l.jsx(NZe,{"data-ui":"Label",...d,$accent:r,$align:Ce(o),$muted:s,$size:Ce(a),$weight:u,ref:n,children:f})});function VZe(e){const{$mode:t,$tone:n,theme:r}=e,o=r.sanity.color[t==="outline"?"muted":"solid"],i=o[n]||o.default;return{backgroundColor:i.enabled.bg,color:i.enabled.fg,boxShadow:"inset 0 0 0 1px ".concat(i.enabled.border),cursor:"default","&:not([hidden])":{display:"inline-block"}}}const HZe=O(M)(id,VZe),w6=h.forwardRef(function(t,n){const{children:r,fontSize:o,mode:i="default",padding:s=1,radius:a=2,tone:c="default",...u}=t;return l.jsx(HZe,{"data-ui":"Badge",...u,$mode:i,$tone:c,$radius:Ce(a),padding:Ce(s),ref:n,children:l.jsx(Vt,{size:o,children:r})})}),UZe=O(M)(uwe,kKe),U=h.forwardRef(function(t,n){const{align:r,as:o,direction:i="row",gap:s,justify:a,wrap:c,...u}=t;return l.jsx(UZe,{"data-ui":"Flex",...u,$align:Ce(r),$direction:Ce(i),$gap:Ce(s),$justify:Ce(a),$wrap:Ce(c),forwardedAs:o,ref:n})});var uW=Object.freeze,WZe=Object.defineProperty,ywe=(e,t)=>uW(WZe(e,"raw",{value:uW(t||e.slice())})),dW,fW;const YZe=am(dW||(dW=ywe([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),qZe=O(L)(fW||(fW=ywe([`
  & > span > svg {
    animation: `,` 500ms linear infinite;
  }
`])),YZe),fr=h.forwardRef(function(t,n){return l.jsx(qZe,{"data-ui":"Spinner",...t,ref:n,children:l.jsx(Qx,{})})});function zt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var r,o,i,s,a,c,u,d;return{"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-focus-ring-color":e.focusRing,"--card-bg-color":t.bg,"--card-bg-image":n?"repeating-conic-gradient(".concat(t.bg," 0% 25%, ").concat(t.bg2||t.bg," 0% 50%)"):void 0,"--card-fg-color":t.fg,"--card-border-color":t.border,"--card-muted-fg-color":(r=t.muted)==null?void 0:r.fg,"--card-accent-fg-color":(o=t.accent)==null?void 0:o.fg,"--card-link-fg-color":(i=t.link)==null?void 0:i.fg,"--card-code-bg-color":(s=t.code)==null?void 0:s.bg,"--card-code-fg-color":(a=t.code)==null?void 0:a.fg,"--card-skeleton-color-from":(c=t.skeleton)==null?void 0:c.from,"--card-skeleton-color-to":(u=t.skeleton)==null?void 0:u.to,"--card-link-color":(d=t.link)==null?void 0:d.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}var hW=Object.freeze,GZe=Object.defineProperty,KZe=(e,t)=>hW(GZe(e,"raw",{value:hW(t||e.slice())})),pW;function ZZe(){return he(pW||(pW=KZe([`
    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `])))}const XZe={border:{width:1}};function QZe(e){var t,n;const{$mode:r,theme:o}=e,{focusRing:i}=o.sanity,s=o.sanity.color.base,a=o.sanity.color.button[r]||o.sanity.color.button.default,c=a[e.$tone]||a.default,u={width:XZe.border.width,color:"var(--card-border-color)"};return[zt(s,c.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:So(u),'&:disabled, &[data-disabled="true"]':zt(s,c.disabled),"&:not([data-disabled='true'])":{"&:focus":{boxShadow:Ac({base:s,border:u,focusRing:i})},"&:focus:not(:focus-visible)":{boxShadow:So(u)},"@media (hover: hover)":{"&:hover":zt(s,c.hovered),"&:active":zt(s,c.pressed),"&[data-hovered]":zt(s,c.hovered)},"&[data-selected]":zt(s,c.pressed)}},(n=(t=o.sanity.styles)==null?void 0:t.button)==null?void 0:n.root].filter(Boolean)}var mW=Object.freeze,JZe=Object.defineProperty,eXe=(e,t)=>mW(JZe(e,"raw",{value:mW(t||e.slice())})),gW;const tXe=O.button(id,ZZe,QZe),nXe=O.div(gW||(gW=eXe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`]))),se=h.forwardRef(function(t,n){const{children:r,disabled:o,fontSize:i,icon:s,iconRight:a,justify:c="center",loading:u,mode:d="default",padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingBottom:g,paddingLeft:y,paddingRight:x,radius:b=2,selected:w,space:C=3,text:_,textAlign:S,tone:E="default",type:j="button",...k}=t,T=Ce(c),A=Ce(f),D=Ce(p),I=Ce(m),P=Ce(v),$=Ce(g),R=Ce(y),V=Ce(x),N=Ce(b),W=Ce(C),G=As(),H=h.useMemo(()=>({padding:A,paddingX:D,paddingY:I,paddingTop:P,paddingBottom:$,paddingLeft:R,paddingRight:V}),[A,D,I,P,$,R,V]);return l.jsxs(tXe,{"data-ui":"Button",...k,$mode:d,$radius:N,$tone:E,"data-disabled":!!(u||o),"data-selected":w?"":void 0,disabled:!!(u||o),ref:n,type:j,children:[!!u&&l.jsx(nXe,{children:l.jsx(fr,{})}),(s||_||a)&&l.jsx(M,{as:"span",...H,children:l.jsxs(U,{as:"span",justify:T,children:[s&&l.jsxs(L,{size:i,children:[h.isValidElement(s)&&s,Xn.isValidElementType(s)&&h.createElement(s)]}),_&&l.jsx(M,{flex:a?1:void 0,marginLeft:s?W:void 0,marginRight:a?W:void 0,children:l.jsx(L,{align:S,size:i,textOverflow:"ellipsis",weight:G.sanity.button.textWeight,children:_})}),a&&l.jsxs(L,{size:i,children:[h.isValidElement(a)&&a,Xn.isValidElementType(a)&&h.createElement(a)]})]})}),r&&l.jsx(M,{as:"span",...H,children:r})]})});var vW=Object.freeze,rXe=Object.defineProperty,zR=(e,t)=>vW(rXe(e,"raw",{value:vW(t||e.slice())})),yW,bW,xW;function oXe(e){return[iXe(e),sXe(e)]}function iXe(e){const{$checkered:t,theme:n}=e,r=n.sanity.space;return he(bW||(bW=zR([`
    `,`

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `])),t&&he(yW||(yW=zR([`
      background-size: `,"px ",`px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `])),r[3],r[3]))}function sXe(e){var t,n;const{$checkered:r,$focusRing:o,theme:i}=e,{focusRing:s}=i.sanity,{base:a,card:c,dark:u}=i.sanity.color,d={width:0,color:"var(--card-border-color)"};return he(xW||(xW=zR([`
    color-scheme: `,`;

    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    `,`
  `])),u?"dark":"light",zt(a,c.enabled,r),zt(a,c.disabled,r),zt(a,c.pressed,r),zt(a,c.selected,r),zt(a,c.hovered,r),zt(a,c.pressed,r),o?Ac({base:a,border:d,focusRing:s}):void 0,o?So(d):void 0,zt(a,c.disabled,r),zt(a,c.pressed,r),zt(a,c.selected,r),zt(a,c.hovered,r),zt(a,c.pressed,r),o?Ac({base:a,border:d,focusRing:s}):void 0,o?So(d):void 0,(n=(t=i.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const aXe=O(M)(uKe,id,sZe,oXe),ee=h.forwardRef(function(t,n){const{__unstable_checkered:r=!1,__unstable_focusRing:o=!1,as:i,border:s,borderTop:a,borderRight:c,borderBottom:u,borderLeft:d,pressed:f,radius:p=0,scheme:m,selected:v,shadow:g,tone:y="default",...x}=t,b=Xn.isValidElementType(i)?i:"div",w=b0(),C=y==="inherit"?w.tone:y;return l.jsx(lwe,{scheme:m,tone:C,children:l.jsx(aXe,{"data-as":typeof b=="string"?b:void 0,"data-scheme":w.scheme,"data-ui":"Card","data-tone":C,...x,$border:Ce(s),$borderTop:Ce(a),$borderRight:Ce(c),$borderBottom:Ce(u),$borderLeft:Ce(d),$checkered:r,$focusRing:o,$radius:Ce(p),$shadow:Ce(g),$tone:C,"data-checkered":r?"":void 0,"data-pressed":f?"":void 0,"data-selected":v?"":void 0,forwardedAs:b,ref:n,selected:v})})});var wW=Object.freeze,lXe=Object.defineProperty,bwe=(e,t)=>wW(lXe(e,"raw",{value:wW(t||e.slice())})),CW,_W;function cXe(){return he(CW||(CW=bwe([`
    position: relative;
    display: inline-block;
  `])))}function uXe(e){const{theme:t}=e,n=t.sanity.color.input,{focusRing:r,input:o,radius:i}=t.sanity;return he(_W||(_W=bwe([`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: `,`;
      width: `,`;
      box-sizing: border-box;
      box-shadow: `,`;
      border-radius: `,`;
      line-height: 1;
      background-color: `,`;

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 2 !important;
        }
      }
    }

    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }

    &[data-read-only] + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:not([data-read-only]):disabled + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `])),ye(o.checkbox.size),ye(o.checkbox.size),So({color:n.default.enabled.border,width:o.border.width}),ye(i[2]),n.default.enabled.bg,Ac({border:{width:o.border.width,color:n.default.enabled.border},focusRing:r}),So({color:n.default.enabled.border,width:o.border.width}),n.default.readOnly.bg,So({width:o.border.width,color:n.default.readOnly.border}),n.default.readOnly.fg,n.default.disabled.bg,So({width:o.border.width,color:n.default.disabled.border}),n.default.disabled.fg)}const dXe=O.div(cXe),fXe=O.input(uXe),Oj=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,customValidity:a,readOnly:c,style:u,...d}=t,f=dr(n);return mw(f,a),h.useEffect(()=>{f.current&&(f.current.indeterminate=s||!1)},[s,f]),l.jsxs(dXe,{className:o,"data-ui":"Checkbox",style:u,children:[l.jsx(fXe,{"data-read-only":!i&&c?"":void 0,...d,checked:r,disabled:i||c,type:"checkbox",readOnly:c,ref:f}),l.jsxs("span",{children:[l.jsx(Js,{}),l.jsx(j0e,{})]})]})});var SW=Object.freeze,hXe=Object.defineProperty,pXe=(e,t)=>SW(hXe(e,"raw",{value:SW(t||e.slice())})),EW;function mXe(e){let{theme:t}=e;const n=t.sanity.color.syntax;return{"&.atrule":{color:n.atrule},"&.attr-name":{color:n.attrName},"&.attr-value":{color:n.attrValue},"&.attribute":{color:n.attribute},"&.boolean":{color:n.boolean},"&.builtin":{color:n.builtin},"&.cdata":{color:n.cdata},"&.char":{color:n.char},"&.class":{color:n.class},"&.class-name":{color:n.className},"&.comment":{color:n.comment},"&.constant":{color:n.constant},"&.deleted":{color:n.deleted},"&.doctype":{color:n.doctype},"&.entity":{color:n.entity},"&.function":{color:n.function},"&.hexcode":{color:n.hexcode},"&.id":{color:n.id},"&.important":{color:n.important},"&.inserted":{color:n.inserted},"&.keyword":{color:n.keyword},"&.number":{color:n.number},"&.operator":{color:n.operator},"&.prolog":{color:n.prolog},"&.property":{color:n.property},"&.pseudo-class":{color:n.pseudoClass},"&.pseudo-element":{color:n.pseudoElement},"&.punctuation":{color:n.punctuation},"&.regex":{color:n.regex},"&.selector":{color:n.selector},"&.string":{color:n.string},"&.symbol":{color:n.symbol},"&.tag":{color:n.tag},"&.unit":{color:n.unit},"&.url":{color:n.url},"&.variable":{color:n.variable}}}function gXe(){return he(EW||(EW=pXe([`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        `,`
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),mXe)}const vXe=O.pre(gXe,iGe),ar=h.forwardRef(function(t,n){const{children:r,language:o,size:i=2,weight:s,...a}=t,c=typeof o=="string"?o:void 0,u=c?Ap.hasLanguage(c):!1;return l.jsxs(vXe,{"data-ui":"Code",...a,$size:Ce(i),$weight:s,ref:n,children:[!(c&&u)&&l.jsx("code",{children:r}),c&&u&&l.jsx(Ap,{inline:!0,language:c,value:String(r)})]})}),yXe={width:"100%",margin:"0 auto"};function bXe(){return yXe}function xXe(e){const{theme:t}=e,{container:n,media:r}=t.sanity;return vt(r,e.$width,o=>({maxWidth:o==="auto"?"none":ye(n[o])}))}const wXe=O(M)(bXe,xXe),Qr=h.forwardRef(function(t,n){const{as:r,width:o=2,...i}=t;return l.jsx(wXe,{"data-ui":"Container",...i,$width:Ce(o),forwardedAs:r,ref:n})}),CXe=O(M)(FKe),Jt=h.forwardRef(function(t,n){const{as:r,autoRows:o,autoCols:i,autoFlow:s,columns:a,gap:c,gapX:u,gapY:d,rows:f,children:p,...m}=t;return l.jsx(CXe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Grid",...m,$autoRows:Ce(o),$autoCols:Ce(i),$autoFlow:Ce(s),$columns:Ce(a),$gap:Ce(c),$gapX:Ce(u),$gapY:Ce(d),$rows:Ce(f),forwardedAs:r,ref:n,children:p})});var kW=Object.freeze,_Xe=Object.defineProperty,yI=(e,t)=>kW(_Xe(e,"raw",{value:kW(t||e.slice())})),jW,TW,AW;function SXe(e){const{$accent:t,$muted:n,theme:r}=e;return he(AW||(AW=yI([`
    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&he(jW||(jW=yI([`
      color: var(--card-accent-fg-color);
    `]))),n&&he(TW||(TW=yI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family)}var DW=Object.freeze,EXe=Object.defineProperty,kXe=(e,t)=>DW(EXe(e,"raw",{value:DW(t||e.slice())})),IW;const jXe=O.div(SXe,v6,sGe),TXe=O.span(IW||(IW=kXe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Vo=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(TXe,{children:f})),l.jsx(jXe,{"data-ui":"Heading",...d,$accent:r,$align:Ce(o),$muted:s,$size:Ce(a),$weight:u,ref:n,children:l.jsx("span",{children:f})})});function AXe(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function DXe(e){const{theme:t}=e;return vt(t.sanity.media,e.$space,n=>{const r=ye(t.sanity.space[n]);return{margin:"-".concat(r," 0 0 -").concat(r),"& > div":{padding:"".concat(r," 0 0 ").concat(r)}}})}const IXe=O(M)(AXe,DXe),Gt=h.forwardRef(function(t,n){const{as:r,children:o,space:i,...s}=t,a=h.useMemo(()=>vwe(o).filter(Boolean).map((c,u)=>l.jsx("div",{children:c},u)),[o]);return l.jsx(IXe,{"data-ui":"Inline",...s,$space:Ce(i),forwardedAs:r,ref:n,children:a})});var PW=Object.freeze,PXe=Object.defineProperty,OXe=(e,t)=>PW(PXe(e,"raw",{value:PW(t||e.slice())})),OW;function RXe(){return he(OW||(OW=OXe([`
    background: var(--card-bg-color);
    font: inherit;
    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}const $Xe=O.kbd(id,RXe),VR=h.forwardRef(function(t,n){const{children:r,fontSize:o=1,padding:i=1,radius:s=2,...a}=t;return l.jsx($Xe,{"data-ui":"KBD",...a,$radius:Ce(s),ref:n,children:l.jsx(M,{as:"span",padding:i,children:l.jsx(ar,{as:"span",muted:!0,size:o,children:r})})})}),HR=Symbol.for("@sanity/ui/context/boundaryElement");Qt[HR]=Qt[HR]||h.createContext(null);const xwe=Qt[HR];function Lu(e){const{children:t,element:n}=e,r=h.useMemo(()=>({version:0,element:n}),[n]);return l.jsx(xwe.Provider,{value:r,children:t})}const MXe={version:0,element:null};function mm(){const e=h.useContext(xwe);if(e&&(!y0(e)||e.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return e||MXe}function FXe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function LXe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const BXe=h.forwardRef(function(t,n){const r=As(),{children:o,media:i=r.sanity.media,...s}=t,a=dr(n),[c,u]=h.useState(null),d=Ij(c),f=h.useMemo(()=>{var g;return(g=d==null?void 0:d.border.width)!=null?g:window.innerWidth},[d]),p=h.useMemo(()=>FXe(i,f),[i,f]),m=h.useMemo(()=>LXe(i,f),[i,f]),v=h.useCallback(g=>{a.current=g,u(g)},[a]);return l.jsx("div",{"data-ui":"ElementQuery",...s,"data-eq-max":p.length?p.join(" "):void 0,"data-eq-min":m.length?m.join(" "):void 0,ref:v,children:o})});var NXe=Object.defineProperty,zXe=(e,t,n)=>t in e?NXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VXe=(e,t,n)=>(zXe(e,typeof t!="symbol"?t+"":t,n),n);class x0 extends h.Component{constructor(){super(...arguments),VXe(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){this.props.onCatch({error:t,info:n})}render(){const{error:t}=this.state;if(t){const n=typeof(t==null?void 0:t.message)=="string"?t.message:"Error";return l.jsx(ar,{children:n})}return this.props.children}}function wwe(e){if(!y0(e)||e.version!==0)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(e.version===0)return e;throw new Error("could not get layer context")}const UR=Symbol.for("@sanity/ui/context/layer");Qt[UR]=Qt[UR]||h.createContext(null);const WR=Qt[UR];function ua(){const e=h.useContext(WR);if(!e)throw new Error("useLayer(): missing context value");try{return wwe(e)}catch(t){throw t instanceof Error?new Error("useLayer(): ".concat(t.message)):new Error("useLayer(): ".concat(t))}}function YR(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function HXe(e){let t=null;const n=YR(()=>{t=YR(e)});return()=>{t&&t(),n()}}function UXe(e){return C6(e)||_6(e)}function Mc(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function C6(e){return Mc(e)&&e.nodeName==="A"}function WXe(e){return Mc(e)&&e.nodeName==="INPUT"}function _6(e){return Mc(e)&&e.nodeName==="BUTTON"}function YXe(e){return Mc(e)&&e.nodeName==="SELECT"}function qXe(e){return Mc(e)&&e.nodeName==="TEXTAREA"}function qR(e,t){return e.contains(t)||e===t}function GXe(e){return!!document.activeElement&&e.contains(document.activeElement)}function KXe(e){return e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null?!0:C6(e)?!!e.href&&e.rel!=="ignore":WXe(e)?e.type!=="hidden"&&e.type!=="file"&&!e.disabled:_6(e)||YXe(e)||qXe(e)?!e.disabled:!1}function Cwe(e){if(!KXe(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function Fp(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(Mc(n)&&(Cwe(n)||Fp(n)))return!0}return!1}function S6(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(Mc(n)&&(Cwe(n)||S6(n)))return!0}return!1}function ZXe(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function Bu(e){var t;const{children:n,zOffset:r=0}=e,o=h.useContext(WR),i=o&&wwe(o),s=i==null?void 0:i.registerChild,c=((t=i==null?void 0:i.level)!=null?t:0)+1,u=Ce(r),d=u.length-1,f=Math.min(pm(),d),p=i?i.zIndex+u[f]:u[f],[,m]=h.useState({}),[v,g]=h.useState(0),y=v===0,x=h.useCallback(w=>{const C=s==null?void 0:s(w);return w!==void 0?m(_=>{var S;const E=(S=_[w])!=null?S:0,j={..._,[w]:E+1};return g(Object.keys(j).length),j}):g(_=>_+1),()=>{w!==void 0?m(_=>{const S={..._};return S[w]===1?(delete S[w],g(Object.keys(S).length)):S[w]-=1,S}):g(_=>_-1),C==null||C()}},[s]);h.useEffect(()=>s==null?void 0:s(c),[c,s]);const b=h.useMemo(()=>({version:0,isTopLayer:y,level:c,registerChild:x,size:v,zIndex:p}),[y,c,x,v,p]);return l.jsx(WR.Provider,{value:b,children:n})}const XXe=O.div({position:"relative"}),QXe=h.forwardRef(function(t,n){const{children:r,onActivate:o,onFocus:i,style:s=gf,...a}=t,{zIndex:c,isTopLayer:u}=ua(),d=h.useRef(null),f=dr(n),p=h.useRef(u);h.useEffect(()=>{p.current!==u&&u&&(o==null||o({activeElement:d.current})),p.current=u},[u,o]);const m=h.useCallback(v=>{i==null||i(v);const g=f.current,y=document.activeElement;!u||!g||!y||Mc(y)&&qR(g,y)&&(d.current=y)},[f,u,i]);return l.jsx(XXe,{...a,"data-ui":"Layer",onFocus:m,ref:f,style:{...s,zIndex:c},children:r})}),ts=h.forwardRef(function(t,n){const{children:r,zOffset:o=1,...i}=t;return l.jsx(Bu,{zOffset:o,children:l.jsx(QXe,{...i,ref:n,children:r})})}),GR=Symbol.for("@sanity/ui/context/portal"),Ih=Symbol.for("@sanity/ui/context/portal/element");Qt[Ih]=null;const JXe={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(Qt[Ih]||(Qt[Ih]=document.createElement("div"),Qt[Ih].setAttribute("data-portal",""),document.body.appendChild(Qt[Ih])),Qt[Ih])}};Qt[GR]=Qt[GR]||h.createContext(JXe);const _we=Qt[GR];function gm(){const e=h.useContext(_we);if(!e)throw new Error("usePortal(): missing context value");if(!y0(e)||e.version!==0)throw new Error("usePortal(): the context value is not compatible");return e}function vm(e){var t;const{children:n,__unstable_name:r}=e,o=gm(),i=(r?o.elements&&o.elements[r]:o.element)||((t=o.elements)==null?void 0:t.default);return i?hc.createPortal(n,i):null}function eQe(e){const t=h.useRef(e);return tQe(t.current,e)||(t.current=e),t.current}function tQe(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(o=>e[o]===t[o])}const nQe=typeof document<"u";function ym(e){const{boundaryElement:t,children:n,element:r,__unstable_elements:o}=e,i=eQe(o),s=h.useMemo(()=>({version:0,boundaryElement:t||null,element:r||nQe&&document.body||null,elements:i}),[t,r,i]);return l.jsx(_we.Provider,{value:s,children:n})}var RW=Object.freeze,rQe=Object.defineProperty,oQe=(e,t)=>RW(rQe(e,"raw",{value:RW(t||e.slice())})),$W;const iQe=O.div($W||($W=oQe([`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`])));h.forwardRef(function(t,n){const{as:r,children:o}=t;return l.jsx(iQe,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:n,children:o})});var MW=Object.freeze,sQe=Object.defineProperty,Swe=(e,t)=>MW(sQe(e,"raw",{value:MW(t||e.slice())})),FW,LW;const aQe=O.div(FW||(FW=Swe([`
  position: relative;
`]))),BW=O.div(LW||(LW=Swe([`
  position: absolute;
  left: 0;
  right: 0;
`])));h.forwardRef(function(t,n){const{as:r="div",gap:o=0,getItemKey:i,items:s=[],onChange:a,renderItem:c,...u}=t,{space:d}=As().sanity,f=dr(n),p=h.useRef(null),[m,v]=h.useState(0),[g,y]=h.useState(0),[x,b]=h.useState(-1);h.useEffect(()=>{if(!p.current)return;const k=p.current.firstChild;k instanceof HTMLElement&&b(k.offsetHeight)},[c]),h.useEffect(()=>{if(!f.current)return;let k=f.current.parentNode;for(;k&&!ZXe(k);)k=k.parentNode;if(k){const D=k;if(!(D instanceof HTMLElement))return;const I=()=>{v(D.scrollTop)};D.addEventListener("scroll",I,{passive:!0});const P=new swe($=>{y($[0].contentRect.height)});return P.observe(D),I(),()=>{D.removeEventListener("scroll",I),P.unobserve(D),P.disconnect()}}const T=()=>{v(window.scrollY)},A=()=>{y(window.innerHeight)};return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",A),y(window.innerHeight),T(),()=>{window.removeEventListener("scroll",T),window.removeEventListener("resize",A)}},[f]);const w=s.length,C=x?w*(x+d[o])-d[o]:0,_=C?Math.max(Math.floor(m/C*w)-2,0):0,S=C?Math.ceil((m+g)/C*w)+1:0;h.useEffect(()=>{a&&a({fromIndex:_,gap:d[o],itemHeight:x,scrollHeight:g,scrollTop:m,toIndex:S})},[_,o,x,a,g,m,d,S]);const E=h.useMemo(()=>!c||s.length===0?null:x===-1?[l.jsx(BW,{children:c(s[0])},0)]:s.slice(_,S).map((k,T)=>{const A=_+T,D=c(k),I=i?i(k,A):A;return l.jsx(BW,{style:{top:A*(x+d[o])},children:D},I)}),[_,o,i,x,s,c,d,S]),j=h.useMemo(()=>({height:C}),[C]);return l.jsx(aQe,{as:r,"data-ui":"VirtualList",...u,ref:f,children:l.jsx("div",{ref:p,style:j,children:E})})});const lQe=4,ag=4,sc=27,cQe=11,Ewe=[0,0,0,0],uQe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function dQe(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(o){const{elements:i,placement:s,platform:a,rects:c}=o,{floating:u,reference:d}=c,f=await Sb(o,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let p=1/0,m=1/0;const v=u.width,g=u.height;s.includes("top")&&(p=v-(f.left+f.right),m=g-f.top),s.includes("right")&&(p=v-f.right,m=g-(f.top+f.bottom)),s.includes("bottom")&&(p=v-(f.left+f.right),m=g-f.bottom),s.includes("left")&&(p=v-f.left,m=g-(f.top+f.bottom)),t({availableWidth:p-n[1]-n[3],availableHeight:m-n[0]-n[2],elements:i,referenceWidth:d.width-n[1]-n[3]});const y=await a.getDimensions(i.floating),x=y.height,b=y.width;return v!==b||g!==x?{reset:{rects:!0}}:{}}}}function fQe(e){const{mediaIndex:t,theme:n,width:r}=e,o=r[t],i=o===void 0?r[r.length-1]:o;return typeof i=="number"?n.sanity.container[i]:void 0}function hQe(e){const{boundaryWidth:t,currentWidth:n}=e;if(!(n===void 0&&t===void 0))return Math.min(n??1/0,(t||1/0)-ag*2)}var NW=Object.freeze,pQe=Object.defineProperty,E6=(e,t)=>NW(pQe(e,"raw",{value:NW(t||e.slice())})),zW,VW,HW;const mQe=O.div(zW||(zW=E6([`
  position: absolute;
  pointer-events: none;
  width: `,`px;
  height: `,`px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: `,"px ",`px;
  }

  [data-placement^='top'] > & {
    bottom: -`,`px;
  }

  [data-placement^='right'] > & {
    left: -`,`px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -`,`px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -`,`px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`])),sc,sc,sc/2,sc/2,sc,sc,sc,sc),gQe=O.path(VW||(VW=E6([`
  fill: var(--card-shadow-outline-color);
`]))),vQe=O.path(HW||(HW=E6([`
  fill: var(--card-bg-color);
`]))),yQe=h.forwardRef(function(t,n){return l.jsx(mQe,{"data-ui":"Popover__arrow",...t,ref:n,children:l.jsxs("svg",{width:sc,height:cQe,viewBox:"0 0 27 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx(gQe,{d:"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z"}),l.jsx(vQe,{d:"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z"})]})})}),bQe=O(ee)({"&:not([hidden])":{display:"flex"},flexDirection:"column",width:"max-content",minWidth:"min-content"}),kwe=h.memo(h.forwardRef(function(t,n){const{__unstable_margins:r,arrow:o,arrowRef:i,arrowX:s,arrowY:a,children:c,padding:u,placement:d,overflow:f,radius:p,scheme:m,shadow:v,strategy:g,style:y,tone:x,width:b,x:w,y:C,..._}=t,{zIndex:S}=ua(),E=h.useMemo(()=>r||Ewe,[r]),j=(w??0)+E[3],k=(C??0)+E[0],T=h.useMemo(()=>({position:g,top:k,left:j,width:b,zIndex:S,...y}),[g,y,b,j,k,S]),A=d&&Jxe[d.split("-")[0]],D=h.useMemo(()=>{const I={left:s!==null?s:void 0,top:a!==null?a:void 0,right:void 0,bottom:void 0};return A&&(I[A]=0-sc),I},[s,a,A]);return l.jsxs(bQe,{"data-ui":"Popover",..._,"data-placement":d,radius:p,ref:n,scheme:m,shadow:v,sizing:"border",style:T,tone:x,children:[l.jsx(U,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:f,children:l.jsx(U,{direction:"column",flex:1,padding:u,children:c})}),o&&l.jsx(yQe,{ref:i,style:D})]})}));kwe.displayName="PopoverCard";const en=h.memo(h.forwardRef(function(t,n){var r,o,i,s,a,c,u,d,f;const p=As(),m=mm(),{__unstable_margins:v=Ewe,arrow:g=!0,boundaryElement:y=m.element,children:x,constrainSize:b=!1,content:w,disabled:C,fallbackPlacements:_=(o=t.fallbackPlacements)!=null?o:uQe[(r=t.placement)!=null?r:"bottom"],matchReferenceWidth:S,floatingBoundary:E=(i=t.boundaryElement)!=null?i:m.element,open:j,overflow:k="hidden",padding:T,placement:A="bottom",portal:D,preventOverflow:I=!0,radius:P=3,referenceBoundary:$=(s=t.boundaryElement)!=null?s:m.element,referenceElement:R,scheme:V,shadow:N=3,tone:W="inherit",width:G="auto",zOffset:H=(a=p.sanity.layer)==null?void 0:a.popover.zOffset,updateRef:q,...X}=t,B=(c=Ij(y))==null?void 0:c.border,Y=Ce(T),z=Ce(P),Z=Ce(N),Q=Ce(G),ne=Ce(H),K=dr(n),J=h.useRef(null),re="viewport",fe=pm(),le=b||I?B==null?void 0:B.width:void 0,ge=fQe({mediaIndex:fe,theme:p,width:Q}),xe=h.useRef(ge);h.useEffect(()=>{xe.current=ge},[ge]);const ce=hQe({boundaryWidth:le,currentWidth:ge}),ve=h.useRef(ce);h.useEffect(()=>{ve.current=ce},[ce]);const $e=h.useRef();h.useEffect(()=>{const Yt=K.current;if(!j||!Yt)return;const eo=$e.current;S?eo!==void 0&&(Yt.style.width="".concat(eo,"px")):ge!==void 0&&(Yt.style.width="".concat(ge,"px")),typeof ce=="number"&&(Yt.style.maxWidth="".concat(ce,"px"))},[ge,K,S,ce,j]);const Ae=h.useMemo(()=>{const Yt=[];return(b||I)&&Yt.push(m1e({boundary:E||void 0,fallbackPlacements:_,padding:ag,rootBoundary:re})),Yt.push(g1e({mainAxis:g?lQe:0})),(b||S)&&Yt.push(dQe({apply(eo){let{availableWidth:nl,availableHeight:rl,elements:Is,referenceWidth:Fn}=eo;$e.current=Fn;const Bn=xe.current,Yr=ve.current;S?Is.floating.style.width="".concat(Fn,"px"):Bn!==void 0&&(Is.floating.style.width="".concat(Bn,"px")),b&&(Is.floating.style.maxWidth="".concat(Math.min(nl,Yr??1/0),"px"),Is.floating.style.maxHeight="".concat(rl,"px"))},boundaryElement:E||void 0,constrainSize:b,margins:v,matchReferenceWidth:S,padding:ag})),I&&Yt.push(v1e({boundary:E||void 0,rootBoundary:re,padding:ag})),g&&Yt.push(Abe({element:J,padding:ag})),Yt.push(yze({boundary:$||void 0,padding:ag,strategy:"referenceHidden"})),Yt},[g,b,_,E,v,S,I,$]),{x:st,y:et,middlewareData:lt,placement:Oe,refs:we,strategy:We,update:ze}=Ibe({middleware:Ae,placement:A,whileElementsMounted:E1e}),Ze=(u=lt.hide)==null?void 0:u.referenceHidden,Ct=(d=lt.arrow)==null?void 0:d.x,ke=(f=lt.arrow)==null?void 0:f.y,Ne=h.useCallback(Yt=>{J.current=Yt},[]),dt=h.useCallback(Yt=>{K.current=Yt,we.setFloating(Yt)},[K,we]),ci=h.useCallback(Yt=>{we.setReference(Yt);const eo=x==null?void 0:x.ref;typeof eo=="function"?eo(Yt):eo&&(eo.current=Yt)},[x,we]),Jn=h.useMemo(()=>!x||R?null:h.cloneElement(x,{ref:ci}),[x,R,ci]);if(h.useEffect(()=>{q&&(typeof q=="function"?q(ze):q&&(q.current=ze))},[ze,q]),h.useEffect(()=>{we.setReference(R||null)},[R,we]),C)return x||l.jsx(l.Fragment,{});const Wo=l.jsx(Bu,{zOffset:ne,children:l.jsx(kwe,{...X,__unstable_margins:v,arrow:g,arrowRef:Ne,arrowX:Ct,arrowY:ke,hidden:Ze,overflow:k,padding:Y,placement:Oe,radius:z,ref:dt,scheme:V,shadow:Z,strategy:We,tone:W,width:S?$e.current:ge,x:st,y:et,children:w})});return l.jsxs(l.Fragment,{children:[j&&l.jsx(l.Fragment,{children:D?l.jsx(vm,{__unstable_name:typeof D=="string"?D:void 0,children:Wo}):Wo}),Jn]})}));en.displayName="Popover";var UW=Object.freeze,xQe=Object.defineProperty,jwe=(e,t)=>UW(xQe(e,"raw",{value:UW(t||e.slice())})),WW,YW;function wQe(){return he(WW||(WW=jwe([`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `])))}function CQe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input,i=(r.radio.size-r.radio.markSize)/2;return he(YW||(YW=jwe([`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: `,`;
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: `,`;
      width: `,`;
      border-radius: `,`;
      background: `,`;
      box-shadow: `,`;

      &::after {
        content: '';
        position: absolute;
        top: `,`;
        left: `,`;
        height: `,`;
        width: `,`;
        border-radius: `,`;
        background: `,`;
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }
  `])),ye(r.radio.size/2),ye(r.radio.size),ye(r.radio.size),ye(r.radio.size/2),o.default.enabled.bg,So({color:o.default.enabled.border,width:r.border.width}),ye(i),ye(i),ye(r.radio.markSize),ye(r.radio.markSize),ye(r.radio.markSize/2),o.default.enabled.fg,Ac({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),So({color:o.default.enabled.border,width:r.border.width}),o.default.readOnly.border,o.default.readOnly.bg,o.default.readOnly.fg,o.default.disabled.border,o.default.disabled.bg,o.default.disabled.fg)}const _Qe=O.div(wQe),SQe=O.input(CQe),EQe=h.forwardRef(function(t,n){const{className:r,disabled:o,style:i,customValidity:s,readOnly:a,...c}=t,u=dr(n);return mw(u,s),l.jsxs(_Qe,{className:r,"data-ui":"Radio",style:i,children:[l.jsx(SQe,{"data-read-only":!o&&a?"":void 0,...c,disabled:o||a,readOnly:a,ref:u,type:"radio"}),l.jsx("span",{})]})});var qW=Object.freeze,kQe=Object.defineProperty,Rj=(e,t)=>qW(kQe(e,"raw",{value:qW(t||e.slice())})),GW,KW,ZW,XW;function jQe(){return he(GW||(GW=Rj([`
    position: relative;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function TQe(e){const{theme:t}=e,n=t.sanity.fonts.text;return he(KW||(KW=Rj([`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: `,`;
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `])),n.family)}function AQe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input;return he(ZW||(ZW=Rj([`
    /* enabled */
    background-color: `,`;
    color: `,`;
    box-shadow: `,`;

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: `,`;
        color: `,`;
        box-shadow: `,`;
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: `,`;
    }

    /* read-only */
    &[data-read-only] {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,So({color:o.default.enabled.border,width:r.border.width}),o.default.hovered.bg,o.default.hovered.fg,So({color:o.default.hovered.border,width:r.border.width}),Ac({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),o.default.readOnly.bg,o.default.readOnly.fg,So({color:o.default.readOnly.border,width:r.border.width}),o.default.disabled.bg,o.default.disabled.fg,So({color:o.default.disabled.border,width:r.border.width}))}function DQe(e){return{fontSize:ye(e.fontSize),lineHeight:ye(e.lineHeight)}}function IQe(e){const{theme:t,$fontSize:n}=e,{sizes:r}=t.sanity.fonts.text;return vt(t.sanity.media,n,o=>DQe(r[o]||r[2]))}function PQe(){return[id,TQe,AQe,IQe,tZe]}function OQe(e){const{theme:t}=e,n=t.sanity.color.input;return he(XW||(XW=Rj([`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: `,`;

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: `,`;
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: `,`;
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: `,`;
    }
  `])),n.default.enabled.fg,n.default.hovered.fg,n.default.disabled.fg,n.default.readOnly.fg)}const k6={root:jQe,input:PQe,iconBox:OQe},RQe=O.div(k6.root),$Qe=O.select(k6.input),MQe=O(M)(k6.iconBox),Rf=h.forwardRef(function(t,n){const{children:r,customValidity:o,disabled:i,fontSize:s=2,padding:a=3,radius:c=1,readOnly:u,space:d=3,...f}=t,p=dr(n);return mw(p,o),l.jsxs(RQe,{"data-ui":"Select",children:[l.jsx($Qe,{"data-read-only":!i&&u?"":void 0,"data-ui":"Select",...f,$fontSize:Ce(s),$padding:Ce(a),$radius:Ce(c),$space:Ce(d),disabled:i||u,ref:p,children:r}),l.jsx(MQe,{padding:a,children:l.jsx(L,{size:s,children:l.jsx(Nl,{})})})]})}),FQe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function LQe(){return FQe}function BQe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return vt(n,e.$space,o=>({gridGap:ye(r[o])}))}const NQe=O(M)(LQe,BQe),oe=h.forwardRef(function(t,n){const{as:r,space:o,...i}=t;return l.jsx(NQe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Stack",...i,$space:Ce(o),forwardedAs:r,ref:n})});var QW=Object.freeze,zQe=Object.defineProperty,gp=(e,t)=>QW(zQe(e,"raw",{value:QW(t||e.slice())})),JW,eY,tY,nY,rY,oY,iY;function VQe(){return he(JW||(JW=gp([`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function HQe(){return he(eY||(eY=gp([`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `])))}function UQe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.button.default;return he(tY||(tY=gp([`
    --switch-bg-color: `,`;
    --switch-fg-color: `,`;
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: `,`;
    height: `,`;
    border-radius: `,`;

    /* Make sure it’s not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: `,`;
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,ye(r.switch.width),ye(r.switch.height),ye(r.switch.height/2),Ac({focusRing:n}),o.positive.enabled.bg,o.positive.enabled.fg,o.default.hovered.bg,o.default.hovered.fg,o.positive.hovered.bg,o.positive.hovered.fg,o.default.disabled.bg,o.default.disabled.fg)}function WQe(e){const{theme:t}=e,{input:n}=t.sanity;return he(nY||(nY=gp([`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: `,`;
    height: `,`;
    border-radius: `,`;
  `])),ye(n.switch.width),ye(n.switch.height),ye(n.switch.height/2))}function YQe(e){const{$indeterminate:t,theme:n}=e,{input:r}=n.sanity,o=r.switch.width,i=r.switch.height,s=r.switch.padding,a=i-r.switch.padding*2,c=o-s*2-a,u=o/2-a/2-s,d=t!==!0&&e.$checked===!0;return he(iY||(iY=gp([`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: `,`;
    top: `,`;
    height: `,`;
    width: `,`;
    border-radius: `,`;
    transition-property: transform;
    transition-duration: `,`ms;
    transition-timing-function: `,`;
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);

    `,`

    `,`
  `])),ye(s),ye(s),ye(a),ye(a),ye(a/2),r.switch.transitionDurationMs,r.switch.transitionTimingFunction,d&&he(rY||(rY=gp([`
      transform: translate3d(`,`px, 0, 0);
    `])),c),t&&he(oY||(oY=gp([`
      transform: translate3d(`,`px, 0, 0);
    `])),u))}const qQe=O.span(VQe),GQe=O.input(HQe),KQe=O.span(UQe),ZQe=O.span(WQe),XQe=O.span(YQe),Twe=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,readOnly:a,style:c,...u}=t,d=dr(n);return h.useEffect(()=>{d.current&&(d.current.indeterminate=s||!1)},[s,d]),l.jsxs(qQe,{className:o,"data-ui":"Switch",style:c,children:[l.jsx(GQe,{"data-read-only":!i&&a?"":void 0,...u,checked:s!==!0&&r,disabled:i||a,type:"checkbox",ref:d}),l.jsxs(KQe,{"aria-hidden":!0,"data-name":"representation",children:[l.jsx(ZQe,{}),l.jsx(XQe,{$checked:r,$indeterminate:s})]})]})});var sY=Object.freeze,QQe=Object.defineProperty,JQe=(e,t)=>sY(QQe(e,"raw",{value:sY(t||e.slice())})),aY;const eJe=O.span(dwe),tJe=O.span(aY||(aY=JQe([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),nJe=O.textarea(b6,fwe,hwe),rJe=O.div(id,pwe),Awe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i=!1,fontSize:s=2,padding:a=3,radius:c=1,weight:u,...d}=t,f=dr(n),p=b0();return mw(f,o),l.jsx(eJe,{"data-ui":"TextArea",children:l.jsxs(tJe,{children:[l.jsx(nJe,{"data-as":"textarea","data-scheme":p.scheme,"data-tone":p.tone,...d,$fontSize:Ce(s),$padding:Ce(a),$scheme:p.scheme,$space:Ce(0),$tone:p.tone,$weight:u,disabled:i,ref:f}),l.jsx(rJe,{$radius:Ce(c),$scheme:p.scheme,$tone:p.tone,"data-border":r?"":void 0,"data-scheme":p.scheme,"data-tone":p.tone})]})})});var lY=Object.freeze,oJe=Object.defineProperty,w0=(e,t)=>lY(oJe(e,"raw",{value:lY(t||e.slice())})),cY,uY,dY,fY,hY,pY;const iJe={zIndex:2},sJe=O(ee).attrs({forwardedAs:"span"})(dwe),aJe=O.span(cY||(cY=w0([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),lJe=O(ee).attrs({forwardedAs:"span"})(uY||(uY=w0([`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),cJe=O(ee).attrs({forwardedAs:"span"})(dY||(dY=w0([`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),uJe=O.input(b6,fwe,hwe),dJe=O.span(id,pwe),fJe=O(M)(fY||(fY=w0([`
  position: absolute;
  top: 0;
  left: 0;
`]))),hJe=O(M)(hY||(hY=w0([`
  position: absolute;
  top: 0;
  right: 0;
`]))),pJe=O(ee)(pY||(pY=w0([`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`]))),mJe=O(se)({"&:not([hidden])":{display:"block"}}),Mr=h.forwardRef(function(t,n){const{border:r=!0,clearButton:o,disabled:i=!1,fontSize:s=2,icon:a,iconRight:c,onClear:u,padding:d=3,prefix:f,radius:p=1,readOnly:m,space:v=3,suffix:g,customValidity:y,type:x="text",weight:b,...w}=t,C=dr(n),_=b0(),S=Ce(s),E=Ce(d),j=Ce(p),k=Ce(v),T=!!o,A=!!a,D=!!c,I=!!g,P=!!f;mw(C,y);const $=h.useCallback(B=>{B.preventDefault(),B.stopPropagation()},[]),R=h.useCallback(B=>{var Y;B.preventDefault(),B.stopPropagation(),u&&u(),(Y=C.current)==null||Y.focus()},[u,C]),V=h.useMemo(()=>f&&l.jsx(lJe,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:f})}),[f,j]),N=h.useMemo(()=>l.jsxs(dJe,{$hasPrefix:P,$hasSuffix:I,$radius:j,$scheme:_.scheme,$tone:_.tone,"data-border":r?"":void 0,"data-scheme":_.scheme,"data-tone":_.tone,children:[a&&l.jsx(fJe,{padding:E,children:l.jsxs(L,{size:S,children:[h.isValidElement(a)&&a,Xn.isValidElementType(a)&&h.createElement(a)]})}),!T&&c&&l.jsx(hJe,{padding:E,children:l.jsxs(L,{size:S,children:[h.isValidElement(c)&&c,Xn.isValidElementType(c)&&h.createElement(c)]})})]}),[r,S,a,c,E,j,_,T,P,I]),W=h.useMemo(()=>E.map(B=>B===0?0:B===1||B===2?1:B-2),[E]),G=h.useMemo(()=>E.map(B=>B===0||B===1?0:B===2?1:B-1),[E]),H=h.useMemo(()=>typeof o=="object"?o:gf,[o]),q=h.useMemo(()=>!i&&!m&&o&&l.jsx(pJe,{forwardedAs:"span",padding:W,style:iJe,tone:y?"critical":"inherit",children:l.jsx(mJe,{"aria-label":"Clear","data-qa":"clear-button",fontSize:S,icon:Ti,mode:"bleed",padding:G,radius:j,...H,onClick:R,onMouseDown:$})}),[o,W,G,H,y,i,S,R,$,j,m]),X=h.useMemo(()=>g&&l.jsx(cJe,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:g})}),[j,g]);return l.jsxs(sJe,{"data-ui":"TextInput",tone:_.tone,children:[V,l.jsxs(aJe,{children:[l.jsx(uJe,{"data-as":"input","data-scheme":_.scheme,"data-tone":_.tone,...w,$fontSize:S,$iconLeft:A,$iconRight:D||T,$padding:E,$scheme:_.scheme,$space:k,$tone:_.tone,$weight:b,disabled:i,readOnly:m,ref:C,type:x}),N,q]}),X]})});function KR(e){const[t,n]=h.useState(e),r=h.useRef(),o=h.useCallback((i,s)=>{const a=()=>{n(i)};if(r.current&&(clearTimeout(r.current),r.current=void 0),!s)return a();r.current=setTimeout(a,s)},[]);return[t,o]}const bI=4,gJe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};var mY=Object.freeze,vJe=Object.defineProperty,j6=(e,t)=>mY(vJe(e,"raw",{value:mY(t||e.slice())})),gY,vY,yY;const yJe=O.div(gY||(gY=j6([`
  position: absolute;
  pointer-events: none;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: 7.5px 7.5px;
  }

  /* position: absolute;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    &:not([hidden]) {
      display: block;
    }
    transform-origin: 7.5px 7.5px;
  } */

  [data-placement^='top'] > & {
    bottom: -27px;
  }

  [data-placement^='right'] > & {
    left: -27px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -27px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -27px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`]))),bJe=O.path(vY||(vY=j6([`
  fill: var(--card-shadow-outline-color);
`]))),xJe=O.path(yY||(yY=j6([`
  fill: var(--card-bg-color);
`]))),wJe=h.forwardRef(function(t,n){const{...r}=t;return l.jsx(yJe,{"data-ui":"Tooltip__arrow",...r,ref:n,children:l.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",children:[l.jsx(bJe,{d:"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z"}),l.jsx(xJe,{d:"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z"})]})})}),ZR=Symbol.for("@sanity/ui/context/tooltipDelayGroup");Qt[ZR]=Qt[ZR]||h.createContext(null);const Dwe=Qt[ZR];function Iwe(){return h.useContext(Dwe)}function Pwe(e){const{children:t,delay:n}=e,[r,o]=KR(!1),[i,s]=KR(null);if(Iwe())throw new Error("TooltipDelayGroupProvider cannot be nested inside another TooltipDelayGroupProvider");const c=typeof n=="number"?n:(n==null?void 0:n.open)||0,u=typeof n=="number"?n:(n==null?void 0:n.close)||0,d=h.useMemo(()=>({isGroupActive:r,setIsGroupActive:o,openTooltipId:i,setOpenTooltipId:s,openDelay:r?1:c,closeDelay:u}),[u,r,c,i,o,s]);return l.jsx(Dwe.Provider,{value:d,children:t})}var bY=Object.freeze,CJe=Object.defineProperty,_Je=(e,t)=>bY(CJe(e,"raw",{value:bY(t||e.slice())})),xY;const SJe=O(ts)(xY||(xY=_Je([`
  pointer-events: none;
  max-width: `,`px;
`])),e=>{let{$maxWidth:t}=e;return t}),at=h.forwardRef(function(t,n){var r,o,i,s,a,c;const u=mm(),d=As(),{boundaryElement:f=u==null?void 0:u.element,children:p,content:m,disabled:v,fallbackPlacements:g=(o=t.fallbackPlacements)!=null?o:gJe[(r=t.placement)!=null?r:"bottom"],padding:y,placement:x="bottom",portal:b,scheme:w,shadow:C=2,zOffset:_=(i=d.sanity.layer)==null?void 0:i.tooltip.zOffset,delay:S,...E}=t,j=Ce(g),k=dr(n),[T,A]=h.useState(null),D=h.useRef(null),I="viewport",P=gm(),$=typeof b=="string"?((s=P.elements)==null?void 0:s[b])||null:P.element,R=h.useMemo(()=>{const ke=[...f?[f.offsetWidth]:[],($==null?void 0:$.offsetWidth)||document.body.offsetWidth];return Math.min(...ke)-bI*2},[f,$==null?void 0:$.offsetWidth]),V=h.useMemo(()=>{const ke=[];return ke.push(m1e({boundary:f||void 0,fallbackPlacements:j,padding:bI,rootBoundary:I})),ke.push(g1e({mainAxis:3})),ke.push(v1e({boundary:f||void 0,rootBoundary:I,padding:bI})),ke.push(Abe({element:D,padding:2})),ke},[f,j]),{floatingStyles:N,placement:W,middlewareData:G,refs:H,update:q}=Ibe({middleware:V,placement:x,whileElementsMounted:E1e}),X=W&&Jxe[W.split("-")[0]],B=(a=G.arrow)==null?void 0:a.x,Y=(c=G.arrow)==null?void 0:c.y,z=h.useMemo(()=>{const ke={left:B!==null?B:void 0,top:Y!==null?Y:void 0,right:void 0,bottom:void 0};return X&&(ke[X]=-15),ke},[B,Y,X]),Z=h.useId(),[Q,ne]=KR(!1),K=Iwe(),J=Q||(K==null?void 0:K.openTooltipId)===Z,re=K!==null,fe=typeof S=="number"?S:(S==null?void 0:S.open)||0,le=typeof S=="number"?S:(S==null?void 0:S.close)||0,ge=re?K.openDelay:fe,xe=re?K.closeDelay:le,ce=h.useCallback((ke,Ne)=>{if(re)if(ke){const dt=Ne?0:ge;K.setIsGroupActive(ke,dt),K.setOpenTooltipId(Z,dt)}else{const ci=xe>200?xe:200;K.setIsGroupActive(ke,ci),K.setOpenTooltipId(null,Ne?0:xe)}else ne(ke,Ne?0:ke?ge:xe)},[re,K,ge,Z,xe,ne]),ve=h.useCallback(ke=>{var Ne,dt;ce(!1),(dt=(Ne=p==null?void 0:p.props)==null?void 0:Ne.onBlur)==null||dt.call(Ne,ke)},[p==null?void 0:p.props,ce]),$e=h.useCallback(ke=>{var Ne,dt;ce(!1,!0),(dt=p==null?void 0:(Ne=p.props).onClick)==null||dt.call(Ne,ke)},[p==null?void 0:p.props,ce]),Ae=h.useCallback(ke=>{var Ne,dt;ce(!1,!0),(dt=p==null?void 0:(Ne=p.props).onContextMenu)==null||dt.call(Ne,ke)},[p==null?void 0:p.props,ce]),st=h.useCallback(ke=>{var Ne,dt;ce(!0),(dt=(Ne=p==null?void 0:p.props)==null?void 0:Ne.onFocus)==null||dt.call(Ne,ke)},[p==null?void 0:p.props,ce]),et=h.useCallback(ke=>{var Ne,dt;ce(!0),(dt=(Ne=p==null?void 0:p.props)==null?void 0:Ne.onMouseEnter)==null||dt.call(Ne,ke)},[p==null?void 0:p.props,ce]),lt=h.useCallback(ke=>{var Ne,dt;ce(!1),(dt=(Ne=p==null?void 0:p.props)==null?void 0:Ne.onMouseLeave)==null||dt.call(Ne,ke)},[p==null?void 0:p.props,ce]);h.useEffect(()=>{if(!Q)return;function ke(Ne){if(!T)return;T===Ne.target||Ne.target instanceof Node&&T.contains(Ne.target)||(ce(!1),window.removeEventListener("mousemove",ke))}return window.addEventListener("mousemove",ke),()=>{window.removeEventListener("mousemove",ke)}},[Q,T,ce]),h.useEffect(()=>{v&&ce(!1)},[v,ce]),h.useEffect(()=>{m||ce(!1)},[m,ce]),h.useEffect(()=>H.setReference(T),[T,H]),h.useEffect(()=>{if(!J)return;function ke(Ne){Ne.key==="Escape"&&ce(!1,!0)}return window.addEventListener("keydown",ke),()=>{window.removeEventListener("keydown",ke)}},[ce,J]);const Oe=h.useCallback(ke=>{D.current=ke,q()},[q]),we=h.useCallback(ke=>{k.current=ke,H.setFloating(ke)},[k,H]),We=p==null?void 0:p.ref,ze=h.useCallback(ke=>{typeof We=="function"?We(ke):We&&(We.current=ke),A(ke)},[We]),Ze=h.useMemo(()=>p?h.cloneElement(p,{onBlur:ve,onFocus:st,onMouseEnter:et,onMouseLeave:lt,onClick:$e,onContextMenu:Ae,ref:ze}):null,[p,ve,$e,Ae,st,et,lt,ze]);if(!Ze)return l.jsx(l.Fragment,{});if(v)return Ze;const Ct=l.jsx(SJe,{"data-ui":"Tooltip",...E,ref:we,style:N,zOffset:_,$maxWidth:R,children:l.jsxs(ee,{"data-ui":"Tooltip__card","data-placement":W,padding:y,radius:2,scheme:w,shadow:C,children:[m,l.jsx(wJe,{ref:Oe,style:z})]})});return l.jsxs(l.Fragment,{children:[Ze,J&&l.jsx(l.Fragment,{children:b?l.jsx(vm,{__unstable_name:typeof b=="string"?b:void 0,children:Ct}):Ct})]})});var wY=Object.freeze,EJe=Object.defineProperty,$j=(e,t)=>wY(EJe(e,"raw",{value:wY(t||e.slice())})),CY,_Y,SY,EY;const kJe=O.div(CY||(CY=$j([`
  line-height: 0;
`]))),jJe=O(M)(_Y||(_Y=$j([`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`]))),TJe=am(SY||(SY=$j([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),AJe=O(Qx)(EY||(EY=$j([`
  animation: `,` 500ms linear infinite;
`])),TJe);function DJe(e){const{children:t,id:n,onSelect:r,selected:o,value:i}=e,s=h.useCallback(()=>{setTimeout(()=>{r(i)},0)},[r,i]),a=h.useCallback(c=>{c.key==="Enter"&&!UXe(c.currentTarget)&&s()},[s]);return l.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:n,role:"option",onClick:s,onKeyDown:a,children:t})}function IJe(e,t){return t.type==="input/change"?{...e,activeValue:null,focused:!0,query:t.query}:t.type==="input/focus"?{...e,focused:!0}:t.type==="root/blur"?{...e,focused:!1,query:null}:t.type==="root/clear"?{...e,activeValue:null,query:null,value:null}:t.type==="root/escape"?{...e,focused:!1,query:null}:t.type==="root/open"?{...e,query:e.query||t.query}:t.type==="root/setActiveValue"?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:t.type==="root/setListFocused"?{...e,listFocused:t.listFocused}:t.type==="value/change"?{...e,activeValue:t.value,query:null,value:t.value}:e}const PJe=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],OJe="bottom-start",RJe=["bottom-start","top-start"],$Je=(e,t)=>t?t.value:e,MJe=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,FJe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i,filterOption:s,fontSize:a=2,icon:c,id:u,listBox:d=gf,loading:f,onBlur:p,onChange:m,onFocus:v,onQueryChange:g,onSelect:y,openButton:x,options:b,padding:w=3,popover:C=gf,prefix:_,radius:S=3,readOnly:E,relatedElements:j,renderOption:k,renderPopover:T,renderValue:A=$Je,suffix:D,value:I,...P}=t,[$,R]=h.useReducer(IJe,{activeValue:I||null,focused:!1,listFocused:!1,query:null,value:I||null}),{activeValue:V,focused:N,listFocused:W,query:G,value:H}=$,q=h.useCallback(Ge=>{let{value:_t}=Ge;return l.jsx(ee,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:l.jsx(L,{size:a,textOverflow:"ellipsis",children:_t})})},[a,w]),X=typeof k=="function"?k:q,B=typeof s=="function"?s:MJe,Y=h.useRef(null),z=h.useRef(null),Z=h.useRef(null),Q=h.useRef(null),ne=h.useRef(!1),K=h.useRef(H),J=h.useRef(I),re=h.useRef(!1),fe=dr(n),le="".concat(u,"-listbox"),ge=Array.isArray(b)?b:pw,xe=Ce(w),ce=h.useMemo(()=>H!==null?ge.find(Ge=>Ge.value===H):void 0,[ge,H]),ve=h.useMemo(()=>ge.filter(Ge=>G?B(G,Ge):!0),[B,ge,G]),$e=ve.length,Ae=V?"".concat(u,"-option-").concat(V):void 0,st=G!==null&&f||N&&G!==null,et=h.useCallback(Ge=>{setTimeout(()=>{if(re.current)return;const _t=(j||[]).concat(Y.current?[Y.current]:[],z.current?[z.current]:[]);let er=!1;if(document.activeElement){for(const Ln of _t)if(Ln===document.activeElement||Ln.contains(document.activeElement)){er=!0;break}}er===!1&&(R({type:"root/blur"}),re.current=!1,g&&g(null),p&&p(Ge))},0)},[p,g,j]),lt=h.useCallback(Ge=>{const _t=Q.current,er=Ge.target instanceof HTMLElement?Ge.target:null,Ln=(_t==null?void 0:_t.contains(er))||!1;Ln!==ne.current&&(ne.current=Ln,R({type:"root/setListFocused",listFocused:Ln}))},[]),Oe=h.useCallback(Ge=>{var _t;R({type:"value/change",value:Ge}),re.current=!1,y&&y(Ge),K.current=Ge,m&&m(Ge),g&&g(null),(_t=Z.current)==null||_t.focus()},[m,y,g]),we=h.useCallback(Ge=>{var _t,er;if(Ge.key==="ArrowDown"){if(Ge.preventDefault(),!$e)return;const kr=ve.find(ma=>ma.value===V),ui=kr?ve.indexOf(kr):-1,Ps=ve[(ui+1)%$e];Ps&&R({type:"root/setActiveValue",value:Ps.value,listFocused:!0});return}if(Ge.key==="ArrowUp"){if(Ge.preventDefault(),!$e)return;const kr=ve.find(ma=>ma.value===V),ui=kr?ve.indexOf(kr):-1,Ps=ve[ui===-1?$e-1:($e+ui-1)%$e];Ps&&R({type:"root/setActiveValue",value:Ps.value,listFocused:!0});return}if(Ge.key==="Escape"){R({type:"root/escape"}),re.current=!1,g&&g(null),(_t=Z.current)==null||_t.focus();return}const Ln=Ge.target,pa=Q.current;if((pa===Ln||pa!=null&&pa.contains(Ln))&&!PJe.includes(Ge.key)){(er=Z.current)==null||er.focus();return}},[V,ve,$e,g]),We=h.useCallback(Ge=>{const _t=Ge.currentTarget.value;R({type:"input/change",query:_t}),g&&g(_t)},[g]),ze=h.useCallback(Ge=>{N||(R({type:"input/focus"}),v&&v(Ge))},[N,v]),Ze=h.useCallback(()=>{re.current=!0},[]),Ct=h.useCallback(()=>{re.current=!1},[]),ke=h.useCallback(()=>{var Ge;R({type:"root/clear"}),K.current="",m&&m(""),g&&g(null),(Ge=Z.current)==null||Ge.focus()},[m,g]),Ne=h.useCallback(()=>{R({type:"input/focus"})},[]);h.useEffect(()=>{if(I!==J.current){J.current=I,I!==void 0&&(R({type:"value/change",value:I}),K.current=I);return}I!==K.current&&(K.current=I||null,R({type:"value/change",value:I||null}))},[I]),h.useEffect(()=>{!N&&K.current&&R({type:"root/setActiveValue",value:K.current})},[N]),h.useEffect(()=>{const Ge=Q.current;if(!Ge)return;const _t=ve.find(er=>er.value===V);if(_t){const er=ve.indexOf(_t),Ln=Ge.childNodes[er];if(Ln){if(GXe(Ln))return;Fp(Ln)}}},[V,ve]);const dt=h.useCallback(Ge=>{Z.current=Ge,fe.current=Ge},[fe]),ci=h.useMemo(()=>{if(!f&&!i&&H)return{"aria-label":"Clear",onFocus:Ne}},[i,Ne,f,H]),Jn=h.useMemo(()=>xe.map(Ge=>Ge===0?0:Ge===1||Ge===2?1:Ge-2),[xe]),Wo=h.useMemo(()=>xe.map(Ge=>Math.max(Ge-1,0)),[xe]),Yt=h.useMemo(()=>typeof x=="object"?x:gf,[x]),eo=h.useCallback(Ge=>{R({type:"root/open",query:H?A(H,ce):""}),Yt.onClick&&Yt.onClick(Ge),YR(()=>{var _t;return(_t=Z.current)==null?void 0:_t.focus()})},[ce,Yt,A,H]),nl=h.useMemo(()=>!i&&!E&&x?l.jsx(M,{"aria-hidden":st,padding:Jn,children:l.jsx(se,{"aria-label":"Open",disabled:st,fontSize:a,icon:Za,mode:"bleed",padding:Wo,...Yt,onClick:eo})}):void 0,[i,st,a,eo,x,Jn,Wo,Yt,E]),rl=h.useMemo(()=>G===null?H!==null?A(H,ce):"":G,[ce,G,A,H]),Is=l.jsx(Mr,{...P,"aria-activedescendant":Ae,"aria-autocomplete":"list","aria-expanded":st,"aria-owns":le,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:r,clearButton:ci,customValidity:o,disabled:i,fontSize:a,icon:c,iconRight:f&&AJe,id:u,inputMode:"search",onChange:We,onClear:ke,onFocus:ze,padding:xe,prefix:_,radius:S,readOnly:E,ref:dt,role:"combobox",spellCheck:!1,suffix:D||nl,value:rl}),Fn=h.useCallback(Ge=>{var _t;Ge.key==="Tab"&&W&&((_t=Z.current)==null||_t.focus())},[W]),Bn=h.useMemo(()=>ve.length===0?null:l.jsx(jJe,{"data-ui":"AutoComplete__results",onKeyDown:Fn,padding:1,...d,tabIndex:-1,children:l.jsx(oe,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:le,ref:Q,role:"listbox",space:1,children:ve.map(Ge=>{const _t=V!==null?Ge.value===V:ce===Ge;return l.jsx(DJe,{id:"".concat(u,"-option-").concat(Ge.value),onSelect:Oe,selected:_t,value:Ge.value,children:h.cloneElement(X(Ge),{disabled:f,selected:_t,tabIndex:W&&_t?0:-1})},Ge.value)})})}),[V,ce,ve,Oe,Fn,u,d,le,W,f,X]),Yr=h.useMemo(()=>T?T({content:Bn,hidden:!st,inputElement:Z.current,onMouseEnter:Ze,onMouseLeave:Ct},z):$e===0?null:l.jsx(en,{arrow:!1,constrainSize:!0,content:Bn,fallbackPlacements:RJe,matchReferenceWidth:!0,onMouseEnter:Ze,onMouseLeave:Ct,open:st,overflow:"auto",placement:OJe,portal:!0,radius:S,ref:z,referenceElement:Z.current,...C}),[Bn,st,$e,Ze,Ct,C,S,T]);return l.jsxs(kJe,{"data-ui":"Autocomplete",onBlur:et,onFocus:lt,onKeyDown:we,ref:Y,children:[Is,Yr]})}),T6=FJe;var kY=Object.freeze,LJe=Object.defineProperty,Owe=(e,t)=>kY(LJe(e,"raw",{value:kY(t||e.slice())})),jY,TY;const BJe=O.ol(jY||(jY=Owe([`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`]))),NJe=O(se)(TY||(TY=Owe([`
  appearance: none;
  margin: -4px;
`]))),A6=h.forwardRef(function(t,n){const{children:r,maxLength:o,separator:i,space:s=2,...a}=t,c=Ce(s),[u,d]=h.useState(!1),[f,p]=h.useState(null),[m,v]=h.useState(null),g=h.useCallback(()=>d(!1),[]),y=h.useCallback(()=>d(!0),[]);ur(g,[f,m]);const x=h.useMemo(()=>h.Children.toArray(r).filter(w=>h.isValidElement(w)),[r]),b=h.useMemo(()=>{const w=x.length;if(o&&w>o){const C=Math.ceil(o/2),_=Math.floor(o/2);return[...x.slice(0,C-1),l.jsx(en,{constrainSize:!0,content:l.jsx(oe,{as:"ol",overflow:"auto",padding:c,space:c,children:x.slice(C-1,w-_)}),open:u,placement:"top",portal:!0,ref:v,children:l.jsx(NJe,{fontSize:1,mode:"bleed",onClick:u?g:y,padding:1,ref:p,selected:u,text:"…"})},"button"),...x.slice(w-_)]}return x},[g,y,o,u,x,c]);return l.jsx(BJe,{"data-ui":"Breadcrumbs",...a,ref:n,children:b.map((w,C)=>l.jsxs(h.Fragment,{children:[C>0&&l.jsx(M,{"aria-hidden":!0,as:"li",paddingX:c,children:i||l.jsx(L,{muted:!0,children:"/"})}),l.jsx(M,{as:"li",children:w})]},C))})});function zJe(e){let{theme:t}=e;const n=t.sanity.color.base;return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:n.shadow.umbra}}function VJe(e){const{theme:t}=e,{media:n}=t.sanity;return vt(n,e.$position,r=>({"&&":{position:r}}))}const XR=Symbol.for("@sanity/ui/context/dialog");Qt[XR]=Qt[XR]||h.createContext({version:0});const Rwe=Qt[XR];function HJe(){return h.useContext(Rwe)}var AY=Object.freeze,UJe=Object.defineProperty,C0=(e,t)=>AY(UJe(e,"raw",{value:AY(t||e.slice())})),DY,IY,PY,OY,RY,$Y;function QR(e,t,n){return!e||!t?!0:qR(e,n)||qR(t,n)}const WJe=O(ts)(mwe,zJe,VJe),YJe=O(Qr)(DY||(DY=C0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`]))),qJe=O(ee)(IY||(IY=C0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`]))),GJe=O(U)(PY||(PY=C0([`
  flex: 1;
  min-height: 0;
  width: 100%;
`]))),KJe=O(ee)(OY||(OY=C0([`
  position: relative;
  z-index: 2;

  &:after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-hairline-soft-color);
  }
`]))),ZJe=O(M)(RY||(RY=C0([`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`]))),XJe=O(M)($Y||($Y=C0([`
  position: relative;
  z-index: 3;
  border-top: 1px solid var(--card-hairline-soft-color);
`]))),QJe=h.forwardRef(function(t,n){var r;const{__unstable_autoFocus:o,__unstable_hideCloseButton:i,children:s,contentRef:a,footer:c,header:u,id:d,onClickOutside:f,onClose:p,portal:m,radius:v,scheme:g,shadow:y,width:x}=t,b=gm(),w=m?((r=b.elements)==null?void 0:r[m])||null:b.element,C=mm().element,_=Ce(v),S=Ce(y),E=Ce(x),j=dr(n),[k,T]=h.useState(null),A=h.useRef(null),D=ua(),{isTopLayer:I}=D,P="".concat(d,"_label"),$=!!p&&i===!1,R=!!u||$;h.useEffect(()=>{o&&j.current&&Fp(j.current)},[o,j]),Ts(h.useCallback(W=>{if(!I||!p)return;const G=document.activeElement;G&&!QR(C,w,G)||W.key==="Escape"&&(W.preventDefault(),W.stopPropagation(),p())},[C,I,p,w])),ur(h.useCallback(W=>{if(!I||!f)return;const G=W.target;G&&!QR(C,w,G)||f()},[C,I,f,w]),[k]);const V=h.useCallback(W=>{T(W),j.current=W},[j]),N=h.useCallback(W=>{A.current=W,typeof a=="function"?a(W):a&&(a.current=W)},[a]);return l.jsx(YJe,{"data-ui":"DialogCard",width:E,children:l.jsx(qJe,{radius:_,ref:V,scheme:g,shadow:S,children:l.jsxs(GJe,{direction:"column",children:[R&&l.jsx(KJe,{children:l.jsxs(U,{children:[l.jsx(M,{flex:1,padding:4,children:u&&l.jsx(L,{id:P,weight:"semibold",children:u})}),$&&l.jsx(M,{padding:2,children:l.jsx(se,{"aria-label":"Close dialog",disabled:!p,icon:Ti,mode:"bleed",onClick:p,padding:3})})]})}),l.jsx(ZJe,{flex:1,ref:N,tabIndex:-1,children:s}),c&&l.jsx(XJe,{children:c})]})})})}),Ri=h.forwardRef(function(t,n){var r,o;const i=HJe(),s=As(),{__unstable_autoFocus:a=!0,__unstable_hideCloseButton:c=!1,cardRadius:u=3,cardShadow:d=4,children:f,contentRef:p,footer:m,header:v,id:g,onActivate:y,onClickOutside:x,onClose:b,onFocus:w,padding:C=4,portal:_,position:S=i.position||"fixed",scheme:E,width:j=0,zOffset:k=i.zOffset||((r=s.sanity.layer)==null?void 0:r.dialog.zOffset),...T}=t,A=gm(),D=_?((o=A.elements)==null?void 0:o[_])||null:A.element,I=mm().element,P=Ce(u),$=Ce(C),R=Ce(S),V=Ce(j),N=Ce(k),W=h.useRef(null),G=h.useRef(null),H=h.useRef(null),q=h.useRef(null),X=h.useCallback(Z=>{w==null||w(Z);const Q=Z.target,ne=H.current;if(ne&&Q===W.current){S6(ne);return}if(ne&&Q===G.current){Fp(ne);return}Mc(Z.target)&&(q.current=Z.target)},[w]),B="".concat(g,"_label"),Y=h.useRef(),z=h.useCallback(()=>{Y.current&&clearTimeout(Y.current),Y.current=setTimeout(()=>{const Z=document.activeElement;if(Z&&!QR(I,D,Z)){const Q=q.current;if(!Q||!document.body.contains(Q)){const ne=H.current;ne&&Fp(ne);return}Q.focus()}},0)},[I,D]);return l.jsx(vm,{__unstable_name:_,children:l.jsxs(WJe,{...T,$padding:$,$position:R,"aria-labelledby":B,"aria-modal":!0,"data-ui":"Dialog",id:g,onActivate:y,onClick:z,onFocus:X,ref:n,role:"dialog",zOffset:N,children:[l.jsx("div",{ref:W,tabIndex:0}),l.jsx(QJe,{__unstable_autoFocus:a,__unstable_hideCloseButton:c,contentRef:p,footer:m,header:v,id:g,onClickOutside:x,onClose:b,portal:_,radius:P,ref:H,scheme:E,shadow:d,width:V,children:f}),l.jsx("div",{ref:G,tabIndex:0})]})})});function JR(e){const{children:t,position:n,zOffset:r}=e,o=h.useMemo(()=>({version:0,position:n,zOffset:r}),[n,r]);return l.jsx(Rwe.Provider,{value:o,children:t})}var MY=Object.freeze,JJe=Object.defineProperty,$we=(e,t)=>MY(JJe(e,"raw",{value:MY(t||e.slice())})),FY,LY;const eet=O.kbd(FY||(FY=$we([`
  &:not([hidden]) {
    display: block;
  }
  font: inherit;
`]))),tet=O(VR)(LY||(LY=$we([`
  &:not([hidden]) {
    display: block;
  }
`]))),D6=h.forwardRef(function(t,n){const{fontSize:r,keys:o,padding:i,radius:s,space:a=1,...c}=t,u=Ce(a);return!o||o.length===0?l.jsx(l.Fragment,{}):l.jsx(eet,{"data-ui":"Hotkeys",...c,ref:n,children:l.jsx(Gt,{as:"span",space:u,children:o.map((d,f)=>l.jsx(tet,{fontSize:r,padding:i,radius:s,children:d},f))})})}),e$=Symbol.for("@sanity/ui/context/menu");Qt[e$]=Qt[e$]||h.createContext(null);const Mwe=Qt[e$];function net(e){return C6(e)&&e.getAttribute("data-disabled")!=="true"||_6(e)&&!e.disabled}function Wm(e){return e.filter(net)}function ret(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const BY=[];function oet(e,t){if(!e)return;const n=new WeakMap;for(const o of t)n.set(o,ret(e,o));const r=(o,i)=>{const s=n.get(o)||BY,a=n.get(i)||BY,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function iet(e){const{onKeyDown:t,originElement:n,shouldFocus:r}=e,o=h.useRef([]),[i,s]=h.useState(null),[a,c]=h.useState(-1),u=h.useRef(a),d=o.current[a]||null,f=!!i,p=h.useCallback(x=>{c(x),u.current=x},[]),m=h.useCallback((x,b)=>{if(!x)return()=>{};if(o.current.indexOf(x)===-1&&(o.current.push(x),oet(i,o.current)),b){const w=o.current.indexOf(x);p(w)}return()=>{const w=o.current.indexOf(x);w>-1&&o.current.splice(w,1)}},[i,p]),v=h.useCallback(x=>{if(x.key==="Tab"){n&&n.focus();return}if(x.key==="Home"){x.preventDefault(),x.stopPropagation();const w=Wm(o.current)[0];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="End"){x.preventDefault(),x.stopPropagation();const b=Wm(o.current),w=b[b.length-1];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation();const b=Wm(o.current),w=b.length;if(w===0)return;const C=o.current[u.current];let _=b.indexOf(C);_=(_-1+w)%w;const S=b[_],E=o.current.indexOf(S);p(E);return}if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation();const b=Wm(o.current),w=b.length;if(w===0)return;const C=o.current[u.current];let _=b.indexOf(C);_=(_+1)%w;const S=b[_],E=o.current.indexOf(S);p(E);return}t&&t(x)},[t,n,p]),g=h.useCallback(x=>{const b=x.currentTarget,w=o.current.indexOf(b);p(w)},[p]),y=h.useCallback(()=>{p(-2),i==null||i.focus()},[p,i]);return h.useEffect(()=>{if(!f)return;const x=window.requestAnimationFrame(()=>{const b=u.current;if(b===-1){if(r==="first"){const _=Wm(o.current)[0];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}if(r==="last"){const C=Wm(o.current),_=C[C.length-1];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}return}const w=o.current[b]||null;w==null||w.focus()});return()=>{window.cancelAnimationFrame(x)}},[a,f,p,r]),{activeElement:d,activeIndex:a,handleItemMouseEnter:g,handleItemMouseLeave:y,handleKeyDown:v,mount:m,rootElement:i,setRootElement:s}}var NY=Object.freeze,set=Object.defineProperty,aet=(e,t)=>NY(set(e,"raw",{value:NY(t||e.slice())})),zY;const cet=O(M)(zY||(zY=aet([`
  outline: none;
  overflow: auto;
`]))),Bt=h.forwardRef(function(t,n){const{children:r,focusFirst:o,focusLast:i,onClickOutside:s,onEscape:a,onItemClick:c,onItemSelect:u,onKeyDown:d,originElement:f,padding:p=1,registerElement:m,shouldFocus:v=t.focusFirst&&"first"||t.focusLast&&"last"||null,space:g=1,...y}=t,x=dr(n),{isTopLayer:b}=ua(),{activeElement:w,activeIndex:C,handleItemMouseEnter:_,handleItemMouseLeave:S,handleKeyDown:E,mount:j,rootElement:k,setRootElement:T}=iet({onKeyDown:d,originElement:f,shouldFocus:v}),A=h.useCallback(I=>{T(I),x.current=I},[x,T]);h.useEffect(()=>{u&&u(C)},[C,u]),ur(h.useCallback(I=>b&&s&&s(I),[b,s]),[k]),Ts(h.useCallback(I=>{b&&I.key==="Escape"&&(I.stopPropagation(),a&&a())},[b,a])),h.useEffect(()=>{if(!(!k||!m))return m(k)},[m,k]);const D=h.useMemo(()=>({version:0,activeElement:w,activeIndex:C,mount:j,onClickOutside:s,onEscape:a,onItemClick:c,onItemMouseEnter:_,onItemMouseLeave:S,registerElement:m,onMouseEnter:_,onMouseLeave:S}),[w,C,j,_,S,s,a,c,m]);return l.jsx(Mwe.Provider,{value:D,children:l.jsx(cet,{"data-ui":"Menu",...y,onKeyDown:E,padding:p,ref:A,role:"menu",tabIndex:-1,children:l.jsx(oe,{space:g,children:r})})})}),tn=h.forwardRef(function(t,n){const{__unstable_disableRestoreFocusOnClose:r=!1,boundaryElement:o,button:i,id:s,menu:a,onClose:c,onOpen:u,placement:d,popoverScheme:f,portal:p=!0,popover:m,popoverRadius:v,preventOverflow:g}=t,[y,x]=h.useState(!1),[b,w]=h.useState(null),[C,_]=h.useState(null),[S,E]=h.useState([]),j=h.useRef(y);h.useEffect(()=>{u&&y&&!j.current&&u()},[u,y]),h.useEffect(()=>{c&&!y&&j.current&&c()},[c,y]),h.useEffect(()=>{j.current=y},[y]);const k=h.useCallback(()=>{x(H=>!H),w(null)},[]),T=h.useCallback(H=>{if(H.key==="ArrowDown"||H.key==="Enter"||H.key===" "){H.preventDefault(),x(!0),w("first");return}if(H.key==="ArrowUp"){H.preventDefault(),x(!0),w("last");return}},[]),A=h.useCallback(H=>{const q=H.target;if(q instanceof Node&&!(C&&(q===C||C.contains(q)))){for(const X of S)if(q===X||X.contains(q))return;x(!1)}},[C,S]),D=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),I=h.useCallback(H=>{const q=H.relatedTarget;if(q instanceof Node){for(const X of S)if(X===q||X.contains(q))return;x(!1)}},[S]),P=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),$=h.useCallback(H=>(E(q=>q.concat([H])),()=>{E(q=>q.filter(X=>X!==H))}),[]),R=h.useMemo(()=>({"aria-labelledby":s,onBlurCapture:I,onClickOutside:A,onEscape:D,onItemClick:P,originElement:C,registerElement:$,shouldFocus:b}),[C,A,D,P,s,I,$,b]),V=Xn.isElement(a)?h.cloneElement(a,R):null,N=h.useCallback(H=>{typeof n=="function"?n(H):n&&(n.current=H),_(H)},[n]),W=h.useMemo(()=>Xn.isElement(i)?h.cloneElement(i,{"data-ui":"MenuButton",id:s,onClick:k,onKeyDown:T,"aria-haspopup":!0,"aria-expanded":y,ref:N,selected:y}):null,[i,k,T,s,y,N]),G=h.useMemo(()=>({boundaryElement:o,overflow:"auto",placement:d,portal:p,preventOverflow:g,radius:v,scheme:f,...m||{}}),[o,d,v,f,p,g,m]);return l.jsx(en,{"data-ui":"MenuButton__popover",...G,content:V,open:y,children:W||l.jsx(l.Fragment,{})})});var VY=Object.freeze,uet=Object.defineProperty,det=(e,t)=>VY(uet(e,"raw",{value:VY(t||e.slice())})),HY;const Pr=O.hr(HY||(HY=det([`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`])));var UY=Object.freeze,fet=Object.defineProperty,Fwe=(e,t)=>UY(fet(e,"raw",{value:UY(t||e.slice())})),WY,YY;function het(){return he(WY||(WY=Fwe([`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `])))}function pet(e){var t,n;const{$tone:r,theme:o}=e,{base:i,muted:s,selectable:a}=o.sanity.color,c=a?a[r]||a.default:s[r]||s.default;return he(YY||(YY=Fwe([`
    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          `,`
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    `,`
  `])),zt(i,c.enabled),zt(i,c.disabled),zt(i,c.pressed),zt(i,c.selected),zt(i,c.hovered),zt(i,c.pressed),zt(i,c.disabled),zt(i,c.pressed),zt(i,c.selected),zt(i,c.hovered),zt(i,c.pressed),(n=(t=o.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const Lwe=O(M)(id,het,pet);function Bwe(){const e=h.useContext(Mwe);if(!e)throw new Error("useMenu(): missing context value");if(!y0(e)||e.version!==0)throw new Error("useMenu(): the context value is not compatible");return e}function I6(e){const{as:t="button",children:n,fontSize:r,icon:o,onClick:i,padding:s=3,popover:a,radius:c=2,space:u=3,text:d,tone:f="default",...p}=e,m=Bwe(),{activeElement:v,mount:g,onClickOutside:y,onEscape:x,onItemClick:b,onItemMouseEnter:w=m.onMouseEnter,registerElement:C}=m,[_,S]=h.useState(null),[E,j]=h.useState(!1),k=h.useRef(null),T=!!v&&v===_,[A,D]=h.useState(!1),I=h.useCallback(G=>{D(!1),w(G),j(!0)},[w]),P=h.useCallback(G=>{G.key==="ArrowLeft"&&(G.stopPropagation(),j(!1),requestAnimationFrame(()=>{_==null||_.focus()}))},[_]),$=h.useCallback(G=>{i&&i(G),k.current="first",j(!0),requestAnimationFrame(()=>{k.current=null})},[i]),R=h.useCallback(()=>{j(!1),b&&b()},[b]),V=h.useCallback(()=>D(!0),[]);h.useEffect(()=>g(_),[g,_]),h.useEffect(()=>{T||j(!1)},[T]),h.useEffect(()=>{E||D(!1)},[E]);const N=l.jsx(Bt,{onClickOutside:y,onEscape:x,onItemClick:R,onKeyDown:P,onMouseEnter:V,registerElement:C,shouldFocus:k.current,children:n}),W=h.useCallback(G=>{const H=G.currentTarget;if(document.activeElement===H&&G.key==="ArrowRight"){k.current="first",j(!0),D(!0),requestAnimationFrame(()=>{k.current=null});return}},[]);return l.jsx(en,{...a,content:N,"data-ui":"MenuGroup__popover",open:E,children:l.jsx(Lwe,{"data-as":t,"data-ui":"MenuGroup",forwardedAs:t,...p,"aria-pressed":t==="button"?A:void 0,"data-pressed":t!=="button"?A:void 0,"data-selected":!A&&T?"":void 0,$radius:Ce(c),$tone:f,onClick:$,onKeyDown:W,onMouseEnter:I,ref:S,tabIndex:-1,type:t==="button"?"button":void 0,children:l.jsx(M,{padding:s,children:l.jsxs(U,{children:[o&&l.jsxs(L,{size:r,children:[h.isValidElement(o)&&o,Xn.isValidElementType(o)&&h.createElement(o)]}),l.jsx(M,{flex:1,marginLeft:o?u:void 0,children:l.jsx(L,{size:r,textOverflow:"ellipsis",children:d})}),l.jsx(M,{marginLeft:u,children:l.jsx(L,{size:r,children:l.jsx(Rc,{})})})]})})})})}const Ve=h.forwardRef(function(t,n){const{as:r="button",children:o,disabled:i,fontSize:s=2,hotkeys:a,icon:c,iconRight:u,onClick:d,padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:y,paddingLeft:x,pressed:b,radius:w=2,selected:C,space:_=3,text:S,tone:E="default",...j}=t,k=Bwe(),{activeElement:T,mount:A,onItemClick:D,onItemMouseEnter:I=k.onMouseEnter,onItemMouseLeave:P=k.onMouseLeave}=k,[$,R]=h.useState(null),V=!!T&&T===$;h.useEffect(()=>A($,C),[A,$,C]);const N=dr(n),W=h.useCallback(q=>{i||(d&&d(q),D&&D())},[i,d,D]),G=h.useMemo(()=>({padding:f,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:y,paddingLeft:x}),[f,p,m,v,g,y,x]),H=h.useCallback(q=>{N.current=q,R(q)},[N]);return l.jsxs(Lwe,{"data-ui":"MenuItem",...j,"aria-pressed":r==="button"&&b,"data-pressed":r!=="button"&&b?"":void 0,"data-selected":V?"":void 0,"data-disabled":i?"":void 0,forwardedAs:r,$radius:Ce(w),$padding:Ce(0),$tone:E,disabled:i,onClick:W,onMouseEnter:I,onMouseLeave:P,ref:H,role:"menuitem",tabIndex:-1,type:r==="button"?"button":void 0,children:[(c||S||u)&&l.jsx(M,{as:"span",...G,children:l.jsxs(U,{as:"span",children:[c&&l.jsxs(L,{size:s,children:[h.isValidElement(c)&&c,Xn.isValidElementType(c)&&h.createElement(c)]}),S&&l.jsx(M,{flex:1,marginLeft:c?_:void 0,marginRight:u?_:void 0,children:l.jsx(L,{size:s,textOverflow:"ellipsis",children:S})}),a&&l.jsx(M,{marginLeft:_,style:{marginTop:-4,marginBottom:-4},children:l.jsx(D6,{fontSize:s,keys:a})}),u&&l.jsxs(L,{size:s,children:[h.isValidElement(u)&&u,Xn.isValidElementType(u)&&h.createElement(u)]})]})}),o&&l.jsx(M,{as:"span",...G,children:o})]})});var qY=Object.freeze,met=Object.defineProperty,SE=(e,t)=>qY(met(e,"raw",{value:qY(t||e.slice())})),GY,KY,ZY,XY;const get=am(GY||(GY=SE([`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`]))),vet=he(KY||(KY=SE([`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: `,`;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`])),get),yet=he(XY||(XY=SE([`
  opacity: `,`;
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    `,`
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`])),e=>{let{$visible:t}=e;return t?1:0},e=>{let{$animated:t}=e;return t?vet:he(ZY||(ZY=SE([`
            background-color: var(--card-skeleton-color-from);
          `])))}),bet=O(M)(id,yet),_0=h.forwardRef(function(t,n){const{animated:r=!1,delay:o,radius:i,...s}=t,[a,c]=h.useState(!o);return h.useEffect(()=>{if(!o)return c(!0);const u=setTimeout(()=>{c(!0)},o);return()=>{clearTimeout(u)}},[o]),l.jsx(bet,{...s,$animated:r,$radius:Ce(i),$visible:a,ref:n})}),Mj=O(_0)(e=>{let{$size:t,$style:n,theme:r}=e;const{media:o}=r.sanity,i=r.sanity.fonts[n];return vt(o,t,a=>{const c=i.sizes[a];return{height:c.lineHeight-c.ascenderHeight-c.descenderHeight}})}),Di=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=Ce(r);return l.jsx(Mj,{...o,$size:i,ref:n,$style:"text"})}),EE=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=Ce(r);return l.jsx(Mj,{...o,$size:i,ref:n,$style:"label"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=Ce(r);return l.jsx(Mj,{...o,$size:i,ref:n,$style:"heading"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=Ce(r);return l.jsx(Mj,{...o,$size:i,ref:n,$style:"code"})});var QY=Object.freeze,xet=Object.defineProperty,wet=(e,t)=>QY(xet(e,"raw",{value:QY(t||e.slice())})),JY;const Cet=O(se)(JY||(JY=wet([`
  max-width: 100%;
`]))),Gb=h.forwardRef(function(t,n){const{icon:r,id:o,focused:i,fontSize:s,label:a,onClick:c,onFocus:u,padding:d=2,selected:f,...p}=t,m=h.useRef(null),v=h.useRef(!1),g=h.useCallback(()=>{v.current=!1},[]),y=h.useCallback(w=>{v.current=!0,u&&u(w)},[u]),x=dr(n);h.useEffect(()=>{i&&!v.current&&(m.current&&m.current.focus(),v.current=!0)},[i]);const b=w=>{m.current=w,x.current=w};return l.jsx(Cet,{"data-ui":"Tab",...p,"aria-selected":f?"true":"false",fontSize:s,icon:r,id:o,mode:"bleed",onClick:c,onBlur:g,onFocus:y,padding:d,ref:b,role:"tab",selected:f,tabIndex:f?0:-1,text:a,type:"button"})});var eq=Object.freeze,_et=Object.defineProperty,Eet=(e,t)=>eq(_et(e,"raw",{value:eq(t||e.slice())})),tq;function ket(e){return!!e}const jet=O(Gt)(tq||(tq=Eet([`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`]))),Fj=h.forwardRef(function(t,n){const{children:r,...o}=t,[i,s]=h.useState(-1),c=h.useMemo(()=>r.filter(ket),[r]).map((p,m)=>h.cloneElement(p,{focused:i===m,key:m,onFocus:()=>d(m)})),u=c.length,d=h.useCallback(p=>{s(p)},[]),f=h.useCallback(p=>{p.key==="ArrowLeft"&&s(m=>(m+u-1)%u),p.key==="ArrowRight"&&s(m=>(m+1)%u)},[u]);return l.jsx(jet,{"data-ui":"TabList",...o,onKeyDown:f,ref:n,role:"tablist",children:c})}),Nwe=h.forwardRef(function(t,n){const{flex:r,...o}=t;return l.jsx(M,{"data-ui":"TabPanel",...o,flex:r,ref:n,role:"tabpanel",tabIndex:t.tabIndex===void 0?0:t.tabIndex,children:t.children})});var nq=Object.freeze,Tet=Object.defineProperty,zwe=(e,t)=>nq(Tet(e,"raw",{value:nq(t||e.slice())})),rq,oq;const Aet={error:"critical",warning:"caution",success:"positive",info:"primary"},Det={error:"alert",warning:"alert",success:"alert",info:"alert"},Iet=O(ee)(rq||(rq=zwe([`
  pointer-events: all;
`]))),Pet=O(U)(oq||(oq=zwe([`
  overflow-x: auto;
`])));function Oet(e){const{closable:t,description:n,onClose:r,title:o,status:i,...s}=e,a=i?Aet[i]:"default",c=i?Det[i]:"status";return l.jsx(Iet,{"data-ui":"Toast",role:c,...s,marginTop:3,radius:2,shadow:2,tone:a,children:l.jsxs(U,{align:"flex-start",children:[l.jsx(Pet,{flex:1,padding:3,children:l.jsxs(oe,{space:3,children:[o&&l.jsx(L,{weight:"semibold",children:o}),n&&l.jsx(L,{muted:!0,size:1,children:n})]})}),t&&l.jsx(M,{padding:1,children:l.jsx(se,{as:"button",icon:Ti,mode:"bleed",padding:2,onClick:r,style:{verticalAlign:"top"}})})]})})}function Ret(){const[e,t]=h.useReducer(()=>!0,!1);return h.useEffect(t,[t]),e}const t$=Symbol.for("@sanity/ui/context/toast");Qt[t$]=Qt[t$]||h.createContext(null);const Vwe=Qt[t$];var iq=Object.freeze,$et=Object.defineProperty,Hwe=(e,t)=>iq($et(e,"raw",{value:iq(t||e.slice())})),sq,aq;const Met=O(ts)(sq||(sq=Hwe([`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`]))),Fet=O.div(aq||(aq=Hwe([`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`])));let Let=0;function P6(e){const{children:t,padding:n=4,paddingX:r,paddingY:o,zOffset:i}=e,[s,a]=h.useState([]),c=h.useRef({}),u=h.useCallback(p=>{const m=x=>h.startTransition(()=>a(x)),v=p.id||String(Let++),g=p.duration||5e3,y=()=>{var x;const b=(x=c.current[v])==null?void 0:x.timeoutId;m(w=>{const C=w.findIndex(_=>_.id===v);if(C>-1){const _=w.slice(0);return _.splice(C,1),_}return w}),b!==void 0&&(clearTimeout(b),delete c.current[v])};return m(x=>x.filter(b=>b.id!==v).concat([{dismiss:y,id:v,params:{...p,duration:g}}])),c.current[v]&&(clearTimeout(c.current[v].timeoutId),delete c.current[v]),c.current[v]={timeoutId:setTimeout(y,g)},v},[]);h.useEffect(()=>()=>{for(const{timeoutId:p}of Object.values(c.current))clearTimeout(p);c.current={}},[]);const d=h.useMemo(()=>({version:0,push:u}),[u]),f=Ret();return l.jsxs(Vwe.Provider,{value:d,children:[t,f&&l.jsx(Met,{"data-ui":"ToastProvider",zOffset:i,children:l.jsx(Fet,{children:l.jsx(M,{padding:n,paddingX:r,paddingY:o,children:l.jsx(g6,{initial:!1,children:s.map(p=>{let{dismiss:m,id:v,params:g}=p;return l.jsx(od.div,{animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},initial:{opacity:0,y:32,scale:.25},layout:"position",transition:{type:"spring",damping:30,stiffness:400},children:l.jsx(Oet,{closable:g.closable,description:g.description,onClose:m,status:g.status,title:g.title})},v)})})})})})]})}function Ho(){const e=h.useContext(Vwe);if(!e)throw new Error("useToast(): missing context value");if(!y0(e)||e.version!==0)throw new Error("useToast(): the context value is not compatible");return e}function Bet(e,t,n){var r;const o=t.indexOf(n),i=t.slice(0,o),s=i.length;for(let a=s-1;a>=0;a-=1){const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function Net(e,t,n){var r;const o=t.indexOf(n),i=t.slice(o),s=t.length;for(let a=1;a<s;a+=1){if(!i[a])continue;const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function lq(e){if(e.getAttribute("role")==="treeitem"&&e.focus(),e.getAttribute("role")==="none"){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}const n$=Symbol.for("@sanity/ui/context/tree");Qt[n$]=Qt[n$]||h.createContext(null);const kE=Qt[n$],Uwe=h.memo(h.forwardRef(function(t,n){const{children:r,space:o=1,onFocus:i,...s}=t,a=dr(n),[c,u]=h.useState(null),d=h.useRef(c),f=h.useMemo(()=>[],[]),[p,m]=h.useState([]),[v,g]=h.useState({}),y=h.useRef(v);h.useEffect(()=>{d.current=c},[c]),h.useEffect(()=>{y.current=v},[v]);const x=h.useCallback((S,E,j,k)=>(g(T=>({...T,[E]:{element:S,expanded:j}})),k&&u(S),()=>{g(T=>{const A={...T};return delete A[E],A})}),[]),b=h.useCallback((S,E)=>{g(j=>{const k=j[S];return k?{...j,[S]:{...k,expanded:E}}:j})},[]),w=h.useMemo(()=>({version:0,focusedElement:c||p[0]||null,level:0,path:f,registerItem:x,setExpanded:b,setFocusedElement:u,space:o,state:v}),[c,p,f,x,b,o,v]),C=h.useCallback(S=>{var E;if(d.current){if(S.key==="ArrowDown"){S.preventDefault();const j=Net(y.current,p,d.current);j&&(lq(j),u(j));return}if(S.key==="ArrowUp"){S.preventDefault();const j=Bet(y.current,p,d.current);j&&(lq(j),u(j));return}if(S.key==="ArrowLeft"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;const k=y.current[j];if(!k)return;if(k.expanded)g(T=>{const A=T[j];return A?{...T,[j]:{...A,expanded:!1}}:T});else{const T=j.split("/");T.pop();const A=T.join("/"),D=A&&y.current[A];D&&(D.element.focus(),u(D.element))}return}if(S.key==="ArrowRight"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;(E=y.current[j])!=null&&E.expanded||g(k=>{const T=k[j];return T?{...k,[j]:{...T,expanded:!0}}:k});return}}},[p]),_=h.useCallback(S=>{u(S.target),i==null||i(S)},[i]);return h.useEffect(()=>{if(!a.current)return;const S=Array.from(a.current.querySelectorAll('[data-ui="TreeItem"]'));m(S)},[r,a]),l.jsx(kE.Provider,{value:w,children:l.jsx(oe,{as:"ul","data-ui":"Tree",...s,onFocus:_,onKeyDown:C,ref:a,role:"tree",space:o,children:r})})}));Uwe.displayName="Tree";var cq=Object.freeze,zet=Object.defineProperty,O6=(e,t)=>cq(zet(e,"raw",{value:cq(t||e.slice())})),uq,dq,fq;function Vet(){return he(uq||(uq=O6([`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;
      }

      &:focus > div {
        position: relative;
      }
    }
  `])))}function Het(e){const{theme:t}=e,n="default",{base:r,muted:o,selectable:i}=t.sanity.color,s=i?i[n]||i.default:o[n]||o.default;return he(dq||(dq=O6([`
    /* <div role="none"><a data-ui="TreeItem__box" role="treeitem" tabIndex="0"></div> */
    &[role='none'] {
      & > [role='treeitem'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &[data-selected] > [role='treeitem'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          `,`
        }

        & > [role='treeitem']:focus {
          `,`
        }
      }
    }

    /* <div role="treeitem" tabIndex="0"><div data-ui="TreeItem__box"></div> */
    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--card-fg-color);
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          `,`
        }

        &:focus > [data-ui='TreeItem__box'] {
          `,`
        }
      }
    }
  `])),zt(r,s.enabled),zt(r,s.pressed),zt(r,s.hovered),zt(r,s.selected),zt(r,s.enabled),zt(r,s.pressed),zt(r,s.hovered),zt(r,s.selected))}function Uet(e){const{$level:t,theme:n}=e,{space:r}=n.sanity;return he(fq||(fq=O6([`
    padding-left: `,`;

    &[data-as='a'] {
      text-decoration: none;
    }
  `])),ye(r[2]*t))}function Wwe(){const e=h.useContext(kE);if(!e)throw new Error("Tree: missing context value");return e}const hq=h.memo(function(t){const{children:n,expanded:r=!1,...o}=t,i=Wwe();return l.jsx(oe,{as:"ul","data-ui":"TreeGroup",...o,hidden:!r,marginTop:i.space,role:"group",space:i.space,children:n})});var pq=Object.freeze,Wet=Object.defineProperty,Yet=(e,t)=>pq(Wet(e,"raw",{value:pq(t||e.slice())})),mq;const gq=h.memo(O.li(Vet,Het)),vq=O(M).attrs({forwardedAs:"a"})(Uet),qet=O(L)(mq||(mq=Yet([`
  & > svg {
    transition: transform 100ms;
  }
`]))),Kb=h.memo(function(t){const{children:n,expanded:r=!1,fontSize:o,href:i,icon:s,id:a,linkAs:c,muted:u,onClick:d,padding:f=3,selected:p=!1,space:m=2,text:v,weight:g,...y}=t,x=h.useRef(null),b=h.useRef(null),w=Wwe(),{path:C,registerItem:_,setExpanded:S,setFocusedElement:E}=w,j=h.useId(),k=a||j,T=h.useMemo(()=>C.concat([k||""]),[k,C]),A=T.join("/"),D=w.state[A],I=w.focusedElement===x.current,P=(D==null?void 0:D.expanded)===void 0?r:(D==null?void 0:D.expanded)||!1,$=w.focusedElement&&w.focusedElement===x.current?0:-1,R=h.useMemo(()=>({...w,level:w.level+1,path:T}),[T,w]),V=h.useCallback(G=>{d&&d(G);const H=G.target;H instanceof HTMLElement&&(H.getAttribute("data-ui")==="TreeItem"||H.closest('[data-ui="TreeItem__box"]'))&&(G.stopPropagation(),S(A,!P),E(x.current))},[P,A,d,S,E]),N=h.useCallback(G=>{if(I&&G.key==="Enter"){const H=b.current||x.current;H==null||H.click()}},[I]);h.useEffect(()=>{if(x.current)return _(x.current,T.join("/"),P,p)},[P,T,_,p]);const W=l.jsxs(U,{padding:f,children:[l.jsxs(M,{marginRight:m,style:{visibility:s||n?"visible":"hidden",pointerEvents:"none"},children:[s&&l.jsx(L,{muted:u,size:o,weight:g,children:h.createElement(s)}),!s&&l.jsx(qet,{muted:u,size:o,weight:g,children:l.jsx(ej,{style:{transform:P?"rotate(90deg)":void 0}})})]}),l.jsx(M,{flex:1,children:l.jsx(L,{muted:u,size:o,textOverflow:"ellipsis",weight:g,children:v})})]});return i?l.jsxs(gq,{"data-selected":p?"":void 0,"data-tree-id":k,"data-tree-key":A,"data-ui":"TreeItem",...y,onClick:V,ref:x,role:"none",children:[l.jsx(vq,{$level:w.level,"aria-expanded":P,as:c,"data-ui":"TreeItem__box",href:i,ref:b,role:"treeitem",tabIndex:$,children:W}),l.jsx(kE.Provider,{value:R,children:n&&l.jsx(hq,{hidden:!P,children:n})})]}):l.jsxs(gq,{"data-selected":p?"":void 0,"data-ui":"TreeItem","data-tree-id":k,"data-tree-key":A,...y,"aria-expanded":P,onClick:V,onKeyDown:N,ref:x,role:"treeitem",tabIndex:$,children:[l.jsx(vq,{$level:w.level,as:"div","data-ui":"TreeItem__box",children:W}),l.jsx(kE.Provider,{value:R,children:n&&l.jsx(hq,{expanded:P,children:n})})]})});var r$=function(e,t){return r$=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},r$(e,t)};function da(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r$(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var o$=function(){return o$=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o$.apply(this,arguments)};function Get(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):o(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function Ywe(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Lp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ha(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function Dl(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function ev(e){return this instanceof ev?(this.v=e,this):new ev(e)}function Ket(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(p){r[p]&&(o[p]=function(m){return new Promise(function(v,g){i.push([p,m,v,g])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(v){f(i[0][3],v)}}function c(p){p.value instanceof ev?Promise.resolve(p.value.v).then(u,d):f(i[0][2],p)}function u(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Zet(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Lp=="function"?Lp(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}function Lt(e){return typeof e=="function"}function R6(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var xI=R6(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function jE(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Bp=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Lp(s),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(Lt(d))try{d()}catch(g){i=g instanceof xI?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=Lp(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{yq(v)}catch(g){i=i??[],g instanceof xI?i=Dl(Dl([],Ha(i)),Ha(g.errors)):i.push(g)}}}catch(g){r={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(i)throw new xI(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)yq(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&jE(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&jE(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),qwe=Bp.EMPTY;function Gwe(e){return e instanceof Bp||e&&"closed"in e&&Lt(e.remove)&&Lt(e.add)&&Lt(e.unsubscribe)}function yq(e){Lt(e)?e():e.unsubscribe()}var Kwe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},i$={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=i$.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,Dl([e,t],Ha(n))):setTimeout.apply(void 0,Dl([e,t],Ha(n)))},clearTimeout:function(e){var t=i$.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Zwe(e){i$.setTimeout(function(){throw e})}function $f(){}function $2(e){e()}var $6=function(e){da(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Gwe(n)&&n.add(r)):r.destination=ett,r}return t.create=function(n,r,o){return new Zb(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Bp),Xet=Function.prototype.bind;function wI(e,t){return Xet.call(e,t)}var Qet=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){QC(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){QC(r)}else QC(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){QC(n)}},e}(),Zb=function(e){da(t,e);function t(n,r,o){var i=e.call(this)||this,s;if(Lt(n)||!n)s={next:n??void 0,error:r??void 0,complete:o??void 0};else{var a;i&&Kwe.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&wI(n.next,a),error:n.error&&wI(n.error,a),complete:n.complete&&wI(n.complete,a)}):s=n}return i.destination=new Qet(s),i}return t}($6);function QC(e){Zwe(e)}function Jet(e){throw e}var ett={closed:!0,next:$f,error:Jet,complete:$f},M6=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function sd(e){return e}function ttt(e){return e.length===0?sd:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var gt=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=rtt(t)?t:new Zb(t,n,r);return $2(function(){var s=o,a=s.operator,c=s.source;i.add(a?a.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=bq(n),new n(function(o,i){var s=new Zb({next:function(a){try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[M6]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ttt(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=bq(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function bq(e){var t;return(t=e??Kwe.Promise)!==null&&t!==void 0?t:Promise}function ntt(e){return e&&Lt(e.next)&&Lt(e.error)&&Lt(e.complete)}function rtt(e){return e&&e instanceof $6||ntt(e)&&Gwe(e)}function Xwe(e){return Lt(e==null?void 0:e.lift)}function mn(e){return function(t){if(Xwe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ut(e,t,n,r,o){return new Qwe(e,t,n,r,o)}var Qwe=function(e){da(t,e);function t(n,r,o,i,s,a){var c=e.call(this,n)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}($6);function vl(){return mn(function(e,t){var n=null;e._refCount++;var r=Ut(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var ott=function(e){da(t,e);function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._subject=null,o._refCount=0,o._connection=null,Xwe(n)&&(o.lift=n.lift),o}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new Bp;var o=this.getSubject();r.add(this.source.subscribe(Ut(o,void 0,function(){n._teardown(),o.complete()},function(i){n._teardown(),o.error(i)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=Bp.EMPTY)}return r},t.prototype.refCount=function(){return vl()(this)},t}(gt),itt=R6(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),_r=function(e){da(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new xq(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new itt},t.prototype.next=function(n){var r=this;$2(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Lp(r.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;$2(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;$2(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,s=o.isStopped,a=o.observers;return i||s?qwe:(this.currentObservers=null,a.push(n),new Bp(function(){r.currentObservers=null,jE(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,s=r.isStopped;o?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new gt;return n.source=this,n},t.create=function(n,r){return new xq(n,r)},t}(gt),xq=function(e){da(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:qwe},t}(_r),Lj=function(e){da(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(_r),F6={now:function(){return(F6.delegate||Date).now()},delegate:void 0},Jwe=function(e){da(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=F6);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;o||(i.push(n),!s&&i.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,s=o._buffer,a=s.slice(),c=0;c<a.length&&!n.closed;c+=i?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,s=n._infiniteTimeWindow,a=(s?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!s){for(var c=o.now(),u=0,d=1;d<i.length&&i[d]<=c;d+=2)u=d;u&&i.splice(0,u+1)}},t}(_r),stt=function(e){da(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Bp),TE={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=TE.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,Dl([e,t],Ha(n))):setInterval.apply(void 0,Dl([e,t],Ha(n)))},clearInterval:function(e){var t=TE.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},eCe=function(e){da(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),TE.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&TE.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,jE(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(stt),att=1,CI,s$={};function wq(e){return e in s$?(delete s$[e],!0):!1}var tCe={setImmediate:function(e){var t=att++;return s$[t]=!0,CI||(CI=Promise.resolve()),CI.then(function(){return wq(t)&&e()}),t},clearImmediate:function(e){wq(e)}},ltt=tCe.setImmediate,ctt=tCe.clearImmediate,AE={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=AE.delegate;return((n==null?void 0:n.setImmediate)||ltt).apply(void 0,Dl([],Ha(e)))},clearImmediate:function(e){var t=AE.delegate;return((t==null?void 0:t.clearImmediate)||ctt)(e)},delegate:void 0},utt=function(e){da(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n._scheduled||(n._scheduled=AE.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);var s=n.actions;r!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==r&&(AE.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(eCe),Cq=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=F6.now,e}(),nCe=function(e){da(t,e);function t(n,r){r===void 0&&(r=Cq.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(Cq),dtt=function(e){da(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var o=this.actions,i;n=n||o.shift();do if(i=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===r&&o.shift());if(this._active=!1,i){for(;(n=o[0])&&n.id===r&&o.shift();)n.unsubscribe();throw i}},t}(nCe),ftt=new dtt(utt),Il=new nCe(eCe),htt=Il,Zn=new gt(function(e){return e.complete()});function ptt(e){return e?mtt(e):Zn}function mtt(e){return new gt(function(t){return e.schedule(function(){return t.complete()})})}function rCe(e){return e&&Lt(e.schedule)}function L6(e){return e[e.length-1]}function B6(e){return Lt(L6(e))?e.pop():void 0}function yw(e){return rCe(L6(e))?e.pop():void 0}function gtt(e,t){return typeof L6(e)=="number"?e.pop():t}var N6=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function oCe(e){return Lt(e==null?void 0:e.then)}function iCe(e){return Lt(e[M6])}function sCe(e){return Symbol.asyncIterator&&Lt(e==null?void 0:e[Symbol.asyncIterator])}function aCe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function vtt(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lCe=vtt();function cCe(e){return Lt(e==null?void 0:e[lCe])}function uCe(e){return Ket(this,arguments,function(){var n,r,o,i;return Ywe(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,ev(n.read())];case 3:return r=s.sent(),o=r.value,i=r.done,i?[4,ev(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,ev(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function dCe(e){return Lt(e==null?void 0:e.getReader)}function Cn(e){if(e instanceof gt)return e;if(e!=null){if(iCe(e))return ytt(e);if(N6(e))return btt(e);if(oCe(e))return xtt(e);if(sCe(e))return fCe(e);if(cCe(e))return wtt(e);if(dCe(e))return Ctt(e)}throw aCe(e)}function ytt(e){return new gt(function(t){var n=e[M6]();if(Lt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function btt(e){return new gt(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function xtt(e){return new gt(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Zwe)})}function wtt(e){return new gt(function(t){var n,r;try{for(var o=Lp(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function fCe(e){return new gt(function(t){_tt(e,t).catch(function(n){return t.error(n)})})}function Ctt(e){return fCe(uCe(e))}function _tt(e,t){var n,r,o,i;return Get(this,void 0,void 0,function(){var s,a;return Ywe(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=Zet(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Su(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function hCe(e,t){return t===void 0&&(t=0),mn(function(n,r){n.subscribe(Ut(r,function(o){return Su(r,e,function(){return r.next(o)},t)},function(){return Su(r,e,function(){return r.complete()},t)},function(o){return Su(r,e,function(){return r.error(o)},t)}))})}function pCe(e,t){return t===void 0&&(t=0),mn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Stt(e,t){return Cn(e).pipe(pCe(t),hCe(t))}function Ett(e,t){return Cn(e).pipe(pCe(t),hCe(t))}function ktt(e,t){return new gt(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function jtt(e,t){return new gt(function(n){var r;return Su(n,t,function(){r=e[lCe](),Su(n,t,function(){var o,i,s;try{o=r.next(),i=o.value,s=o.done}catch(a){n.error(a);return}s?n.complete():n.next(i)},0,!0)}),function(){return Lt(r==null?void 0:r.return)&&r.return()}})}function mCe(e,t){if(!e)throw new Error("Iterable cannot be null");return new gt(function(n){Su(n,t,function(){var r=e[Symbol.asyncIterator]();Su(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function Ttt(e,t){return mCe(uCe(e),t)}function gCe(e,t){if(e!=null){if(iCe(e))return Stt(e,t);if(N6(e))return ktt(e,t);if(oCe(e))return Ett(e,t);if(sCe(e))return mCe(e,t);if(cCe(e))return jtt(e,t);if(dCe(e))return Ttt(e,t)}throw aCe(e)}function Sr(e,t){return t?gCe(e,t):Cn(e)}function be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=yw(e);return Sr(e,n)}function Nu(e,t){var n=Lt(e)?e:function(){return e},r=function(o){return o.error(n())};return new gt(t?function(o){return t.schedule(r,0,o)}:r)}function Att(e){return!!e&&(e instanceof gt||Lt(e.lift)&&Lt(e.subscribe))}var Bj=R6(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function xo(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=!1,s;e.subscribe({next:function(a){s=a,i=!0},error:o,complete:function(){i?r(s):n?r(t.defaultValue):o(new Bj)}})})}function Dtt(e){return e instanceof Date&&!isNaN(e)}function ue(e,t){return mn(function(n,r){var o=0;n.subscribe(Ut(r,function(i){r.next(e.call(t,i,o++))}))})}var Itt=Array.isArray;function Ptt(e,t){return Itt(t)?e.apply(void 0,Dl([],Ha(t))):e(t)}function z6(e){return ue(function(t){return Ptt(e,t)})}var Ott=Array.isArray,Rtt=Object.getPrototypeOf,$tt=Object.prototype,Mtt=Object.keys;function vCe(e){if(e.length===1){var t=e[0];if(Ott(t))return{args:t,keys:null};if(Ftt(t)){var n=Mtt(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function Ftt(e){return e&&typeof e=="object"&&Rtt(e)===$tt}function yCe(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function Bo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=yw(e),r=B6(e),o=vCe(e),i=o.args,s=o.keys;if(i.length===0)return Sr([],n);var a=new gt(Ltt(i,n,s?function(c){return yCe(s,c)}:sd));return r?a.pipe(z6(r)):a}function Ltt(e,t,n){return n===void 0&&(n=sd),function(r){_q(t,function(){for(var o=e.length,i=new Array(o),s=o,a=o,c=function(d){_q(t,function(){var f=Sr(e[d],t),p=!1;f.subscribe(Ut(r,function(m){i[d]=m,p||(p=!0,a--),a||r.next(n(i.slice()))},function(){--s||r.complete()}))},r)},u=0;u<o;u++)c(u)},r)}}function _q(e,t,n){e?Su(n,e,t):t()}function Btt(e,t,n,r,o,i,s,a){var c=[],u=0,d=0,f=!1,p=function(){f&&!c.length&&!u&&t.complete()},m=function(g){return u<r?v(g):c.push(g)},v=function(g){i&&t.next(g),u++;var y=!1;Cn(n(g,d++)).subscribe(Ut(t,function(x){o==null||o(x),i?m(x):t.next(x)},function(){y=!0},void 0,function(){if(y)try{u--;for(var x=function(){var b=c.shift();s?Su(t,s,function(){return v(b)}):v(b)};c.length&&u<r;)x();p()}catch(b){t.error(b)}}))};return e.subscribe(Ut(t,m,function(){f=!0,p()})),function(){a==null||a()}}function ht(e,t,n){return n===void 0&&(n=1/0),Lt(t)?ht(function(r,o){return ue(function(i,s){return t(r,i,o,s)})(Cn(e(r,o)))},n):(typeof t=="number"&&(n=t),mn(function(r,o){return Btt(r,o,e,n)}))}function Nj(e){return e===void 0&&(e=1/0),ht(sd,e)}function Ntt(){return Nj(1)}function Hr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ntt()(Sr(e,yw(e)))}function fo(e){return new gt(function(t){Cn(e()).subscribe(t)})}function ztt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=B6(e),r=vCe(e),o=r.args,i=r.keys,s=new gt(function(a){var c=o.length;if(!c){a.complete();return}for(var u=new Array(c),d=c,f=c,p=function(v){var g=!1;Cn(o[v]).subscribe(Ut(a,function(y){g||(g=!0,f--),u[v]=y},function(){return d--},void 0,function(){(!d||!g)&&(f||a.next(i?yCe(i,u):u),a.complete())}))},m=0;m<c;m++)p(m)});return n?s.pipe(z6(n)):s}var Vtt=["addListener","removeListener"],Htt=["addEventListener","removeEventListener"],Utt=["on","off"];function Ii(e,t,n,r){if(Lt(n)&&(r=n,n=void 0),r)return Ii(e,t,n).pipe(z6(r));var o=Ha(qtt(e)?Htt.map(function(a){return function(c){return e[a](t,c,n)}}):Wtt(e)?Vtt.map(Sq(e,t)):Ytt(e)?Utt.map(Sq(e,t)):[],2),i=o[0],s=o[1];if(!i&&N6(e))return ht(function(a){return Ii(a,t,n)})(Cn(e));if(!i)throw new TypeError("Invalid event target");return new gt(function(a){var c=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return a.next(1<u.length?u:u[0])};return i(c),function(){return s(c)}})}function Sq(e,t){return function(n){return function(r){return e[n](t,r)}}}function Wtt(e){return Lt(e.addListener)&&Lt(e.removeListener)}function Ytt(e){return Lt(e.on)&&Lt(e.off)}function qtt(e){return Lt(e.addEventListener)&&Lt(e.removeEventListener)}function Gtt(e,t,n){return fo(function(){return e()?t:n})}function No(e,t,n){e===void 0&&(e=0),n===void 0&&(n=htt);var r=-1;return t!=null&&(rCe(t)?n=t:r=t),new gt(function(o){var i=Dtt(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function on(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=yw(e),r=gtt(e,1/0),o=e;return o.length?o.length===1?Cn(o[0]):Nj(r)(Sr(o,n)):Zn}var V6=new gt($f),Ktt=Array.isArray;function Ztt(e){return e.length===1&&Ktt(e[0])?e[0]:e}function Xtt(e,t){return function(n,r){return!e.call(t,n,r)}}function mt(e,t){return mn(function(n,r){var o=0;n.subscribe(Ut(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function H6(e,t,n){return[mt(t,n)(Cn(e)),mt(Xtt(t,n))(Cn(e))]}function Qtt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=Ztt(e),e.length===1?Cn(e[0]):new gt(Jtt(e))}function Jtt(e){return function(t){for(var n=[],r=function(i){n.push(Cn(e[i]).subscribe(Ut(t,function(s){if(n){for(var a=0;a<n.length;a++)a!==i&&n[a].unsubscribe();n=null}t.next(s)})))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}function ent(e,t){return new gt(function(n){var r=e(),o=t(r),i=o?Cn(o):Zn;return i.subscribe(n),function(){r&&r.unsubscribe()}})}function tnt(e){return mn(function(t,n){var r=!1,o=null,i=null,s=!1,a=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var u=o;o=null,n.next(u)}s&&n.complete()},c=function(){i=null,s&&n.complete()};t.subscribe(Ut(n,function(u){r=!0,o=u,i||Cn(e(u)).subscribe(i=Ut(n,a,c))},function(){s=!0,(!r||!i||i.closed)&&n.complete()}))})}function nnt(e,t){return t===void 0&&(t=Il),tnt(function(){return No(e,t)})}function Pn(e){return mn(function(t,n){var r=null,o=!1,i;r=t.subscribe(Ut(n,void 0,void 0,function(s){i=Cn(e(s,Pn(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function bCe(e,t,n,r,o){return function(i,s){var a=n,c=t,u=0;i.subscribe(Ut(s,function(d){var f=u++;c=a?e(c,d,f):(a=!0,d),r&&s.next(c)},o&&function(){a&&s.next(c),s.complete()}))}}function xCe(e,t){return mn(bCe(e,t,arguments.length>=2,!1,!0))}var rnt=function(e,t){return e.push(t),e};function wCe(){return mn(function(e,t){xCe(rnt,[])(e).subscribe(t)})}function a$(e,t){return Lt(t)?ht(e,t,1):ht(e,1)}function ont(e){return new gt(function(t){return e.subscribe(t)})}var int={connector:function(){return new _r}};function snt(e,t){t===void 0&&(t=int);var n=t.connector;return mn(function(r,o){var i=n();Cn(e(ont(i))).subscribe(o),o.add(r.subscribe(i))})}function U6(e){return mn(function(t,n){var r=!1,o=null,i=null,s=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var a=o;o=null,n.next(a)}};t.subscribe(Ut(n,function(a){i==null||i.unsubscribe(),r=!0,o=a,i=Ut(n,s,$f),Cn(e(a)).subscribe(i)},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function W6(e,t){return t===void 0&&(t=Il),mn(function(n,r){var o=null,i=null,s=null,a=function(){if(o){o.unsubscribe(),o=null;var u=i;i=null,r.next(u)}};function c(){var u=s+e,d=t.now();if(d<u){o=this.schedule(void 0,u-d),r.add(o);return}a()}n.subscribe(Ut(r,function(u){i=u,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function CCe(e){return mn(function(t,n){var r=!1;t.subscribe(Ut(n,function(o){r=!0,n.next(o)},function(){r||n.next(e),n.complete()}))})}function Ei(e){return e<=0?function(){return Zn}:mn(function(t,n){var r=0;t.subscribe(Ut(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function ant(){return mn(function(e,t){e.subscribe(Ut(t,$f))})}function zj(e){return ue(function(){return e})}function _Ce(e,t){return t?function(n){return Hr(t.pipe(Ei(1),ant()),n.pipe(_Ce(e)))}:ht(function(n,r){return Cn(e(n,r)).pipe(Ei(1),zj(n))})}function SCe(e,t){t===void 0&&(t=Il);var n=No(e,t);return _Ce(function(){return n})}function lnt(e,t){return mn(function(n,r){var o=new Set;n.subscribe(Ut(r,function(i){var s=e?e(i):i;o.has(s)||(o.add(s),r.next(i))})),t&&Cn(t).subscribe(Ut(r,function(){return o.clear()},$f))})}function Qn(e,t){return t===void 0&&(t=sd),e=e??cnt,mn(function(n,r){var o,i=!0;n.subscribe(Ut(r,function(s){var a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function cnt(e,t){return e===t}function ECe(e){return e===void 0&&(e=unt),mn(function(t,n){var r=!1;t.subscribe(Ut(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(e())}))})}function unt(){return new Bj}function kCe(e,t){return t?function(n){return n.pipe(kCe(function(r,o){return Cn(e(r,o)).pipe(ue(function(i,s){return t(r,i,o,s)}))}))}:mn(function(n,r){var o=0,i=null,s=!1;n.subscribe(Ut(r,function(a){i||(i=Ut(r,void 0,function(){i=null,s&&r.complete()}),Cn(e(a,o++)).subscribe(i))},function(){s=!0,!i&&r.complete()}))})}function jCe(e){return mn(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function TCe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?mt(function(o,i){return e(o,i,r)}):sd,Ei(1),n?CCe(t):ECe(function(){return new Bj}))}}function ACe(e,t,n,r){return mn(function(o,i){var s;!t||typeof t=="function"?s=t:(n=t.duration,s=t.element,r=t.connector);var a=new Map,c=function(v){a.forEach(v),v(i)},u=function(v){return c(function(g){return g.error(v)})},d=0,f=!1,p=new Qwe(i,function(v){try{var g=e(v),y=a.get(g);if(!y){a.set(g,y=r?r():new _r);var x=m(g,y);if(i.next(x),n){var b=Ut(y,function(){y.complete(),b==null||b.unsubscribe()},void 0,void 0,function(){return a.delete(g)});p.add(Cn(n(x)).subscribe(b))}}y.next(s?s(v):v)}catch(w){u(w)}},function(){return c(function(v){return v.complete()})},u,function(){return a.clear()},function(){return f=!0,d===0});o.subscribe(p);function m(v,g){var y=new gt(function(x){d++;var b=g.subscribe(x);return function(){b.unsubscribe(),--d===0&&f&&p.unsubscribe()}});return y.key=v,y}})}function dnt(e){return e<=0?function(){return Zn}:mn(function(t,n){var r=[];t.subscribe(Ut(n,function(o){r.push(o),e<r.length&&r.shift()},function(){var o,i;try{for(var s=Lp(r),a=s.next();!a.done;a=s.next()){var c=a.value;n.next(c)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}n.complete()},void 0,function(){r=null}))})}function fnt(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?mt(function(o,i){return e(o,i,r)}):sd,dnt(1),n?CCe(t):ECe(function(){return new Bj}))}}var hnt=ht;function Np(e,t,n){return n===void 0&&(n=1/0),Lt(t)?ht(function(){return e},t,n):(typeof t=="number"&&(n=t),ht(function(){return e},n))}function pnt(e,t){var n=Lt(e)?e:function(){return e};return Lt(t)?snt(t,{connector:n}):function(r){return new ott(r,n)}}function yl(e,t,n,r){n&&!Lt(n)&&(r=n);var o=Lt(n)?n:void 0;return function(i){return pnt(new Jwe(e,t,r),o)(i)}}function na(e,t){return mn(bCe(e,t,arguments.length>=2,!0))}function ra(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new _r}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,s=i===void 0?!0:i,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var d,f,p,m=0,v=!1,g=!1,y=function(){f==null||f.unsubscribe(),f=void 0},x=function(){y(),d=p=void 0,v=g=!1},b=function(){var w=d;x(),w==null||w.unsubscribe()};return mn(function(w,C){m++,!g&&!v&&y();var _=p=p??n();C.add(function(){m--,m===0&&!g&&!v&&(f=_I(b,c))}),_.subscribe(C),!d&&m>0&&(d=new Zb({next:function(S){return _.next(S)},error:function(S){g=!0,y(),f=_I(x,o,S),_.error(S)},complete:function(){v=!0,y(),f=_I(x,s),_.complete()}}),Cn(w).subscribe(d))})(u)}}function _I(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new Zb({next:function(){o.unsubscribe(),e()}});return Cn(t.apply(void 0,Dl([],Ha(n)))).subscribe(o)}}function jo(e,t,n){var r,o,i,s,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,s=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,a=i===void 0?!1:i,n=e.scheduler):s=e??1/0,ra({connector:function(){return new Jwe(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function DCe(e){return mt(function(t,n){return e<=n})}function ri(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=yw(e);return mn(function(r,o){(n?Hr(e,r,n):Hr(e,r)).subscribe(o)})}function it(e,t){return mn(function(n,r){var o=null,i=0,s=!1,a=function(){return s&&!o&&r.complete()};n.subscribe(Ut(r,function(c){o==null||o.unsubscribe();var u=0,d=i++;Cn(e(c,d)).subscribe(o=Ut(r,function(f){return r.next(t?t(c,f,d,u++):f)},function(){o=null,a()}))},function(){s=!0,a()}))})}function mnt(e,t){return Lt(t)?it(function(){return e},t):it(function(){return e})}function Y6(e){return mn(function(t,n){Cn(e).subscribe(Ut(n,function(){return n.complete()},$f)),!n.closed&&t.subscribe(n)})}function bn(e,t,n){var r=Lt(e)||t||n?{next:e,error:t,complete:n}:e;return r?mn(function(o,i){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var a=!0;o.subscribe(Ut(i,function(c){var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},function(c){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},function(){var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):sd}function ICe(e,t){return mn(function(n,r){var o=t??{},i=o.leading,s=i===void 0?!0:i,a=o.trailing,c=a===void 0?!1:a,u=!1,d=null,f=null,p=!1,m=function(){f==null||f.unsubscribe(),f=null,c&&(y(),p&&r.complete())},v=function(){f=null,p&&r.complete()},g=function(x){return f=Cn(e(x)).subscribe(Ut(r,m,v))},y=function(){if(u){u=!1;var x=d;d=null,r.next(x),!p&&g(x)}};n.subscribe(Ut(r,function(x){u=!0,d=x,!(f&&!f.closed)&&(s?y():g(x))},function(){p=!0,!(c&&u&&f&&!f.closed)&&r.complete()}))})}function Xb(e,t,n){t===void 0&&(t=Il);var r=No(e,t);return ICe(function(){return r},n)}function Zy(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=B6(e);return mn(function(r,o){for(var i=e.length,s=new Array(i),a=e.map(function(){return!1}),c=!1,u=function(f){Cn(e[f]).subscribe(Ut(o,function(p){s[f]=p,!c&&!a[f]&&(a[f]=!0,(c=a.every(sd))&&(a=null))},$f))},d=0;d<i;d++)u(d);r.subscribe(Ut(o,function(f){if(c){var p=Dl([f],Ha(s));o.next(n?n.apply(void 0,Dl([],Ha(p))):p)}}))})}function gnt(e,t){var n=h.useCallback(function(){var s=new Lj(e),a=s.asObservable().pipe(Qn());return[t?a.pipe(t):a,s]},[]),r=h.useRef();r.current||(r.current=n());var o=r.current[0];h.useEffect(function(){if(r.current){var s=r.current,a=s[1];a.next(e)}},[e,r]);var i=h.useRef(!1);return h.useEffect(function(){return i.current&&(r.current||(r.current=n()),i.current=!1),function(){if(r.current){i.current=!0;var s=r.current,a=s[1];a.complete(),r.current=void 0}}},[]),o}var PCe={exports:{}},OCe={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv=h;function vnt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ynt=typeof Object.is=="function"?Object.is:vnt,bnt=Vv.useState,xnt=Vv.useEffect,wnt=Vv.useLayoutEffect,Cnt=Vv.useDebugValue;function _nt(e,t){var n=t(),r=bnt({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return wnt(function(){o.value=n,o.getSnapshot=t,SI(o)&&i({inst:o})},[e,n,t]),xnt(function(){return SI(o)&&i({inst:o}),e(function(){SI(o)&&i({inst:o})})},[e]),Cnt(n),n}function SI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ynt(e,n)}catch{return!0}}function Snt(e,t){return t()}var Ent=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Snt:_nt;OCe.useSyncExternalStore=Vv.useSyncExternalStore!==void 0?Vv.useSyncExternalStore:Ent;PCe.exports=OCe;var knt=PCe.exports;function l$(e){return typeof e=="function"?e():e}var EI=new WeakMap;function Eq(e,t){if(!EI.has(e)){var n={currentValue:t};n.observable=e.pipe(jo({refCount:!0,bufferSize:1}),bn(function(r){return n.currentValue=r})),n.subscription=n.observable.subscribe(),EI.set(e,n)}return EI.get(e)}function jnt(e,t){var n=h.useMemo(function(){var s=Eq(e,l$(t));return s.subscription.closed&&(s.subscription=s.observable.subscribe()),[function(){return s.currentValue},function(c){var u=s.observable.subscribe(c);return function(){u.unsubscribe()}}]},[e]),r=n[0],o=n[1],i=h.useRef(!1);return h.useEffect(function(){var s=Eq(e,l$(t));return i.current&&(s.subscription.closed&&(s.subscription=s.observable.subscribe()),i.current=!1),function(){i.current=!s.subscription.closed,s.subscription.unsubscribe()}},[e]),knt.useSyncExternalStore(o,r)}function go(e,t,n){return jnt(h.useMemo(function(){return l$(e)},t),n)}var Tnt=function(e){return e};function RCe(e){e===void 0&&(e=Tnt);var t=new _r;return[t.pipe(e),function(n){return t.next(n)}]}var Ant=[];function Vj(e,t){t===void 0&&(t=Ant);var n=h.useRef();n.current||(n.current=RCe());var r=n.current,o=r[0],i=r[1],s=h.useCallback(e,t);return h.useEffect(function(){var a=o.pipe(s).subscribe();return function(){a.unsubscribe()}},[o,i,s]),i}function Dnt(){this.__data__=[],this.size=0}var Int=Dnt;function Pnt(e,t){return e===t||e!==e&&t!==t}var Hj=Pnt,Ont=Hj;function Rnt(e,t){for(var n=e.length;n--;)if(Ont(e[n][0],t))return n;return-1}var Uj=Rnt,$nt=Uj,Mnt=Array.prototype,Fnt=Mnt.splice;function Lnt(e){var t=this.__data__,n=$nt(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Fnt.call(t,n,1),--this.size,!0}var Bnt=Lnt,Nnt=Uj;function znt(e){var t=this.__data__,n=Nnt(t,e);return n<0?void 0:t[n][1]}var Vnt=znt,Hnt=Uj;function Unt(e){return Hnt(this.__data__,e)>-1}var Wnt=Unt,Ynt=Uj;function qnt(e,t){var n=this.__data__,r=Ynt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Gnt=qnt,Knt=Int,Znt=Bnt,Xnt=Vnt,Qnt=Wnt,Jnt=Gnt;function S0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}S0.prototype.clear=Knt;S0.prototype.delete=Znt;S0.prototype.get=Xnt;S0.prototype.has=Qnt;S0.prototype.set=Jnt;var Wj=S0,ert=Wj;function trt(){this.__data__=new ert,this.size=0}var nrt=trt;function rrt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var ort=rrt;function irt(e){return this.__data__.get(e)}var srt=irt;function art(e){return this.__data__.has(e)}var lrt=art,crt=Hf,urt=qa,drt="[object AsyncFunction]",frt="[object Function]",hrt="[object GeneratorFunction]",prt="[object Proxy]";function mrt(e){if(!urt(e))return!1;var t=crt(e);return t==frt||t==hrt||t==drt||t==prt}var $Ce=mrt,grt=Bl,vrt=grt["__core-js_shared__"],yrt=vrt,kI=yrt,kq=function(){var e=/[^.]+$/.exec(kI&&kI.keys&&kI.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function brt(e){return!!kq&&kq in e}var xrt=brt,wrt=Function.prototype,Crt=wrt.toString;function _rt(e){if(e!=null){try{return Crt.call(e)}catch{}try{return e+""}catch{}}return""}var MCe=_rt,Srt=$Ce,Ert=xrt,krt=qa,jrt=MCe,Trt=/[\\^$.*+?()[\]{}|]/g,Art=/^\[object .+?Constructor\]$/,Drt=Function.prototype,Irt=Object.prototype,Prt=Drt.toString,Ort=Irt.hasOwnProperty,Rrt=RegExp("^"+Prt.call(Ort).replace(Trt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $rt(e){if(!krt(e)||Ert(e))return!1;var t=Srt(e)?Rrt:Art;return t.test(jrt(e))}var Mrt=$rt;function Frt(e,t){return e==null?void 0:e[t]}var Lrt=Frt,Brt=Mrt,Nrt=Lrt;function zrt(e,t){var n=Nrt(e,t);return Brt(n)?n:void 0}var bm=zrt,Vrt=bm,Hrt=Bl,Urt=Vrt(Hrt,"Map"),q6=Urt,Wrt=bm,Yrt=Wrt(Object,"create"),Yj=Yrt,jq=Yj;function qrt(){this.__data__=jq?jq(null):{},this.size=0}var Grt=qrt;function Krt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Zrt=Krt,Xrt=Yj,Qrt="__lodash_hash_undefined__",Jrt=Object.prototype,eot=Jrt.hasOwnProperty;function tot(e){var t=this.__data__;if(Xrt){var n=t[e];return n===Qrt?void 0:n}return eot.call(t,e)?t[e]:void 0}var not=tot,rot=Yj,oot=Object.prototype,iot=oot.hasOwnProperty;function sot(e){var t=this.__data__;return rot?t[e]!==void 0:iot.call(t,e)}var aot=sot,lot=Yj,cot="__lodash_hash_undefined__";function uot(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=lot&&t===void 0?cot:t,this}var dot=uot,fot=Grt,hot=Zrt,pot=not,mot=aot,got=dot;function E0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}E0.prototype.clear=fot;E0.prototype.delete=hot;E0.prototype.get=pot;E0.prototype.has=mot;E0.prototype.set=got;var vot=E0,Tq=vot,yot=Wj,bot=q6;function xot(){this.size=0,this.__data__={hash:new Tq,map:new(bot||yot),string:new Tq}}var wot=xot;function Cot(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var _ot=Cot,Sot=_ot;function Eot(e,t){var n=e.__data__;return Sot(t)?n[typeof t=="string"?"string":"hash"]:n.map}var qj=Eot,kot=qj;function jot(e){var t=kot(this,e).delete(e);return this.size-=t?1:0,t}var Tot=jot,Aot=qj;function Dot(e){return Aot(this,e).get(e)}var Iot=Dot,Pot=qj;function Oot(e){return Pot(this,e).has(e)}var Rot=Oot,$ot=qj;function Mot(e,t){var n=$ot(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Fot=Mot,Lot=wot,Bot=Tot,Not=Iot,zot=Rot,Vot=Fot;function k0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}k0.prototype.clear=Lot;k0.prototype.delete=Bot;k0.prototype.get=Not;k0.prototype.has=zot;k0.prototype.set=Vot;var G6=k0,Hot=Wj,Uot=q6,Wot=G6,Yot=200;function qot(e,t){var n=this.__data__;if(n instanceof Hot){var r=n.__data__;if(!Uot||r.length<Yot-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Wot(r)}return n.set(e,t),this.size=n.size,this}var Got=qot,Kot=Wj,Zot=nrt,Xot=ort,Qot=srt,Jot=lrt,eit=Got;function j0(e){var t=this.__data__=new Kot(e);this.size=t.size}j0.prototype.clear=Zot;j0.prototype.delete=Xot;j0.prototype.get=Qot;j0.prototype.has=Jot;j0.prototype.set=eit;var K6=j0,tit="__lodash_hash_undefined__";function nit(e){return this.__data__.set(e,tit),this}var rit=nit;function oit(e){return this.__data__.has(e)}var iit=oit,sit=G6,ait=rit,lit=iit;function DE(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new sit;++t<n;)this.add(e[t])}DE.prototype.add=DE.prototype.push=ait;DE.prototype.has=lit;var Gj=DE;function cit(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var uit=cit;function dit(e,t){return e.has(t)}var Kj=dit,fit=Gj,hit=uit,pit=Kj,mit=1,git=2;function vit(e,t,n,r,o,i){var s=n&mit,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,m=n&git?new fit:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var v=e[f],g=t[f];if(r)var y=s?r(g,v,f,t,e,i):r(v,g,f,e,t,i);if(y!==void 0){if(y)continue;p=!1;break}if(m){if(!hit(t,function(x,b){if(!pit(m,b)&&(v===x||o(v,x,n,r,i)))return m.push(b)})){p=!1;break}}else if(!(v===g||o(v,g,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var FCe=vit,yit=Bl,bit=yit.Uint8Array,LCe=bit;function xit(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var wit=xit;function Cit(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Z6=Cit,Aq=u0,Dq=LCe,_it=Hj,Sit=FCe,Eit=wit,kit=Z6,jit=1,Tit=2,Ait="[object Boolean]",Dit="[object Date]",Iit="[object Error]",Pit="[object Map]",Oit="[object Number]",Rit="[object RegExp]",$it="[object Set]",Mit="[object String]",Fit="[object Symbol]",Lit="[object ArrayBuffer]",Bit="[object DataView]",Iq=Aq?Aq.prototype:void 0,jI=Iq?Iq.valueOf:void 0;function Nit(e,t,n,r,o,i,s){switch(n){case Bit:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Lit:return!(e.byteLength!=t.byteLength||!i(new Dq(e),new Dq(t)));case Ait:case Dit:case Oit:return _it(+e,+t);case Iit:return e.name==t.name&&e.message==t.message;case Rit:case Mit:return e==t+"";case Pit:var a=Eit;case $it:var c=r&jit;if(a||(a=kit),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=Tit,s.set(e,t);var d=Sit(a(e),a(t),r,o,i,s);return s.delete(e),d;case Fit:if(jI)return jI.call(e)==jI.call(t)}return!1}var zit=Nit;function Vit(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var X6=Vit,Hit=Array.isArray,Jr=Hit,Uit=X6,Wit=Jr;function Yit(e,t,n){var r=t(e);return Wit(e)?r:Uit(r,n(e))}var BCe=Yit;function qit(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}var NCe=qit;function Git(){return[]}var zCe=Git,Kit=NCe,Zit=zCe,Xit=Object.prototype,Qit=Xit.propertyIsEnumerable,Pq=Object.getOwnPropertySymbols,Jit=Pq?function(e){return e==null?[]:(e=Object(e),Kit(Pq(e),function(t){return Qit.call(e,t)}))}:Zit,Q6=Jit;function est(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var tst=est,nst=Hf,rst=Ga,ost="[object Arguments]";function ist(e){return rst(e)&&nst(e)==ost}var sst=ist,Oq=sst,ast=Ga,VCe=Object.prototype,lst=VCe.hasOwnProperty,cst=VCe.propertyIsEnumerable,ust=Oq(function(){return arguments}())?Oq:function(e){return ast(e)&&lst.call(e,"callee")&&!cst.call(e,"callee")},Zj=ust,IE={exports:{}};function dst(){return!1}var fst=dst;IE.exports;(function(e,t){var n=Bl,r=fst,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===o,a=s?n.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||r;e.exports=u})(IE,IE.exports);var Xj=IE.exports,hst=9007199254740991,pst=/^(?:0|[1-9]\d*)$/;function mst(e,t){var n=typeof e;return t=t??hst,!!t&&(n=="number"||n!="symbol"&&pst.test(e))&&e>-1&&e%1==0&&e<t}var Qj=mst,gst=9007199254740991;function vst(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gst}var J6=vst,yst=Hf,bst=J6,xst=Ga,wst="[object Arguments]",Cst="[object Array]",_st="[object Boolean]",Sst="[object Date]",Est="[object Error]",kst="[object Function]",jst="[object Map]",Tst="[object Number]",Ast="[object Object]",Dst="[object RegExp]",Ist="[object Set]",Pst="[object String]",Ost="[object WeakMap]",Rst="[object ArrayBuffer]",$st="[object DataView]",Mst="[object Float32Array]",Fst="[object Float64Array]",Lst="[object Int8Array]",Bst="[object Int16Array]",Nst="[object Int32Array]",zst="[object Uint8Array]",Vst="[object Uint8ClampedArray]",Hst="[object Uint16Array]",Ust="[object Uint32Array]",rr={};rr[Mst]=rr[Fst]=rr[Lst]=rr[Bst]=rr[Nst]=rr[zst]=rr[Vst]=rr[Hst]=rr[Ust]=!0;rr[wst]=rr[Cst]=rr[Rst]=rr[_st]=rr[$st]=rr[Sst]=rr[Est]=rr[kst]=rr[jst]=rr[Tst]=rr[Ast]=rr[Dst]=rr[Ist]=rr[Pst]=rr[Ost]=!1;function Wst(e){return xst(e)&&bst(e.length)&&!!rr[yst(e)]}var Yst=Wst;function qst(e){return function(t){return e(t)}}var T0=qst,PE={exports:{}};PE.exports;(function(e,t){var n=Ive,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i&&n.process,a=function(){try{var c=o&&o.require&&o.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(PE,PE.exports);var e8=PE.exports,Gst=Yst,Kst=T0,Rq=e8,$q=Rq&&Rq.isTypedArray,Zst=$q?Kst($q):Gst,t8=Zst,Xst=tst,Qst=Zj,Jst=Jr,eat=Xj,tat=Qj,nat=t8,rat=Object.prototype,oat=rat.hasOwnProperty;function iat(e,t){var n=Jst(e),r=!n&&Qst(e),o=!n&&!r&&eat(e),i=!n&&!r&&!o&&nat(e),s=n||r||o||i,a=s?Xst(e.length,String):[],c=a.length;for(var u in e)(t||oat.call(e,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||tat(u,c)))&&a.push(u);return a}var HCe=iat,sat=Object.prototype;function aat(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||sat;return e===n}var Jj=aat;function lat(e,t){return function(n){return e(t(n))}}var UCe=lat,cat=UCe,uat=cat(Object.keys,Object),dat=uat,fat=Jj,hat=dat,pat=Object.prototype,mat=pat.hasOwnProperty;function gat(e){if(!fat(e))return hat(e);var t=[];for(var n in Object(e))mat.call(e,n)&&n!="constructor"&&t.push(n);return t}var WCe=gat,vat=$Ce,yat=J6;function bat(e){return e!=null&&yat(e.length)&&!vat(e)}var Xf=bat,xat=HCe,wat=WCe,Cat=Xf;function _at(e){return Cat(e)?xat(e):wat(e)}var Qf=_at,Sat=BCe,Eat=Q6,kat=Qf;function jat(e){return Sat(e,kat,Eat)}var YCe=jat,Mq=YCe,Tat=1,Aat=Object.prototype,Dat=Aat.hasOwnProperty;function Iat(e,t,n,r,o,i){var s=n&Tat,a=Mq(e),c=a.length,u=Mq(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var p=a[f];if(!(s?p in t:Dat.call(t,p)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var y=s;++f<c;){p=a[f];var x=e[p],b=t[p];if(r)var w=s?r(b,x,p,t,e,i):r(x,b,p,e,t,i);if(!(w===void 0?x===b||o(x,b,n,r,i):w)){g=!1;break}y||(y=p=="constructor")}if(g&&!y){var C=e.constructor,_=t.constructor;C!=_&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return i.delete(e),i.delete(t),g}var Pat=Iat,Oat=bm,Rat=Bl,$at=Oat(Rat,"DataView"),Mat=$at,Fat=bm,Lat=Bl,Bat=Fat(Lat,"Promise"),Nat=Bat,zat=bm,Vat=Bl,Hat=zat(Vat,"Set"),qCe=Hat,Uat=bm,Wat=Bl,Yat=Uat(Wat,"WeakMap"),GCe=Yat,c$=Mat,u$=q6,d$=Nat,f$=qCe,h$=GCe,KCe=Hf,A0=MCe,Fq="[object Map]",qat="[object Object]",Lq="[object Promise]",Bq="[object Set]",Nq="[object WeakMap]",zq="[object DataView]",Gat=A0(c$),Kat=A0(u$),Zat=A0(d$),Xat=A0(f$),Qat=A0(h$),Ph=KCe;(c$&&Ph(new c$(new ArrayBuffer(1)))!=zq||u$&&Ph(new u$)!=Fq||d$&&Ph(d$.resolve())!=Lq||f$&&Ph(new f$)!=Bq||h$&&Ph(new h$)!=Nq)&&(Ph=function(e){var t=KCe(e),n=t==qat?e.constructor:void 0,r=n?A0(n):"";if(r)switch(r){case Gat:return zq;case Kat:return Fq;case Zat:return Lq;case Xat:return Bq;case Qat:return Nq}return t});var bw=Ph,TI=K6,Jat=FCe,elt=zit,tlt=Pat,Vq=bw,Hq=Jr,Uq=Xj,nlt=t8,rlt=1,Wq="[object Arguments]",Yq="[object Array]",JC="[object Object]",olt=Object.prototype,qq=olt.hasOwnProperty;function ilt(e,t,n,r,o,i){var s=Hq(e),a=Hq(t),c=s?Yq:Vq(e),u=a?Yq:Vq(t);c=c==Wq?JC:c,u=u==Wq?JC:u;var d=c==JC,f=u==JC,p=c==u;if(p&&Uq(e)){if(!Uq(t))return!1;s=!0,d=!1}if(p&&!d)return i||(i=new TI),s||nlt(e)?Jat(e,t,n,r,o,i):elt(e,t,c,n,r,o,i);if(!(n&rlt)){var m=d&&qq.call(e,"__wrapped__"),v=f&&qq.call(t,"__wrapped__");if(m||v){var g=m?e.value():e,y=v?t.value():t;return i||(i=new TI),o(g,y,n,r,i)}}return p?(i||(i=new TI),tlt(e,t,n,r,o,i)):!1}var slt=ilt,alt=slt,Gq=Ga;function ZCe(e,t,n,r,o){return e===t?!0:e==null||t==null||!Gq(e)&&!Gq(t)?e!==e&&t!==t:alt(e,t,n,r,ZCe,o)}var n8=ZCe,llt=n8;function clt(e,t){return llt(e,t)}var ult=clt;const Ht=Pe(ult);var vp=[],dlt=function(){return vp.some(function(e){return e.activeTargets.length>0})},flt=function(){return vp.some(function(e){return e.skippedTargets.length>0})},Kq="ResizeObserver loop completed with undelivered notifications.",hlt=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Kq}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Kq),window.dispatchEvent(e)},Qb;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Qb||(Qb={}));var yp=function(e){return Object.freeze(e)},plt=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,yp(this)}return e}(),XCe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,yp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),r8=function(e){return e instanceof SVGElement&&"getBBox"in e},QCe=function(e){if(r8(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},Zq=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},mlt=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Xy=typeof window<"u"?window:{},e_=new WeakMap,Xq=/auto|scroll/,glt=/^tb|vertical/,vlt=/msie|trident/i.test(Xy.navigator&&Xy.navigator.userAgent),Xl=function(e){return parseFloat(e||"0")},tv=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new plt((n?t:e)||0,(n?e:t)||0)},Qq=yp({devicePixelContentBoxSize:tv(),borderBoxSize:tv(),contentBoxSize:tv(),contentRect:new XCe(0,0,0,0)}),JCe=function(e,t){if(t===void 0&&(t=!1),e_.has(e)&&!t)return e_.get(e);if(QCe(e))return e_.set(e,Qq),Qq;var n=getComputedStyle(e),r=r8(e)&&e.ownerSVGElement&&e.getBBox(),o=!vlt&&n.boxSizing==="border-box",i=glt.test(n.writingMode||""),s=!r&&Xq.test(n.overflowY||""),a=!r&&Xq.test(n.overflowX||""),c=r?0:Xl(n.paddingTop),u=r?0:Xl(n.paddingRight),d=r?0:Xl(n.paddingBottom),f=r?0:Xl(n.paddingLeft),p=r?0:Xl(n.borderTopWidth),m=r?0:Xl(n.borderRightWidth),v=r?0:Xl(n.borderBottomWidth),g=r?0:Xl(n.borderLeftWidth),y=f+u,x=c+d,b=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-b-e.clientWidth:0,S=o?y+b:0,E=o?x+w:0,j=r?r.width:Xl(n.width)-S-_,k=r?r.height:Xl(n.height)-E-C,T=j+y+_+b,A=k+x+C+w,D=yp({devicePixelContentBoxSize:tv(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:tv(T,A,i),contentBoxSize:tv(j,k,i),contentRect:new XCe(f,c,j,k)});return e_.set(e,D),D},e_e=function(e,t,n){var r=JCe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case Qb.DEVICE_PIXEL_CONTENT_BOX:return s;case Qb.BORDER_BOX:return o;default:return i}},ylt=function(){function e(t){var n=JCe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=yp([n.borderBoxSize]),this.contentBoxSize=yp([n.contentBoxSize]),this.devicePixelContentBoxSize=yp([n.devicePixelContentBoxSize])}return e}(),t_e=function(e){if(QCe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},blt=function(){var e=1/0,t=[];vp.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new ylt(u.target),f=t_e(u.target);a.push(d),u.lastReportedSize=e_e(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},Jq=function(e){vp.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(t_e(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},xlt=function(){var e=0;for(Jq(e);dlt();)e=blt(),Jq(e);return flt()&&hlt(),e>0},AI,n_e=[],wlt=function(){return n_e.splice(0).forEach(function(e){return e()})},Clt=function(e){if(!AI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return wlt()}).observe(n,r),AI=function(){n.textContent="".concat(t?t--:t++)}}n_e.push(e),AI()},_lt=function(e){Clt(function(){requestAnimationFrame(e)})},M2=0,Slt=function(){return!!M2},Elt=250,klt={attributes:!0,characterData:!0,childList:!0,subtree:!0},eG=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],tG=function(e){return e===void 0&&(e=0),Date.now()+e},DI=!1,jlt=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=Elt),!DI){DI=!0;var r=tG(t);_lt(function(){var o=!1;try{o=xlt()}finally{if(DI=!1,t=r-tG(),!Slt())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,klt)};document.body?n():Xy.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),eG.forEach(function(n){return Xy.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),eG.forEach(function(n){return Xy.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),p$=new jlt,nG=function(e){!M2&&e>0&&p$.start(),M2+=e,!M2&&p$.stop()},Tlt=function(e){return!r8(e)&&!mlt(e)&&getComputedStyle(e).display==="inline"},Alt=function(){function e(t,n){this.target=t,this.observedBox=n||Qb.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=e_e(this.target,this.observedBox,!0);return Tlt(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Dlt=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),t_=new WeakMap,rG=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},n_=function(){function e(){}return e.connect=function(t,n){var r=new Dlt(t,n);t_.set(t,r)},e.observe=function(t,n,r){var o=t_.get(t),i=o.observationTargets.length===0;rG(o.observationTargets,n)<0&&(i&&vp.push(o),o.observationTargets.push(new Alt(n,r&&r.box)),nG(1),p$.schedule())},e.unobserve=function(t,n){var r=t_.get(t),o=rG(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&vp.splice(vp.indexOf(r),1),r.observationTargets.splice(o,1),nG(-1))},e.disconnect=function(t){var n=this,r=t_.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),r_e=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");n_.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Zq(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");n_.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Zq(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");n_.unobserve(this,t)},e.prototype.disconnect=function(){n_.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),Ilt=$ve,Plt=qa,Olt="Expected a function";function Rlt(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(Olt);return Plt(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ilt(e,t,{leading:r,maxWait:t,trailing:o})}var $lt=Rlt;const eT=Pe($lt);var oG=u0,Mlt=Zj,Flt=Jr,iG=oG?oG.isConcatSpreadable:void 0;function Llt(e){return Flt(e)||Mlt(e)||!!(iG&&e&&e[iG])}var Blt=Llt,Nlt=X6,zlt=Blt;function o_e(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=zlt),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?o_e(a,t-1,n,r,o):Nlt(o,a):r||(o[o.length]=a)}return o}var D0=o_e;function Vlt(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Fc=Vlt,Hlt=Jr,Ult=sm,Wlt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ylt=/^\w*$/;function qlt(e,t){if(Hlt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ult(e)?!0:Ylt.test(e)||!Wlt.test(e)||t!=null&&e in Object(t)}var o8=qlt,i_e=G6,Glt="Expected a function";function i8(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Glt);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(i8.Cache||i_e),n}i8.Cache=i_e;var s_e=i8;const tT=Pe(s_e);var Klt=s_e,Zlt=500;function Xlt(e){var t=Klt(e,function(r){return n.size===Zlt&&n.clear(),r}),n=t.cache;return t}var Qlt=Xlt,Jlt=Qlt,ect=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tct=/\\(\\)?/g,nct=Jlt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ect,function(n,r,o,i){t.push(o?i.replace(tct,"$1"):r||n)}),t}),a_e=nct,sG=u0,rct=Fc,oct=Jr,ict=sm,sct=1/0,aG=sG?sG.prototype:void 0,lG=aG?aG.toString:void 0;function l_e(e){if(typeof e=="string")return e;if(oct(e))return rct(e,l_e)+"";if(ict(e))return lG?lG.call(e):"";var t=e+"";return t=="0"&&1/e==-sct?"-0":t}var c_e=l_e,act=c_e;function lct(e){return e==null?"":act(e)}var Lc=lct,cct=Jr,uct=o8,dct=a_e,fct=Lc;function hct(e,t){return cct(e)?e:uct(e,t)?[e]:dct(fct(e))}var I0=hct,pct=sm,mct=1/0;function gct(e){if(typeof e=="string"||pct(e))return e;var t=e+"";return t=="0"&&1/e==-mct?"-0":t}var xm=gct,vct=I0,yct=xm;function bct(e,t){t=vct(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[yct(t[n++])];return n&&n==r?e:void 0}var xw=bct,xct=K6,wct=n8,Cct=1,_ct=2;function Sct(e,t,n,r){var o=n.length,i=o,s=!r;if(e==null)return!i;for(e=Object(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var c=a[0],u=e[c],d=a[1];if(s&&a[2]){if(u===void 0&&!(c in e))return!1}else{var f=new xct;if(r)var p=r(u,d,c,e,t,f);if(!(p===void 0?wct(d,u,Cct|_ct,r,f):p))return!1}}return!0}var Ect=Sct,kct=qa;function jct(e){return e===e&&!kct(e)}var u_e=jct,Tct=u_e,Act=Qf;function Dct(e){for(var t=Act(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Tct(o)]}return t}var Ict=Dct;function Pct(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var d_e=Pct,Oct=Ect,Rct=Ict,$ct=d_e;function Mct(e){var t=Rct(e);return t.length==1&&t[0][2]?$ct(t[0][0],t[0][1]):function(n){return n===e||Oct(n,e,t)}}var Fct=Mct,Lct=xw;function Bct(e,t,n){var r=e==null?void 0:Lct(e,t);return r===void 0?n:r}var f_e=Bct;const Un=Pe(f_e);function Nct(e,t){return e!=null&&t in Object(e)}var zct=Nct,Vct=I0,Hct=Zj,Uct=Jr,Wct=Qj,Yct=J6,qct=xm;function Gct(e,t,n){t=Vct(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var s=qct(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&Yct(o)&&Wct(s,o)&&(Uct(e)||Hct(e)))}var Kct=Gct,Zct=zct,Xct=Kct;function Qct(e,t){return e!=null&&Xct(e,t,Zct)}var h_e=Qct,Jct=n8,eut=f_e,tut=h_e,nut=o8,rut=u_e,out=d_e,iut=xm,sut=1,aut=2;function lut(e,t){return nut(e)&&rut(t)?out(iut(e),t):function(n){var r=eut(n,e);return r===void 0&&r===t?tut(n,e):Jct(t,r,sut|aut)}}var cut=lut;function uut(e){return e}var wm=uut;const p_e=Pe(wm);function dut(e){return function(t){return t==null?void 0:t[e]}}var fut=dut,hut=xw;function put(e){return function(t){return hut(t,e)}}var mut=put,gut=fut,vut=mut,yut=o8,but=xm;function xut(e){return yut(e)?gut(but(e)):vut(e)}var wut=xut,Cut=Fct,_ut=cut,Sut=wm,Eut=Jr,kut=wut;function jut(e){return typeof e=="function"?e:e==null?Sut:typeof e=="object"?Eut(e)?_ut(e[0],e[1]):Cut(e):kut(e)}var Jf=jut;function Tut(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var c=s[e?a:++o];if(n(i[c],c,i)===!1)break}return t}}var Aut=Tut,Dut=Aut,Iut=Dut(),Put=Iut,Out=Put,Rut=Qf;function $ut(e,t){return e&&Out(e,t,Rut)}var Mut=$ut,Fut=Xf;function Lut(e,t){return function(n,r){if(n==null)return n;if(!Fut(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var But=Lut,Nut=Mut,zut=But,Vut=zut(Nut),m_e=Vut,Hut=m_e,Uut=Xf;function Wut(e,t){var n=-1,r=Uut(e)?Array(e.length):[];return Hut(e,function(o,i,s){r[++n]=t(o,i,s)}),r}var g_e=Wut;function Yut(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var qut=Yut,cG=sm;function Gut(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=cG(e),s=t!==void 0,a=t===null,c=t===t,u=cG(t);if(!a&&!u&&!i&&e>t||i&&s&&c&&!a&&!u||r&&s&&c||!n&&c||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!c)return-1}return 0}var Kut=Gut,Zut=Kut;function Xut(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var c=Zut(o[r],i[r]);if(c){if(r>=a)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Qut=Xut,II=Fc,Jut=xw,edt=Jf,tdt=g_e,ndt=qut,rdt=T0,odt=Qut,idt=wm,sdt=Jr;function adt(e,t,n){t.length?t=II(t,function(i){return sdt(i)?function(s){return Jut(s,i.length===1?i[0]:i)}:i}):t=[idt];var r=-1;t=II(t,rdt(edt));var o=tdt(e,function(i,s,a){var c=II(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return ndt(o,function(i,s){return odt(i,s,n)})}var v_e=adt;function ldt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var cdt=ldt,udt=cdt,uG=Math.max;function ddt(e,t,n){return t=uG(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=uG(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),udt(e,this,a)}}var y_e=ddt;function fdt(e){return function(){return e}}var hdt=fdt,pdt=bm,mdt=function(){try{var e=pdt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),b_e=mdt,gdt=hdt,dG=b_e,vdt=wm,ydt=dG?function(e,t){return dG(e,"toString",{configurable:!0,enumerable:!1,value:gdt(t),writable:!0})}:vdt,bdt=ydt,xdt=800,wdt=16,Cdt=Date.now;function _dt(e){var t=0,n=0;return function(){var r=Cdt(),o=wdt-(r-n);if(n=r,o>0){if(++t>=xdt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Sdt=_dt,Edt=bdt,kdt=Sdt,jdt=kdt(Edt),x_e=jdt,Tdt=wm,Adt=y_e,Ddt=x_e;function Idt(e,t){return Ddt(Adt(e,t,Tdt),e+"")}var P0=Idt,Pdt=Hj,Odt=Xf,Rdt=Qj,$dt=qa;function Mdt(e,t,n){if(!$dt(n))return!1;var r=typeof t;return(r=="number"?Odt(n)&&Rdt(t,n.length):r=="string"&&t in n)?Pdt(n[t],e):!1}var s8=Mdt,Fdt=D0,Ldt=v_e,Bdt=P0,fG=s8,Ndt=Bdt(function(e,t){if(e==null)return[];var n=t.length;return n>1&&fG(e,t[0],t[1])?t=[]:n>2&&fG(t[0],t[1],t[2])&&(t=[t[0]]),Ldt(e,Fdt(t,1),[])}),zdt=Ndt;const Cm=Pe(zdt);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function OE(){return OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OE.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function RE(){return RE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RE.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ym(e,t,n){var r,o=(r=n.initialDeps)!=null?r:[],i;return function(){var s;n.key&&n.debug!=null&&n.debug()&&(s=Date.now());var a=e(),c=a.length!==o.length||a.some(function(v,g){return o[g]!==v});if(!c)return i;o=a;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),i=t.apply(void 0,a),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-u)*100)/100,p=f/16,m=function(g,y){for(g=String(g);g.length<y;)g=" "+g;return g};console.info("%c⏱ "+m(f,5)+" /"+m(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(i),i}}function PI(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var Vdt=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hdt=function(t){return t},w_e=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),o=[],i=n;i<=r;i++)o.push(i);return o},Udt=function(t,n){var r=t.scrollElement;if(r){var o=function(a){var c=a.width,u=a.height;n({width:Math.round(c),height:Math.round(u)})};o(r.getBoundingClientRect());var i=new ResizeObserver(function(s){var a=s[0];if(a!=null&&a.borderBoxSize){var c=a.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(r.getBoundingClientRect())});return i.observe(r,{box:"border-box"}),function(){i.unobserve(r)}}},Wdt=function(t,n){var r=t.scrollElement;if(r){var o=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return o(),r.addEventListener("scroll",o,{passive:!0}),function(){r.removeEventListener("scroll",o)}}},Ydt=function(t,n,r){if(n!=null&&n.borderBoxSize){var o=n.borderBoxSize[0];if(o){var i=Math.round(o[r.options.horizontal?"inlineSize":"blockSize"]);return i}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},C_e=function(t,n,r){var o,i,s=n.adjustments,a=s===void 0?0:s,c=n.behavior,u=t+a;(o=r.scrollElement)==null||o.scrollTo==null||o.scrollTo((i={},i[r.options.horizontal?"left":"top"]=u,i.behavior=c,i))},qdt=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,o=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(s){s.forEach(function(a){n._measureElement(a.target,a)})}):null)};return{disconnect:function(){var s;return(s=o())==null?void 0:s.disconnect()},observe:function(s){var a;return(a=o())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:function(s){var a;return(a=o())==null?void 0:a.unobserve(s)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(o){var i=o[0],s=o[1];typeof s>"u"&&delete r[i]}),n.options=RE({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Hdt,rangeExtractor:w_e,onChange:function(){},measureElement:Ydt,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(o){var i=n.scrollRect;n.scrollRect=o,(n.options.horizontal?o.width!==i.width:o.height!==i.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(o){n.scrollAdjustments=0,n.scrollOffset!==o&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<o?"forward":"backward",n.scrollOffset=o,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=Ym(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,o,i,s){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:o,scrollMargin:i,getItemKey:s}},{key:!1}),this.getFurthestMeasurement=function(r,o){for(var i=new Map,s=new Map,a=o-1;a>=0;a--){var c=r[a];if(!i.has(c.lane)){var u=s.get(c.lane);if(u==null||c.end>u.end?s.set(c.lane,c):c.end<u.end&&i.set(c.lane,!0),i.size===n.options.lanes)break}}return s.size===n.options.lanes?Array.from(s.values()).sort(function(d,f){return d.end-f.end})[0]:void 0},this.getMeasurements=Ym(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,o){var i=r.count,s=r.paddingStart,a=r.scrollMargin,c=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,u),f=u;f<i;f++){var p=c(f),m=n.options.lanes===1?d[f-1]:n.getFurthestMeasurement(d,f),v=m?m.end:s+a,g=o.get(p),y=typeof g=="number"?g:n.options.estimateSize(f),x=v+y,b=m?m.lane:f%n.options.lanes;d[f]={index:f,start:v,size:y,end:x,key:p,lane:b}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=Ym(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,o,i){return n.range=Gdt({measurements:r,outerSize:o,scrollOffset:i})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=Ym(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=Ym(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,o,i,s){return r(RE({},o,{overscan:i,count:s}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var o=n.options.indexAttribute,i=r.getAttribute(o);return i?parseInt(i,10):(console.warn("Missing attribute name '"+o+"={index}' on measured element."),-1)},this._measureElement=function(r,o){var i,s=n.indexFromElement(r),a=n.measurementsCache[s];if(a){var c=n.measureElementCache.get(a.key);if(!r.isConnected){n.observer.unobserve(r),r===c&&n.measureElementCache.delete(a.key);return}c!==r&&(c&&n.observer.unobserve(c),n.observer.observe(r),n.measureElementCache.set(a.key,r));var u=n.options.measureElement(r,o,n),d=(i=n.itemSizeCache.get(a.key))!=null?i:a.size,f=u-d;f!==0&&(a.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=f,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(s),n.itemSizeCache=new Map(n.itemSizeCache.set(a.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=Ym(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,o){for(var i=[],s=0,a=r.length;s<a;s++){var c=r[s],u=o[c];i.push(u)}return i},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var o=n.getMeasurements();return PI(o[__e(0,o.length-1,function(i){return PI(o[i]).start},r)])},this.getOffsetForAlignment=function(r,o){var i=n.getSize();o==="auto"&&(r<=n.scrollOffset?o="start":r>=n.scrollOffset+i?o="end":o="start"),o==="start"?r=r:o==="end"?r=r-i:o==="center"&&(r=r-i/2);var s=n.options.horizontal?"scrollWidth":"scrollHeight",a=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[s]:n.scrollElement[s]:0,c=a-n.getSize();return Math.max(Math.min(c,r),0)},this.getOffsetForIndex=function(r,o){o===void 0&&(o="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var i=PI(n.getMeasurements()[r]);if(o==="auto")if(i.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)o="end";else if(i.start<=n.scrollOffset+n.options.scrollPaddingStart)o="start";else return[n.scrollOffset,o];var s=o==="end"?i.end+n.options.scrollPaddingEnd:i.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(s,o),o]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"start":s,c=i.behavior;n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,a),{adjustments:void 0,behavior:c})},this.scrollToIndex=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"auto":s,c=i.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,a),d=u[0],f=u[1];n._scrollToOffset(d,{adjustments:void 0,behavior:c}),c!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,f),v=m[0];Vdt(v,n.scrollOffset)||n.scrollToIndex(r,{align:f,behavior:c})}else n.scrollToIndex(r,{align:f,behavior:c})}))},this.scrollBy=function(r,o){var i=o===void 0?{}:o,s=i.behavior;n.cancelScrollToIndex(),s==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:s})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,o){var i=o.adjustments,s=o.behavior;n.options.scrollToFn(r,{behavior:s,adjustments:i},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},__e=function(t,n,r,o){for(;t<=n;){var i=(t+n)/2|0,s=r(i);if(s<o)t=i+1;else if(s>o)n=i-1;else return i}return t>0?t-1:0};function Gdt(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,o=t.length-1,i=function(u){return t[u].start},s=__e(0,o,i,r),a=s;a<o&&t[a].end<r+n;)a++;return{startIndex:s,endIndex:a}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kdt=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Zdt(e){var t=h.useReducer(function(){return{}},{})[1],n=OE({},e,{onChange:function(s){t(),e.onChange==null||e.onChange(s)}}),r=h.useState(function(){return new qdt(n)}),o=r[0];return o.setOptions(n),h.useEffect(function(){return o._didMount()},[]),Kdt(function(){return o._willUpdate()}),o}function S_e(e){return Zdt(OE({observeElementRect:Udt,observeElementOffset:Wdt,scrollToFn:C_e},e))}var Xdt=Qdt;function Qdt(e,t,n){var r=e===null,o=t===null;if(r!==o)return!1;var i=Array.isArray(e),s=Array.isArray(t);if(i!==s)return!1;var a=typeof e,c=typeof t;return a!==c?!1:tft(a)?n?n(e,t):e===t:i?Jdt(e,t,n):eft(e,t,n)}function Jdt(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1}else for(var o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}function eft(e,t,n){var r=0,o=0;if(n)for(var i in e){if(e.hasOwnProperty(i)&&!n(e[i],t[i]))return!1;r++}else for(var i in e){if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;r++}for(var i in t)t.hasOwnProperty(i)&&o++;return r===o}function tft(e){return e!=="function"&&e!=="object"}const zu=Pe(Xdt);var m$={exports:{}},OI,hG;function nft(){if(hG)return OI;hG=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;OI=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return OI}function rft(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=nft(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,y=Number(new Date),x=y-(d||y);g.diff=x,g.prev=d,g.curr=y,d=y,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var b=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;b++;var S=n.formatters[_];if(typeof S=="function"){var E=m[b];C=S.call(g,E),m.splice(b,1),b--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var oft=rft;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=oft(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(m$,m$.exports);var ift=m$.exports;const xs=Pe(ift);function sft(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var E_e=sft;function aft(e){return e!==e}var lft=aft;function cft(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var uft=cft,dft=E_e,fft=lft,hft=uft;function pft(e,t,n){return t===t?hft(e,t,n):dft(e,fft,n)}var a8=pft,mft=a8;function gft(e,t){var n=e==null?0:e.length;return!!n&&mft(e,t,0)>-1}var l8=gft;function vft(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var c8=vft,yft=Gj,bft=l8,xft=c8,wft=Fc,Cft=T0,_ft=Kj,Sft=200;function Eft(e,t,n,r){var o=-1,i=bft,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=wft(t,Cft(n))),r?(i=xft,s=!1):t.length>=Sft&&(i=_ft,s=!1,t=new yft(t));e:for(;++o<a;){var d=e[o],f=n==null?d:n(d);if(d=r||d!==0?d:0,s&&f===f){for(var p=u;p--;)if(t[p]===f)continue e;c.push(d)}else i(t,f,r)||c.push(d)}return c}var k_e=Eft,kft=Xf,jft=Ga;function Tft(e){return jft(e)&&kft(e)}var nT=Tft,Aft=k_e,Dft=D0,Ift=P0,pG=nT,Pft=Ift(function(e,t){return pG(e)?Aft(e,Dft(t,1,pG,!0)):[]}),Oft=Pft;const zp=Pe(Oft);var Rft=Gj,$ft=l8,Mft=c8,Fft=Fc,Lft=T0,mG=Kj,Bft=Math.min;function Nft(e,t,n){for(var r=n?Mft:$ft,o=e[0].length,i=e.length,s=i,a=Array(i),c=1/0,u=[];s--;){var d=e[s];s&&t&&(d=Fft(d,Lft(t))),c=Bft(d.length,c),a[s]=!n&&(t||o>=120&&d.length>=120)?new Rft(s&&d):void 0}d=e[0];var f=-1,p=a[0];e:for(;++f<o&&u.length<c;){var m=d[f],v=t?t(m):m;if(m=n||m!==0?m:0,!(p?mG(p,v):r(u,v,n))){for(s=i;--s;){var g=a[s];if(!(g?mG(g,v):r(e[s],v,n)))continue e}p&&p.push(v),u.push(m)}}return u}var zft=Nft,Vft=nT;function Hft(e){return Vft(e)?e:[]}var Uft=Hft,Wft=Fc,Yft=zft,qft=P0,Gft=Uft,Kft=qft(function(e){var t=Wft(e,Gft);return t.length&&t[0]===e[0]?Yft(t):[]}),Zft=Kft;const $E=Pe(Zft);var Xft=UCe,Qft=Xft(Object.getPrototypeOf,Object),u8=Qft,Jft=Hf,eht=u8,tht=Ga,nht="[object Object]",rht=Function.prototype,oht=Object.prototype,j_e=rht.toString,iht=oht.hasOwnProperty,sht=j_e.call(Object);function aht(e){if(!tht(e)||Jft(e)!=nht)return!1;var t=eht(e);if(t===null)return!0;var n=iht.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&j_e.call(n)==sht}var T_e=aht;const Er=Pe(T_e);var gG=b_e;function lht(e,t,n){t=="__proto__"&&gG?gG(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var rT=lht,cht=rT,uht=Hj,dht=Object.prototype,fht=dht.hasOwnProperty;function hht(e,t,n){var r=e[t];(!(fht.call(e,t)&&uht(r,n))||n===void 0&&!(t in e))&&cht(e,t,n)}var d8=hht,pht=d8,mht=I0,ght=Qj,vG=qa,vht=xm;function yht(e,t,n,r){if(!vG(e))return e;t=mht(t,e);for(var o=-1,i=t.length,s=i-1,a=e;a!=null&&++o<i;){var c=vht(t[o]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(o!=s){var d=a[c];u=r?r(d,c,a):void 0,u===void 0&&(u=vG(d)?d:ght(t[o+1])?[]:{})}pht(a,c,u),a=a[c]}return e}var bht=yht,xht=xw,wht=bht,Cht=I0;function _ht(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=xht(e,s);n(a,s)&&wht(i,Cht(s,e),a)}return i}var A_e=_ht,Sht=A_e,Eht=h_e;function kht(e,t){return Sht(e,t,function(n,r){return Eht(e,r)})}var jht=kht,Tht=D0;function Aht(e){var t=e==null?0:e.length;return t?Tht(e,1):[]}var D_e=Aht;const Dn=Pe(D_e);var Dht=D_e,Iht=y_e,Pht=x_e;function Oht(e){return Pht(Iht(e,void 0,Dht),e+"")}var f8=Oht,Rht=jht,$ht=f8,Mht=$ht(function(e,t){return e==null?{}:Rht(e,t)}),Fht=Mht;const Et=Pe(Fht),h8=ie.createContext(null);function zl(){const e=h.useContext(h8);if(!e)throw new Error("Router: missing context value");return e}function Lht(e){return e.button===0}function Bht(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function p8(e){const{onClick:t,href:n,target:r,replace:o=!1}=e,{navigateUrl:i}=zl();return{onClick:h.useCallback(a=>{a.isDefaultPrevented()||n&&(t&&t(a),!(Bht(a)||!Lht(a))&&(r||(a.preventDefault(),i({path:n,replace:o}))))},[n,i,t,o,r])}}function ww(e){const{intent:t,onClick:n,params:r,replace:o,target:i}=e,{resolveIntentLink:s}=zl(),a=h.useMemo(()=>s(t,r),[t,r,s]),{onClick:c}=p8({href:a,onClick:n,replace:o,target:i});return{onClick:c,href:a}}const _m=h.forwardRef(function(t,n){const{intent:r,params:o,target:i,...s}=t,{onClick:a,href:c}=ww({intent:r,params:o,target:i,onClick:t.onClick});return l.jsx("a",{...s,href:c,onClick:a,ref:n,target:i})});h.forwardRef(function(t,n){const{onClick:r,href:o,target:i,replace:s,...a}=t,{onClick:c}=p8({onClick:r,href:o,target:i,replace:s});return l.jsx("a",{...a,onClick:c,href:o,target:i,ref:n})});function Nht(e,t,n){return n&&{...e,[t]:n}}function zht(e){const{children:t,scope:n,__unsafe_disableScopedSearchParams:r}=e,o=zl(),{resolvePathFromState:i,navigate:s}=o,a=h.useRef(o.state);a.current=o.state;const c=h.useCallback(p=>{const{_searchParams:m,...v}=p,g=Nht(a.current,n,v);return r?g._searchParams=m:g[n]._searchParams=m,g},[n,r]),u=h.useCallback(p=>i(c(p)),[i,c]),d=h.useCallback(p=>s(c(p)),[s,c]),f=h.useMemo(()=>{const p=o.state,m={...p[n]||{}};return r&&(m._searchParams=p._searchParams),{...o,navigate:d,resolvePathFromState:u,state:m}},[n,o,d,u,r]);return l.jsx(h8.Provider,{value:f,children:t})}function Vht(e){const{onNavigate:t,router:n,state:r}=e,o=h.useCallback((u,d)=>{const[f,p]=Array.isArray(d)?d:[d];return n.encode({intent:u,params:f,payload:p})},[n]),i=h.useCallback(u=>n.encode(u),[n]),s=h.useCallback(function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t({path:i(u),replace:d.replace})},[t,i]),a=h.useCallback(function(u,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t({path:o(u,d),replace:f.replace})},[t,o]),c=h.useMemo(()=>({navigate:s,navigateIntent:a,navigateUrl:t,resolveIntentLink:o,resolvePathFromState:i,state:r}),[s,a,t,o,i,r]);return l.jsx(h8.Provider,{value:c,children:e.children})}const yG={};function I_e(e){const{onClick:t,replace:n,state:r,target:o,toIndex:i=!1}=e;if(r&&i)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!i&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:s}=zl(),a=h.useMemo(()=>s(i?yG:r||yG),[s,r,i]),{onClick:c}=p8({href:a,onClick:t,replace:n,target:o});return{onClick:c,href:a}}const oT=h.forwardRef(function(t,n){const{onClick:r,replace:o,state:i,target:s,toIndex:a=!1,...c}=t,{onClick:u,href:d}=I_e({onClick:r,replace:o,state:i,target:s,toIndex:a});return l.jsx("a",{...c,href:d,onClick:u,ref:n})}),Hht=/^[a-zA-Z0-9_-]+$/;function Uht(e){if(!e)return null;if(e.startsWith(":")){const t=e.substring(1);if(!Hht.test(t)){const n=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error('Warning: Param segments "'.concat(e,'" includes invalid characters.').concat(n)))}return{type:"param",name:t}}return{type:"dir",name:e}}function Wht(e){const[t]=e.split("?"),n=t.split("/").map(Uht).filter(Boolean);return{raw:e,segments:n}}const g$=xs("state-router");function P_e(e){return Array.isArray(e)?e:e?[e]:[]}function Yht(e){return e.map(t=>{let[n,r]=t;return[qht(n),r]})}const RI=1,bG=0;function qht(e){const t=[];let n=0,r=bG;for(;n<e.length;){const o=e.indexOf("[",n);if(o===-1){t.push(e.slice(n,e.length));break}if(r===RI)throw new Error("Nested brackets not supported");r=RI,o>n&&(t.push(e.slice(n,o)),n=o);const i=e.indexOf("]",o);if(i===-1){if(r===RI)throw new Error("Unclosed bracket");break}r=bG,t.push(e.slice(n+1,i)),n=i+1}return t}function O_e(e,t,n){const r=t.split("/").filter(Boolean),o=e.route.segments.length;if(r.length<o)return null;const i={};if(!e.route.segments.every((m,v)=>{if(m.type==="dir")return m.name===r[v];const g=e.transform&&e.transform[m.name];return i[m.name]=g?g.toState(r[v]):r[v],!0}))return null;const a=r.slice(o);let c=null;const u=typeof e.children=="function"?P_e(e.children(i)):e.children,d=Kht(e.scope,n);if(u.some(m=>{if(m){const v=m.scope?d.filter(g=>{let[y]=g;return m.scope===y[0]}):d;return c=O_e(m,a.join("/"),v),c}}),a.length>0&&!c)return null;const f=d.flatMap(m=>{let[v,g]=m;return v.length===1?[[v[0],g]]:[]}),p={...i,...c||{},...f.length>0?{_searchParams:f}:{}};return e.scope?{[e.scope]:p}:p}function Ght(e,t){g$("resolving state from path %s",t);const[n,r]=t.split("?"),o=Array.from(new URLSearchParams(r).entries()),i=O_e(e,n,Yht(o));return g$("resolved: %o",i||null),i||null}function Kht(e,t){return e?t.map(n=>{let[r,o]=n;return[r[0]===e?r.slice(1):r,o]}):t}function xG(e){return Er(e)}function $I(e,t,n){return{type:"error",node:e,missingKeys:t,unmappableStateKeys:n}}function MI(e,t,n,r){return{type:"ok",node:e,matchedState:t,searchParams:n,child:r}}function R_e(e,t){if(!t)return MI(e,{},[]);const n=e.scope?t[e.scope]:t,{_searchParams:r=[],...o}=n||{},i=e.route.segments.filter(y=>y.type==="param").map(y=>y.name),s=xG(o)?Object.keys(o):[],a=$E(s,i),c=zp(i,a),u=zp(s,a);if(c.length>0)return $I(e,c,[]);const d=r.map(y=>{let[x,b]=y;return[[x],b]}),f=Et(o,a);if(u.length===0)return MI(e,f,d);const p=P_e((typeof e.children=="function"?e.children(xG(o)?o:{}):e.children)||[]);if(u.length>0&&p.length===0)return $I(e,[],u);const m=Et(o,u),g=p.map(y=>R_e(y,m)).find(y=>y.type==="ok");return g?MI(e,f,d,g):$I(e,[],u)}function $_e(e,t){const n=[...String(e)];let r="";for(let o=0;o<n.length;o++){const i=n[o];t.includes(i)?r+=i:r+=encodeURIComponent(i)}return r}function Zht(e,t){g$("Resolving path from state %o",t);const n=R_e(e,t);if(n.type==="error"){const s=n.unmappableStateKeys;if(s.length>0)throw new Error("Unable to find matching route for state. Could not map the following state key".concat(s.length==1?"":"s"," to a valid url: ").concat(s.map(wG).join(", ")));const a=n.missingKeys;throw new Error("Unable to find matching route for state. State object is missing the following key".concat(a.length==1?"":"s"," defined in route: ").concat(a.map(wG).join(", ")))}const{path:r,searchParams:o}=M_e(n),i=o.length>0?Qht(o):"";return"/".concat(r.join("/")).concat(i?"?".concat(i):"")}function Xht(e){return"[".concat(e,"]")}function Qht(e){return e.flatMap(t=>{let[n,r]=t;return r===void 0?[]:[tpt(Jht(n)),ept(r)].join("=")}).join("&")}function Jht(e){const[t,...n]=e;return n.length>0?[t,...n.map(Xht)].join(""):t}function ept(e){return $_e(e,"/")}function tpt(e){return $_e(e,"[]")}function M_e(e){const t=e.matchedState,n=e.node.route.segments.map(i=>{if(i.type==="dir")return i.name;const s=e.node.transform&&e.node.transform[i.name];return s?s.toPath(t[i.name]):t[i.name]}),r=e.child?M_e(e.child):void 0,o=r!=null&&r.searchParams?[...e.searchParams,...r.searchParams]:e.searchParams;return{searchParams:npt(e.node,o),path:[...n||[],...(r==null?void 0:r.path)||[]]}}function npt(e,t){const n=e.scope;return n&&!e.__unsafe_disableScopedSearchParams?t.map(r=>{let[o,i]=r;return[[n,...o],i]}):t}function wG(e){return'"'.concat(e,'"')}function rpt(e){return spt(e).replace(/\//g,"_").replace(/\+/g,"-").replace(/[=]+$/,"")}function opt(e){return lpt(e.replace(/-/g,"+").replace(/_/g,"/"))}function ipt(e){return String.fromCharCode(parseInt(e.slice(1),16))}function spt(e){return btoa(encodeURIComponent(e).replace(/%[0-9A-F]{2}/g,ipt))}function apt(e){return"%".concat("00".concat(e.charCodeAt(0).toString(16)).slice(-2))}function lpt(e){return decodeURIComponent(Array.from(atob(e),apt).join(""))}function F_e(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(opt(t))}catch{}try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function L_e(e){return e?rpt(JSON.stringify(e)):""}function cpt(e){return e.split(";").reduce((t,n)=>{const[r,o]=n.split("=");return t[decodeURIComponent(r)]=decodeURIComponent(o),t},{})}function upt(e){return Object.entries(e).filter(t=>{let[,n]=t;return n!=null}).map(t=>{let[n,r]=t;return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join(";")}const xi={create:(e,t,n)=>EG(_G(e,t,n)),intents:e=>{const t=fpt(e).join("/");return xi.create("".concat(t,"/:intent"),[xi.create(":params",{transform:{params:{toState:cpt,toPath:upt}}},[xi.create(":payload",{transform:{payload:{toState:F_e,toPath:L_e}}})])])},scope(e,t,n,r){const o=_G(t,n,r);return EG({...o,scope:e})}};function CG(e){return Array.isArray(e)||typeof e=="function"?e:e?[e]:[]}function dpt(e){return e&&"_isRoute"in e}function _G(e,t,n){return typeof e=="object"?e:Array.isArray(t)||typeof t=="function"||dpt(t)?{path:e,children:CG(t)}:n?{path:e,...t,children:CG(n)}:{path:e,...t}}function fpt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o.split("/")),[]).filter(Boolean)}const hpt={};function SG(e){return e.split("/").every(t=>!t)}function EG(e){const{path:t,scope:n,transform:r,children:o,__unsafe_disableScopedSearchParams:i}=e;if(!t)throw new TypeError("Missing path");const s=Wht(t);return{_isRoute:!0,scope:n,__unsafe_disableScopedSearchParams:i,route:s,children:o||[],transform:r,encode(a){return Zht(this,a)},decode(a){return Ght(this,a)},isRoot:SG,isNotFound(a){return this.decode(a)===null},getBasePath(){return this.encode(hpt)},getRedirectBase(a){if(SG(a)){const c=this.getBasePath();if(a!==c)return c}return null}}}function iT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p_e;const{state:t}=zl();return h.useMemo(()=>e(t),[e,t])}function ppt(e){function t(n){const r=zl();return l.jsx(e,{...n,router:r})}return t.displayName="withRouter(".concat(e.displayName||e.name,")"),t}ppt(e=>e.children(e.router));function mpt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vu.apply(this,arguments)}var v$="data-focus-lock",B_e="data-focus-lock-disabled",gpt="data-no-focus-lock",vpt="data-autofocus-inside",ypt="data-no-autofocus";function bpt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function xpt(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function wpt(e,t){return xpt(t||null,function(n){return e.forEach(function(r){return bpt(r,n)})})}var FI={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function N_e(e){return e}function z_e(e,t){t===void 0&&(t=N_e);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return o}function m8(e,t){return t===void 0&&(t=N_e),z_e(e,t)}function Cpt(e){e===void 0&&(e={});var t=z_e(null);return t.options=o$({async:!0,ssr:!1},e),t}var V_e=m8({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),H_e=m8(),_pt=m8(),Spt=Cpt({async:!0}),Ept=[],g8=h.forwardRef(function(t,n){var r,o=h.useState(),i=o[0],s=o[1],a=h.useRef(),c=h.useRef(!1),u=h.useRef(null),d=t.children,f=t.disabled,p=t.noFocusGuards,m=t.persistentFocus,v=t.crossFrame,g=t.autoFocus;t.allowTextSelection;var y=t.group,x=t.className,b=t.whiteList,w=t.hasPositiveIndices,C=t.shards,_=C===void 0?Ept:C,S=t.as,E=S===void 0?"div":S,j=t.lockProps,k=j===void 0?{}:j,T=t.sideCar,A=t.returnFocus,D=t.focusOptions,I=t.onActivation,P=t.onDeactivation,$=h.useState({}),R=$[0],V=h.useCallback(function(){u.current=u.current||document&&document.activeElement,a.current&&I&&I(a.current),c.current=!0},[I]),N=h.useCallback(function(){c.current=!1,P&&P(a.current)},[P]);h.useEffect(function(){f||(u.current=null)},[]);var W=h.useCallback(function(Z){var Q=u.current;if(Q&&Q.focus){var ne=typeof A=="function"?A(Q):A;if(ne){var K=typeof ne=="object"?ne:void 0;u.current=null,Z?Promise.resolve().then(function(){return Q.focus(K)}):Q.focus(K)}}},[A]),G=h.useCallback(function(Z){c.current&&V_e.useMedium(Z)},[]),H=H_e.useMedium,q=h.useCallback(function(Z){a.current!==Z&&(a.current=Z,s(Z))},[]),X=Vu((r={},r[B_e]=f&&"disabled",r[v$]=y,r),k),B=p!==!0,Y=B&&p!=="tail",z=wpt([n,q]);return h.createElement(h.Fragment,null,B&&[h.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:FI}),w?h.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:FI}):null],!f&&h.createElement(T,{id:R,sideCar:Spt,observed:i,disabled:f,persistentFocus:m,crossFrame:v,autoFocus:g,whiteList:b,shards:_,onActivation:V,onDeactivation:N,returnFocus:W,focusOptions:D}),h.createElement(E,Vu({ref:z},X,{className:x,onBlur:H,onFocus:G}),d),Y&&h.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:FI}))});g8.propTypes={};g8.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const U_e=g8;function ME(e,t){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},ME(e,t)}function kpt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ME(e,t)}function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function jpt(e,t){if(Pl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W_e(e){var t=jpt(e,"string");return Pl(t)==="symbol"?t:String(t)}function Be(e,t,n){return t=W_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tpt(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var i=[],s;function a(){s=e(i.map(function(u){return u.props})),t(s)}var c=function(u){kpt(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return s};var f=d.prototype;return f.componentDidMount=function(){i.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=i.indexOf(this);i.splice(m,1),a()},f.render=function(){return ie.createElement(o,this.props)},d}(h.PureComponent);return Be(c,"displayName","SideEffect("+n(o)+")"),c}}var Bc=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},FE=function(e){return Array.isArray(e)?e:[e]},Y_e=function(e){return Array.isArray(e)?e[0]:e},Apt=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},q_e=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},G_e=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Dpt=function(e,t){return!e||G_e(e)||!Apt(e)&&t(q_e(e))},K_e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Dpt(t,K_e.bind(void 0,e));return e.set(t,r),r},Ipt=function(e,t){return e&&!G_e(e)?Rpt(e)?t(q_e(e)):!1:!0},Z_e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Ipt(t,Z_e.bind(void 0,e));return e.set(t,r),r},X_e=function(e){return e.dataset},Ppt=function(e){return e.tagName==="BUTTON"},Q_e=function(e){return e.tagName==="INPUT"},J_e=function(e){return Q_e(e)&&e.type==="radio"},Opt=function(e){return!((Q_e(e)||Ppt(e))&&(e.type==="hidden"||e.disabled))},Rpt=function(e){var t=e.getAttribute(ypt);return![!0,"true",""].includes(t)},v8=function(e){var t;return!!(e&&(!((t=X_e(e))===null||t===void 0)&&t.focusGuard))},LE=function(e){return!v8(e)},$pt=function(e){return!!e},Mpt=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},e2e=function(e,t,n){return Bc(e).map(function(r,o){return{node:r,index:o,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(Mpt)},Fpt=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],y8=Fpt.join(","),Lpt="".concat(y8,", [data-focus-guard]"),t2e=function(e,t){return Bc((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?Lpt:y8)?[r]:[],t2e(r))},[])},Bpt=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?sT([e.contentDocument.body],t):[e]},sT=function(e,t){return e.reduce(function(n,r){var o,i=t2e(r,t),s=(o=[]).concat.apply(o,i.map(function(a){return Bpt(a,t)}));return n.concat(s,r.parentNode?Bc(r.parentNode.querySelectorAll(y8)).filter(function(a){return a===r}):[])},[])},Npt=function(e){var t=e.querySelectorAll("[".concat(vpt,"]"));return Bc(t).map(function(n){return sT([n])}).reduce(function(n,r){return n.concat(r)},[])},b8=function(e,t){return Bc(e).filter(function(n){return K_e(t,n)}).filter(function(n){return Opt(n)})},kG=function(e,t){return t===void 0&&(t=new Map),Bc(e).filter(function(n){return Z_e(t,n)})},y$=function(e,t,n){return e2e(b8(sT(e,n),t),!0,n)},jG=function(e,t){return e2e(b8(sT(e),t),!1)},zpt=function(e,t){return b8(Npt(e),t)},nv=function(e,t){return e.shadowRoot?nv(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:Bc(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var o=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return o?nv(o,t):!1}return nv(n,t)})},Vpt=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},n2e=function(e){return e.parentNode?n2e(e.parentNode):e},x8=function(e){var t=FE(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(v$);return n.push.apply(n,o?Vpt(Bc(n2e(r).querySelectorAll("[".concat(v$,'="').concat(o,'"]:not([').concat(B_e,'="disabled"])')))):[r]),n},[])},Hpt=function(e){try{return e()}catch{return}},Jb=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?Jb(t.shadowRoot):t instanceof HTMLIFrameElement&&Hpt(function(){return t.contentWindow.document})?Jb(t.contentWindow.document):t}},Upt=function(e,t){return e===t},Wpt=function(e,t){return!!Bc(e.querySelectorAll("iframe")).some(function(n){return Upt(n,t)})},r2e=function(e,t){return t===void 0&&(t=Jb(Y_e(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:x8(e).some(function(n){return nv(n,t)||Wpt(n,t)})},Ypt=function(e){e===void 0&&(e=document);var t=Jb(e);return t?Bc(e.querySelectorAll("[".concat(gpt,"]"))).some(function(n){return nv(n,t)}):!1},qpt=function(e,t){return t.filter(J_e).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},w8=function(e,t){return J_e(e)&&e.name?qpt(e,t):e},Gpt=function(e){var t=new Set;return e.forEach(function(n){return t.add(w8(n,e))}),e.filter(function(n){return t.has(n)})},TG=function(e){return e[0]&&e.length>1?w8(e[0],e):e[0]},AG=function(e,t){return e.length>1?e.indexOf(w8(e[t],e)):t},o2e="NEW_FOCUS",Kpt=function(e,t,n,r){var o=e.length,i=e[0],s=e[o-1],a=v8(n);if(!(n&&e.indexOf(n)>=0)){var c=n!==void 0?t.indexOf(n):-1,u=r?t.indexOf(r):c,d=r?e.indexOf(r):-1,f=c-u,p=t.indexOf(i),m=t.indexOf(s),v=Gpt(t),g=n!==void 0?v.indexOf(n):-1,y=g-(r?v.indexOf(r):c),x=AG(e,0),b=AG(e,o-1);if(c===-1||d===-1)return o2e;if(!f&&d>=0)return d;if(c<=p&&a&&Math.abs(f)>1)return b;if(c>=m&&a&&Math.abs(f)>1)return x;if(f&&Math.abs(y)>1)return d;if(c<=p)return b;if(c>m)return x;if(f)return Math.abs(f)>1?d:(o+d+f)%o}},Zpt=function(e){return function(t){var n,r=(n=X_e(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},Xpt=function(e,t,n){var r=e.map(function(i){var s=i.node;return s}),o=kG(r.filter(Zpt(n)));return o&&o.length?TG(o):TG(kG(t))},b$=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&b$(e.parentNode.host||e.parentNode,t),t},LI=function(e,t){for(var n=b$(e),r=b$(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},i2e=function(e,t,n){var r=FE(e),o=FE(t),i=r[0],s=!1;return o.filter(Boolean).forEach(function(a){s=LI(s||a,a)||s,n.filter(Boolean).forEach(function(c){var u=LI(i,c);u&&(!s||nv(u,s)?s=u:s=LI(u,s))})}),s},Qpt=function(e,t){return e.reduce(function(n,r){return n.concat(zpt(r,t))},[])},Jpt=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter($pt)},emt=function(e,t){var n=Jb(FE(e).length>0?document:Y_e(e).ownerDocument),r=x8(e).filter(LE),o=i2e(n||e,e,r),i=new Map,s=jG(r,i),a=y$(r,i).filter(function(m){var v=m.node;return LE(v)});if(!(!a[0]&&(a=s,!a[0]))){var c=jG([o],i).map(function(m){var v=m.node;return v}),u=Jpt(c,a),d=u.map(function(m){var v=m.node;return v}),f=Kpt(d,c,n,t);if(f===o2e){var p=Xpt(s,d,Qpt(r,i));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:u[f]}},tmt=function(e){var t=x8(e).filter(LE),n=i2e(e,e,t),r=new Map,o=y$([n],r,!0),i=y$(t,r).filter(function(s){var a=s.node;return LE(a)}).map(function(s){var a=s.node;return a});return o.map(function(s){var a=s.node,c=s.index;return{node:a,index:c,lockItem:i.indexOf(a)>=0,guard:v8(a)}})},nmt=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},BI=0,NI=!1,s2e=function(e,t,n){n===void 0&&(n={});var r=emt(e,t);if(!NI&&r){if(BI>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),NI=!0,setTimeout(function(){NI=!1},1);return}BI++,nmt(r.node,n.focusOptions),BI--}};function C8(e){setTimeout(e,1)}var rmt=function(){return document&&document.activeElement===document.body},omt=function(){return rmt()||Ypt()},rv=null,Fg=null,ov=null,ex=!1,imt=function(){return!0},smt=function(t){return(rv.whiteList||imt)(t)},amt=function(t,n){ov={observerNode:t,portaledElement:n}},lmt=function(t){return ov&&ov.portaledElement===t};function DG(e,t,n,r){var o=null,i=e;do{var s=r[i];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(i!==e)return;o=null}else break}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var cmt=function(t){return t&&"current"in t?t.current:t},umt=function(t){return t?!!ex:ex==="meanwhile"},dmt=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},fmt=function(t,n){return n.some(function(r){return dmt(t,r,r)})},BE=function(){var t=!1;if(rv){var n=rv,r=n.observed,o=n.persistentFocus,i=n.autoFocus,s=n.shards,a=n.crossFrame,c=n.focusOptions,u=r||ov&&ov.portaledElement,d=document&&document.activeElement;if(u){var f=[u].concat(s.map(cmt).filter(Boolean));if((!d||smt(d))&&(o||umt(a)||!omt()||!Fg&&i)&&(u&&!(r2e(f)||d&&fmt(d,f)||lmt(d))&&(document&&!Fg&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(t=s2e(f,Fg,{focusOptions:c}),ov={})),ex=!1,Fg=document&&document.activeElement),document){var p=document&&document.activeElement,m=tmt(f),v=m.map(function(g){var y=g.node;return y}).indexOf(p);v>-1&&(m.filter(function(g){var y=g.guard,x=g.node;return y&&x.dataset.focusAutoGuard}).forEach(function(g){var y=g.node;return y.removeAttribute("tabIndex")}),DG(v,m.length,1,m),DG(v,-1,-1,m))}}}return t},a2e=function(t){BE()&&t&&(t.stopPropagation(),t.preventDefault())},_8=function(){return C8(BE)},hmt=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||amt(r,n)},pmt=function(){return null},l2e=function(){ex="just",C8(function(){ex="meanwhile"})},mmt=function(){document.addEventListener("focusin",a2e),document.addEventListener("focusout",_8),window.addEventListener("blur",l2e)},gmt=function(){document.removeEventListener("focusin",a2e),document.removeEventListener("focusout",_8),window.removeEventListener("blur",l2e)};function vmt(e){return e.filter(function(t){var n=t.disabled;return!n})}function ymt(e){var t=e.slice(-1)[0];t&&!rv&&mmt();var n=rv,r=n&&t&&t.id===n.id;rv=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var i=o.id;return i===n.id}).length||n.returnFocus(!t)),t?(Fg=null,(!r||n.observed!==t.observed)&&t.onActivation(),BE(),C8(BE)):(gmt(),Fg=null)}V_e.assignSyncMedium(hmt);H_e.assignMedium(_8);_pt.assignMedium(function(e){return e({moveFocusInside:s2e,focusInside:r2e})});const bmt=Tpt(vmt,ymt)(pmt);var c2e=h.forwardRef(function(t,n){return h.createElement(U_e,Vu({sideCar:bmt,ref:n},t))}),u2e=U_e.propTypes||{};u2e.sideCar;mpt(u2e,["sideCar"]);c2e.propTypes={};const eh=c2e;var d2e={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=typeof i;if(s==="string"||s==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(s==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var c in i)t.call(i,c)&&i[c]&&r.push(c)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(d2e);var xmt=d2e.exports;const wmt=Pe(xmt);function Sm(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},i=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(i):i),n)}const Cmt="modulepreload",_mt=function(e){return"/"+e},IG={},S8=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=_mt(i),i in IG)return;IG[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":Cmt,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},Smt=typeof navigator>"u"?!1:navigator.product==="ReactNative",f2e={timeout:Smt?6e4:12e4},Emt=function(t){const n={...f2e,...typeof t=="string"?{url:t}:t},{searchParams:r}=new URL(n.url,"http://localhost");if(n.timeout=h2e(n.timeout),n.query){for(const[s,a]of Object.entries(n.query))if(a!==void 0)if(Array.isArray(a))for(const c of a)r.append(s,c);else r.append(s,a)}const[o]=n.url.split("?"),i=r.toString();return i&&(n.url="".concat(o,"?").concat(i)),n.method=n.body&&!n.method?"POST":(n.method||"GET").toUpperCase(),n};function h2e(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?h2e(f2e.timeout):{connect:t,socket:t}}const kmt=/^https?:\/\//i,jmt=function(t){if(!kmt.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))};var zI=function(e){return e.replace(/^\s+|\s+$/g,"")},Tmt=function(e){return Object.prototype.toString.call(e)==="[object Array]"},Amt=function(e){if(!e)return{};for(var t={},n=zI(e).split(`
`),r=0;r<n.length;r++){var o=n[r],i=o.indexOf(":"),s=zI(o.slice(0,i)).toLowerCase(),a=zI(o.slice(i+1));typeof t[s]>"u"?t[s]=a:Tmt(t[s])?t[s].push(a):t[s]=[t[s],a]}return t};const Dmt=Pe(Amt),Imt=e=>function(n,r){const o=n==="onError";let i=r;for(var s=arguments.length,a=new Array(s>2?s-2:0),c=2;c<s;c++)a[c-2]=arguments[c];for(let u=0;u<e[n].length;u++){const d=e[n][u];if(i=d(i,...a),o&&!i)break}return i};function Pmt(){const e=Object.create(null);let t=0;function n(o){const i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(const i in e)e[i](o)}return{publish:r,subscribe:n}}const Omt=["request","response","progress","error","abort"],PG=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function p2e(e,t){const n=[],r=PG.reduce((i,s)=>(i[s]=i[s]||[],i),{processOptions:[Emt],validateOptions:[jmt]});function o(i){const s=(v,g,y)=>{let x=v,b=g;if(!x)try{b=c("onResponse",g,y)}catch(w){b=null,x=w}x=x&&c("onError",x,y),x?a.error.publish(x):b&&a.response.publish(b)},a=Omt.reduce((v,g)=>(v[g]=Pmt(),v),{}),c=Imt(r),u=c("processOptions",i);c("validateOptions",u);const d={options:u,channels:a,applyMiddleware:c};let f;const p=a.request.subscribe(v=>{f=t(v,(g,y)=>s(g,y,v))});a.abort.subscribe(()=>{p(),f&&f.abort()});const m=c("onReturn",a,d);return m===a&&a.request.publish(d),m}return o.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return PG.forEach(a=>{s[a]&&r[a].push(s[a])}),n.push(s),o},o.clone=()=>p2e(n,t),e.forEach(o.use),o}var m2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ya=(e,t,n)=>(m2e(e,t,"read from private field"),n?n.call(e):t.get(e)),yh=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},yd=(e,t,n,r)=>(m2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),F2,L2,lg,B2,Sd,N2,z2;class g2e{constructor(){this.readyState=0,this.responseType="",yh(this,F2,void 0),yh(this,L2,void 0),yh(this,lg,void 0),yh(this,B2,{}),yh(this,Sd,void 0),yh(this,N2,{}),yh(this,z2,void 0)}open(t,n,r){yd(this,F2,t),yd(this,L2,n),yd(this,lg,""),this.readyState=1,this.onreadystatechange(),yd(this,Sd,void 0)}abort(){ya(this,Sd)&&ya(this,Sd).abort()}getAllResponseHeaders(){return ya(this,lg)}setRequestHeader(t,n){ya(this,B2)[t]=n}setInit(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;yd(this,N2,t),yd(this,z2,n)}send(t){const n=this.responseType!=="arraybuffer",r={...ya(this,N2),method:ya(this,F2),headers:ya(this,B2),body:t};typeof AbortController=="function"&&ya(this,z2)&&(yd(this,Sd,new AbortController),typeof EventTarget<"u"&&ya(this,Sd).signal instanceof EventTarget&&(r.signal=ya(this,Sd).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(ya(this,L2),r).then(o=>(o.headers.forEach((i,s)=>{yd(this,lg,ya(this,lg)+"".concat(s,": ").concat(i,`\r
`))}),this.status=o.status,this.statusText=o.statusText,this.readyState=3,n?o.text():o.arrayBuffer())).then(o=>{typeof o=="string"?this.responseText=o:this.response=o,this.readyState=4,this.onreadystatechange()}).catch(o=>{var i;if(o.name==="AbortError"){this.onabort();return}(i=this.onerror)==null||i.call(this,o)})}}F2=new WeakMap;L2=new WeakMap;lg=new WeakMap;B2=new WeakMap;Sd=new WeakMap;N2=new WeakMap;z2=new WeakMap;const x$=typeof XMLHttpRequest=="function"?"xhr":"fetch",Rmt=x$==="xhr"?XMLHttpRequest:g2e,$mt=(e,t)=>{var n;const r=e.options,o=e.applyMiddleware("finalizeOptions",r),i={},s=e.applyMiddleware("interceptRequest",void 0,{adapter:x$,context:e});if(s){const C=setTimeout(t,0,null,s);return{abort:()=>clearTimeout(C)}}let a=new Rmt;a instanceof g2e&&typeof o.fetch=="object"&&a.setInit(o.fetch,(n=o.useAbortSignal)!=null?n:!0);const c=o.headers,u=o.timeout;let d=!1,f=!1,p=!1;if(a.onerror=C=>{x(new Error("Request error while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.ontimeout=C=>{x(new Error("Request timeout while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.onabort=()=>{y(!0),d=!0},a.onreadystatechange=()=>{g(),!(d||a.readyState!==4)&&a.status!==0&&w()},a.open(o.method,o.url,!0),a.withCredentials=!!o.withCredentials,c&&a.setRequestHeader)for(const C in c)c.hasOwnProperty(C)&&a.setRequestHeader(C,c[C]);return o.rawBody&&(a.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:o,adapter:x$,request:a,context:e}),a.send(o.body||null),u&&(i.connect=setTimeout(()=>v("ETIMEDOUT"),u.connect)),{abort:m};function m(){d=!0,a&&a.abort()}function v(C){p=!0,a.abort();const _=new Error(C==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(o.url):"Connection timed out on request to ".concat(o.url));_.code=C,e.channels.error.publish(_)}function g(){u&&(y(),i.socket=setTimeout(()=>v("ESOCKETTIMEDOUT"),u.socket))}function y(C){(C||d||a.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function x(C){if(f)return;y(!0),f=!0,a=null;const _=C||new Error("Network error while attempting to reach ".concat(o.url));_.isNetworkError=!0,_.request=o,t(_)}function b(){return{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:o.url,method:o.method,headers:Dmt(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText}}function w(){if(!(d||f||p)){if(a.status===0){x(new Error("Unknown XHR error"));return}y(),f=!0,t(null,b())}}},Mmt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$mt;return p2e(e,t)};var OG={exports:{}},VI,RG;function Fmt(){if(RG)return VI;RG=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;VI=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return VI}function Lmt(e){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=o,n.enabled=s,n.humanize=Fmt(),n.destroy=u,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let f=0;for(let p=0;p<d.length;p++)f=(f<<5)-f+d.charCodeAt(p),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(d){let f,p=null,m,v;function g(...y){if(!g.enabled)return;const x=g,b=Number(new Date),w=b-(f||b);x.diff=w,x.prev=f,x.curr=b,f=b,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let C=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(S,E)=>{if(S==="%%")return"%";C++;const j=n.formatters[E];if(typeof j=="function"){const k=y[C];S=j.call(x,k),y.splice(C,1),C--}return S}),n.formatArgs.call(x,y),(x.log||n.log).apply(x,y)}return g.namespace=d,g.useColors=n.useColors(),g.color=n.selectColor(d),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,v=n.enabled(d)),v),set:y=>{p=y}}),typeof n.init=="function"&&n.init(g),g}function r(d,f){const p=n(this.namespace+(typeof f>"u"?":":f)+d);return p.log=this.log,p}function o(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let f;const p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(f=0;f<m;f++)p[f]&&(d=p[f].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let f,p;for(f=0,p=n.skips.length;f<p;f++)if(n.skips[f].test(d))return!1;for(f=0,p=n.names.length;f<p;f++)if(n.names[f].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Bmt=Lmt;(function(e,t){t.formatArgs=r,t.save=o,t.load=i,t.useColors=n,t.storage=s(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let d=0,f=0;c[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),c.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function o(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function i(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function s(){try{return localStorage}catch{}}e.exports=Bmt(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(OG,OG.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function $G(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zo(e){var t,n;return $G(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!($G(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}const Nmt=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e),zmt=["boolean","string","number"];function Vmt(){return{processOptions:e=>{const t=e.body;return!t||!(!(typeof t.pipe=="function")&&!Nmt(t)&&(zmt.indexOf(typeof t)!==-1||Array.isArray(t)||Zo(t)))?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function Hmt(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",o=e&&e.force||r.indexOf("application/json")!==-1;return!n.body||!r||!o?n:Object.assign({},n,{body:t(n.body)})},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function t(n){try{return JSON.parse(n)}catch(r){throw r.message="Failed to parsed response body as JSON: ".concat(r.message),r}}}let gy={};typeof globalThis<"u"?gy=globalThis:typeof window<"u"?gy=window:typeof global<"u"?gy=global:typeof self<"u"&&(gy=self);var Umt=gy;function Wmt(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||Umt.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new t(o=>(n.error.subscribe(i=>o.error(i)),n.progress.subscribe(i=>o.next(Object.assign({type:"progress"},i))),n.response.subscribe(i=>{o.next(Object.assign({type:"response"},i)),o.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function Ymt(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,n=e.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"));function r(o){return i=>{const s=i.lengthComputable?i.loaded/i.total*100:-1;n.channels.progress.publish({stage:o,percent:s,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}}}}class qmt{constructor(t){this.__CANCEL__=!0,this.message=t}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const MG=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n=null;this.promise=new Promise(r=>{n=r}),t(r=>{this.reason||(this.reason=new qmt(r),n(this.reason))})}};MG.source=()=>{let e;return{token:new MG(n=>{e=n}),cancel:e}};var v2e=(e,t,n)=>n.method!=="GET"&&n.method!=="HEAD"?!1:e.isNetworkError||!1;const Gmt=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";var Kmt=e=>{const t=e.maxRetries||5,n=e.retryDelay||Zmt,r=e.shouldRetry;return{onError:(o,i)=>{const s=i.options,a=s.maxRetries||t,c=s.shouldRetry||r,u=s.attemptNumber||0;if(Gmt(s.body)||!c(o,u,s)||u>=a)return o;const d=Object.assign({},i,{options:Object.assign({},s,{attemptNumber:u+1})});return setTimeout(()=>i.channels.request.publish(d),n(u)),null}}};function Zmt(e){return 100*Math.pow(2,e)+Math.random()*100}const E8=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Kmt({shouldRetry:v2e,...e})};E8.shouldRetry=v2e;const HI=5;class Xmt extends Error{constructor(t){const n=y2e(t);super(n.message),this.statusCode=400,Object.assign(this,n)}}class Qmt extends Error{constructor(t){const n=y2e(t);super(n.message),this.statusCode=500,Object.assign(this,n)}}function y2e(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:tgt(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message="".concat(t.error," - ").concat(t.message),n;if(Jmt(t)){const r=t.error.items||[],o=r.slice(0,HI).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let i=o.length?`:
- `.concat(o.join(`
- `)):"";return r.length>HI&&(i+=`
...and `.concat(r.length-HI," more")),n.message="".concat(t.error.description).concat(i),n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||egt(e),n)}function Jmt(e){return FG(e)&&FG(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function FG(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function egt(e){const t=e.statusMessage?" ".concat(e.statusMessage):"";return"".concat(e.method,"-request to ").concat(e.url," resulted in HTTP ").concat(e.statusCode).concat(t)}function tgt(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}const ngt={onResponse:e=>{if(e.statusCode>=500)throw new Qmt(e);if(e.statusCode>=400)throw new Xmt(e);return e}},rgt={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(r=>console.warn(r)),e}};function LG(e,t){let{maxRetries:n=5,retryDelay:r}=t;const o=Mmt([n>0?E8({retryDelay:r,maxRetries:n,shouldRetry:ogt}):{},...e,rgt,Vmt(),Hmt(),Ymt(),ngt,Wmt({implementation:gt})]);function i(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:o)({maxRedirects:0,...s})}return i.defaultRequester=o,i}function ogt(e,t,n){const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),s=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(r||i)&&s?!0:E8.shouldRetry(e,t,n)}function b2e(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(t))}const BG=["image","file"],NG=["before","after","replace"],x2e=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},igt=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},sgt=e=>{if(BG.indexOf(e)===-1)throw new Error("Invalid asset type: ".concat(e,". Must be one of ").concat(BG.join(", ")))},Qy=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error("".concat(e,"() takes an object of properties"))},w2e=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error("".concat(e,'(): "').concat(t,'" is not a valid document ID'))},NE=(e,t)=>{if(!t._id)throw new Error("".concat(e,'() requires that the document contains an ID ("_id" property)'));w2e(e,t._id)},agt=(e,t,n)=>{const r="insert(at, selector, items)";if(NG.indexOf(e)===-1){const o=NG.map(i=>'"'.concat(i,'"')).join(", ");throw new Error("".concat(r,' takes an "at"-argument which is one of: ').concat(o))}if(typeof t!="string")throw new Error("".concat(r,' takes a "selector"-argument which must be a string'));if(!Array.isArray(n))throw new Error("".concat(r,' takes an "items"-argument which must be an array'))},C2e=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},_2e=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};var S2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},iv=(e,t,n)=>(S2e(e,t,"read from private field"),n?n.call(e):t.get(e)),E2e=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},k2e=(e,t,n,r)=>(S2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),cg,ug;class j2e{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.selection=t,this.operations=n}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return Qy("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,n,r){return agt(t,n,r),this._assign("insert",{[t]:n,items:r})}append(t,n){return this.insert("after","".concat(t,"[-1]"),n)}prepend(t,n){return this.insert("before","".concat(t,"[0]"),n)}splice(t,n,r,o){const i=typeof r>"u"||r===-1,s=n<0?n-1:n,a=i?-1:Math.max(0,n+r),c=s<0&&a>=0?"":a,u="".concat(t,"[").concat(s,":").concat(c,"]");return this.insert("replace",u,o||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...b2e(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Qy(t,n),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},r&&this.operations[t]||{},n)}),this}_set(t,n){return this._assign(t,n,!1)}}const lgt=class T2e extends j2e{constructor(t,n,r){super(t,n),E2e(this,cg,void 0),k2e(this,cg,r)}clone(){return new T2e(this.selection,{...this.operations},iv(this,cg))}commit(t){if(!iv(this,cg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return iv(this,cg).mutate({patch:this.serialize()},r)}};cg=new WeakMap;let Jy=lgt;const cgt=class A2e extends j2e{constructor(t,n,r){super(t,n),E2e(this,ug,void 0),k2e(this,ug,r)}clone(){return new A2e(this.selection,{...this.operations},iv(this,ug))}commit(t){if(!iv(this,ug))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return iv(this,ug).mutate({patch:this.serialize()},r)}};ug=new WeakMap;let eb=cgt;var D2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Hd=(e,t,n)=>(D2e(e,t,"read from private field"),n?n.call(e):t.get(e)),I2e=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},P2e=(e,t,n,r)=>(D2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Oh,Rh;const O2e={returnDocuments:!1};class R2e{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;this.operations=t,this.trxId=n}create(t){return Qy("create",t),this._add({create:t})}createIfNotExists(t){const n="createIfNotExists";return Qy(n,t),NE(n,t),this._add({[n]:t})}createOrReplace(t){const n="createOrReplace";return Qy(n,t),NE(n,t),this._add({[n]:t})}delete(t){return w2e("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}const ugt=class $2e extends R2e{constructor(t,n,r){super(t,r),I2e(this,Oh,void 0),P2e(this,Oh,n)}clone(){return new $2e([...this.operations],Hd(this,Oh),this.trxId)}commit(t){if(!Hd(this,Oh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Hd(this,Oh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},O2e,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof eb)return this._add({patch:t.serialize()});if(r){const i=n(new eb(t,{},Hd(this,Oh)));if(!(i instanceof eb))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Oh=new WeakMap;let M2e=ugt;const dgt=class F2e extends R2e{constructor(t,n,r){super(t,r),I2e(this,Rh,void 0),P2e(this,Rh,n)}clone(){return new F2e([...this.operations],Hd(this,Rh),this.trxId)}commit(t){if(!Hd(this,Rh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Hd(this,Rh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},O2e,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof Jy)return this._add({patch:t.serialize()});if(r){const i=n(new Jy(t,{},Hd(this,Rh)));if(!(i instanceof Jy))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Rh=new WeakMap;let L2e=dgt;const fgt="https://www.sanity.io/help/";function k8(e){return fgt+e}function hgt(e){let t=!1,n;return function(){return t||(n=e(...arguments),t=!0),n}}const aT=e=>hgt(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return console.warn(e.join(" "),...n)}),pgt=aT(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),mgt=aT(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),ggt=aT(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(k8("js-client-browser-token")," for more information and how to hide this warning.")]),vgt=aT(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(k8("js-client-api-version"))]),ygt="apicdn.sanity.io",zE={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},bgt=["localhost","127.0.0.1","0.0.0.0"],xgt=e=>bgt.indexOf(e)!==-1,wgt=function(t){if(t==="1"||t==="X")return;const n=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&n instanceof Date&&n.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},B2e=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},N2e=(e,t)=>{const n=Object.assign({},t,e);n.apiVersion||vgt();const r=Object.assign({},zE,n),o=r.useProjectHostname;if(typeof Promise>"u"){const f=k8("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(f))}if(o&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(typeof r.perspective=="string"&&B2e(r.perspective),"encodeSourceMapAtPath"in r||"encodeSourceMap"in r||"studioUrl"in r||"logger"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");if("stega"in r&&r.stega!==void 0&&r.stega!==!1)throw new Error("It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'createClient' to 'false'.");const i=typeof window<"u"&&window.location&&window.location.hostname,s=i&&xgt(window.location.hostname);i&&s&&r.token&&r.ignoreBrowserTokenWarning!==!0?ggt():typeof r.useCdn>"u"&&pgt(),o&&igt(r.projectId),r.dataset&&x2e(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?_2e(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion="".concat(r.apiVersion).replace(/^v/,""),r.isDefaultApi=r.apiHost===zE.apiHost,r.useCdn=r.useCdn!==!1&&!r.withCredentials,wgt(r.apiVersion);const a=r.apiHost.split("://",2),c=a[0],u=a[1],d=r.isDefaultApi?ygt:u;return r.useProjectHostname?(r.url="".concat(c,"://").concat(r.projectId,".").concat(u,"/v").concat(r.apiVersion),r.cdnUrl="".concat(c,"://").concat(r.projectId,".").concat(d,"/v").concat(r.apiVersion)):(r.url="".concat(r.apiHost,"/v").concat(r.apiVersion),r.cdnUrl=r.url),r},Cgt="X-Sanity-Project-ID";function _gt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={},r=t.token||e.token;r&&(n.Authorization="Bearer ".concat(r)),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[Cgt]=e.projectId);const o=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:o,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const z2e=e=>{let{query:t,params:n={},options:r={}}=e;const o=new URLSearchParams,{tag:i,...s}=r;i&&o.append("tag",i),o.append("query",t);for(const[a,c]of Object.entries(n))o.append("$".concat(a),JSON.stringify(c));for(const[a,c]of Object.entries(s))c&&o.append(a,"".concat(c));return"?".concat(o)},Sgt=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,Egt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:Sgt(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},j8=e=>e.type==="response",kgt=e=>e.body,jgt=(e,t)=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null)),Tgt=11264;function V2e(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=o.filterResponse===!1?d=>d:d=>d.result,{cache:s,next:a,...c}={useAbortSignal:typeof o.signal<"u",...o},u=typeof s<"u"||typeof a<"u"?{...c,fetch:{cache:s,next:a}}:c;return Cw(e,t,"query",{query:n,params:r},u).pipe(ue(i))}function H2e(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:O0(e,"doc",n),json:!0,tag:r.tag};return _w(e,t,o).pipe(mt(j8),ue(i=>i.body.documents&&i.body.documents[0]))}function U2e(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:O0(e,"doc",n.join(",")),json:!0,tag:r.tag};return _w(e,t,o).pipe(mt(j8),ue(i=>{const s=jgt(i.body.documents||[],a=>a._id);return n.map(a=>s[a]||null)}))}function W2e(e,t,n,r){return NE("createIfNotExists",n),lT(e,t,n,"createIfNotExists",r)}function Y2e(e,t,n,r){return NE("createOrReplace",n),lT(e,t,n,"createOrReplace",r)}function q2e(e,t,n,r){return Cw(e,t,"mutate",{mutations:[{delete:b2e(n)}]},r)}function G2e(e,t,n,r){let o;n instanceof eb||n instanceof Jy?o={patch:n.serialize()}:n instanceof M2e||n instanceof L2e?o=n.serialize():o=n;const i=Array.isArray(o)?o:[o],s=r&&r.transactionId||void 0;return Cw(e,t,"mutate",{mutations:i,transactionId:s},r)}function Cw(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=n==="mutate",s=n==="query",a=i?"":z2e(r),c=!i&&a.length<Tgt,u=c?a:"",d=o.returnFirst,{timeout:f,token:p,tag:m,headers:v}=o,g=O0(e,n,u),y={method:c?"GET":"POST",uri:g,json:!0,body:c?void 0:r,query:i&&Egt(o),timeout:f,headers:v,token:p,tag:m,perspective:o.perspective,resultSourceMap:o.resultSourceMap,canUseCdn:s,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal};return _w(e,t,y).pipe(mt(j8),ue(kgt),ue(x=>{if(!i)return x;const b=x.results||[];if(o.returnDocuments)return d?b[0]&&b[0].document:b.map(_=>_.document);const w=d?"documentId":"documentIds",C=d?b[0]&&b[0].id:b.map(_=>_.id);return{transactionId:x.transactionId,results:b,[w]:C}}))}function lT(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i={[r]:n},s=Object.assign({returnFirst:!0,returnDocuments:!0},o);return Cw(e,t,"mutate",{mutations:[i]},s)}function _w(e,t,n){var r;const o=n.url||n.uri,i=e.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/")===0:n.canUseCdn;let a=i.useCdn&&s;const c=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(c&&n.tag!==null&&(n.query={tag:_2e(c),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/query/")===0){const f=(r=n.resultSourceMap)!=null?r:i.resultSourceMap;f!==void 0&&f!==!1&&(n.query={resultSourceMap:f,...n.query});const p=n.perspective||i.perspective;typeof p=="string"&&p!=="raw"&&(B2e(p),n.query={perspective:p,...n.query},p==="previewDrafts"&&a&&(a=!1,mgt()))}const u=_gt(i,Object.assign({},n,{url:T8(e,o,a)})),d=new gt(f=>t(u,i.requester).subscribe(f));return n.signal?d.pipe(Agt(n.signal)):d}function Ol(e,t,n){return _w(e,t,n).pipe(mt(o=>o.type==="response"),ue(o=>o.body))}function O0(e,t,n){const r=e.config(),o=C2e(r),i="/".concat(t,"/").concat(o),s=n?"".concat(i,"/").concat(n):i;return"/data".concat(s).replace(/\/($|\?)/,"$1")}function T8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:r,cdnUrl:o}=e.config(),i=n?o:r;return"".concat(i,"/").concat(t.replace(/^\//,""))}function Agt(e){return t=>new gt(n=>{const r=()=>n.error(Igt(e));if(e&&e.aborted){r();return}const o=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),o.unsubscribe()}})}const Dgt=!!globalThis.DOMException;function Igt(e){var t,n;if(Dgt)return new DOMException((t=e==null?void 0:e.reason)!=null?t:"The operation was aborted.","AbortError");const r=new Error((n=e==null?void 0:e.reason)!=null?n:"The operation was aborted.");return r.name="AbortError",r}var K2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},VE=(e,t,n)=>(K2e(e,t,"read from private field"),n?n.call(e):t.get(e)),HE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},UE=(e,t,n,r)=>(K2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),V2,H2,U2,W2;class Pgt{constructor(t,n){HE(this,V2,void 0),HE(this,H2,void 0),UE(this,V2,t),UE(this,H2,n)}upload(t,n,r){return Z2e(VE(this,V2),VE(this,H2),t,n,r)}}V2=new WeakMap;H2=new WeakMap;class Ogt{constructor(t,n){HE(this,U2,void 0),HE(this,W2,void 0),UE(this,U2,t),UE(this,W2,n)}upload(t,n,r){const o=Z2e(VE(this,U2),VE(this,W2),t,n,r);return xo(o.pipe(mt(i=>i.type==="response"),ue(i=>i.body.document)))}}U2=new WeakMap;W2=new WeakMap;function Z2e(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};sgt(n);let i=o.extract||void 0;i&&!i.length&&(i=["none"]);const s=C2e(e.config()),a=n==="image"?"images":"files",c=Rgt(o,r),{tag:u,label:d,title:f,description:p,creditLine:m,filename:v,source:g}=c,y={label:d,title:f,description:p,filename:v,meta:i,creditLine:m};return g&&(y.sourceId=g.id,y.sourceName=g.name,y.sourceUrl=g.url),_w(e,t,{tag:u,method:"POST",timeout:c.timeout||0,uri:"/assets/".concat(a,"/").concat(s),headers:c.contentType?{"Content-Type":c.contentType}:{},query:y,body:r})}function Rgt(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var $gt=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});const Mgt=(e,t)=>t.reduce((n,r)=>(typeof e[r]>"u"||(n[r]=e[r]),n),{}),Fgt=16e3-1200,Lgt=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],Bgt={includeResult:!0};function X2e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:r,token:o,withCredentials:i,requestTagPrefix:s}=this.config(),a=n.tag&&s?[s,n.tag].join("."):n.tag,c={...$gt(n,Bgt),tag:a},u=Mgt(c,Lgt),d=z2e({query:e,params:t,options:{tag:a,...u}}),f="".concat(r).concat(O0(this,"listen",d));if(f.length>Fgt)return new gt(g=>g.error(new Error("Query too large for listener")));const p=c.events?c.events:["mutation"],m=p.indexOf("reconnect")!==-1,v={};return(o||i)&&(v.withCredentials=!0),o&&(v.headers={Authorization:"Bearer ".concat(o)}),new gt(g=>{let y;k().then(D=>{y=D}).catch(D=>{g.error(D),A()});let x,b=!1;function w(){b||(j(),!b&&y.readyState===y.CLOSED&&(E(),clearTimeout(x),x=setTimeout(T,100)))}function C(D){g.error(Ngt(D))}function _(D){const I=Q2e(D);return I instanceof Error?g.error(I):g.next(I)}function S(){b=!0,E(),g.complete()}function E(){y&&(y.removeEventListener("error",w),y.removeEventListener("channelError",C),y.removeEventListener("disconnect",S),p.forEach(D=>y.removeEventListener(D,_)),y.close())}function j(){m&&g.next({type:"reconnect"})}async function k(){const{default:D}=await S8(()=>import("./browser-fa5d3453.js").then(P=>P.b),[]),I=new D(f,v);return I.addEventListener("error",w),I.addEventListener("channelError",C),I.addEventListener("disconnect",S),p.forEach(P=>I.addEventListener(P,_)),I}function T(){k().then(D=>{y=D}).catch(D=>{g.error(D),A()})}function A(){b=!0,E()}return A})}function Q2e(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function Ngt(e){if(e instanceof Error)return e;const t=Q2e(e);return t instanceof Error?t:new Error(zgt(t))}function zgt(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}var J2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},bi=(e,t,n)=>(J2e(e,t,"read from private field"),n?n.call(e):t.get(e)),WE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},YE=(e,t,n,r)=>(J2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),$h,Mh,Fh,Lh;class Vgt{constructor(t,n){WE(this,$h,void 0),WE(this,Mh,void 0),YE(this,$h,t),YE(this,Mh,n)}create(t,n){return sv(bi(this,$h),bi(this,Mh),"PUT",t,n)}edit(t,n){return sv(bi(this,$h),bi(this,Mh),"PATCH",t,n)}delete(t){return sv(bi(this,$h),bi(this,Mh),"DELETE",t)}list(){return Ol(bi(this,$h),bi(this,Mh),{uri:"/datasets",tag:null})}}$h=new WeakMap;Mh=new WeakMap;class Hgt{constructor(t,n){WE(this,Fh,void 0),WE(this,Lh,void 0),YE(this,Fh,t),YE(this,Lh,n)}create(t,n){return xo(sv(bi(this,Fh),bi(this,Lh),"PUT",t,n))}edit(t,n){return xo(sv(bi(this,Fh),bi(this,Lh),"PATCH",t,n))}delete(t){return xo(sv(bi(this,Fh),bi(this,Lh),"DELETE",t))}list(){return xo(Ol(bi(this,Fh),bi(this,Lh),{uri:"/datasets",tag:null}))}}Fh=new WeakMap;Lh=new WeakMap;function sv(e,t,n,r,o){return x2e(r),Ol(e,t,{method:n,uri:"/datasets/".concat(r),body:o,tag:null})}var eSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ud=(e,t,n)=>(eSe(e,t,"read from private field"),n?n.call(e):t.get(e)),qE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},GE=(e,t,n,r)=>(eSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),vy,yy,by,xy;class Ugt{constructor(t,n){qE(this,vy,void 0),qE(this,yy,void 0),GE(this,vy,t),GE(this,yy,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Ol(Ud(this,vy),Ud(this,yy),{uri:n})}getById(t){return Ol(Ud(this,vy),Ud(this,yy),{uri:"/projects/".concat(t)})}}vy=new WeakMap;yy=new WeakMap;class Wgt{constructor(t,n){qE(this,by,void 0),qE(this,xy,void 0),GE(this,by,t),GE(this,xy,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return xo(Ol(Ud(this,by),Ud(this,xy),{uri:n}))}getById(t){return xo(Ol(Ud(this,by),Ud(this,xy),{uri:"/projects/".concat(t)}))}}by=new WeakMap;xy=new WeakMap;var tSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},KE=(e,t,n)=>(tSe(e,t,"read from private field"),n?n.call(e):t.get(e)),ZE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},XE=(e,t,n,r)=>(tSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Y2,q2,G2,K2;class Ygt{constructor(t,n){ZE(this,Y2,void 0),ZE(this,q2,void 0),XE(this,Y2,t),XE(this,q2,n)}getById(t){return Ol(KE(this,Y2),KE(this,q2),{uri:"/users/".concat(t)})}}Y2=new WeakMap;q2=new WeakMap;class qgt{constructor(t,n){ZE(this,G2,void 0),ZE(this,K2,void 0),XE(this,G2,t),XE(this,K2,n)}getById(t){return xo(Ol(KE(this,G2),KE(this,K2),{uri:"/users/".concat(t)}))}}G2=new WeakMap;K2=new WeakMap;var nSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},It=(e,t,n)=>(nSe(e,t,"read from private field"),n?n.call(e):t.get(e)),QE=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},JE=(e,t,n,r)=>(nSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Bh,Ao,Nh,bo;const Ggt=class w${constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zE;QE(this,Bh,void 0),QE(this,Ao,void 0),this.listen=X2e,this.config(n),JE(this,Ao,t),this.assets=new Pgt(this,It(this,Ao)),this.datasets=new Vgt(this,It(this,Ao)),this.projects=new Ugt(this,It(this,Ao)),this.users=new Ygt(this,It(this,Ao))}clone(){return new w$(It(this,Ao),this.config())}config(t){if(t===void 0)return{...It(this,Bh)};if(It(this,Bh)&&It(this,Bh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return JE(this,Bh,N2e(t,It(this,Bh)||{})),this}withConfig(t){return new w$(It(this,Ao),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V2e(this,It(this,Ao),t,n,r)}getDocument(t,n){return H2e(this,It(this,Ao),t,n)}getDocuments(t,n){return U2e(this,It(this,Ao),t,n)}create(t,n){return lT(this,It(this,Ao),t,"create",n)}createIfNotExists(t,n){return W2e(this,It(this,Ao),t,n)}createOrReplace(t,n){return Y2e(this,It(this,Ao),t,n)}delete(t,n){return q2e(this,It(this,Ao),t,n)}mutate(t,n){return G2e(this,It(this,Ao),t,n)}patch(t,n){return new Jy(t,n,this)}transaction(t){return new L2e(t,this)}request(t){return Ol(this,It(this,Ao),t)}getUrl(t,n){return T8(this,t,n)}getDataUrl(t,n){return O0(this,t,n)}};Bh=new WeakMap;Ao=new WeakMap;let Kgt=Ggt;const Zgt=class C${constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zE;QE(this,Nh,void 0),QE(this,bo,void 0),this.listen=X2e,this.config(n),JE(this,bo,t),this.assets=new Ogt(this,It(this,bo)),this.datasets=new Hgt(this,It(this,bo)),this.projects=new Wgt(this,It(this,bo)),this.users=new qgt(this,It(this,bo)),this.observable=new Kgt(t,n)}clone(){return new C$(It(this,bo),this.config())}config(t){if(t===void 0)return{...It(this,Nh)};if(It(this,Nh)&&It(this,Nh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),JE(this,Nh,N2e(t,It(this,Nh)||{})),this}withConfig(t){return new C$(It(this,bo),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return xo(V2e(this,It(this,bo),t,n,r))}getDocument(t,n){return xo(H2e(this,It(this,bo),t,n))}getDocuments(t,n){return xo(U2e(this,It(this,bo),t,n))}create(t,n){return xo(lT(this,It(this,bo),t,"create",n))}createIfNotExists(t,n){return xo(W2e(this,It(this,bo),t,n))}createOrReplace(t,n){return xo(Y2e(this,It(this,bo),t,n))}delete(t,n){return xo(q2e(this,It(this,bo),t,n))}mutate(t,n){return xo(G2e(this,It(this,bo),t,n))}patch(t,n){return new eb(t,n,this)}transaction(t){return new M2e(t,this)}request(t){return xo(Ol(this,It(this,bo),t))}dataRequest(t,n,r){return xo(Cw(this,It(this,bo),t,n,r))}getUrl(t,n){return T8(this,t,n)}getDataUrl(t,n){return O0(this,t,n)}};Nh=new WeakMap;bo=new WeakMap;let Xgt=Zgt;function Qgt(e,t){return{requester:LG(e,{}).defaultRequester,createClient:i=>new t(LG(e,{maxRetries:i.maxRetries,retryDelay:i.retryDelay}),i)}}var Jgt=[];const evt=Qgt(Jgt,Xgt),rSe=evt.createClient;var tvt=Hf,nvt=Jr,rvt=Ga,ovt="[object String]";function ivt(e){return typeof e=="string"||!nvt(e)&&rvt(e)&&tvt(e)==ovt}var svt=ivt;const cT=Pe(svt);function avt(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}var lvt=avt;function cvt(e){return function(t){return e==null?void 0:e[t]}}var uvt=cvt,dvt=uvt,fvt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},hvt=dvt(fvt),pvt=hvt,mvt=pvt,gvt=Lc,vvt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yvt="\\u0300-\\u036f",bvt="\\ufe20-\\ufe2f",xvt="\\u20d0-\\u20ff",wvt=yvt+bvt+xvt,Cvt="["+wvt+"]",_vt=RegExp(Cvt,"g");function Svt(e){return e=gvt(e),e&&e.replace(vvt,mvt).replace(_vt,"")}var oSe=Svt;const zG=Pe(oSe);var Evt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function kvt(e){return e.match(Evt)||[]}var jvt=kvt,Tvt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Avt(e){return Tvt.test(e)}var Dvt=Avt,iSe="\\ud800-\\udfff",Ivt="\\u0300-\\u036f",Pvt="\\ufe20-\\ufe2f",Ovt="\\u20d0-\\u20ff",Rvt=Ivt+Pvt+Ovt,sSe="\\u2700-\\u27bf",aSe="a-z\\xdf-\\xf6\\xf8-\\xff",$vt="\\xac\\xb1\\xd7\\xf7",Mvt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fvt="\\u2000-\\u206f",Lvt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",lSe="A-Z\\xc0-\\xd6\\xd8-\\xde",Bvt="\\ufe0e\\ufe0f",cSe=$vt+Mvt+Fvt+Lvt,uSe="['’]",VG="["+cSe+"]",Nvt="["+Rvt+"]",dSe="\\d+",zvt="["+sSe+"]",fSe="["+aSe+"]",hSe="[^"+iSe+cSe+dSe+sSe+aSe+lSe+"]",Vvt="\\ud83c[\\udffb-\\udfff]",Hvt="(?:"+Nvt+"|"+Vvt+")",Uvt="[^"+iSe+"]",pSe="(?:\\ud83c[\\udde6-\\uddff]){2}",mSe="[\\ud800-\\udbff][\\udc00-\\udfff]",dg="["+lSe+"]",Wvt="\\u200d",HG="(?:"+fSe+"|"+hSe+")",Yvt="(?:"+dg+"|"+hSe+")",UG="(?:"+uSe+"(?:d|ll|m|re|s|t|ve))?",WG="(?:"+uSe+"(?:D|LL|M|RE|S|T|VE))?",gSe=Hvt+"?",vSe="["+Bvt+"]?",qvt="(?:"+Wvt+"(?:"+[Uvt,pSe,mSe].join("|")+")"+vSe+gSe+")*",Gvt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Kvt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zvt=vSe+gSe+qvt,Xvt="(?:"+[zvt,pSe,mSe].join("|")+")"+Zvt,Qvt=RegExp([dg+"?"+fSe+"+"+UG+"(?="+[VG,dg,"$"].join("|")+")",Yvt+"+"+WG+"(?="+[VG,dg+HG,"$"].join("|")+")",dg+"?"+HG+"+"+UG,dg+"+"+WG,Kvt,Gvt,dSe,Xvt].join("|"),"g");function Jvt(e){return e.match(Qvt)||[]}var e0t=Jvt,t0t=jvt,n0t=Dvt,r0t=Lc,o0t=e0t;function i0t(e,t,n){return e=r0t(e),t=n?void 0:t,t===void 0?n0t(e)?o0t(e):t0t(e):e.match(t)||[]}var ySe=i0t;const bSe=Pe(ySe);var s0t=lvt,a0t=oSe,l0t=ySe,c0t="['’]",u0t=RegExp(c0t,"g");function d0t(e){return function(t){return s0t(l0t(a0t(t).replace(u0t,"")),e,"")}}var A8=d0t;function f0t(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var xSe=f0t,h0t=xSe;function p0t(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:h0t(e,t,n)}var wSe=p0t,m0t="\\ud800-\\udfff",g0t="\\u0300-\\u036f",v0t="\\ufe20-\\ufe2f",y0t="\\u20d0-\\u20ff",b0t=g0t+v0t+y0t,x0t="\\ufe0e\\ufe0f",w0t="\\u200d",C0t=RegExp("["+w0t+m0t+b0t+x0t+"]");function _0t(e){return C0t.test(e)}var CSe=_0t;function S0t(e){return e.split("")}var E0t=S0t,_Se="\\ud800-\\udfff",k0t="\\u0300-\\u036f",j0t="\\ufe20-\\ufe2f",T0t="\\u20d0-\\u20ff",A0t=k0t+j0t+T0t,D0t="\\ufe0e\\ufe0f",I0t="["+_Se+"]",_$="["+A0t+"]",S$="\\ud83c[\\udffb-\\udfff]",P0t="(?:"+_$+"|"+S$+")",SSe="[^"+_Se+"]",ESe="(?:\\ud83c[\\udde6-\\uddff]){2}",kSe="[\\ud800-\\udbff][\\udc00-\\udfff]",O0t="\\u200d",jSe=P0t+"?",TSe="["+D0t+"]?",R0t="(?:"+O0t+"(?:"+[SSe,ESe,kSe].join("|")+")"+TSe+jSe+")*",$0t=TSe+jSe+R0t,M0t="(?:"+[SSe+_$+"?",_$,ESe,kSe,I0t].join("|")+")",F0t=RegExp(S$+"(?="+S$+")|"+M0t+$0t,"g");function L0t(e){return e.match(F0t)||[]}var B0t=L0t,N0t=E0t,z0t=CSe,V0t=B0t;function H0t(e){return z0t(e)?V0t(e):N0t(e)}var ASe=H0t,U0t=wSe,W0t=CSe,Y0t=ASe,q0t=Lc;function G0t(e){return function(t){t=q0t(t);var n=W0t(t)?Y0t(t):void 0,r=n?n[0]:t.charAt(0),o=n?U0t(n,1).join(""):t.slice(1);return r[e]()+o}}var K0t=G0t,Z0t=K0t,X0t=Z0t("toUpperCase"),D8=X0t;const DSe=Pe(D8);var Q0t=A8,J0t=D8,e1t=Q0t(function(e,t,n){return e+(n?" ":"")+J0t(t)}),t1t=e1t;const un=Pe(t1t);let n1t=e=>crypto.getRandomValues(new Uint8Array(e)),r1t=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(i=t)=>{let s="";for(;;){let a=n(o),c=o;for(;c--;)if(s+=e[a[c]&r]||"",s.length===i)return s}}},o1t=(e,t=21)=>r1t(e,t,n1t),i1t=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var s1t=["presence","listen"],ek=globalThis&&globalThis.__assign||function(){return ek=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ek.apply(this,arguments)},a1t=o1t("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),l1t="♥";function YG(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:u1t(t,"v1"),id:n})}function c1t(e){try{return[null,JSON.parse(e)]}catch(t){return t instanceof Error?[t]:[new Error("".concat(t))]}}function u1t(e,t){return ek(ek({},e),{apiVersion:t})}var d1t=function(e,t){t===void 0&&(t={});var n=t.token$,r=t.getNextRequestId,o=r===void 0?a1t:r,i=H6(e.pipe(it(function(m){return Ii(m,"message")})),function(m){return m.data===l1t}),s=i[0],a=i[1],c=a.pipe(ht(function(m){var v=c1t(m.data),g=v[0],y=v[1];return g?(console.warn("Unable to parse message: %s",g.message),Zn):!y||!y.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",y),Zn):be(y)}),ra()),u=n?Bo([n,e]).pipe(Qn(function(m,v){var g=m[0],y=m[1],x=v[0],b=v[1];return g===x&&y===b}),it(function(m){var v=m[0],g=m[1];return v?d(g,"authorization",{authorization:"Bearer ".concat(v)}).pipe(Ei(1),zj(g)):be(g)}),jo({refCount:!0,bufferSize:1})):e;function d(m,v,g){g===void 0&&(g={});var y=o();return on(c.pipe(mt(function(x){return x.id===y}),ue(function(x){return x.result})),fo(function(){return m.send(YG(v,g,y)),Zn}))}function f(m,v){return u.pipe(Ei(1),ht(function(g){return d(g,m,v).pipe(Ei(1))}))}function p(m,v){return u.pipe(Ei(1),ht(function(g){return d(g,"".concat(m,"_subscribe"),v).pipe(Ei(1),ht(function(y){return c.pipe(mt(function(x){return x.method==="".concat(m,"_subscription")&&x.params.subscription===y}),ue(function(x){return x.params.result}),jCe(function(){g.readyState!==g.CLOSED&&g.readyState!==g.CLOSING&&g.send(YG("".concat(m,"_unsubscribe"),{subscriptionId:y},o()))}))}))}))}return{heartbeats:on(u,s,a).pipe(ue(function(){return new Date})),request:function(m,v){return f1t(m)?p(m,v):f(m,v)}}};function f1t(e){return s1t.includes(e)}var h1t=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qG=function(e){h1t(t,e);function t(n,r,o,i){var s=e.call(this,n)||this;return s.type=r,s.code=o,s.reason=i,s}return t}(Error);function p1t(e){return function(t){return new gt(function(n){var r=e(t),o=!1,i=function(){n.next(r)},s=function(){n.error(new qG("WebSocket connection error","CONNECTION_ERROR"))},a=function(c){o?n.complete():n.error(new qG("WebSocket connection error","CONNECTION_CLOSED",c.code,c.reason))};return r.onopen=i,r.onclose=a,r.onerror=s,function(){o=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var m1t=function(e,t){return function(n){return Qtt(n,No(e).pipe(ht(function(){return t})))}},GG;(function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"})(GG||(GG={}));var g1t=function(e){return e};function v1t(e,t){t===void 0&&(t={});var n=t.timeout,r=t.token$,o=p1t(function(i,s){return new window.WebSocket(i,s)});return d1t(o(e).pipe(n?m1t(n,Nu(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):g1t,jo({refCount:!0}),Y6(Ii(window,"beforeunload"))),{token$:r})}function y1t(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var b1t=y1t,x1t=d8,w1t=rT;function C1t(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],c=r?r(n[a],e[a],a,n,e):void 0;c===void 0&&(c=e[a]),o?w1t(n,a,c):x1t(n,a,c)}return n}var R0=C1t,_1t=R0,S1t=Qf;function E1t(e,t){return e&&_1t(t,S1t(t),e)}var k1t=E1t;function j1t(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var T1t=j1t,A1t=qa,D1t=Jj,I1t=T1t,P1t=Object.prototype,O1t=P1t.hasOwnProperty;function R1t(e){if(!A1t(e))return I1t(e);var t=D1t(e),n=[];for(var r in e)r=="constructor"&&(t||!O1t.call(e,r))||n.push(r);return n}var $1t=R1t,M1t=HCe,F1t=$1t,L1t=Xf;function B1t(e){return L1t(e)?M1t(e,!0):F1t(e)}var I8=B1t,N1t=R0,z1t=I8;function V1t(e,t){return e&&N1t(t,z1t(t),e)}var H1t=V1t,tk={exports:{}};tk.exports;(function(e,t){var n=Bl,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,p=a?a(f):new u.constructor(f);return u.copy(p),p}e.exports=c})(tk,tk.exports);var U1t=tk.exports;function W1t(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var P8=W1t,Y1t=R0,q1t=Q6;function G1t(e,t){return Y1t(e,q1t(e),t)}var K1t=G1t,Z1t=X6,X1t=u8,Q1t=Q6,J1t=zCe,eyt=Object.getOwnPropertySymbols,tyt=eyt?function(e){for(var t=[];e;)Z1t(t,Q1t(e)),e=X1t(e);return t}:J1t,ISe=tyt,nyt=R0,ryt=ISe;function oyt(e,t){return nyt(e,ryt(e),t)}var iyt=oyt,syt=BCe,ayt=ISe,lyt=I8;function cyt(e){return syt(e,lyt,ayt)}var O8=cyt,uyt=Object.prototype,dyt=uyt.hasOwnProperty;function fyt(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&dyt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var hyt=fyt,KG=LCe;function pyt(e){var t=new e.constructor(e.byteLength);return new KG(t).set(new KG(e)),t}var R8=pyt,myt=R8;function gyt(e,t){var n=t?myt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var vyt=gyt,yyt=/\w*$/;function byt(e){var t=new e.constructor(e.source,yyt.exec(e));return t.lastIndex=e.lastIndex,t}var xyt=byt,ZG=u0,XG=ZG?ZG.prototype:void 0,QG=XG?XG.valueOf:void 0;function wyt(e){return QG?Object(QG.call(e)):{}}var Cyt=wyt,_yt=R8;function Syt(e,t){var n=t?_yt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Eyt=Syt,kyt=R8,jyt=vyt,Tyt=xyt,Ayt=Cyt,Dyt=Eyt,Iyt="[object Boolean]",Pyt="[object Date]",Oyt="[object Map]",Ryt="[object Number]",$yt="[object RegExp]",Myt="[object Set]",Fyt="[object String]",Lyt="[object Symbol]",Byt="[object ArrayBuffer]",Nyt="[object DataView]",zyt="[object Float32Array]",Vyt="[object Float64Array]",Hyt="[object Int8Array]",Uyt="[object Int16Array]",Wyt="[object Int32Array]",Yyt="[object Uint8Array]",qyt="[object Uint8ClampedArray]",Gyt="[object Uint16Array]",Kyt="[object Uint32Array]";function Zyt(e,t,n){var r=e.constructor;switch(t){case Byt:return kyt(e);case Iyt:case Pyt:return new r(+e);case Nyt:return jyt(e,n);case zyt:case Vyt:case Hyt:case Uyt:case Wyt:case Yyt:case qyt:case Gyt:case Kyt:return Dyt(e,n);case Oyt:return new r;case Ryt:case Fyt:return new r(e);case $yt:return Tyt(e);case Myt:return new r;case Lyt:return Ayt(e)}}var Xyt=Zyt,Qyt=qa,JG=Object.create,Jyt=function(){function e(){}return function(t){if(!Qyt(t))return{};if(JG)return JG(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),$8=Jyt,ebt=$8,tbt=u8,nbt=Jj;function rbt(e){return typeof e.constructor=="function"&&!nbt(e)?ebt(tbt(e)):{}}var obt=rbt,ibt=bw,sbt=Ga,abt="[object Map]";function lbt(e){return sbt(e)&&ibt(e)==abt}var cbt=lbt,ubt=cbt,dbt=T0,eK=e8,tK=eK&&eK.isMap,fbt=tK?dbt(tK):ubt,hbt=fbt,pbt=bw,mbt=Ga,gbt="[object Set]";function vbt(e){return mbt(e)&&pbt(e)==gbt}var ybt=vbt,bbt=ybt,xbt=T0,nK=e8,rK=nK&&nK.isSet,wbt=rK?xbt(rK):bbt,Cbt=wbt,_bt=K6,Sbt=b1t,Ebt=d8,kbt=k1t,jbt=H1t,Tbt=U1t,Abt=P8,Dbt=K1t,Ibt=iyt,Pbt=YCe,Obt=O8,Rbt=bw,$bt=hyt,Mbt=Xyt,Fbt=obt,Lbt=Jr,Bbt=Xj,Nbt=hbt,zbt=qa,Vbt=Cbt,Hbt=Qf,Ubt=I8,Wbt=1,Ybt=2,qbt=4,PSe="[object Arguments]",Gbt="[object Array]",Kbt="[object Boolean]",Zbt="[object Date]",Xbt="[object Error]",OSe="[object Function]",Qbt="[object GeneratorFunction]",Jbt="[object Map]",ext="[object Number]",RSe="[object Object]",txt="[object RegExp]",nxt="[object Set]",rxt="[object String]",oxt="[object Symbol]",ixt="[object WeakMap]",sxt="[object ArrayBuffer]",axt="[object DataView]",lxt="[object Float32Array]",cxt="[object Float64Array]",uxt="[object Int8Array]",dxt="[object Int16Array]",fxt="[object Int32Array]",hxt="[object Uint8Array]",pxt="[object Uint8ClampedArray]",mxt="[object Uint16Array]",gxt="[object Uint32Array]",zn={};zn[PSe]=zn[Gbt]=zn[sxt]=zn[axt]=zn[Kbt]=zn[Zbt]=zn[lxt]=zn[cxt]=zn[uxt]=zn[dxt]=zn[fxt]=zn[Jbt]=zn[ext]=zn[RSe]=zn[txt]=zn[nxt]=zn[rxt]=zn[oxt]=zn[hxt]=zn[pxt]=zn[mxt]=zn[gxt]=!0;zn[Xbt]=zn[OSe]=zn[ixt]=!1;function Z2(e,t,n,r,o,i){var s,a=t&Wbt,c=t&Ybt,u=t&qbt;if(n&&(s=o?n(e,r,o,i):n(e)),s!==void 0)return s;if(!zbt(e))return e;var d=Lbt(e);if(d){if(s=$bt(e),!a)return Abt(e,s)}else{var f=Rbt(e),p=f==OSe||f==Qbt;if(Bbt(e))return Tbt(e,a);if(f==RSe||f==PSe||p&&!o){if(s=c||p?{}:Fbt(e),!a)return c?Ibt(e,jbt(s,e)):Dbt(e,kbt(s,e))}else{if(!zn[f])return o?e:{};s=Mbt(e,f,a)}}i||(i=new _bt);var m=i.get(e);if(m)return m;i.set(e,s),Vbt(e)?e.forEach(function(y){s.add(Z2(y,t,n,y,e,i))}):Nbt(e)&&e.forEach(function(y,x){s.set(x,Z2(y,t,n,x,e,i))});var v=u?c?Obt:Pbt:c?Ubt:Hbt,g=d?void 0:v(e);return Sbt(g||e,function(y,x){g&&(x=y,y=e[x]),Ebt(s,x,Z2(y,t,n,x,e,i))}),s}var M8=Z2;function vxt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var yxt=vxt,bxt=xw,xxt=xSe;function wxt(e,t){return t.length<2?e:bxt(e,xxt(t,0,-1))}var Cxt=wxt,_xt=I0,Sxt=yxt,Ext=Cxt,kxt=xm;function jxt(e,t){return t=_xt(t,e),e=Ext(e,t),e==null||delete e[kxt(Sxt(t))]}var Txt=jxt,Axt=T_e;function Dxt(e){return Axt(e)?void 0:e}var Ixt=Dxt,Pxt=Fc,Oxt=M8,Rxt=Txt,$xt=I0,Mxt=R0,Fxt=Ixt,Lxt=f8,Bxt=O8,Nxt=1,zxt=2,Vxt=4,Hxt=Lxt(function(e,t){var n={};if(e==null)return n;var r=!1;t=Pxt(t,function(i){return i=$xt(i,e),r||(r=i.length>1),i}),Mxt(e,Bxt(e),n),r&&(n=Oxt(n,Nxt|zxt|Vxt,Fxt));for(var o=t.length;o--;)Rxt(n,t[o]);return n}),Uxt=Hxt;const Pi=Pe(Uxt);var Wxt=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const Sw=Pe(Wxt);var Yxt=Jr;function qxt(){if(!arguments.length)return[];var e=arguments[0];return Yxt(e)?e:[e]}var Gxt=qxt;const Ew=Pe(Gxt);var Kxt=Fc,Zxt=Jf,Xxt=g_e,Qxt=Jr;function Jxt(e,t){var n=Qxt(e)?Kxt:Xxt;return n(e,Zxt(t))}var ewt=Jxt,twt=D0,nwt=ewt;function rwt(e,t){return twt(nwt(e,t),1)}var owt=rwt;const iwt=Pe(owt);var swt="Expected a function";function awt(e){if(typeof e!="function")throw new TypeError(swt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var $Se=awt;const lwt=Pe($Se);var cwt=Fc,uwt=Jf,dwt=A_e,fwt=O8;function hwt(e,t){if(e==null)return{};var n=cwt(fwt(e),function(r){return[r]});return t=uwt(t),dwt(e,n,function(r,o){return t(r,o[0])})}var pwt=hwt,mwt=Jf,gwt=$Se,vwt=pwt;function ywt(e,t){return vwt(e,gwt(mwt(t)))}var bwt=ywt;const MSe=Pe(bwt);function xwt(e){return e===void 0}var wwt=xwt;const FSe=Pe(wwt);var Cwt=Lc,_wt=D8;function Swt(e){return _wt(Cwt(e).toLowerCase())}var LSe=Swt;const Em=Pe(LSe);var Ewt=Fc,kwt=P8,jwt=Jr,Twt=sm,Awt=a_e,Dwt=xm,Iwt=Lc;function Pwt(e){return jwt(e)?Ewt(e,Dwt):Twt(e)?[e]:kwt(Awt(Iwt(e)))}var Owt=Pwt;const Rwt=Pe(Owt);function $wt(){}var F8=$wt;const BSe=Pe(F8);var UI=qCe,Mwt=F8,Fwt=Z6,Lwt=1/0,Bwt=UI&&1/Fwt(new UI([,-0]))[1]==Lwt?function(e){return new UI(e)}:Mwt,Nwt=Bwt,zwt=Gj,Vwt=l8,Hwt=c8,Uwt=Kj,Wwt=Nwt,Ywt=Z6,qwt=200;function Gwt(e,t,n){var r=-1,o=Vwt,i=e.length,s=!0,a=[],c=a;if(n)s=!1,o=Hwt;else if(i>=qwt){var u=t?null:Wwt(e);if(u)return Ywt(u);s=!1,o=Uwt,c=new zwt}else c=t?[]:a;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),a.push(d)}else o(c,f,n)||(c!==a&&c.push(f),a.push(d))}return a}var uT=Gwt,Kwt=Jf,Zwt=uT;function Xwt(e,t){return e&&e.length?Zwt(e,Kwt(t)):[]}var Qwt=Xwt;const Mf=Pe(Qwt),ns=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue"],oK=[...ns],WI={name:"any",type:null,jsonType:"any"},Jwt={get(){return WI},extend(e,t){const n=Object.assign(Et(WI,oK),e,{type:WI,of:e.of.map(o=>({name:o.name,type:t(Pi(o,"name"))}))});return r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,Et(i,oK),{type:o});return r(s)}}}}};var th={prepare:e=>({title:String(e)})};const iK=[...ns],YI={name:"string",title:"String",type:null,jsonType:"string"},eCt={get(){return YI},extend(e){const t=Object.assign(Et(YI,iK),e,{type:YI,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Et(o,iK),{type:r});return n(i)}}}}},sK=[...ns,"rows"],qI={name:"text",title:"Text",type:null,jsonType:"string"},tCt={get(){return qI},extend(e){const t=Object.assign(Et(qI,sK),e,{type:qI,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Et(o,sK),{type:r});return n(i)}}}}},aK=[...ns],GI={name:"datetime",title:"Datetime",type:null,jsonType:"string"},nCt={get(){return GI},extend(e){const t=Object.assign(Et(GI,aK),e,{type:GI,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Et(o,aK),{type:r});return n(i)}}}}},lK=[...ns],KI={name:"date",title:"Datetime",type:null,jsonType:"string"},rCt={get(){return KI},extend(e){const t=Object.assign(Et(KI,lK),e,{type:KI,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Et(o,lK),{type:r});return n(i)}}}}},cK=[...ns],ZI={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},oCt={get(){return ZI},extend(e){const t=Object.assign(Et(ZI,cK),e,{type:ZI,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Et(o,cK),{type:r});return n(i)}}}}},uK=[...ns],XI={name:"url",title:"Url",type:null,jsonType:"string"},iCt={get(){return XI},extend(e){const t=Object.assign(Et(XI,uK),e,{type:XI,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Et(o,uK),{type:r});return n(i)}}}}},dK=[...ns],QI={name:"email",title:"Email",type:null,jsonType:"string"},sCt={get(){return QI},extend(e){const t=Object.assign(Et(QI,dK),e,{type:QI,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Et(o,dK),{type:r});return n(i)}}}}},fK=[...ns],JI={name:"number",title:"Number",type:null,jsonType:"number"},aCt={get(){return JI},extend(e){const t=Object.assign(Et(JI,fK),e,{type:JI,preview:th});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,Et(o,fK),{type:r});return n(i)}}}}};function Wn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const o=n();return Object.defineProperty(e,t,{value:o,writable:!!r.writable,configurable:!1}),o}}),e}function lCt(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function E$(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const o=Math.max(e.length-t.maxBreadth),i=e.slice(0,t.maxBreadth).map((s,a)=>E$(s,t,n+1)).concat(o>0?"…+".concat(o):[]).join(", ");return n===0?i:"[".concat(i,"]")}if(typeof e=="object"&&e!==null){const o=Object.keys(e).filter(s=>!t.ignoreKeys.includes(s)&&typeof e[s]<"u");if(lCt(Et(e,o)))return"{empty}";const i=o.slice(0,t.maxBreadth).map(s=>"".concat(s,": ").concat(E$(e[s],t,n+1))).join(", ");return n===0?i:"{".concat(i,"}")}const r=String(e);return r===""?'""':r}function cCt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return E$(e,n,0)}const uCt={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function dCt(e){return t=>({title:cCt(Et(t,e),uCt)})}function fCt(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")}const NSe=["title","name","label","heading","header","caption"],hCt=["description",...NSe];function zSe(e,t){return Sw(e.to||[]).some(n=>n.type===t)}function hK(e){return zSe(e,"sanity.imageAsset")}function pCt(e){const t=e.fields||[],n=t.find(hK);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(hK));return r?"".concat(r.name,".asset"):void 0}function pK(e){return zSe(e,"sanity.fileAsset")}function mCt(e){const t=e.fields||[],n=t.find(pK);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(pK));return r?"".concat(r.name,".asset"):void 0}function gCt(e){const t={fields:[],...e},n=t.fields.filter(u=>u.type==="string").map(u=>u.name),r=t.fields.filter(fCt).map(u=>u.name);let o=NSe.find(u=>n.includes(u)||r.includes(u)),i=hCt.find(u=>u!==o&&(n.includes(u)||r.includes(u)));o||(o=n[0]||r[0],i=n[1]||r[1]);const s=t.fields.find(u=>u.type==="image"),a=pCt(t);if(!o){const u=mCt(t);u&&(o="".concat(u,".originalFilename")),a&&(o="".concat(a,".originalFilename"))}if(!o&&!a){const u=t.fields.map(f=>f.name);return{select:u.reduce((f,p)=>(f[p]=p,f),{}),prepare:dCt(u)}}return{select:MSe({title:o,description:i,media:s?s.name:a},FSe)}}function vCt(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "`.concat(e.name,`".
`))}function yCt(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn('Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "'.concat(e.name,`".
`))}function bCt(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function xCt(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{...Et(e,["prepare","component"]),select:bCt(t)}:{...Et(e,["prepare","component"]),select:t}}function kw(e){return function(){return vCt(e),yCt(e),xCt(e.preview||(e.options||{}).preview)||gCt(e)}}const wCt=["title","name","label","heading","header","caption","description"],CCt=["string","boolean","number"],mK=e=>CCt.includes(e.type);function _Ct(e){let t=wCt.filter(n=>e.fields.some(r=>mK(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(mK).map(n=>n.name)),t.map(n=>({name:n,title:Em(un(n)),by:[{field:n,direction:"asc"}]}))}function gK(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!Er(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:Rwt(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const av=Symbol("__cachedStringFields"),SCt=e=>e.type&&e.type.name==="reference",ECt=["style","list"],L8=e=>e.name==="block"||e.type&&L8(e.type),kCt=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(L8);function dT(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(o<0)return n;const i=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?jCt(e,t,i,r,o):e.jsonType==="object"&&Array.isArray(e.fields)&&!SCt(e)?TCt(e,t,i,r,o):i}function jCt(e,t,n,r,o){return e.of.reduce((i,s)=>dT(s,t,i,r,o-1),n)}function TCt(e,t,n,r,o){const i=L8(e);return e.fields.reduce((s,a)=>{if(i&&ECt.includes(a.name))return s;const c=[a.name].concat(a.type.jsonType==="array"?[[]]:[]);return dT(a.type,t,s,r.concat(c),o-1)},n)}const VSe=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],vK={title:10,subtitle:5,description:1.5};function HSe(e){var t;const n=(t=e==null?void 0:e.preview)==null?void 0:t.select;return n?Object.keys(n).filter(r=>r in vK).map(r=>({weight:vK[r],path:n[r].split(".")})):[]}function ACt(e,t){return e[av]||(e[av]=Mf([...VSe,...HSe(e),...ICt(e,t).map(n=>({weight:1,path:n})),...PCt(e,t).map(n=>({weight:1,path:n,mapWith:"pt::text"}))],n=>n.path.join("."))),e[av]}function DCt(e){return e[av]||(e[av]=Mf([...VSe,...HSe(e)],t=>t.path.join("."))),e[av]}function ICt(e,t){return dT(e,(r,o,i)=>o.jsonType==="string"?[...r,i]:r,[],[],t)}function PCt(e,t){return dT(e,(r,o,i)=>kCt(o)?[...r,i]:r,[],[],t)}function OCt(e){return DCt(e)}function RCt(e){return ACt(e,4)}const yK=[...ns,"orderings","__experimental_search","blockEditor","icon"],USe={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options||{}},o=Object.assign(Et(this.get(),yK),n,{type:this.get(),title:n.title||(n.name?un(n.name):""),options:r,orderings:n.orderings||_Ct(n),fields:n.fields.map(s=>{const{name:a,fieldset:c,group:u,...d}=s;return Wn({name:a,group:u,fieldset:c},"type",()=>t({...d,title:s.title||un(a)}))})});return Wn(o,"fieldsets",()=>fT(n,o.fields)),Wn(o,"groups",()=>$Ct(n,o.fields)),Wn(o,"preview",kw(n)),Wn(o,"__experimental_search",()=>{const s=n.__experimental_search?gK(n.__experimental_search):null;return s?s.map(a=>a==="defaults"?gK(n):a):RCt(o)},{enumerable:!1}),i(o);function i(s){return{get(){return s},extend:a=>{if(a.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const c=Object.assign({},s,Et(a,yK),{title:a.title||n.title||(n.name?un(n.name):""),type:s});return Wn(c,"__experimental_search",()=>s.__experimental_search),i(c)}}}}};function fT(e,t){const n={};for(const o of e.fieldsets||[]){if(n[o.name])throw new Error('Duplicate fieldset name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:un(e.name),"'"));n[o.name]={title:un(o.name),...o,fields:[]}}const r=new Set;for(const o of t){if(!o.fieldset){r.add({single:!0,field:o});continue}const i=n[o.fieldset];if(!i)throw new Error("Fieldset '".concat(o.fieldset,"' is not defined in schema for type '").concat(e.name,"'"));i.fields.push(o),r.add(i)}return Array.from(r)}function $Ct(e,t){const n={};let r=0;for(const o of e.groups||[]){if(n[o.name])throw new Error('Duplicate group name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:un(e.name),"'"));if(n[o.name]={title:un(o.name),...o,fields:[]},o.default&&++r>1)throw new Error("More than one field group defined as default for type '".concat(e.title?e.title:un(e.name),"' - only 1 is supported"))}return t.forEach(o=>{const i=Ew(o.group||[]);i.length!==0&&i.forEach(s=>{const a=n[s];if(!a)throw new Error("Field group '".concat(s,"' is not defined in schema for type '").concat(e.title?e.name:un(e.name),"'"));a.fields.push(o)})}),iwt(n).filter(o=>o.fields.length>0)}const MCt={name:"_ref",title:"Referenced document ID",type:"string"},FCt={name:"_weak",title:"Weak reference",type:"boolean"},LCt=[MCt,FCt],bK=[...ns],eP={name:"reference",title:"Reference",type:null,jsonType:"object"};function BCt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function NCt(e){return!e.to||e.to.length===0?"Reference":"Reference to ".concat(BCt(Sw(e.to).map(t=>t.title),"or").toLowerCase())}const zCt={get(){return eP},extend(e,t){if(!e.to)throw new Error('Missing "to" field in reference definition. Check the type '.concat(e.name));const n=Object.assign(Et(eP,bK),e,{type:eP});return Wn(n,"fields",()=>LCt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Wn(n,"fieldsets",()=>fT(e,n.fields)),Wn(n,"to",()=>Sw(e.to).map(o=>t(o))),Wn(n,"title",()=>e.title||NCt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,Et(i,bK),{type:o});return r(s)}}}}},VCt={name:"_ref",title:"Referenced document ID",type:"string"},HCt={name:"_weak",title:"Weak reference marker",type:"boolean"},UCt={name:"_dataset",title:"Target dataset",type:"string"},WCt={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},YCt=[VCt,HCt,UCt,WCt],xK=[...ns],tP={name:"crossDatasetReference",type:null,jsonType:"object"};function qCt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function GCt(e){return!e.to||e.to.length===0?"Cross dataset Reference":"Cross dataset reference to ".concat(qCt(Sw(e.to).map(t=>t.title||Em(t.type)),"or").toLowerCase())}const KCt={get(){return tP},extend(e,t){if(!e.to)throw new Error('Missing "to" field in cross dataset reference definition. Check the type '.concat(e.name));const n=Object.assign(Et(tP,xK),e,{type:tP});return Wn(n,"fields",()=>YCt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Wn(n,"to",()=>Sw(e.to).map(o=>({...o,__experimental_search:OCt(o)}))),Wn(n,"title",()=>e.title||GCt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,Et(i,xK),{type:o});return r(s)}}}}},ZCt={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},XCt={name:"hotspot",type:"sanity.imageHotspot"},QCt={name:"crop",type:"sanity.imageCrop"},wK=[...ns],CK={name:"image",title:"Image",type:null,jsonType:"object"},JCt={},e_t={get(){return CK},extend(e,t){const n={...e.options||JCt};let r=[XCt,QCt];n.hotspot||(r=r.map(c=>({...c,hidden:!0})));const o=[ZCt,...r,...e.fields||[]],i={...e,fields:o},s=Object.assign(Et(this.get(),wK),i,{type:CK,title:i.title||(i.name?un(i.name):""),options:n,fields:i.fields.map(c=>{const{name:u,fieldset:d,...f}=c,p={name:u,fieldset:d,isCustomized:!!e.fields};return Wn(p,"type",()=>t({...f,title:c.title||un(u)}))})});return Wn(s,"fieldsets",()=>fT(i,s.fields)),Wn(s,"preview",kw(Object.assign({},i,{fields:o}))),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},c,Et(u,wK),{type:c});return a(d)}}}}},t_t={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},_K=[...ns],nP={name:"file",title:"File",type:null,jsonType:"object"},n_t={accept:""},r_t={get(){return nP},extend(e,t){const n={...e.options||n_t},r=[t_t,...e.fields||[]],o={...e,fields:r},i=Object.assign(Et(nP,_K),o,{type:nP,title:o.title||(o.name?un(o.name):""),options:n,fields:o.fields.map(a=>{const{name:c,fieldset:u,...d}=a,f={name:c,fieldset:u,isCustomized:!!e.fields};return Wn(f,"type",()=>t({...d,title:a.title||un(c)}))})});return Wn(i,"fieldsets",()=>fT(o,i.fields)),Wn(i,"preview",kw(Object.assign({},o,{fields:r}))),s(i);function s(a){return{get(){return a},extend:c=>{if(c.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Object.assign({},a,Et(c,_K),{type:a});return s(u)}}}}},o_t={name:"document",title:"Document",type:null,jsonType:"object"},i_t={get(){return o_t},extend:USe.extend},SK=[...ns],rP={name:"array",type:null,jsonType:"array",of:[]},s_t={get(){return rP},extend(e,t){const n=Object.assign(Et(rP,SK),e,{type:rP});return Wn(n,"of",()=>e.of.map(o=>t(o))),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,Et(i,SK),{type:o});return r(s)}}}}},a_t={type:"object",name:"link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},l_t={type:"text",name:"text",title:"Text"},c_t={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},EK={bullet:{title:"Bulleted list",value:"bullet"},numbered:{title:"Numbered list",value:"number"}},u_t=[EK.bullet,EK.numbered],ru={normal:{title:"Normal",value:"normal"},h1:{title:"Heading 1",value:"h1"},h2:{title:"Heading 2",value:"h2"},h3:{title:"Heading 3",value:"h3"},h4:{title:"Heading 4",value:"h4"},h5:{title:"Heading 5",value:"h5"},h6:{title:"Heading 6",value:"h6"},blockquote:{title:"Quote",value:"blockquote"}},d_t=[ru.normal,ru.h1,ru.h2,ru.h3,ru.h4,ru.h5,ru.h6,ru.blockquote],f_t={title:"Strong",value:"strong"},h_t={title:"Italic",value:"em"},p_t={title:"Code",value:"code"},m_t={title:"Underline",value:"underline"},g_t={title:"Strike",value:"strike-through"},I1={strong:f_t,em:h_t,code:p_t,underline:m_t,strikeThrough:g_t},v_t=[I1.strong,I1.em,I1.code,I1.underline,I1.strikeThrough],kK=["type","name","title","jsonType","description","options","fieldsets","icon"],oP={name:"block",title:"Block",type:null,jsonType:"object"},y_t={},b_t={get(){return oP},extend(e,t){const n={...e.options||y_t},{marks:r,styles:o,lists:i,of:s,...a}=e,c=__t(r,s),u=w_t(o),d=C_t(i),f={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||WSe},m=[c,u,d,f,{name:"level",title:"Indentation",type:"number"}].concat(e.fields||[]),v=Object.assign(Et(oP,kK),a,{type:oP,options:n});return Wn(v,"fields",()=>m.map(y=>{const{name:x,...b}=y;return{name:x,type:t(b)}})),Wn(v,"preview",kw(e)),g(v);function g(y){return{get(){return y},extend:x=>{if(x.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const b=Object.assign({},y,Et(x,kK),{type:y});return g(b)}}}}};function x_t(e){return e.some(t=>t.value==="normal")?e:[ru.normal,...e]}function w_t(e){return{name:"style",title:"Style",type:"string",options:{list:x_t(e||d_t)}}}function C_t(e){return{name:"listItem",title:"List type",type:"string",options:{list:e||u_t}}}const WSe=[a_t];function __t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[l_t,c_t],annotations:e&&e.annotations?e.annotations:WSe,decorators:e&&e.decorators?e.decorators:v_t},...t.filter(n=>n.type!=="span")]}}const jK=["type","name","title","jsonType","description","options","fieldsets","icon"],iP={name:"span",title:"Span",type:null,jsonType:"object"},S_t={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},E_t={name:"text",title:"Text",type:"string"},k_t={},j_t={get(){return iP},extend(e,t){const n={...e.options||k_t},{annotations:r=[],marks:o=[]}=e,i=[S_t,E_t],s=Object.assign(Et(iP,jK),e,{type:iP,options:n});return Wn(s,"fields",()=>i.map(c=>{const{name:u,...d}=c;return{name:u,type:t(d)}})),Wn(s,"annotations",()=>r.map(t)),Wn(s,"marks",()=>o.map(t)),Wn(s,"preview",kw(e)),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},c,Et(u,jK),{type:c});return a(d)}}}}};var T_t=Object.freeze({__proto__:null,any:Jwt,array:s_t,block:b_t,boolean:oCt,crossDatasetReference:KCt,date:rCt,datetime:nCt,document:i_t,email:sCt,file:r_t,image:e_t,number:aCt,object:USe,reference:zCt,span:j_t,string:eCt,text:tCt,url:iCt});function A_t(e){const t=Object.assign(Object.create(null),T_t),n=e.types.reduce((s,a)=>{if(s[a.name])throw new Error("Duplicate type name added to schema: ".concat(a.name));return s[a.name]=a,s},{});return e.types.forEach(i),t;function r(s){if(!t[s]){if(!n[s])throw new Error("Unknown type: ".concat(s));i(n[s])}}function o(s){return r(s.type),t[s.type].extend(s,o).get()}function i(s){r(s.type),!t[s.name]&&(t[s.name]=t[s.type].extend(s,o))}}let D_t=class YSe{static compile(t){return new YSe(t)}constructor(t){this._original=t,this._registry=A_t(t)}get name(){return this._original.name}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}};const B8=D_t;var I_t=uT;function P_t(e){return e&&e.length?I_t(e):[]}var O_t=P_t;const ho=Pe(O_t),R_t={},$_t=Object.freeze(Object.defineProperty({__proto__:null,default:R_t},Symbol.toStringTag,{value:"Module"})),M_t=PMe($_t);var N8=typeof Map=="function"&&Map.prototype,sP=Object.getOwnPropertyDescriptor&&N8?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,nk=N8&&sP&&typeof sP.get=="function"?sP.get:null,TK=N8&&Map.prototype.forEach,z8=typeof Set=="function"&&Set.prototype,aP=Object.getOwnPropertyDescriptor&&z8?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,rk=z8&&aP&&typeof aP.get=="function"?aP.get:null,AK=z8&&Set.prototype.forEach,F_t=typeof WeakMap=="function"&&WeakMap.prototype,tb=F_t?WeakMap.prototype.has:null,L_t=typeof WeakSet=="function"&&WeakSet.prototype,nb=L_t?WeakSet.prototype.has:null,B_t=typeof WeakRef=="function"&&WeakRef.prototype,DK=B_t?WeakRef.prototype.deref:null,N_t=Boolean.prototype.valueOf,z_t=Object.prototype.toString,V_t=Function.prototype.toString,H_t=String.prototype.match,V8=String.prototype.slice,Wd=String.prototype.replace,U_t=String.prototype.toUpperCase,IK=String.prototype.toLowerCase,qSe=RegExp.prototype.test,PK=Array.prototype.concat,cc=Array.prototype.join,W_t=Array.prototype.slice,OK=Math.floor,k$=typeof BigInt=="function"?BigInt.prototype.valueOf:null,lP=Object.getOwnPropertySymbols,j$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Oi=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Hv||"symbol")?Symbol.toStringTag:null,GSe=Object.prototype.propertyIsEnumerable,RK=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function $K(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||qSe.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-OK(-e):OK(e);if(r!==e){var o=String(r),i=V8.call(t,o.length+1);return Wd.call(o,n,"$&_")+"."+Wd.call(Wd.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Wd.call(t,n,"$&_")}var T$=M_t,MK=T$.custom,FK=ZSe(MK)?MK:null,Y_t=function e(t,n,r,o){var i=n||{};if(Dd(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Dd(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Dd(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Dd(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Dd(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return QSe(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var c=String(t);return a?$K(t,c):c}if(typeof t=="bigint"){var u=String(t)+"n";return a?$K(t,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return A$(t)?"[Array]":"[Object]";var f=u2t(i,r);if(typeof o>"u")o=[];else if(XSe(o,t)>=0)return"[Circular]";function p(I,P,$){if(P&&(o=W_t.call(o),o.push(P)),$){var R={depth:i.depth};return Dd(i,"quoteStyle")&&(R.quoteStyle=i.quoteStyle),e(I,R,r+1,o)}return e(I,i,r+1,o)}if(typeof t=="function"&&!LK(t)){var m=t2t(t),v=r_(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+cc.call(v,", ")+" }":"")}if(ZSe(t)){var g=Hv?Wd.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):j$.call(t);return typeof t=="object"&&!Hv?P1(g):g}if(a2t(t)){for(var y="<"+IK.call(String(t.nodeName)),x=t.attributes||[],b=0;b<x.length;b++)y+=" "+x[b].name+"="+KSe(q_t(x[b].value),"double",i);return y+=">",t.childNodes&&t.childNodes.length&&(y+="..."),y+="</"+IK.call(String(t.nodeName))+">",y}if(A$(t)){if(t.length===0)return"[]";var w=r_(t,p);return f&&!c2t(w)?"["+D$(w,f)+"]":"[ "+cc.call(w,", ")+" ]"}if(K_t(t)){var C=r_(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!GSe.call(t,"cause")?"{ ["+String(t)+"] "+cc.call(PK.call("[cause]: "+p(t.cause),C),", ")+" }":C.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+cc.call(C,", ")+" }"}if(typeof t=="object"&&s){if(FK&&typeof t[FK]=="function"&&T$)return T$(t,{depth:d-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(n2t(t)){var _=[];return TK&&TK.call(t,function(I,P){_.push(p(P,t,!0)+" => "+p(I,t))}),BK("Map",nk.call(t),_,f)}if(i2t(t)){var S=[];return AK&&AK.call(t,function(I){S.push(p(I,t))}),BK("Set",rk.call(t),S,f)}if(r2t(t))return cP("WeakMap");if(s2t(t))return cP("WeakSet");if(o2t(t))return cP("WeakRef");if(X_t(t))return P1(p(Number(t)));if(J_t(t))return P1(p(k$.call(t)));if(Q_t(t))return P1(N_t.call(t));if(Z_t(t))return P1(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===ys)return"{ [object globalThis] }";if(!G_t(t)&&!LK(t)){var E=r_(t,p),j=RK?RK(t)===Object.prototype:t instanceof Object||t.constructor===Object,k=t instanceof Object?"":"null prototype",T=!j&&Oi&&Object(t)===t&&Oi in t?V8.call(nh(t),8,-1):k?"Object":"",A=j||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",D=A+(T||k?"["+cc.call(PK.call([],T||[],k||[]),": ")+"] ":"");return E.length===0?D+"{}":f?D+"{"+D$(E,f)+"}":D+"{ "+cc.call(E,", ")+" }"}return String(t)};function KSe(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function q_t(e){return Wd.call(String(e),/"/g,"&quot;")}function A$(e){return nh(e)==="[object Array]"&&(!Oi||!(typeof e=="object"&&Oi in e))}function G_t(e){return nh(e)==="[object Date]"&&(!Oi||!(typeof e=="object"&&Oi in e))}function LK(e){return nh(e)==="[object RegExp]"&&(!Oi||!(typeof e=="object"&&Oi in e))}function K_t(e){return nh(e)==="[object Error]"&&(!Oi||!(typeof e=="object"&&Oi in e))}function Z_t(e){return nh(e)==="[object String]"&&(!Oi||!(typeof e=="object"&&Oi in e))}function X_t(e){return nh(e)==="[object Number]"&&(!Oi||!(typeof e=="object"&&Oi in e))}function Q_t(e){return nh(e)==="[object Boolean]"&&(!Oi||!(typeof e=="object"&&Oi in e))}function ZSe(e){if(Hv)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!j$)return!1;try{return j$.call(e),!0}catch{}return!1}function J_t(e){if(!e||typeof e!="object"||!k$)return!1;try{return k$.call(e),!0}catch{}return!1}var e2t=Object.prototype.hasOwnProperty||function(e){return e in this};function Dd(e,t){return e2t.call(e,t)}function nh(e){return z_t.call(e)}function t2t(e){if(e.name)return e.name;var t=H_t.call(V_t.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function XSe(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function n2t(e){if(!nk||!e||typeof e!="object")return!1;try{nk.call(e);try{rk.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function r2t(e){if(!tb||!e||typeof e!="object")return!1;try{tb.call(e,tb);try{nb.call(e,nb)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function o2t(e){if(!DK||!e||typeof e!="object")return!1;try{return DK.call(e),!0}catch{}return!1}function i2t(e){if(!rk||!e||typeof e!="object")return!1;try{rk.call(e);try{nk.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function s2t(e){if(!nb||!e||typeof e!="object")return!1;try{nb.call(e,nb);try{tb.call(e,tb)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function a2t(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function QSe(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return QSe(V8.call(e,0,t.maxStringLength),t)+r}var o=Wd.call(Wd.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,l2t);return KSe(o,"single",t)}function l2t(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+U_t.call(t.toString(16))}function P1(e){return"Object("+e+")"}function cP(e){return e+" { ? }"}function BK(e,t,n,r){var o=r?D$(n,r):cc.call(n,", ");return e+" ("+t+") {"+o+"}"}function c2t(e){for(var t=0;t<e.length;t++)if(XSe(e[t],`
`)>=0)return!1;return!0}function u2t(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=cc.call(Array(e.indent+1)," ");else return null;return{base:n,prev:cc.call(Array(t+1),n)}}function D$(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+cc.call(e,","+n)+`
`+t.prev}function r_(e,t){var n=A$(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=Dd(e,o)?t(e[o],e):""}var i=typeof lP=="function"?lP(e):[],s;if(Hv){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=i[a]}for(var c in e)Dd(e,c)&&(n&&String(Number(c))===c&&c<e.length||Hv&&s["$"+c]instanceof Symbol||(qSe.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if(typeof lP=="function")for(var u=0;u<i.length;u++)GSe.call(e,i[u])&&r.push("["+t(i[u])+"]: "+t(e[i[u]],e));return r}const Lg=Pe(Y_t);function d2t(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}var f2t=d2t,h2t=m_e;function p2t(e,t,n,r){return h2t(e,function(o,i,s){t(r,o,n(o),s)}),r}var m2t=p2t,g2t=f2t,v2t=m2t,y2t=Jf,b2t=Jr;function x2t(e,t){return function(n,r){var o=b2t(n)?g2t:v2t,i=t?t():{};return o(n,e,y2t(r),i)}}var H8=x2t,w2t=H8,C2t=w2t(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),_2t=C2t;const U8=Pe(_2t);var S2t=function(t,n){if(!Array.isArray(t))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=t.length;if(r===1)return t[0];if(n.skipConjunction)return t.join(", ");for(var o="",i=0;i<r;i++)i===r-1?(n.oxfordComma&&(o+=","),o+=" "+n.conjunction+" "):i!==0&&(o+=", "),o+=t[i];return o};const ws=Pe(S2t);var W8={exports:{}};const uP=[],NK=[],JSe=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,o=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-o);)r--,o--;let i=0;for(;i<r&&e.charCodeAt(i)===t.charCodeAt(i);)i++;if(r-=i,o-=i,r===0)return o;let s,a,c,u,d=0,f=0;for(;d<r;)NK[d]=e.charCodeAt(i+d),uP[d]=++d;for(;f<o;)for(s=t.charCodeAt(i+f),c=f++,a=f,d=0;d<r;d++)u=s===NK[d]?c:c+1,c=uP[d],a=uP[d]=c>a?u>a?a+1:u:u>c?c+1:u;return a};W8.exports=JSe;W8.exports.default=JSe;var E2t=W8.exports;const k2t=Pe(E2t),j2t="https://docs.sanity.io/help/";function Y8(e){return j2t+e}const ot={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function eEe(e,t,n){if(n&&!Object.keys(ot).some(r=>ot[r]===n))throw new Error('Used the unknown helpId "'.concat(n,'", please add it to the array in createValidationResult.js'));return{severity:e,message:t,helpId:n}}const Ie=(e,t)=>eEe("error",e,t),zr=(e,t)=>eEe("warning",e,t);function T2t(e){return Dn(e.map(t=>tEe(t))).filter(t=>t.problems.length>0)}function km(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n=>Un(n,e);return function(r,o){const i=[...o,{kind:"type",type:r.type,name:r.name}],s=t(r)||[],a=Array.isArray(s)?s.map(c=>{const u={kind:"property",name:e},d=[...i,u];return tEe(c,d)}):[[{path:i,problems:[Ie("Member declaration (".concat(e,") is not an array"))]}]];return[{path:i,problems:r._problems||[]},...Dn(a)]}}const A2t=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],zK=km("fields"),D2t=km("fields"),I2t=km("fields"),P2t=km("of"),O2t=km("to",e=>"to"in e?A2t(e.to):[]),R2t=km("marks.annotations"),$2t=km("of"),M2t=(e,t)=>[...R2t(e,t),...$2t(e,t)];function F2t(e){return[{path:[...arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function tEe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];switch(e.type){case"object":return zK(e,t);case"document":return zK(e,t);case"array":return P2t(e,t);case"reference":return O2t(e,t);case"block":return M2t(e,t);case"image":return D2t(e,t);case"file":return I2t(e,t);default:return F2t(e,t)}}function hT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>r;const n=e.reduce((r,o)=>{const i=t(o);return r[i]||(r[i]=[]),r[i].push(o),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const L2t=e=>e,B2t={name:"type",type:null},N2t=["any","time","date"];function z2t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:L2t;const r=Object.create(null),o=Object.create(null),i=t.map(v=>v.name),s=N2t.concat(i),a=e.map(v=>v&&v.name).filter(Boolean);t.forEach(v=>{r[v.name]=v}),e.forEach((v,g)=>{o[v&&v.name||"__unnamed_".concat(g)]={}});function c(v){return v==="type"?B2t:r[v]||o[v]||null}const u=ho(Dn(hT(a)));function d(v){return u.includes(v)}function f(){return a.concat(i)}function p(v){return v==="type"||s.includes(v)}const m=v=>(g,y)=>n(g,{visit:m(!1),isRoot:v,getType:c,getTypeNames:f,isReserved:p,isDuplicate:d,index:y});return t.forEach(v=>{Object.assign(r[v.name],m(v))}),e.forEach((v,g)=>{Object.assign(o[v&&v.name||"__unnamed_".concat(g)],m(!0)(v,g))}),{get(v){const g=o[v]||r[v];if(g)return g;throw new Error("No such type: ".concat(v))},has(v){return v in o||v in r},getTypeNames(){return Object.keys(o)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const nEe=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],rEe=nEe.map(e=>e.name);function V2t(e,t){return z2t(e,nEe,t)}const H2t=/^Symbol\(react\..+\)$/;function o_(e){return typeof e==="function"||typeof(e==null?void 0:e.$$typeof)=="symbol"&&H2t.test(String(e==null?void 0:e.$$typeof))}function oEe(e){const t="components"in e?e.components:!1;if(!t)return[];const n=[];return t.input&&!o_(t.input)&&n.push(zr("The `components.input` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Lg(t.input),"). If you have imported a custom input component, please verify that you have imported the correct named/default export."))),t.field&&!o_(t.field)&&n.push(zr("The `components.field` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Lg(t.field),"). If you have imported a custom field component, please verify that you have imported the correct named/default export."))),t.item&&!o_(t.item)&&n.push(zr("The `components.item` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Lg(t.item),"). If you have imported a custom item component, please verify that you have imported the correct named/default export."))),t.preview&&!o_(t.preview)&&n.push(zr("The `components.preview` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(Lg(t.preview),"). If you have imported a custom preview component, please verify that you have imported the correct named/default export."))),n}const VK=/^[A-Za-z]+[0-9A-Za-z_]*$/,U2t=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function W2t(e){return typeof e!="string"?[Ie('Field names must be strings. Saw "'.concat(Lg(e),'"'),ot.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[Ie('Invalid field name "'.concat(e,`". Field names cannot start with underscores "_" as it's reserved for system fields.`),ot.OBJECT_FIELD_NAME_INVALID)]:VK.test(e)?U2t.test(e)?[]:[zr("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),ot.OBJECT_FIELD_NAME_INVALID]:[Ie('Invalid field name: "'.concat(e,'". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ').concat(String(VK),")."),ot.OBJECT_FIELD_NAME_INVALID)]}function q8(e,t){if(!Er(e))return[Ie("Incorrect type for field definition - should be an object, saw ".concat(Lg(e)),ot.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?W2t(e.name):[Ie("Missing field name",ot.OBJECT_FIELD_NAME_INVALID)]),n.push(...oEe(e)),n}function Y2t(e){const t={};return e.forEach(n=>{t[n.name]||(t[n.name]=[]),t[n.name].push(n)}),Object.keys(t).map(n=>t[n].length>1?t[n]:null).filter(Boolean)}function G8(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{allowEmpty:!1};const n=[];if(!Array.isArray(e))return[Ie('The "fields" property must be an array of fields. Instead saw "'.concat(typeof e,'"'),ot.OBJECT_FIELDS_INVALID)];const o=e.filter(s=>typeof s.name=="string");Y2t(o).forEach(s=>{n.push(Ie("Found ".concat(s.length,' fields with name "').concat(s[0].name,'" in object'),ot.OBJECT_FIELD_NOT_UNIQUE))}),e.length===0&&!t.allowEmpty&&n.push(Ie("Object should have at least one field",ot.OBJECT_FIELDS_INVALID));const i=e.filter(s=>s.type==="block").map(s=>'"'.concat(s.name,'"'));if(i.length>0){const s=i.join(", ");n.push(Ie("Invalid standalone block field(s) ".concat(s,". Block content must be defined as an array of blocks"),ot.STANDALONE_BLOCK_TYPE))}return n}function q2t(e){return Er(e)?typeof e.prepare<"u"&&typeof e.prepare!="function"?[Ie('The "preview.prepare" property must be a function, instead saw "'.concat(typeof e.prepare,'"'))]:e.select?Er(e.select)?Object.keys(e.select).reduce((t,n)=>typeof e.select[n]=="string"?t:t.concat(Ie('The key "'.concat(n,'" of "preview.select" must be a string, instead saw "').concat(typeof e.select[n],'"'))),[]):[Ie('The "preview.select" property must be an object, instead saw "'.concat(typeof e.prepare,'"'))]:[]:[Ie('The "preview" property must be an object, instead saw "'.concat(typeof e,'"'))]}var iEe=(e,t)=>{let n=G8(e.fields),r=e.preview;if(r){const o=q2t(e.preview);n=n.concat(o),r=o.some(i=>i.severity==="error")?{}:r}return e.type!=="document"&&e.type!=="object"&&typeof e.initialValue<"u"&&n.push(Ie('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((o,i)=>{const{name:s,...a}=o,{_problems:c,...u}=t.visit(a,i);return{name:s,...u,_problems:q8(o).concat(c||[])}}),_problems:n}},G2t=(e,t)=>{const n=iEe(e,t),{initialValue:r,initialValues:o}=n;return typeof r<"u"&&!Er(r)&&typeof r!="function"&&n._problems.push(Ie('The "initialValue" property must be either a plain object or a function')),typeof o<"u"&&n._problems.push(Ie('Found property "initialValues" - did you mean "initialValue"?')),n};function K2t(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var Z2t=(e,t)=>{const n=Array.isArray(e.to)||Er(e.to),r=K2t(e),o=Dn([n?hT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>Ie("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),ot.REFERENCE_TO_INVALID)):Ie('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',ot.REFERENCE_TO_INVALID)]);return n&&r.length===0&&o.push(Ie('The reference type should define at least one accepted type. Please check the "to" property.',ot.REFERENCE_TO_INVALID)),o.push(...X2t(e)),{...e,to:(n?r:[]).map(t.visit),_problems:o}};function X2t(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Ie("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),ot.REFERENCE_INVALID_OPTIONS_LOCATION))),t?Er(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Ie("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",ot.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Ie("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!Er(t.filterParams)?n.concat(Ie("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Ie('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(Ie("The reference type expects `options` to be an object",ot.REFERENCE_INVALID_OPTIONS)):n}function HK(e){return e==="string"||e==="number"||e==="boolean"}function Q2t(e,t){return(typeof t.name=="string"?t.name:t.type)===e}function rb(e){return'"'.concat(e,'"')}function UK(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"s";return e.length===1?"":t}function WK(e){return Array.isArray(e)?"array with ".concat(e.length," entries"):typeof e=="object"&&e!==null?"object with keys ".concat(ws(Object.keys(e).map(rb))):rb(e)}var J2t=(e,t)=>{var n,r,o;const i=Array.isArray(e.of);if(i){const v=e.of.reduce((g,y,x)=>{if(typeof y.name=="string"&&y.name!==y.type&&rEe.includes(y.name))return g.concat(Ie('Found array member declaration with the same type name as a built-in type ("'.concat(y.name,'"). Array members can not be given the same name as a built-in type.'),ot.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(y.type==="object"&&y.name&&t.getType(y.name))return g.concat(zr('Found array member declaration with the same name as the global schema type "'.concat(y.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),ot.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(y.type==="array")return g.concat(Ie('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',ot.ARRAY_OF_ARRAY));if(y)return g;const b="Found ".concat(y===null?"null":typeof y,", expected member declaration");return g.concat(Ie("Found invalid type member declaration in array at index ".concat(x,": ").concat(b),ot.ARRAY_OF_INVALID))},[]);if(v.length>0)return{...e,of:[],_problems:v}}const s=Dn([i?hT(e.of,v=>"".concat(v.name,";").concat(v.type)).map(v=>Ie("Found ".concat(v.length,' members with same type, but not unique names "').concat(v[0].type,'" in array. This makes it impossible to tell their values apart and you should consider naming them'),ot.ARRAY_OF_NOT_UNIQUE)):Ie('The array type is missing or having an invalid value for the required "of" property',ot.ARRAY_OF_INVALID)]),a=i?e.of:[],c=a.some(v=>v.type==="object"&&typeof v.name>"u");a.some(v=>v.type==="block")&&c&&s.push(Ie("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",ot.ARRAY_OF_INVALID));const[d,f]=U8(a,v=>{var g;return HK(v.type)||HK((g=t.getType(v.type))==null?void 0:g.jsonType)}),p=d.length>0&&f.length>0;if(p){const v=d.map(y=>y.type),g=f.map(y=>y.type);s.push(Ie("The array type's 'of' property can't have both object types and primitive types (found primitive type ".concat(UK(v)," ").concat(ws(v.map(rb))," and object type").concat(UK(g)," ").concat(ws(g.map(rb)),")"),ot.ARRAY_OF_INVALID))}const m=(n=e==null?void 0:e.options)==null?void 0:n.list;return!p&&Array.isArray(m)&&(d.length>0?m.forEach(g=>{var y;const x=(y=g==null?void 0:g.value)!=null?y:g;if(!d.some(w=>typeof x===t.getType(w.type).jsonType)){const w=ws(d.map(C=>C.name||C.type),{conjunction:"or"});s.push(Ie("An invalid entry found in options.list: ".concat(WK(x),". Must be either a value of type ").concat(w,", or an object with {title: string, value: ").concat(w,"}"),ot.ARRAY_PREDEFINED_CHOICES_INVALID))}}):m.forEach(g=>{const y=g._type||"object";f.some(b=>Q2t(y,b))||s.push(Ie("An invalid entry found in options.list: ".concat(WK(g),'. Must be an object with "_type" set to ').concat(ws(f.map(b=>b.name||b.type).map(b=>b==="object"?"undefined":rb(b)),{conjunction:"or"})),ot.ARRAY_PREDEFINED_CHOICES_INVALID))})),(r=e==null?void 0:e.options)!=null&&r.list&&((o=e==null?void 0:e.options)==null?void 0:o.layout)==="tags"&&s.push(zr("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:a.map(t.visit),_problems:s}},eSt=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(zr('Heads up! The "slugifyFn" option has been renamed to "slugify".',ot.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}},tSt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...G8(r,{allowEmpty:!0}));const o=Array.isArray(r)?r==null?void 0:r.filter(i=>i.name==="asset"):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(Ie("Invalid type for file `metadata` field - must be an array of strings",ot.ASSET_METADATA_FIELD_INVALID)):o.length>0&&n.push(Ie("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((i,s)=>{const{name:a,...c}=i,{_problems:u,...d}=t.visit(c,s);return{name:a,...d,_problems:q8(i).concat(u||[])}}),_problems:n}};const YK=["dimensions","hasAlpha","isOpaque"];var nSt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...G8(r,{allowEmpty:!0}));let o=e.options;const i=o==null?void 0:o.metadata,s=Array.isArray(i)?i.filter(u=>YK.includes(u)):[],a=["asset","hotspot","crop"],c=Array.isArray(r)?r==null?void 0:r.filter(u=>a.includes(u.name)):[];return typeof i<"u"&&!Array.isArray(i)?n.push(Ie("Invalid type for image `metadata` field - must be an array of strings",ot.ASSET_METADATA_FIELD_INVALID)):s.length>0?(n.push(zr("Image `metadata` field contains superfluous properties (they are always included): ".concat(s.join(", ")))),o={...o,metadata:i.filter(u=>!YK.includes(u))}):c.length>0&&n.push(Ie("The names `".concat(a.join("`, `"),"` are invalid field names for type `image`."))),{...e,options:o,fields:(Array.isArray(r)?r:[]).map((u,d)=>{const{name:f,...p}=u,{_problems:m,...v}=t.visit(p,d);return{name:f,...v,_problems:q8(u).concat(m||[])}}),_problems:n}};function sEe(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error("Could not resolve jsonType of ".concat(e.name,". No parent type found"));return sEe(r,t,n)}const Qs=e=>Array.isArray(e)?"array":typeof e,jw=e=>'"'.concat(e,'"'),rSt=["components","lists","marks","name","of","options","styles","title","type","validation"],oSt=["decorators","annotations"],iSt=["blockEditor","title","value","component"],sSt=["blockEditor","title","value","icon","component"],aSt=["title","value","icon","component"],qK=["file","image","object","reference"];function lSt(e,t){const n=[];let r=e.styles,o=e.lists,i=e.marks,s=e.of;const a=Object.keys(e).filter(c=>!rSt.includes(c)&&!c.startsWith("_"));return a.length>0&&n.push(Ie("Found unknown properties for block declaration: ".concat(ws(a.map(jw))))),i&&(i=cSt(e.marks,t,n)),r&&(r=dSt(r,t,n)),o&&(o=uSt(o,t,n)),s&&(s=pSt(s,t,n)),{...Pi(e,a),marks:i,styles:r,name:e.name||e.type,of:s,_problems:n}}function cSt(e,t,n){let r=e.decorators,o=e.annotations;if(!Er(e))return n.push(Ie('"marks" declaration should be an object, got '.concat(Qs(e)))),n;const i=Object.keys(e).filter(s=>!oSt.includes(s)&&!s.startsWith("_"));return i.length>0&&n.push(Ie("Found unknown properties for block declaration: ".concat(ws(i.map(jw))))),r&&!Array.isArray(r)?n.push(Ie('"marks.decorators" declaration should be an array, got '.concat(Qs(r)))):r&&(r.filter(s=>!!s.blockEditor).forEach(s=>{s.icon=s.blockEditor.icon,s.component=s.blockEditor.render}),r=fSt(r,t,n)),o&&!Array.isArray(o)?n.push(Ie('"marks.annotations" declaration should be an array, got '.concat(Qs(o)))):o&&(o=hSt(o,t,n)),{...e,decorators:r,annotations:o}}function uSt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!Er(r)){n.push(Ie("List must be an object, got ".concat(Qs(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!aSt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Ie("Found unknown properties for list ".concat(i,": ").concat(ws(s.map(jw))))),r.value?typeof r.value!="string"?n.push(Ie("List type #".concat(o,' has an invalid "value" property, expected string, got ').concat(Qs(r.value)))):r.title||n.push(zr("List type ".concat(i,' is missing recommended "title" property'))):n.push(Ie("List #".concat(o,' is missing required "value" property')))}),e):(n.push(Ie('"lists" declaration should be an array, got '.concat(Qs(e)))),n)}function dSt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!Er(r)){n.push(Ie("Style must be an object, got ".concat(Qs(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!iSt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Ie("Found unknown properties for style ".concat(i,": ").concat(ws(s.map(jw))))),r.value?typeof r.value!="string"?n.push(Ie("Style #".concat(o,' has an invalid "value" property, expected string, got ').concat(Qs(r.value)))):r.title||n.push(zr("Style ".concat(i,' is missing recommended "title" property'))):n.push(Ie("Style #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(zr('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',ot.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),e):(n.push(Ie('"styles" declaration should be an array, got '.concat(Qs(e)))),n)}function fSt(e,t,n){return e.forEach((r,o)=>{if(!Er(r)){n.push(Ie("Annotation must be an object, got ".concat(Qs(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!sSt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(Ie("Found unknown properties for decorator ".concat(i,": ").concat(ws(s.map(jw))))),r.value?typeof r.value!="string"?n.push(Ie("Decorator #".concat(o,' has an invalid "value" property, expected string, got ').concat(Qs(r.value)))):r.title||n.push(zr("Decorator ".concat(i,' is missing recommended "title" property'))):n.push(Ie("Decorator #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(zr('Decorator "'.concat(i,'" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.'),ot.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),e}function hSt(e,t,n){return e.map(r=>{var o,i;if(!Er(r))return{...r,_problems:[Ie("Annotation must be an object, got ".concat(Qs(r)))]};const{_problems:s}=t.visit(r,t),a=r.type&&t.getType(r.type);return a&&!sEe(a,"object",t)&&s.push(Ie('Annotation cannot have type "'.concat(r.type,'" - annotation types must inherit from object'))),typeof r.blockEditor<"u"&&(n.push(zr('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',ot.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(o=r.blockEditor)!=null&&o.render&&!((i=r.components)!=null&&i.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:s}})}function pSt(e,t,n){if(!Array.isArray(e)){n.push(Ie('"of" declaration should be an array, got '.concat(Qs(e))));return}return e.map(r=>{const{_problems:o}=t.visit(r,t);if(r.type==="object"&&r.name&&t.getType(r.name))return{...r,_problems:[zr('Found array member declaration with the same name as the global schema type "'.concat(r.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),ot.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let i=r;for(;i&&!i.jsonType;)i=t.getType(i.type);const s=rEe.filter(a=>!qK.includes(a));return i&&i.jsonType!=="object"||s.some(a=>a===r.type)?{...r,_problems:[Ie("Block member types must be a supported object-like type. The following built-in types are supported: '".concat(qK.join("', '"),"'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}"),ot.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...r,_problems:o}})}function mSt(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&n.jsonType!=="object"?[Ie('Type has propery "fields", but is not an object/document type.')]:[]}const gSt=e=>'"'.concat(e,'"');function vSt(e,t){const n=t.getTypeNames();if(!e)return[Ie("Type is missing a type. Valid types are: ".concat(ws(n)),ot.TYPE_MISSING_TYPE)];if(typeof e!="string")return[Ie('Type has an invalid "type"-property - should be a string. Valid types are: '.concat(ws(n)),ot.TYPE_MISSING_TYPE)];if(!n.includes(e)){const o=n.map(s=>[k2t(e,s),s]).filter(s=>{let[a]=s;return a<3}).map(s=>{let[a,c]=s;return c}),i=o.length>0?" Did you mean ".concat(ws(o.map(gSt),{conjunction:"or"}),"?"):"";return[Ie("Unknown type: ".concat(e,".").concat(i,`

Valid types are: `).concat(ws(n)))]}return[]}function ySt(e){var t,n,r;const o=[];return e!=null&&e.inputComponent&&o.push(zr('The "inputComponent" property is deprecated. Use "components.input" instead.')),(t=e==null?void 0:e.preview)!=null&&t.component&&o.push(zr('The "preview.component" property is deprecated. Use "components.preview" instead.')),e!=null&&e.diffComponent&&o.push(zr('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(n=e==null?void 0:e.options)!=null&&n.editModal&&o.push(zr('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(r=e==null?void 0:e.options)!=null&&r.isHighlighted&&o.push(zr('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),o}var GK=(e,t)=>({...e,_problems:[...vSt(e.type,t),...mSt(e,t),...ySt(e)].filter(Boolean)}),bSt=(e,t)=>{const n=!!e.name;if(!n&&Object.keys(e).length===1)return{...e,_problems:[Ie("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",ot.TYPE_INVALID)]};const r=[];return xSt(e)?r.push(Ie("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",ot.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(Ie('Invalid type name: "'.concat(e.name,'" is a reserved name.'),ot.TYPE_NAME_RESERVED)):r.push(Ie("Missing type name",ot.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(Ie('Invalid type name: A type with name "'.concat(e.name,'" is already defined in the schema.'))),r.push(...oEe(e)),"title"in e&&typeof e.title!="string"&&r.push(zr("Type title is not a string.",ot.TYPE_TITLE_INVALID)),{...e,_problems:r}};function xSt(e){return!e.name&&e.default&&(e.default.name||e.default.title)}function wSt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const CSt=/^[a-z0-9~][-_a-z0-9]+$/;function _St(e){return e.length>=2&&e.toLowerCase()===e&&CSt.test(e)||'The provided dataset "'.concat(e,`" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`)}var SSt=(e,t)=>{const n=Array.isArray(e.to)||Er(e.to),r=wSt(e),o=Dn([n?hT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>Ie("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),ot.CROSS_DATASET_REFERENCE_INVALID)):Ie('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',ot.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&o.push(Ie('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',ot.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((i,s)=>{i.type||o.push(Ie("The referenced type at index ".concat(s," must be named. Specify the name of the type you want to create references to."),ot.CROSS_DATASET_REFERENCE_INVALID)),Er(i.preview)||o.push(Ie('Missing required preview config for the referenced type "'.concat(i.type||"<unknown type>",'"'),ot.CROSS_DATASET_REFERENCE_INVALID))}),typeof e.dataset=="string"){const i=_St(e.dataset);i!==!0&&o.push(Ie(i,ot.CROSS_DATASET_REFERENCE_INVALID))}else o.push(Ie("A cross dataset reference must specify a `dataset`",ot.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&typeof e.studioUrl!="function"&&o.push(Ie('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',ot.CROSS_DATASET_REFERENCE_INVALID)),o.push(...ESt(e)),{...e,_problems:o}};function ESt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>Ie("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),ot.REFERENCE_INVALID_OPTIONS_LOCATION))),t?Er(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(Ie("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",ot.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(Ie("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!Er(t.filterParams)?n.concat(Ie("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>Ie('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(Ie("The reference type expects `options` to be an object",ot.REFERENCE_INVALID_OPTIONS)):n}const kSt={array:J2t,object:iEe,slug:eSt,file:tSt,image:nSt,block:lSt,document:G2t,reference:Z2t,crossDatasetReference:SSt},jSt=e=>t=>({name:"<unnamed_type_@_index_".concat(e.index,">"),...t,_problems:[]});function KK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r,o)=>t.reduce((i,s)=>{const a=s(i,o);return{...a,_problems:i._problems.concat(a._problems)}},{_problems:[],...r})}function TSt(e){return V2t(e,(t,n)=>{const r=t&&t.type&&kSt[t.type]||jSt(n);return n.isRoot?KK(bSt,GK,r)(t,n):KK(GK,r)(t,n)})}const I$="__experimental_actions",aEe=["create","update","delete","publish"],dP=aEe,ASt=e=>I$ in e?e[I$]:aEe,DSt=(e,t)=>{if(!Array.isArray(t))throw new Error("The value of <type>.".concat(I$," should be an array with any of the actions ").concat(dP.join(", ")));const n=zp(t,dP);if(n.length>0)throw new Error("Invalid action".concat(n.length>1?"s":"",' configured for schema type "').concat(e,'": ').concat(n.join(", "),". Valid actions are: ").concat(dP.join(", ")));return t},ISt=e=>DSt(e.name,ASt(e)),ZK=(e,t)=>ISt(e).includes(t);var PSt=M8,OSt=1,RSt=4;function $St(e){return PSt(e,OSt|RSt)}var MSt=$St;const FSt=Pe(MSt);function Ke(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function LSt(e){return Ke(1,arguments),e instanceof Date||Pl(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Xe(e){Ke(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Pl(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Hu(e){if(Ke(1,arguments),!LSt(e)&&typeof e!="number")return!1;var t=Xe(e);return!isNaN(Number(t))}function At(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function BSt(e,t){Ke(2,arguments);var n=Xe(e).getTime(),r=At(t);return new Date(n+r)}function lEe(e,t){Ke(2,arguments);var n=At(t);return BSt(e,-n)}var NSt=864e5;function zSt(e){Ke(1,arguments);var t=Xe(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/NSt)+1}function Uv(e){Ke(1,arguments);var t=1,n=Xe(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function cEe(e){Ke(1,arguments);var t=Xe(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=Uv(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=Uv(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function VSt(e){Ke(1,arguments);var t=cEe(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Uv(n);return r}var HSt=6048e5;function uEe(e){Ke(1,arguments);var t=Xe(e),n=Uv(t).getTime()-VSt(t).getTime();return Math.round(n/HSt)+1}var USt={};function ad(){return USt}function Vp(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=ad(),f=At((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Xe(e),m=p.getUTCDay(),v=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function K8(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=Xe(e),f=d.getUTCFullYear(),p=ad(),m=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,m),v.setUTCHours(0,0,0,0);var g=Vp(v,t),y=new Date(0);y.setUTCFullYear(f,0,m),y.setUTCHours(0,0,0,0);var x=Vp(y,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function WSt(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=ad(),f=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=K8(e,t),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var v=Vp(m,t);return v}var YSt=6048e5;function dEe(e,t){Ke(1,arguments);var n=Xe(e),r=Vp(n,t).getTime()-WSt(n,t).getTime();return Math.round(r/YSt)+1}function vn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var qSt={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return vn(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):vn(r+1,2)},d:function(t,n){return vn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return vn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return vn(t.getUTCHours(),n.length)},m:function(t,n){return vn(t.getUTCMinutes(),n.length)},s:function(t,n){return vn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return vn(i,n.length)}};const bd=qSt;var qm={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},GSt={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return bd.y(t,n)},Y:function(t,n,r,o){var i=K8(t,o),s=i>0?i:1-i;if(n==="YY"){var a=s%100;return vn(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):vn(s,n.length)},R:function(t,n){var r=cEe(t);return vn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return vn(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return vn(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return vn(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return bd.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return vn(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var i=dEe(t,o);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):vn(i,n.length)},I:function(t,n,r){var o=uEe(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):vn(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):bd.d(t,n)},D:function(t,n,r){var o=zSt(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):vn(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return vn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return vn(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return vn(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),i=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),i;switch(o===12?i=qm.noon:o===0?i=qm.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),i;switch(o>=17?i=qm.evening:o>=12?i=qm.afternoon:o>=4?i=qm.morning:i=qm.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return bd.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):bd.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):vn(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):vn(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):bd.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):bd.s(t,n)},S:function(t,n){return bd.S(t,n)},X:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return QK(s);case"XXXX":case"XX":return zh(s);case"XXXXX":case"XXX":default:return zh(s,":")}},x:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"x":return QK(s);case"xxxx":case"xx":return zh(s);case"xxxxx":case"xxx":default:return zh(s,":")}},O:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+XK(s,":");case"OOOO":default:return"GMT"+zh(s,":")}},z:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+XK(s,":");case"zzzz":default:return"GMT"+zh(s,":")}},t:function(t,n,r,o){var i=o._originalDate||t,s=Math.floor(i.getTime()/1e3);return vn(s,n.length)},T:function(t,n,r,o){var i=o._originalDate||t,s=i.getTime();return vn(s,n.length)}};function XK(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(i===0)return n+String(o);var s=t||"";return n+String(o)+s+vn(i,2)}function QK(e,t){if(e%60===0){var n=e>0?"-":"+";return n+vn(Math.abs(e)/60,2)}return zh(e,t)}function zh(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),i=vn(Math.floor(o/60),2),s=vn(o%60,2);return r+i+n+s}const KSt=GSt;var JK=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},fEe=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},ZSt=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return JK(t,n);var s;switch(o){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",JK(o,n)).replace("{{time}}",fEe(i,n))},XSt={p:fEe,P:ZSt};const P$=XSt;function ok(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var QSt=["D","DD"],JSt=["YY","YYYY"];function hEe(e){return QSt.indexOf(e)!==-1}function pEe(e){return JSt.indexOf(e)!==-1}function ik(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var eEt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tEt=function(t,n,r){var o,i=eEt[t];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const nEt=tEt;function fP(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var rEt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oEt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iEt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sEt={date:fP({formats:rEt,defaultWidth:"full"}),time:fP({formats:oEt,defaultWidth:"full"}),dateTime:fP({formats:iEt,defaultWidth:"full"})};const aEt=sEt;var lEt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cEt=function(t,n,r,o){return lEt[t]};const uEt=cEt;function O1(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):i;o=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[c]||e.values[a]}var u=e.argumentCallback?e.argumentCallback(t):t;return o[u]}}var dEt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fEt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hEt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pEt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mEt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gEt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vEt=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},yEt={ordinalNumber:vEt,era:O1({values:dEt,defaultWidth:"wide"}),quarter:O1({values:fEt,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:O1({values:hEt,defaultWidth:"wide"}),day:O1({values:pEt,defaultWidth:"wide"}),dayPeriod:O1({values:mEt,defaultWidth:"wide",formattingValues:gEt,defaultFormattingWidth:"wide"})};const bEt=yEt;function R1(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var s=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?wEt(a,function(f){return f.test(s)}):xEt(a,function(f){return f.test(s)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(s.length);return{value:u,rest:d}}}function xEt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function wEt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function CEt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(o.length);return{value:s,rest:a}}}var _Et=/^(\d+)(th|st|nd|rd)?/i,SEt=/\d+/i,EEt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kEt={any:[/^b/i,/^(a|c)/i]},jEt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},TEt={any:[/1/i,/2/i,/3/i,/4/i]},AEt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DEt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},IEt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},PEt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},OEt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},REt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$Et={ordinalNumber:CEt({matchPattern:_Et,parsePattern:SEt,valueCallback:function(t){return parseInt(t,10)}}),era:R1({matchPatterns:EEt,defaultMatchWidth:"wide",parsePatterns:kEt,defaultParseWidth:"any"}),quarter:R1({matchPatterns:jEt,defaultMatchWidth:"wide",parsePatterns:TEt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:R1({matchPatterns:AEt,defaultMatchWidth:"wide",parsePatterns:DEt,defaultParseWidth:"any"}),day:R1({matchPatterns:IEt,defaultMatchWidth:"wide",parsePatterns:PEt,defaultParseWidth:"any"}),dayPeriod:R1({matchPatterns:OEt,defaultMatchWidth:"any",parsePatterns:REt,defaultParseWidth:"any"})};const MEt=$Et;var FEt={code:"en-US",formatDistance:nEt,formatLong:aEt,formatRelative:uEt,localize:bEt,match:MEt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const mEe=FEt;var LEt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BEt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NEt=/^'([^]*?)'?$/,zEt=/''/g,VEt=/[a-zA-Z]/;function Jo(e,t,n){var r,o,i,s,a,c,u,d,f,p,m,v,g,y,x,b,w,C;Ke(2,arguments);var _=String(t),S=ad(),E=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:S.locale)!==null&&r!==void 0?r:mEe,j=At((i=(s=(a=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&s!==void 0?s:(f=S.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=At((m=(v=(g=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(x=n.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&v!==void 0?v:(w=S.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var T=Xe(e);if(!Hu(T))throw new RangeError("Invalid time value");var A=ok(T),D=lEe(T,A),I={firstWeekContainsDate:j,weekStartsOn:k,locale:E,_originalDate:T},P=_.match(BEt).map(function($){var R=$[0];if(R==="p"||R==="P"){var V=P$[R];return V($,E.formatLong)}return $}).join("").match(LEt).map(function($){if($==="''")return"'";var R=$[0];if(R==="'")return HEt($);var V=KSt[R];if(V)return!(n!=null&&n.useAdditionalWeekYearTokens)&&pEe($)&&ik($,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&hEe($)&&ik($,t,String(e)),V(D,$,E.localize,I);if(R.match(VEt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return $}).join("");return P}function HEt(e){var t=e.match(NEt);return t?t[1].replace(zEt,"'"):e}var UEt=Lc,WEt=0;function YEt(e){var t=++WEt;return UEt(e)+t}var qEt=YEt;const gEe=Pe(qEt);function Wi(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Z8(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var s=i.getDate();return o>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function Wv(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=ad(),f=At((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Xe(e),m=p.getDay(),v=(m<f?7:0)+m-f;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function Ff(e){Ke(1,arguments);var t=Xe(e);return t.setHours(0,0,0,0),t}var GEt=864e5;function KEt(e,t){Ke(2,arguments);var n=Ff(e),r=Ff(t),o=n.getTime()-ok(n),i=r.getTime()-ok(r);return Math.round((o-i)/GEt)}function ZEt(e,t){Ke(2,arguments);var n=At(t),r=n*7;return Wi(e,r)}function ob(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}var pT=6e4,mT=36e5,XEt=1e3;function Ld(e,t){Ke(2,arguments);var n=Ff(e),r=Ff(t);return n.getTime()===r.getTime()}function QEt(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function JEt(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t);return n.getFullYear()-r.getFullYear()}function eZ(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function vEe(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t),o=eZ(n,r),i=Math.abs(KEt(n,r));n.setDate(n.getDate()-o*i);var s=+(eZ(n,r)===-o),a=o*(i-s);return a===0?0:a}function X8(e,t){return Ke(2,arguments),Xe(e).getTime()-Xe(t).getTime()}var tZ={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},ekt="trunc";function gT(e){return e?tZ[e]:tZ[ekt]}function tkt(e,t,n){Ke(2,arguments);var r=X8(e,t)/mT;return gT(n==null?void 0:n.roundingMethod)(r)}function nkt(e,t,n){Ke(2,arguments);var r=X8(e,t)/pT;return gT(n==null?void 0:n.roundingMethod)(r)}function sk(e){Ke(1,arguments);var t=Xe(e);return t.setHours(23,59,59,999),t}function rkt(e){Ke(1,arguments);var t=Xe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function okt(e){Ke(1,arguments);var t=Xe(e);return sk(t).getTime()===rkt(t).getTime()}function ikt(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t),o=ob(n,r),i=Math.abs(QEt(n,r)),s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var a=ob(n,r)===-o;okt(Xe(e))&&i===1&&ob(e,r)===1&&(a=!1),s=o*(i-Number(a))}return s===0?0:s}function skt(e,t,n){Ke(2,arguments);var r=X8(e,t)/1e3;return gT(n==null?void 0:n.roundingMethod)(r)}function akt(e,t,n){Ke(2,arguments);var r=vEe(e,t)/7;return gT(n==null?void 0:n.roundingMethod)(r)}function lkt(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t),o=ob(n,r),i=Math.abs(JEt(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=ob(n,r)===-o,a=o*(i-Number(s));return a===0?0:a}function nZ(e){Ke(1,arguments);var t=Xe(e);return t.setSeconds(0,0),t}function yEe(e,t){Ke(1,arguments);var n=e||{},r=Xe(n.start),o=Xe(n.end),i=o.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var s=Wv(r,t),a=Wv(o,t);s.setHours(15),a.setHours(15),i=a.getTime();for(var c=[],u=s;u.getTime()<=i;)u.setHours(0),c.push(Xe(u)),u=ZEt(u,1),u.setHours(15);return c}function bEe(e){Ke(1,arguments);var t=Xe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function rZ(e){Ke(1,arguments);var t=Xe(e);return t.setSeconds(59,999),t}function ckt(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function ukt(e){Ke(1,arguments);var t=Xe(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function dkt(e){Ke(1,arguments);var t=Xe(e),n=t.getMinutes();return n}function fkt(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=Xe(e),f=d.getFullYear(),p=ad(),m=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(f+1,0,m),v.setHours(0,0,0,0);var g=Wv(v,t),y=new Date(0);y.setFullYear(f,0,m),y.setHours(0,0,0,0);var x=Wv(y,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function hkt(e,t){var n,r,o,i,s,a,c,u;Ke(1,arguments);var d=ad(),f=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=fkt(e,t),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var v=Wv(m,t);return v}var pkt=6048e5;function xEe(e,t){Ke(1,arguments);var n=Xe(e),r=Wv(n,t).getTime()-hkt(n,t).getTime();return Math.round(r/pkt)+1}function wEe(e){Ke(1,arguments);var t=Xe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function O$(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t);return n.getTime()>r.getTime()}function CEe(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t);return n.getTime()<r.getTime()}function oZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mkt(e,t){if(e){if(typeof e=="string")return oZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oZ(e,t)}}function iZ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=mkt(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,a;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function He(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ME(e,t)}function ak(e){return ak=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ak(e)}function gkt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vkt(e,t){if(t&&(Pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return He(e)}function cn(e){var t=gkt();return function(){var r=ak(e),o;if(t){var i=ak(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return vkt(this,o)}}function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W_e(r.key),r)}}function Zt(e,t,n){return t&&sZ(e.prototype,t),n&&sZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ykt=10,_Ee=function(){function e(){Kt(this,e),Be(this,"priority",void 0),Be(this,"subPriority",0)}return Zt(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),bkt=function(e){ln(n,e);var t=cn(n);function n(r,o,i,s,a){var c;return Kt(this,n),c=t.call(this),c.value=r,c.validateValue=o,c.setValue=i,c.priority=s,a&&(c.subPriority=a),c}return Zt(n,[{key:"validate",value:function(o,i){return this.validateValue(o,this.value,i)}},{key:"set",value:function(o,i,s){return this.setValue(o,i,this.value,s)}}]),n}(_Ee),xkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",ykt),Be(He(r),"subPriority",-1),r}return Zt(n,[{key:"set",value:function(o,i){if(i.timestampIsSet)return o;var s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}}]),n}(_Ee),gn=function(){function e(){Kt(this,e),Be(this,"incompatibleTokens",void 0),Be(this,"priority",void 0),Be(this,"subPriority",void 0)}return Zt(e,[{key:"run",value:function(n,r,o,i){var s=this.parse(n,r,o,i);return s?{setter:new bkt(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),e}(),wkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",140),Be(He(r),"incompatibleTokens",["R","u","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})||s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"})}}},{key:"set",value:function(o,i,s){return i.era=s,o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(gn),Zr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},pc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Xr(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ir(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function mc(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*mT+i*pT+s*XEt),rest:t.slice(n[0].length)}}function SEe(e){return Ir(Zr.anyDigitsSigned,e)}function Ur(e,t){switch(e){case 1:return Ir(Zr.singleDigit,t);case 2:return Ir(Zr.twoDigits,t);case 3:return Ir(Zr.threeDigits,t);case 4:return Ir(Zr.fourDigits,t);default:return Ir(new RegExp("^\\d{1,"+e+"}"),t)}}function lk(e,t){switch(e){case 1:return Ir(Zr.singleDigitSigned,t);case 2:return Ir(Zr.twoDigitsSigned,t);case 3:return Ir(Zr.threeDigitsSigned,t);case 4:return Ir(Zr.fourDigitsSigned,t);default:return Ir(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Q8(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function EEe(e,t){var n=t>0,r=n?t:1-t,o;if(r<=50)o=e||100;else{var i=r+50,s=Math.floor(i/100)*100,a=e>=i%100;o=e+s-(a?100:0)}return n?o:1-o}function kEe(e){return e%400===0||e%4===0&&e%100!==0}var Ckt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",130),Be(He(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Xr(Ur(4,o),a);case"yo":return Xr(s.ordinalNumber(o,{unit:"year"}),a);default:return Xr(Ur(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s){var a=o.getUTCFullYear();if(s.isTwoDigitYear){var c=EEe(s.year,a);return o.setUTCFullYear(c,0,1),o.setUTCHours(0,0,0,0),o}var u=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(u,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(gn),_kt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",130),Be(He(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Xr(Ur(4,o),a);case"Yo":return Xr(s.ordinalNumber(o,{unit:"year"}),a);default:return Xr(Ur(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s,a){var c=K8(o,a);if(s.isTwoDigitYear){var u=EEe(s.year,c);return o.setUTCFullYear(u,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Vp(o,a)}var d=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(d,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Vp(o,a)}}]),n}(gn),Skt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",130),Be(He(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i){return lk(i==="R"?4:i.length,o)}},{key:"set",value:function(o,i,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),Uv(a)}}]),n}(gn),Ekt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",130),Be(He(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i){return lk(i==="u"?4:i.length,o)}},{key:"set",value:function(o,i,s){return o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(gn),kkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",120),Be(He(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"Q":case"QQ":return Ur(i.length,o);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})||s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(gn),jkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",120),Be(He(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"q":case"qq":return Ur(i.length,o);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})||s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(gn),Tkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Be(He(r),"priority",110),r}return Zt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"M":return Xr(Ir(Zr.month,o),a);case"MM":return Xr(Ur(2,o),a);case"Mo":return Xr(s.ordinalNumber(o,{unit:"month"}),a);case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})||s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(gn),Akt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",110),Be(He(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"L":return Xr(Ir(Zr.month,o),a);case"LL":return Xr(Ur(2,o),a);case"Lo":return Xr(s.ordinalNumber(o,{unit:"month"}),a);case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})||s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(gn);function Dkt(e,t,n){Ke(2,arguments);var r=Xe(e),o=At(t),i=dEe(r,n)-o;return r.setUTCDate(r.getUTCDate()-i*7),r}var Ikt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",100),Be(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"w":return Ir(Zr.week,o);case"wo":return s.ordinalNumber(o,{unit:"week"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s,a){return Vp(Dkt(o,s,a),a)}}]),n}(gn);function Pkt(e,t){Ke(2,arguments);var n=Xe(e),r=At(t),o=uEe(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var Okt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",100),Be(He(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"I":return Ir(Zr.week,o);case"Io":return s.ordinalNumber(o,{unit:"week"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s){return Uv(Pkt(o,s))}}]),n}(gn),Rkt=[31,28,31,30,31,30,31,31,30,31,30,31],$kt=[31,29,31,30,31,30,31,31,30,31,30,31],Mkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",90),Be(He(r),"subPriority",1),Be(He(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"d":return Ir(Zr.date,o);case"do":return s.ordinalNumber(o,{unit:"date"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=kEe(s),c=o.getUTCMonth();return a?i>=1&&i<=$kt[c]:i>=1&&i<=Rkt[c]}},{key:"set",value:function(o,i,s){return o.setUTCDate(s),o.setUTCHours(0,0,0,0),o}}]),n}(gn),Fkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",90),Be(He(r),"subpriority",1),Be(He(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"D":case"DD":return Ir(Zr.dayOfYear,o);case"Do":return s.ordinalNumber(o,{unit:"date"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=kEe(s);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(o,i,s){return o.setUTCMonth(0,s),o.setUTCHours(0,0,0,0),o}}]),n}(gn);function J8(e,t,n){var r,o,i,s,a,c,u,d;Ke(2,arguments);var f=ad(),p=At((r=(o=(i=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&o!==void 0?o:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Xe(e),v=At(t),g=m.getUTCDay(),y=v%7,x=(y+7)%7,b=(x<p?7:0)+v-g;return m.setUTCDate(m.getUTCDate()+b),m}var Lkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",90),Be(He(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=J8(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(gn),Bkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",90),Be(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return Xr(Ur(i.length,o),c);case"eo":return Xr(s.ordinalNumber(o,{unit:"day"}),c);case"eee":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=J8(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(gn),Nkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",90),Be(He(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return Xr(Ur(i.length,o),c);case"co":return Xr(s.ordinalNumber(o,{unit:"day"}),c);case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})||s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=J8(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(gn);function zkt(e,t){Ke(2,arguments);var n=At(t);n%7===0&&(n=n-7);var r=1,o=Xe(e),i=o.getUTCDay(),s=n%7,a=(s+7)%7,c=(a<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+c),o}var Vkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",90),Be(He(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u===0?7:u};switch(i){case"i":case"ii":return Ur(i.length,o);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return Xr(s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiii":return Xr(s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Xr(s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Xr(s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(o,i){return i>=1&&i<=7}},{key:"set",value:function(o,i,s){return o=zkt(o,s),o.setUTCHours(0,0,0,0),o}}]),n}(gn),Hkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",80),Be(He(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"a":case"aa":case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(Q8(s),0,0,0),o}}]),n}(gn),Ukt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",80),Be(He(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"b":case"bb":case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(Q8(s),0,0,0),o}}]),n}(gn),Wkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",80),Be(He(r),"incompatibleTokens",["a","b","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(Q8(s),0,0,0),o}}]),n}(gn),Ykt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",70),Be(He(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"h":return Ir(Zr.hour12h,o);case"ho":return s.ordinalNumber(o,{unit:"hour"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=12}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):!a&&s===12?o.setUTCHours(0,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(gn),qkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",70),Be(He(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"H":return Ir(Zr.hour23h,o);case"Ho":return s.ordinalNumber(o,{unit:"hour"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=23}},{key:"set",value:function(o,i,s){return o.setUTCHours(s,0,0,0),o}}]),n}(gn),Gkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",70),Be(He(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"K":return Ir(Zr.hour11h,o);case"Ko":return s.ordinalNumber(o,{unit:"hour"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(gn),Kkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",70),Be(He(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"k":return Ir(Zr.hour24h,o);case"ko":return s.ordinalNumber(o,{unit:"hour"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=24}},{key:"set",value:function(o,i,s){var a=s<=24?s%24:s;return o.setUTCHours(a,0,0,0),o}}]),n}(gn),Zkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",60),Be(He(r),"incompatibleTokens",["t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"m":return Ir(Zr.minute,o);case"mo":return s.ordinalNumber(o,{unit:"minute"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCMinutes(s,0,0),o}}]),n}(gn),Xkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",50),Be(He(r),"incompatibleTokens",["t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i,s){switch(i){case"s":return Ir(Zr.second,o);case"so":return s.ordinalNumber(o,{unit:"second"});default:return Ur(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCSeconds(s,0),o}}]),n}(gn),Qkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",30),Be(He(r),"incompatibleTokens",["t","T"]),r}return Zt(n,[{key:"parse",value:function(o,i){var s=function(c){return Math.floor(c*Math.pow(10,-i.length+3))};return Xr(Ur(i.length,o),s)}},{key:"set",value:function(o,i,s){return o.setUTCMilliseconds(s),o}}]),n}(gn),Jkt=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",10),Be(He(r),"incompatibleTokens",["t","T","x"]),r}return Zt(n,[{key:"parse",value:function(o,i){switch(i){case"X":return mc(pc.basicOptionalMinutes,o);case"XX":return mc(pc.basic,o);case"XXXX":return mc(pc.basicOptionalSeconds,o);case"XXXXX":return mc(pc.extendedOptionalSeconds,o);case"XXX":default:return mc(pc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(gn),e5t=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",10),Be(He(r),"incompatibleTokens",["t","T","X"]),r}return Zt(n,[{key:"parse",value:function(o,i){switch(i){case"x":return mc(pc.basicOptionalMinutes,o);case"xx":return mc(pc.basic,o);case"xxxx":return mc(pc.basicOptionalSeconds,o);case"xxxxx":return mc(pc.extendedOptionalSeconds,o);case"xxx":default:return mc(pc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(gn),t5t=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",40),Be(He(r),"incompatibleTokens","*"),r}return Zt(n,[{key:"parse",value:function(o){return SEe(o)}},{key:"set",value:function(o,i,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(gn),n5t=function(e){ln(n,e);var t=cn(n);function n(){var r;Kt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Be(He(r),"priority",20),Be(He(r),"incompatibleTokens","*"),r}return Zt(n,[{key:"parse",value:function(o){return SEe(o)}},{key:"set",value:function(o,i,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(gn),r5t={G:new wkt,y:new Ckt,Y:new _kt,R:new Skt,u:new Ekt,Q:new kkt,q:new jkt,M:new Tkt,L:new Akt,w:new Ikt,I:new Okt,d:new Mkt,D:new Fkt,E:new Lkt,e:new Bkt,c:new Nkt,i:new Vkt,a:new Hkt,b:new Ukt,B:new Wkt,h:new Ykt,H:new qkt,K:new Gkt,k:new Kkt,m:new Zkt,s:new Xkt,S:new Qkt,X:new Jkt,x:new e5t,t:new t5t,T:new n5t},o5t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i5t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,s5t=/^'([^]*?)'?$/,a5t=/''/g,l5t=/\S/,c5t=/[a-zA-Z]/;function u5t(e,t,n,r){var o,i,s,a,c,u,d,f,p,m,v,g,y,x,b,w,C,_;Ke(3,arguments);var S=String(e),E=String(t),j=ad(),k=(o=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:j.locale)!==null&&o!==void 0?o:mEe;if(!k.match)throw new RangeError("locale must contain match property");var T=At((s=(a=(c=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&c!==void 0?c:j.firstWeekContainsDate)!==null&&a!==void 0?a:(p=j.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=At((v=(g=(y=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(b=r.locale)===null||b===void 0||(w=b.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&y!==void 0?y:j.weekStartsOn)!==null&&g!==void 0?g:(C=j.locale)===null||C===void 0||(_=C.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return S===""?Xe(n):new Date(NaN);var D={firstWeekContainsDate:T,weekStartsOn:A,locale:k},I=[new xkt],P=E.match(i5t).map(function(Q){var ne=Q[0];if(ne in P$){var K=P$[ne];return K(Q,k.formatLong)}return Q}).join("").match(o5t),$=[],R=iZ(P),V;try{var N=function(){var ne=V.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&pEe(ne)&&ik(ne,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&hEe(ne)&&ik(ne,E,e);var K=ne[0],J=r5t[K];if(J){var re=J.incompatibleTokens;if(Array.isArray(re)){var fe=$.find(function(ge){return re.includes(ge.token)||ge.token===K});if(fe)throw new RangeError("The format string mustn't contain `".concat(fe.fullToken,"` and `").concat(ne,"` at the same time"))}else if(J.incompatibleTokens==="*"&&$.length>0)throw new RangeError("The format string mustn't contain `".concat(ne,"` and any other token at the same time"));$.push({token:K,fullToken:ne});var le=J.run(S,ne,k.match,D);if(!le)return{v:new Date(NaN)};I.push(le.setter),S=le.rest}else{if(K.match(c5t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+K+"`");if(ne==="''"?ne="'":K==="'"&&(ne=d5t(ne)),S.indexOf(ne)===0)S=S.slice(ne.length);else return{v:new Date(NaN)}}};for(R.s();!(V=R.n()).done;){var W=N();if(Pl(W)==="object")return W.v}}catch(Q){R.e(Q)}finally{R.f()}if(S.length>0&&l5t.test(S))return new Date(NaN);var G=I.map(function(Q){return Q.priority}).sort(function(Q,ne){return ne-Q}).filter(function(Q,ne,K){return K.indexOf(Q)===ne}).map(function(Q){return I.filter(function(ne){return ne.priority===Q}).sort(function(ne,K){return K.subPriority-ne.subPriority})}).map(function(Q){return Q[0]}),H=Xe(n);if(isNaN(H.getTime()))return new Date(NaN);var q=lEe(H,ok(H)),X={},B=iZ(G),Y;try{for(B.s();!(Y=B.n()).done;){var z=Y.value;if(!z.validate(q,D))return new Date(NaN);var Z=z.set(q,X,D);Array.isArray(Z)?(q=Z[0],ckt(X,Z[1])):q=Z}}catch(Q){B.e(Q)}finally{B.f()}return q}function d5t(e){return e.match(s5t)[1].replace(a5t,"'")}function jEe(e,t){Ke(2,arguments);var n=Xe(e),r=Xe(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function f5t(e,t){Ke(2,arguments);var n=At(t);return Wi(e,-n)}function h5t(e,t){var n;Ke(1,arguments);var r=At((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=v5t(e),i;if(o.date){var s=y5t(o.date,r);i=b5t(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),c=0,u;if(o.time&&(c=x5t(o.time),isNaN(c)))return new Date(NaN);if(o.timezone){if(u=w5t(o.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(a+c),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(a+c+u)}var i_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},p5t=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,m5t=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,g5t=/^([+-])(\d{2})(?::?(\d{2}))?$/;function v5t(e){var t={},n=e.split(i_.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],i_.timeZoneDelimiter.test(t.date)&&(t.date=e.split(i_.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=i_.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function y5t(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function b5t(e,t){if(t===null)return new Date(NaN);var n=e.match(p5t);if(!n)return new Date(NaN);var r=!!n[4],o=$1(n[1]),i=$1(n[2])-1,s=$1(n[3]),a=$1(n[4]),c=$1(n[5])-1;if(r)return k5t(t,a,c)?C5t(t,a,c):new Date(NaN);var u=new Date(0);return!S5t(t,i,s)||!E5t(t,o)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(o,s)),u)}function $1(e){return e?parseInt(e):1}function x5t(e){var t=e.match(m5t);if(!t)return NaN;var n=hP(t[1]),r=hP(t[2]),o=hP(t[3]);return j5t(n,r,o)?n*mT+r*pT+o*1e3:NaN}function hP(e){return e&&parseFloat(e.replace(",","."))||0}function w5t(e){if(e==="Z")return 0;var t=e.match(g5t);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return T5t(r,o)?n*(r*mT+o*pT):NaN}function C5t(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var _5t=[31,null,31,30,31,30,31,31,30,31,30,31];function TEe(e){return e%400===0||e%4===0&&e%100!==0}function S5t(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(_5t[t]||(TEe(e)?29:28))}function E5t(e,t){return t>=1&&t<=(TEe(e)?366:365)}function k5t(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function j5t(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function T5t(e,t){return t>=0&&t<=59}function AEe(e,t){Ke(2,arguments);var n=Xe(e),r=At(t),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=ukt(s);return n.setMonth(r,Math.min(i,a)),n}function A5t(e,t){if(Ke(2,arguments),Pl(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=Xe(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=AEe(n,t.month)),t.date!=null&&n.setDate(At(t.date)),t.hours!=null&&n.setHours(At(t.hours)),t.minutes!=null&&n.setMinutes(At(t.minutes)),t.seconds!=null&&n.setSeconds(At(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(At(t.milliseconds)),n)}function D5t(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);return n.setDate(r),n}function pP(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);return n.setHours(r),n}function X2(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);return n.setMinutes(r),n}function I5t(e,t){Ke(2,arguments);var n=Xe(e),r=At(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function aZ(){return Ff(Date.now())}function P5t(e,t){Ke(2,arguments);var n=At(t);return Z8(e,-n)}function lZ(e,t){if(Ke(2,arguments),!t||Pl(t)!=="object")return new Date(NaN);var n=t.years?At(t.years):0,r=t.months?At(t.months):0,o=t.weeks?At(t.weeks):0,i=t.days?At(t.days):0,s=t.hours?At(t.hours):0,a=t.minutes?At(t.minutes):0,c=t.seconds?At(t.seconds):0,u=P5t(e,r+n*12),d=f5t(u,i+o*7),f=a+s*60,p=c+f*60,m=p*1e3,v=new Date(d.getTime()-m);return v}const e9=[],t9=[],DEe=new Set,Tw=new Map,Aw=new Map,IEe=e=>typeof e=="string"?new RegExp("^".concat(e,"$"),"i"):e,ck=(e,t)=>typeof t!="string"?e:e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase(),PEe=(e,t,n)=>{if(!e.length||DEe.has(e))return t;let{length:r}=n;for(;r--;){const o=n[r];if(o[0].test(t))return t.replace(o[0],function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const[c,u]=s,d=o[1].replace(/\$(\d{1,2})/g,(f,p)=>s[p]||"");return ck(c===""?t[u-1]:c,d)})}return t},OEe=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?ck(e,o):t.has(o)?ck(e,t.get(o)):PEe(o,e,r)},REe=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?!0:t.has(o)?!1:PEe(o,o,r)===o},Vr=(e,t,n)=>{const r=t===1?Vr.singular(e):Vr.plural(e);return n?"".concat(t," ").concat(r):r};Vr.plural=e=>OEe(e,Aw,Tw,e9);Vr.singular=e=>OEe(e,Tw,Aw,t9);Vr.addPluralRule=(e,t)=>{e9.push([IEe(e),t])};Vr.addSingularRule=(e,t)=>{t9.push([IEe(e),t])};Vr.addIrregularRule=(e,t)=>{const n=t.toLowerCase(),r=e.toLowerCase();Aw.set(r,n),Tw.set(n,r)};Vr.addUncountableRule=e=>{if(typeof e=="string"){DEe.add(e.toLowerCase());return}Vr.addPluralRule(e,"$0"),Vr.addSingularRule(e,"$0")};Vr.isPlural=e=>REe(e,Aw,Tw,e9);Vr.isSingular=e=>REe(e,Tw,Aw,t9);const O5t=[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]],R5t=[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]],$5t=[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]],M5t=["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i];for(const[e,t]of O5t)Vr.addIrregularRule(e,t);for(const[e,t]of R5t)Vr.addPluralRule(e,t);for(const[e,t]of $5t)Vr.addSingularRule(e,t);for(const e of M5t)Vr.addUncountableRule(e);var $Ee={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ys,function(){function n(){return n=Object.assign||function(A){for(var D=1;D<arguments.length;D++){var I=arguments[D];for(var P in I)Object.prototype.hasOwnProperty.call(I,P)&&(A[P]=I[P])}return A},n.apply(this,arguments)}function r(A,D){if(A){if(typeof A=="string")return o(A,D);var I=Object.prototype.toString.call(A).slice(8,-1);if(I==="Object"&&A.constructor&&(I=A.constructor.name),I==="Map"||I==="Set")return Array.from(A);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return o(A,D)}}function o(A,D){(D==null||D>A.length)&&(D=A.length);for(var I=0,P=new Array(D);I<D;I++)P[I]=A[I];return P}function i(A,D){var I=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(I)return(I=I.call(A)).next.bind(I);if(Array.isArray(A)||(I=r(A))||D&&A&&typeof A.length=="number"){I&&(A=I);var P=0;return function(){return P>=A.length?{done:!0}:{done:!1,value:A[P++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(A){var D=A.split("-"),I=D[1],P=D[2],$=D[3];if(!I||!P||!$)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');var R=P.split("x"),V=R[0],N=R[1],W=+V,G=+N,H=isFinite(W)&&isFinite(G);if(!H)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');return{id:I,width:W,height:G,format:$}}var c=function(D){var I=D;return I?typeof I._ref=="string":!1},u=function(D){var I=D;return I?typeof I._id=="string":!1},d=function(D){var I=D;return I&&I.asset?typeof I.asset.url=="string":!1};function f(A){if(!A)return null;var D;if(typeof A=="string"&&p(A))D={asset:{_ref:m(A)}};else if(typeof A=="string")D={asset:{_ref:A}};else if(c(A))D={asset:A};else if(u(A))D={asset:{_ref:A._id||""}};else if(d(A))D={asset:{_ref:m(A.asset.url)}};else if(typeof A.asset=="object")D=n({},A);else return null;var I=A;return I.crop&&(D.crop=I.crop),I.hotspot&&(D.hotspot=I.hotspot),v(D)}function p(A){return/^https?:\/\//.test(""+A)}function m(A){var D=A.split("/").slice(-1);return("image-"+D[0]).replace(/\.([a-z]+)$/,"-$1")}function v(A){if(A.crop&&A.hotspot)return A;var D=n({},A);return D.crop||(D.crop={left:0,top:0,bottom:0,right:0}),D.hotspot||(D.hotspot={x:.5,y:.5,height:1,width:1}),D}var g=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function y(A){var D=n({},A||{}),I=D.source;delete D.source;var P=f(I);if(!P)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(I)+")");var $=P.asset._ref||P.asset._id||"",R=a($),V=Math.round(P.crop.left*R.width),N=Math.round(P.crop.top*R.height),W={left:V,top:N,width:Math.round(R.width-P.crop.right*R.width-V),height:Math.round(R.height-P.crop.bottom*R.height-N)},G=P.hotspot.height*R.height/2,H=P.hotspot.width*R.width/2,q=P.hotspot.x*R.width,X=P.hotspot.y*R.height,B={left:q-H,top:X-G,right:q+H,bottom:X+G};return D.rect||D.focalPoint||D.ignoreImageParams||D.crop||(D=n({},D,b({crop:W,hotspot:B},D))),x(n({},D,{asset:R}))}function x(A){var D=(A.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),I=A.asset.id+"-"+A.asset.width+"x"+A.asset.height+"."+A.asset.format,P=D+"/images/"+A.projectId+"/"+A.dataset+"/"+I,$=[];if(A.rect){var R=A.rect,V=R.left,N=R.top,W=R.width,G=R.height,H=V!==0||N!==0||G!==A.asset.height||W!==A.asset.width;H&&$.push("rect="+V+","+N+","+W+","+G)}A.bg&&$.push("bg="+A.bg),A.focalPoint&&($.push("fp-x="+A.focalPoint.x),$.push("fp-y="+A.focalPoint.y));var q=[A.flipHorizontal&&"h",A.flipVertical&&"v"].filter(Boolean).join("");return q&&$.push("flip="+q),g.forEach(function(X){var B=X[0],Y=X[1];typeof A[B]<"u"?$.push(Y+"="+encodeURIComponent(A[B])):typeof A[Y]<"u"&&$.push(Y+"="+encodeURIComponent(A[Y]))}),$.length===0?P:P+"?"+$.join("&")}function b(A,D){var I,P=D.width,$=D.height;if(!(P&&$))return{width:P,height:$,rect:A.crop};var R=A.crop,V=A.hotspot,N=P/$,W=R.width/R.height;if(W>N){var G=Math.round(R.height),H=Math.round(G*N),q=Math.max(0,Math.round(R.top)),X=Math.round((V.right-V.left)/2+V.left),B=Math.max(0,Math.round(X-H/2));B<R.left?B=R.left:B+H>R.left+R.width&&(B=R.left+R.width-H),I={left:B,top:q,width:H,height:G}}else{var Y=R.width,z=Math.round(Y/N),Z=Math.max(0,Math.round(R.left)),Q=Math.round((V.bottom-V.top)/2+V.top),ne=Math.max(0,Math.round(Q-z/2));ne<R.top?ne=R.top:ne+z>R.top+R.height&&(ne=R.top+R.height-z),I={left:Z,top:ne,width:Y,height:z}}return{width:P,height:$,rect:I}}var w=["clip","crop","fill","fillmax","max","scale","min"],C=["top","bottom","left","right","center","focalpoint","entropy"],_=["format"];function S(A){return A&&"config"in A?typeof A.config=="function":!1}function E(A){return A&&"clientConfig"in A?typeof A.clientConfig=="object":!1}function j(A){for(var D=g,I=i(D),P;!(P=I()).done;){var $=P.value,R=$[0],V=$[1];if(A===R||A===V)return R}return A}function k(A){if(S(A)){var D=A.config(),I=D.apiHost,P=D.projectId,$=D.dataset,R=I||"https://api.sanity.io";return new T(null,{baseUrl:R.replace(/^https:\/\/api\./,"https://cdn."),projectId:P,dataset:$})}var V=A;if(E(V)){var N=V.clientConfig,W=N.apiHost,G=N.projectId,H=N.dataset,q=W||"https://api.sanity.io";return new T(null,{baseUrl:q.replace(/^https:\/\/api\./,"https://cdn."),projectId:G,dataset:H})}return new T(null,A)}var T=function(){function A(I,P){this.options=void 0,this.options=I?n({},I.options||{},P||{}):n({},P||{})}var D=A.prototype;return D.withOptions=function(P){var $=P.baseUrl||this.options.baseUrl,R={baseUrl:$};for(var V in P)if(P.hasOwnProperty(V)){var N=j(V);R[N]=P[V]}return new A(this,n({baseUrl:$},R))},D.image=function(P){return this.withOptions({source:P})},D.dataset=function(P){return this.withOptions({dataset:P})},D.projectId=function(P){return this.withOptions({projectId:P})},D.bg=function(P){return this.withOptions({bg:P})},D.dpr=function(P){return this.withOptions(P&&P!==1?{dpr:P}:{})},D.width=function(P){return this.withOptions({width:P})},D.height=function(P){return this.withOptions({height:P})},D.focalPoint=function(P,$){return this.withOptions({focalPoint:{x:P,y:$}})},D.maxWidth=function(P){return this.withOptions({maxWidth:P})},D.minWidth=function(P){return this.withOptions({minWidth:P})},D.maxHeight=function(P){return this.withOptions({maxHeight:P})},D.minHeight=function(P){return this.withOptions({minHeight:P})},D.size=function(P,$){return this.withOptions({width:P,height:$})},D.blur=function(P){return this.withOptions({blur:P})},D.sharpen=function(P){return this.withOptions({sharpen:P})},D.rect=function(P,$,R,V){return this.withOptions({rect:{left:P,top:$,width:R,height:V}})},D.format=function(P){return this.withOptions({format:P})},D.invert=function(P){return this.withOptions({invert:P})},D.orientation=function(P){return this.withOptions({orientation:P})},D.quality=function(P){return this.withOptions({quality:P})},D.forceDownload=function(P){return this.withOptions({download:P})},D.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},D.flipVertical=function(){return this.withOptions({flipVertical:!0})},D.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},D.fit=function(P){if(w.indexOf(P)===-1)throw new Error('Invalid fit mode "'+P+'"');return this.withOptions({fit:P})},D.crop=function(P){if(C.indexOf(P)===-1)throw new Error('Invalid crop mode "'+P+'"');return this.withOptions({crop:P})},D.saturation=function(P){return this.withOptions({saturation:P})},D.auto=function(P){if(_.indexOf(P)===-1)throw new Error('Invalid auto mode "'+P+'"');return this.withOptions({auto:P})},D.pad=function(P){return this.withOptions({pad:P})},D.url=function(){return y(this.options)},D.toString=function(){return this.url()},A}();return k})})($Ee);var F5t=$Ee.exports;const vT=Pe(F5t);function L5t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tx(e,t)}function R$(e){return R$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R$(e)}function tx(e,t){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},tx(e,t)}function B5t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Q2(e,t,n){return B5t()?Q2=Reflect.construct.bind():Q2=function(o,i,s){var a=[null];a.push.apply(a,i);var c=Function.bind.apply(o,a),u=new c;return s&&tx(u,s.prototype),u},Q2.apply(null,arguments)}function N5t(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function $$(e){var t=typeof Map=="function"?new Map:void 0;return $$=function(r){if(r===null||!N5t(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return Q2(r,arguments,R$(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),tx(o,r)},$$(e)}var s_=Object.freeze({left:0,top:0,bottom:0,right:0}),a_=Object.freeze({x:.5,y:.5,height:1,width:1}),z5t=function(t){var n=t.top,r=t.bottom,o=t.left,i=t.right,s=s_.top,a=s_.bottom,c=s_.left,u=s_.right;return n===s&&r===a&&o===c&&i===u},V5t=function(t){var n=t.x,r=t.y,o=t.width,i=t.height,s=a_.x,a=a_.y,c=a_.width,u=a_.height;return n===s&&r===a&&o===c&&i===u},n9=function(e){L5t(t,e);function t(n,r){var o;return r===void 0&&(r="Failed to resolve asset ID from source"),o=e.call(this,r)||this,o.unresolvable=!0,o.input=n,o}return t}($$(Error));function H5t(e){var t=e;return!!(t.unresolvable&&"input"in t)}function U5t(e){return function(){try{return e.apply(void 0,arguments)}catch(t){if(H5t(t))return;throw t}}}var Bd="https://cdn.sanity.io",W5t=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,Y5t=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,MEe=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,FEe=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function q5t(e){return Dw(e)&&typeof e._ref=="string"}function G5t(e){return Dw(e)&&typeof e._id=="string"}function K5t(e){return Dw(e)&&typeof e.path=="string"}function Z5t(e){return Dw(e)&&typeof e.url=="string"}function X5t(e){var t=e;return Dw(t)&&t.asset&&typeof t.asset=="object"}function Dw(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function Q5t(e){if(MEe.test(e))return e;if(!e.startsWith(Bd+"/"))throw new n9('Failed to resolve path from URL "'+e+'"');var t=e.indexOf("?"),n=t===-1?void 0:t;return e.slice(Bd.length+1,n)}var J5t="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function ejt(e){var t=e.split("-"),n=t[1],r=t[2],o=t[3],i=(r||"").split("x").map(Number),s=i[0],a=i[1];if(!n||!r||!o||!(s>0)||!(a>0))throw new Error("Malformed asset ID '"+e+`'. Expected an id like "`+J5t+'".');return{type:"image",assetId:n,width:s,height:a,extension:o}}function tjt(e){var t=LEe(e),n=ejt(t),r=n.width,o=n.height,i=r/o;return{width:r,height:o,aspectRatio:i}}function LEe(e){var t=X5t(e)?e.asset:e,n="";typeof t=="string"?n=njt(t):q5t(t)?n=t._ref:G5t(t)?n=t._id:K5t(t)?n=Bg(Bd+"/"+t.path):Z5t(t)&&(n=Bg(t.url));var r=n&&FEe.test(n);if(!r)throw new n9(e);return n}var BEe=U5t(LEe);function njt(e){if(FEe.test(e))return e;if(e.indexOf(Bd+"/images")===0||e.indexOf(Bd+"/files")===0)return Bg(e);if(MEe.test(e))return Bg(Bd+"/"+e);if(ojt(e))return Bg(Bd+"/files/a/b/"+e);if(rjt(e))return Bg(Bd+"/images/a/b/"+e);throw new n9(e)}function Bg(e){var t=Q5t(e),n=t.split("/"),r=n[0],o=n[3],i=r.replace(/s$/,"");return i+"-"+o.replace(/\./g,"-")}function rjt(e){return Y5t.test(e)}function ojt(e){return W5t.test(e)}function cZ(e){var t=BEe(e);return t?t.startsWith("file-"):!1}function ib(e){var t=BEe(e);return t?t.startsWith("image-"):!1}function ijt(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}var sjt=ijt;const yT=Pe(sjt);var ajt=rT,ljt=H8,cjt=ljt(function(e,t,n){ajt(e,n,t)}),ujt=cjt;const r9=Pe(ujt);var djt=Lc;function fjt(e){return djt(e).toLowerCase()}var hjt=fjt;const lv=Pe(hjt);var pjt=D0,mjt=P0,gjt=uT,vjt=nT,yjt=mjt(function(e){return gjt(pjt(e,1,vjt,!0))}),bjt=yjt;const NEe=Pe(bjt);function xjt(){}var o9=xjt,wjt=$8,Cjt=o9;function uk(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}uk.prototype=wjt(Cjt.prototype);uk.prototype.constructor=uk;var i9=uk,uZ=GCe,_jt=uZ&&new uZ,Sjt=_jt,dZ=Sjt,Ejt=F8,kjt=dZ?function(e){return dZ.get(e)}:Ejt,zEe=kjt,jjt={},Tjt=jjt,fZ=Tjt,Ajt=Object.prototype,Djt=Ajt.hasOwnProperty;function Ijt(e){for(var t=e.name+"",n=fZ[t],r=Djt.call(fZ,t)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==e)return o.name}return t}var VEe=Ijt,Pjt=$8,Ojt=o9,Rjt=4294967295;function dk(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Rjt,this.__views__=[]}dk.prototype=Pjt(Ojt.prototype);dk.prototype.constructor=dk;var s9=dk,$jt=s9,Mjt=i9,Fjt=P8;function Ljt(e){if(e instanceof $jt)return e.clone();var t=new Mjt(e.__wrapped__,e.__chain__);return t.__actions__=Fjt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bjt=Ljt,Njt=s9,hZ=i9,zjt=o9,Vjt=Jr,Hjt=Ga,Ujt=Bjt,Wjt=Object.prototype,Yjt=Wjt.hasOwnProperty;function fk(e){if(Hjt(e)&&!Vjt(e)&&!(e instanceof Njt)){if(e instanceof hZ)return e;if(Yjt.call(e,"__wrapped__"))return Ujt(e)}return new hZ(e)}fk.prototype=zjt.prototype;fk.prototype.constructor=fk;var qjt=fk,Gjt=s9,Kjt=zEe,Zjt=VEe,Xjt=qjt;function Qjt(e){var t=Zjt(e),n=Xjt[t];if(typeof n!="function"||!(t in Gjt.prototype))return!1;if(e===n)return!0;var r=Kjt(n);return!!r&&e===r[0]}var Jjt=Qjt,pZ=i9,eTt=f8,tTt=zEe,mP=VEe,nTt=Jr,mZ=Jjt,rTt="Expected a function",oTt=8,iTt=32,sTt=128,aTt=256;function lTt(e){return eTt(function(t){var n=t.length,r=n,o=pZ.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if(typeof i!="function")throw new TypeError(rTt);if(o&&!s&&mP(i)=="wrapper")var s=new pZ([],!0)}for(r=s?r:n;++r<n;){i=t[r];var a=mP(i),c=a=="wrapper"?tTt(i):void 0;c&&mZ(c[0])&&c[1]==(sTt|oTt|iTt|aTt)&&!c[4].length&&c[9]==1?s=s[mP(c[0])].apply(s,c[3]):s=i.length==1&&mZ(i)?s[a]():s.thru(i)}return function(){var u=arguments,d=u[0];if(s&&u.length==1&&nTt(d))return s.plant(d).value();for(var f=0,p=n?t[f].apply(this,u):d;++f<n;)p=t[f].call(this,p);return p}})}var cTt=lTt,uTt=cTt,dTt=uTt(),fTt=dTt;const hTt=Pe(fTt);var pTt=a8;function mTt(e,t){for(var n=e.length;n--&&pTt(t,e[n],0)>-1;);return n}var gTt=mTt,vTt=a8;function yTt(e,t){for(var n=-1,r=e.length;++n<r&&vTt(t,e[n],0)>-1;);return n}var bTt=yTt,xTt=c_e,wTt=Pve,CTt=wSe,_Tt=gTt,STt=bTt,gZ=ASe,ETt=Lc;function kTt(e,t,n){if(e=ETt(e),e&&(n||t===void 0))return wTt(e);if(!e||!(t=xTt(t)))return e;var r=gZ(e),o=gZ(t),i=STt(r,o),s=_Tt(r,o)+1;return CTt(r,i,s).join("")}var jTt=kTt;const TTt=Pe(jTt);var l_,ATt=new Uint8Array(16);function DTt(){if(!l_&&(l_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!l_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l_(ATt)}const ITt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function PTt(e){return typeof e=="string"&&ITt.test(e)}var Yo=[];for(var gP=0;gP<256;++gP)Yo.push((gP+256).toString(16).substr(1));function OTt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Yo[e[t+0]]+Yo[e[t+1]]+Yo[e[t+2]]+Yo[e[t+3]]+"-"+Yo[e[t+4]]+Yo[e[t+5]]+"-"+Yo[e[t+6]]+Yo[e[t+7]]+"-"+Yo[e[t+8]]+Yo[e[t+9]]+"-"+Yo[e[t+10]]+Yo[e[t+11]]+Yo[e[t+12]]+Yo[e[t+13]]+Yo[e[t+14]]+Yo[e[t+15]]).toLowerCase();if(!PTt(n))throw TypeError("Stringified UUID is invalid");return n}function ld(e,t,n){e=e||{};var r=e.random||(e.rng||DTt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return OTt(r)}var RTt=v_e,vZ=Jr;function $Tt(e,t,n,r){return e==null?[]:(vZ(t)||(t=t==null?[]:[t]),n=r?void 0:n,vZ(n)||(n=n==null?[]:[n]),RTt(e,t,n))}var MTt=$Tt;const $0=Pe(MTt);function FTt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function M$(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Iw(e){const[t,n]=e;return[t,n]}function yZ(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function a9(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function bT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function l9(e){let t=e.map(f=>Iw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===jt?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===Gn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[Tn,i]),t[r[o-1]+1][0]=Gn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=xT(t)),t=HEe(t),s=1;s<t.length;){if(t[s-1][0]===Tn&&t[s][0]===Gn){const f=t[s-1][1],p=t[s][1],m=yZ(f,p),v=yZ(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[jt,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[jt,f.substring(0,v)]),t[s-1][0]=Gn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=Tn,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const bZ=/[^a-zA-Z0-9]/,xZ=/\s/,wZ=/[\r\n]/,LTt=/\n\r?\n$/,BTt=/^\r?\n\r?\n/;function HEe(e){const t=e.map(o=>Iw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(bZ),u=a.match(bZ),d=c&&s.match(xZ),f=u&&a.match(xZ),p=d&&s.match(wZ),m=f&&a.match(wZ),v=p&&o.match(LTt),g=m&&i.match(BTt);return v||g?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===jt&&t[r+1][0]===jt){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=bT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function xT(e){let t=e.map(u=>Iw(u));t.push([jt,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Gn:o++,s+=t[n][1],n++;break;case Tn:r++,i+=t[n][1],n++;break;case jt:r+o>1?(r!==0&&o!==0&&(a=a9(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===jt?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[jt,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=bT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[Tn,i]),n++),s.length&&(t.splice(n,0,[Gn,s]),n++),n++):n!==0&&t[n-1][0]===jt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===jt&&t[n+1][0]===jt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=xT(t)),t}function NTt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function c9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Iw(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===jt?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===Tn?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&NTt(c,u,d,f)===3)&&(n.splice(o[i-1],0,[Tn,s]),n[o[i-1]+1][0]=Gn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=xT(n)),n}function zTt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let y=0;y<a;y++)c[y]=-1,u[y]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let y=0;y<i&&!(Date.now()>n);y++){for(let x=-y+p;x<=y-m;x+=2){const b=s+x;let w;x===-y||x!==y&&c[b-1]<c[b+1]?w=c[b+1]:w=c[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(c[b]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return CZ(e,t,w,C,n)}}}for(let x=-y+v;x<=y-g;x+=2){const b=s+x;let w;x===-y||x!==y&&u[b-1]<u[b+1]?w=u[b+1]:w=u[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[b]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&c[_]!==-1){const S=c[_],E=s+S-_;if(w=r-w,S>=w)return CZ(e,t,S,E,n)}}}}return[[Tn,e],[Gn,t]]}function CZ(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=Hp(i,s,{checkLines:!1,deadline:o}),d=Hp(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function VTt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=_Z(r,o,Math.ceil(r.length/4)),s=_Z(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function _Z(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=a9(e.slice(n),t.slice(o)),f=bT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function HTt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function UTt(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function WTt(e,t,n){let r=e,o=t;const i=UTt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Hp(r,o,{checkLines:!1,deadline:n.deadline});HTt(a,s),a=l9(a),a.push([jt,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case Gn:d++,p+=a[c][1];break;case Tn:u++,f+=a[c][1];break;case jt:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=Hp(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(c,0,m[v]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function YTt(e,t,n){let r;if(!e)return[[Gn,t]];if(!t)return[[Tn,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Gn,o.substring(0,s)],[jt,i],[Gn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=Tn,r[2][0]=Tn),r;if(i.length===1)return[[Tn,e],[Gn,t]];const a=VTt(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Hp(c,d,n),v=Hp(u,f,n);return m.concat([[jt,p]],v)}return n.checkLines&&e.length>100&&t.length>100?WTt(e,t,n):zTt(e,t,n.deadline)}const Tn=-1,Gn=1,jt=0;function Pw(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Hp(e,t,GTt(n||{}));return ZTt(r),r}function Hp(e,t,n){let r=e,o=t;if(r===o)return r?[[jt,r]]:[];let i=a9(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=bT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=YTt(r,o,n);return s&&c.unshift([jt,s]),a&&c.push([jt,a]),c=xT(c),c}function qTt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function GTt(e){return{checkLines:!0,deadline:qTt(e.timeout||1),...e}}function c_(e,t,n){return n===1?e+t:t+e}function u_(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function KTt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function SZ(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Gn){o===null&&(o=s);continue}else if(u===Tn){i===null&&(i=s);continue}else if(u===jt){if(o===null&&i===null){const[f,p]=u_(e[t][1],n);e[t][1]=f,e[s][1]=c_(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&KTt(e,o,i,n)){const[u,d]=u_(e[o][1],r),[f]=u_(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=c_(e[t][1],d,n);return}const[a,c]=u_(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Gn,c]),i!==null&&i>=s&&i++):e[o][1]=c_(e[o][1],c,r),i===null?e.splice(s,0,[Tn,c]):e[i][1]=c_(e[i][1],c,r)}function ZTt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];FTt(i)&&n===jt&&SZ(e,t,1),M$(o)&&n===jt&&SZ(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const XTt={threshold:.5,distance:1e3};function QTt(e){return{...XTt,...e}}const JTt=32;function eAt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>JTt)throw new Error("Pattern too long for this browser.");const o=QTt(r),i=tAt(t);function s(v,g){const y=v/t.length,x=Math.abs(n-g);return o.distance?y+x/o.distance:x?1:y}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const y=Math.min(n+f,e.length)+t.length,x=new Array(y+2);x[y+1]=(1<<v)-1;for(let b=y;b>=g;b--){const w=i[e.charAt(b-1)];if(v===0?x[b]=(x[b+1]<<1|1)&w:x[b]=(x[b+1]<<1|1)&w|((m[b+1]|m[b])<<1|1)|m[b+1],x[b]&u){const C=s(v,b-1);if(C<=a)if(a=C,c=b-1,c>n)g=Math.max(1,2*n-c);else break}}if(s(v+1,n)>a)break;m=x}return c}function tAt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function vP(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return eAt(e,t,r)}function hk(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function u9(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Gn&&(t[n]=e[n][1]);return t.join("")}function UEe(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Tn&&(t[n]=e[n][1]);return t.join("")}function Yd(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=WEe(r)}return t}function nAt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=WEe(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>Iw(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function WEe(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Id=32,d9=4,rAt={margin:4};function yP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...rAt,...e}}function YEe(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=Pw(e,t,{checkLines:!0});return r.length>2&&(r=l9(r),r=c9(r)),bP(e,r,yP(n))}if(e&&Array.isArray(e)&&typeof t>"u")return bP(u9(e),e,yP(n));if(typeof e=="string"&&t&&Array.isArray(t))return bP(e,t,yP(n));throw new Error("Unknown call format to make()")}function bP(e,t,n){if(t.length===0)return[];const r=[];let o=hk(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,y=g.length,x=Yd(g);switch(!i&&v!==jt&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),v){case Gn:o.diffs[i++]=m,o.length2+=y,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case Tn:o.length1+=y,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+y);break;case jt:y<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=y,o.length2+=y,o.utf8Length1+=x,o.utf8Length2+=x):y>=2*n.margin&&i&&(EZ(o,d,n),r.push(o),o=hk(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}v!==Gn&&(s+=y,c+=x),v!==Tn&&(a+=y,u+=x)}return i&&(EZ(o,d,n),r.push(o)),r}function EZ(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Id-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&M$(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([jt,s]);const a=s.length,c=Yd(s);let u=e.start2+e.length1+o;u<t.length&&M$(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([jt,d]);const f=d.length,p=Yd(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function oAt(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Gn:n+=s.length;break;case Tn:r+=s.length;break;case jt:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function kZ(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Gn&&(n+=e[s][1].length),e[s][0]!==Tn&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===Tn?i:i+(t-o)}function iAt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d9;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==jt)i.unshift([jt,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==jt)i.push([jt,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function sAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d9;const n=Id;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=hk(i-a.length,s-a.length);let u=!0;if(a!==""){const p=Yd(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([jt,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=Yd(m);if(p===Gn){c.length2+=m.length,c.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&c.diffs.push(g),u=!1}else p===Tn&&c.diffs.length===1&&c.diffs[0][0]===jt&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=v,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),v=Yd(m),c.length1+=m.length,c.utf8Length1+=v,i+=m.length,p===jt?(c.length2+=m.length,c.utf8Length2+=v,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=UEe(c.diffs),a=a.substring(a.length-t);const d=u9(o.diffs).substring(0,t),f=Yd(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===jt?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([jt,d])),u||e.splice(++r,0,c)}}}function qEe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=nAt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||d9,s=n.deleteThreshold||.4,a=iAt(o,i);r=a+r+a,sAt(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=u9(o[d].diffs);let m,v=-1;if(p.length>Id?(m=vP(r,p.substring(0,Id),f),m!==-1&&(v=vP(r,p.substring(p.length-Id),f+p.length-Id),(v===-1||m>=v)&&(m=-1))):m=vP(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+Id),p===g)r=r.substring(0,m)+UEe(o[d].diffs)+r.substring(m+p.length);else{let y=Pw(p,g,{checkLines:!1});if(p.length>Id&&oAt(y)/p.length>s)u[d]=!1;else{y=HEe(y);let x=0,b=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==jt&&(b=kZ(y,x)),C[0]===Gn?r=r.substring(0,m+b)+C[1]+r.substring(m+b):C[0]===Tn&&(r=r.substring(0,m+b)+r.substring(m+kZ(y,x+C[1].length))),C[0]!==Tn&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function GEe(e){return e.map(aAt).join("")}function aAt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Gn:u="+";break;case Tn:u="-";break;case jt:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const lAt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function KEe(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(lAt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=hk(d_(o[1]),d_(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=d_(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=d_(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=Yd(c)-c.length;if(a==="-")i.diffs.push([Tn,c]),i.length1-=u;else if(a==="+")i.diffs.push([Gn,c]),i.length2-=u;else if(a===" ")i.diffs.push([jt,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function d_(e){return parseInt(e,10)}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var ZEe;function Le(){return ZEe.apply(null,arguments)}function cAt(e){ZEe=e}function Rl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function bp(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f9(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(dn(e,t))return!1;return!0}function cs(e){return e===void 0}function Uu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Ow(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function XEe(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function qd(e,t){for(var n in t)dn(t,n)&&(e[n]=t[n]);return dn(t,"toString")&&(e.toString=t.toString),dn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Nc(e,t,n,r){return wke(e,t,n,r,!0).utc()}function uAt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Tt(e){return e._pf==null&&(e._pf=uAt()),e._pf}var F$;Array.prototype.some?F$=Array.prototype.some:F$=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function h9(e){if(e._isValid==null){var t=Tt(e),n=F$.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function wT(e){var t=Nc(NaN);return e!=null?qd(Tt(t),e):Tt(t).userInvalidated=!0,t}var jZ=Le.momentProperties=[],xP=!1;function p9(e,t){var n,r,o,i=jZ.length;if(cs(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),cs(t._i)||(e._i=t._i),cs(t._f)||(e._f=t._f),cs(t._l)||(e._l=t._l),cs(t._strict)||(e._strict=t._strict),cs(t._tzm)||(e._tzm=t._tzm),cs(t._isUTC)||(e._isUTC=t._isUTC),cs(t._offset)||(e._offset=t._offset),cs(t._pf)||(e._pf=Tt(t)),cs(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=jZ[n],o=t[r],cs(o)||(e[r]=o);return e}function Rw(e){p9(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),xP===!1&&(xP=!0,Le.updateOffset(this),xP=!1)}function $l(e){return e instanceof Rw||e!=null&&e._isAMomentObject!=null}function QEe(e){Le.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Qa(e,t){var n=!0;return qd(function(){if(Le.deprecationHandler!=null&&Le.deprecationHandler(null,e),n){var r=[],o,i,s,a=arguments.length;for(i=0;i<a;i++){if(o="",typeof arguments[i]=="object"){o+=`
[`+i+"] ";for(s in arguments[0])dn(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}QEe(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var TZ={};function JEe(e,t){Le.deprecationHandler!=null&&Le.deprecationHandler(e,t),TZ[e]||(QEe(t),TZ[e]=!0)}Le.suppressDeprecationWarnings=!1;Le.deprecationHandler=null;function zc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function dAt(e){var t,n;for(n in e)dn(e,n)&&(t=e[n],zc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function L$(e,t){var n=qd({},e),r;for(r in t)dn(t,r)&&(bp(e[r])&&bp(t[r])?(n[r]={},qd(n[r],e[r]),qd(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)dn(e,r)&&!dn(t,r)&&bp(e[r])&&(n[r]=qd({},n[r]));return n}function m9(e){e!=null&&this.set(e)}var B$;Object.keys?B$=Object.keys:B$=function(e){var t,n=[];for(t in e)dn(e,t)&&n.push(t);return n};var fAt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function hAt(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return zc(r)?r.call(t,n):r}function Dc(e,t,n){var r=""+Math.abs(e),o=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var g9=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,f_=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,wP={},cv={};function rt(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(cv[e]=o),t&&(cv[t[0]]=function(){return Dc(o.apply(this,arguments),t[1],t[2])}),n&&(cv[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function pAt(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function mAt(e){var t=e.match(g9),n,r;for(n=0,r=t.length;n<r;n++)cv[t[n]]?t[n]=cv[t[n]]:t[n]=pAt(t[n]);return function(o){var i="",s;for(s=0;s<r;s++)i+=zc(t[s])?t[s].call(o,e):t[s];return i}}function J2(e,t){return e.isValid()?(t=eke(t,e.localeData()),wP[t]=wP[t]||mAt(t),wP[t](e)):e.localeData().invalidDate()}function eke(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(f_.lastIndex=0;n>=0&&f_.test(e);)e=e.replace(f_,r),f_.lastIndex=0,n-=1;return e}var gAt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function vAt(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(g9).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var yAt="Invalid date";function bAt(){return this._invalidDate}var xAt="%d",wAt=/\d{1,2}/;function CAt(e){return this._ordinal.replace("%d",e)}var _At={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function SAt(e,t,n,r){var o=this._relativeTime[n];return zc(o)?o(e,t,n,r):o.replace(/%d/i,e)}function EAt(e,t){var n=this._relativeTime[e>0?"future":"past"];return zc(n)?n(t):n.replace(/%s/i,t)}var sb={};function $i(e,t){var n=e.toLowerCase();sb[n]=sb[n+"s"]=sb[t]=e}function Ja(e){return typeof e=="string"?sb[e]||sb[e.toLowerCase()]:void 0}function v9(e){var t={},n,r;for(r in e)dn(e,r)&&(n=Ja(r),n&&(t[n]=e[r]));return t}var tke={};function Mi(e,t){tke[e]=t}function kAt(e){var t=[],n;for(n in e)dn(e,n)&&t.push({unit:n,priority:tke[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}function CT(e){return e%4===0&&e%100!==0||e%400===0}function ja(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ft(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=ja(t)),n}function M0(e,t){return function(n){return n!=null?(nke(this,e,n),Le.updateOffset(this,t),this):pk(this,e)}}function pk(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function nke(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&CT(e.year())&&e.month()===1&&e.date()===29?(n=Ft(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),TT(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function jAt(e){return e=Ja(e),zc(this[e])?this[e]():this}function TAt(e,t){if(typeof e=="object"){e=v9(e);var n=kAt(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=Ja(e),zc(this[e]))return this[e](t);return this}var rke=/\d/,fa=/\d\d/,oke=/\d{3}/,y9=/\d{4}/,_T=/[+-]?\d{6}/,hr=/\d\d?/,ike=/\d\d\d\d?/,ske=/\d\d\d\d\d\d?/,ST=/\d{1,3}/,b9=/\d{1,4}/,ET=/[+-]?\d{1,6}/,F0=/\d+/,kT=/[+-]?\d+/,AAt=/Z|[+-]\d\d:?\d\d/gi,jT=/Z|[+-]\d\d(?::?\d\d)?/gi,DAt=/[+-]?\d+(\.\d{1,3})?/,$w=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,mk;mk={};function Ue(e,t,n){mk[e]=zc(t)?t:function(r,o){return r&&n?n:t}}function IAt(e,t){return dn(mk,e)?mk[e](t._strict,t._locale):new RegExp(PAt(e))}function PAt(e){return Ys(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,i){return n||r||o||i}))}function Ys(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var N$={};function Rn(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),Uu(t)&&(r=function(i,s){s[t]=Ft(i)}),o=e.length,n=0;n<o;n++)N$[e[n]]=r}function Mw(e,t){Rn(e,function(n,r,o,i){o._w=o._w||{},t(n,o._w,o,i)})}function OAt(e,t,n){t!=null&&dn(N$,e)&&N$[e](t,n._a,n,e)}var ki=0,gu=1,gc=2,Eo=3,bl=4,vu=5,ep=6,RAt=7,$At=8;function MAt(e,t){return(e%t+t)%t}var Gr;Array.prototype.indexOf?Gr=Array.prototype.indexOf:Gr=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function TT(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=MAt(t,12);return e+=(t-n)/12,n===1?CT(e)?29:28:31-n%7%2}rt("M",["MM",2],"Mo",function(){return this.month()+1});rt("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});rt("MMMM",0,0,function(e){return this.localeData().months(this,e)});$i("month","M");Mi("month",8);Ue("M",hr);Ue("MM",hr,fa);Ue("MMM",function(e,t){return t.monthsShortRegex(e)});Ue("MMMM",function(e,t){return t.monthsRegex(e)});Rn(["M","MM"],function(e,t){t[gu]=Ft(e)-1});Rn(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[gu]=o:Tt(n).invalidMonth=e});var FAt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ake="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),lke=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,LAt=$w,BAt=$w;function NAt(e,t){return e?Rl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||lke).test(t)?"format":"standalone"][e.month()]:Rl(this._months)?this._months:this._months.standalone}function zAt(e,t){return e?Rl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[lke.test(t)?"format":"standalone"][e.month()]:Rl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function VAt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Nc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(o=Gr.call(this._shortMonthsParse,s),o!==-1?o:null):(o=Gr.call(this._longMonthsParse,s),o!==-1?o:null):t==="MMM"?(o=Gr.call(this._shortMonthsParse,s),o!==-1?o:(o=Gr.call(this._longMonthsParse,s),o!==-1?o:null)):(o=Gr.call(this._longMonthsParse,s),o!==-1?o:(o=Gr.call(this._shortMonthsParse,s),o!==-1?o:null))}function HAt(e,t,n){var r,o,i;if(this._monthsParseExact)return VAt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=Nc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function cke(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ft(t);else if(t=e.localeData().monthsParse(t),!Uu(t))return e}return n=Math.min(e.date(),TT(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function uke(e){return e!=null?(cke(this,e),Le.updateOffset(this,!0),this):pk(this,"Month")}function UAt(){return TT(this.year(),this.month())}function WAt(e){return this._monthsParseExact?(dn(this,"_monthsRegex")||dke.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(dn(this,"_monthsShortRegex")||(this._monthsShortRegex=LAt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function YAt(e){return this._monthsParseExact?(dn(this,"_monthsRegex")||dke.call(this),e?this._monthsStrictRegex:this._monthsRegex):(dn(this,"_monthsRegex")||(this._monthsRegex=BAt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function dke(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],o,i;for(o=0;o<12;o++)i=Nc([2e3,o]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)t[o]=Ys(t[o]),n[o]=Ys(n[o]);for(o=0;o<24;o++)r[o]=Ys(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}rt("Y",0,0,function(){var e=this.year();return e<=9999?Dc(e,4):"+"+e});rt(0,["YY",2],0,function(){return this.year()%100});rt(0,["YYYY",4],0,"year");rt(0,["YYYYY",5],0,"year");rt(0,["YYYYYY",6,!0],0,"year");$i("year","y");Mi("year",1);Ue("Y",kT);Ue("YY",hr,fa);Ue("YYYY",b9,y9);Ue("YYYYY",ET,_T);Ue("YYYYYY",ET,_T);Rn(["YYYYY","YYYYYY"],ki);Rn("YYYY",function(e,t){t[ki]=e.length===2?Le.parseTwoDigitYear(e):Ft(e)});Rn("YY",function(e,t){t[ki]=Le.parseTwoDigitYear(e)});Rn("Y",function(e,t){t[ki]=parseInt(e,10)});function ab(e){return CT(e)?366:365}Le.parseTwoDigitYear=function(e){return Ft(e)+(Ft(e)>68?1900:2e3)};var fke=M0("FullYear",!0);function qAt(){return CT(this.year())}function GAt(e,t,n,r,o,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,o,i,s),a}function nx(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function gk(e,t,n){var r=7+t-n,o=(7+nx(e,0,r).getUTCDay()-t)%7;return-o+r-1}function hke(e,t,n,r,o){var i=(7+n-r)%7,s=gk(e,r,o),a=1+7*(t-1)+i+s,c,u;return a<=0?(c=e-1,u=ab(c)+a):a>ab(e)?(c=e+1,u=a-ab(e)):(c=e,u=a),{year:c,dayOfYear:u}}function rx(e,t,n){var r=gk(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,i,s;return o<1?(s=e.year()-1,i=o+Eu(s,t,n)):o>Eu(e.year(),t,n)?(i=o-Eu(e.year(),t,n),s=e.year()+1):(s=e.year(),i=o),{week:i,year:s}}function Eu(e,t,n){var r=gk(e,t,n),o=gk(e+1,t,n);return(ab(e)-r+o)/7}rt("w",["ww",2],"wo","week");rt("W",["WW",2],"Wo","isoWeek");$i("week","w");$i("isoWeek","W");Mi("week",5);Mi("isoWeek",5);Ue("w",hr);Ue("ww",hr,fa);Ue("W",hr);Ue("WW",hr,fa);Mw(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Ft(e)});function KAt(e){return rx(e,this._week.dow,this._week.doy).week}var ZAt={dow:0,doy:6};function XAt(){return this._week.dow}function QAt(){return this._week.doy}function JAt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function eDt(e){var t=rx(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}rt("d",0,"do","day");rt("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});rt("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});rt("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});rt("e",0,0,"weekday");rt("E",0,0,"isoWeekday");$i("day","d");$i("weekday","e");$i("isoWeekday","E");Mi("day",11);Mi("weekday",11);Mi("isoWeekday",11);Ue("d",hr);Ue("e",hr);Ue("E",hr);Ue("dd",function(e,t){return t.weekdaysMinRegex(e)});Ue("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ue("dddd",function(e,t){return t.weekdaysRegex(e)});Mw(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:Tt(n).invalidWeekday=e});Mw(["d","e","E"],function(e,t,n,r){t[r]=Ft(e)});function tDt(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function nDt(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function x9(e,t){return e.slice(t,7).concat(e.slice(0,t))}var rDt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pke="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),oDt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),iDt=$w,sDt=$w,aDt=$w;function lDt(e,t){var n=Rl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?x9(n,this._week.dow):e?n[e.day()]:n}function cDt(e){return e===!0?x9(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function uDt(e){return e===!0?x9(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function dDt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Nc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(o=Gr.call(this._weekdaysParse,s),o!==-1?o:null):t==="ddd"?(o=Gr.call(this._shortWeekdaysParse,s),o!==-1?o:null):(o=Gr.call(this._minWeekdaysParse,s),o!==-1?o:null):t==="dddd"?(o=Gr.call(this._weekdaysParse,s),o!==-1||(o=Gr.call(this._shortWeekdaysParse,s),o!==-1)?o:(o=Gr.call(this._minWeekdaysParse,s),o!==-1?o:null)):t==="ddd"?(o=Gr.call(this._shortWeekdaysParse,s),o!==-1||(o=Gr.call(this._weekdaysParse,s),o!==-1)?o:(o=Gr.call(this._minWeekdaysParse,s),o!==-1?o:null)):(o=Gr.call(this._minWeekdaysParse,s),o!==-1||(o=Gr.call(this._weekdaysParse,s),o!==-1)?o:(o=Gr.call(this._shortWeekdaysParse,s),o!==-1?o:null))}function fDt(e,t,n){var r,o,i;if(this._weekdaysParseExact)return dDt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=Nc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function hDt(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=tDt(e,this.localeData()),this.add(e-t,"d")):t}function pDt(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function mDt(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=nDt(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function gDt(e){return this._weekdaysParseExact?(dn(this,"_weekdaysRegex")||w9.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(dn(this,"_weekdaysRegex")||(this._weekdaysRegex=iDt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function vDt(e){return this._weekdaysParseExact?(dn(this,"_weekdaysRegex")||w9.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(dn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=sDt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function yDt(e){return this._weekdaysParseExact?(dn(this,"_weekdaysRegex")||w9.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(dn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=aDt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function w9(){function e(d,f){return f.length-d.length}var t=[],n=[],r=[],o=[],i,s,a,c,u;for(i=0;i<7;i++)s=Nc([2e3,1]).day(i),a=Ys(this.weekdaysMin(s,"")),c=Ys(this.weekdaysShort(s,"")),u=Ys(this.weekdays(s,"")),t.push(a),n.push(c),r.push(u),o.push(a),o.push(c),o.push(u);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function C9(){return this.hours()%12||12}function bDt(){return this.hours()||24}rt("H",["HH",2],0,"hour");rt("h",["hh",2],0,C9);rt("k",["kk",2],0,bDt);rt("hmm",0,0,function(){return""+C9.apply(this)+Dc(this.minutes(),2)});rt("hmmss",0,0,function(){return""+C9.apply(this)+Dc(this.minutes(),2)+Dc(this.seconds(),2)});rt("Hmm",0,0,function(){return""+this.hours()+Dc(this.minutes(),2)});rt("Hmmss",0,0,function(){return""+this.hours()+Dc(this.minutes(),2)+Dc(this.seconds(),2)});function mke(e,t){rt(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}mke("a",!0);mke("A",!1);$i("hour","h");Mi("hour",13);function gke(e,t){return t._meridiemParse}Ue("a",gke);Ue("A",gke);Ue("H",hr);Ue("h",hr);Ue("k",hr);Ue("HH",hr,fa);Ue("hh",hr,fa);Ue("kk",hr,fa);Ue("hmm",ike);Ue("hmmss",ske);Ue("Hmm",ike);Ue("Hmmss",ske);Rn(["H","HH"],Eo);Rn(["k","kk"],function(e,t,n){var r=Ft(e);t[Eo]=r===24?0:r});Rn(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Rn(["h","hh"],function(e,t,n){t[Eo]=Ft(e),Tt(n).bigHour=!0});Rn("hmm",function(e,t,n){var r=e.length-2;t[Eo]=Ft(e.substr(0,r)),t[bl]=Ft(e.substr(r)),Tt(n).bigHour=!0});Rn("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[Eo]=Ft(e.substr(0,r)),t[bl]=Ft(e.substr(r,2)),t[vu]=Ft(e.substr(o)),Tt(n).bigHour=!0});Rn("Hmm",function(e,t,n){var r=e.length-2;t[Eo]=Ft(e.substr(0,r)),t[bl]=Ft(e.substr(r))});Rn("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[Eo]=Ft(e.substr(0,r)),t[bl]=Ft(e.substr(r,2)),t[vu]=Ft(e.substr(o))});function xDt(e){return(e+"").toLowerCase().charAt(0)==="p"}var wDt=/[ap]\.?m?\.?/i,CDt=M0("Hours",!0);function _Dt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var vke={calendar:fAt,longDateFormat:gAt,invalidDate:yAt,ordinal:xAt,dayOfMonthOrdinalParse:wAt,relativeTime:_At,months:FAt,monthsShort:ake,week:ZAt,weekdays:rDt,weekdaysMin:oDt,weekdaysShort:pke,meridiemParse:wDt},br={},M1={},ox;function SDt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function AZ(e){return e&&e.toLowerCase().replace("_","-")}function EDt(e){for(var t=0,n,r,o,i;t<e.length;){for(i=AZ(e[t]).split("-"),n=i.length,r=AZ(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=AT(i.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&SDt(i,r)>=n-1)break;n--}t++}return ox}function kDt(e){return e.match("^[^/\\\\]*$")!=null}function AT(e){var t=null,n;if(br[e]===void 0&&typeof module<"u"&&module&&module.exports&&kDt(e))try{t=ox._abbr,n=require,n("./locale/"+e),vf(t)}catch{br[e]=null}return br[e]}function vf(e,t){var n;return e&&(cs(t)?n=cd(e):n=_9(e,t),n?ox=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ox._abbr}function _9(e,t){if(t!==null){var n,r=vke;if(t.abbr=e,br[e]!=null)JEe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=br[e]._config;else if(t.parentLocale!=null)if(br[t.parentLocale]!=null)r=br[t.parentLocale]._config;else if(n=AT(t.parentLocale),n!=null)r=n._config;else return M1[t.parentLocale]||(M1[t.parentLocale]=[]),M1[t.parentLocale].push({name:e,config:t}),null;return br[e]=new m9(L$(r,t)),M1[e]&&M1[e].forEach(function(o){_9(o.name,o.config)}),vf(e),br[e]}else return delete br[e],null}function jDt(e,t){if(t!=null){var n,r,o=vke;br[e]!=null&&br[e].parentLocale!=null?br[e].set(L$(br[e]._config,t)):(r=AT(e),r!=null&&(o=r._config),t=L$(o,t),r==null&&(t.abbr=e),n=new m9(t),n.parentLocale=br[e],br[e]=n),vf(e)}else br[e]!=null&&(br[e].parentLocale!=null?(br[e]=br[e].parentLocale,e===vf()&&vf(e)):br[e]!=null&&delete br[e]);return br[e]}function cd(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ox;if(!Rl(e)){if(t=AT(e),t)return t;e=[e]}return EDt(e)}function TDt(){return B$(br)}function S9(e){var t,n=e._a;return n&&Tt(e).overflow===-2&&(t=n[gu]<0||n[gu]>11?gu:n[gc]<1||n[gc]>TT(n[ki],n[gu])?gc:n[Eo]<0||n[Eo]>24||n[Eo]===24&&(n[bl]!==0||n[vu]!==0||n[ep]!==0)?Eo:n[bl]<0||n[bl]>59?bl:n[vu]<0||n[vu]>59?vu:n[ep]<0||n[ep]>999?ep:-1,Tt(e)._overflowDayOfYear&&(t<ki||t>gc)&&(t=gc),Tt(e)._overflowWeeks&&t===-1&&(t=RAt),Tt(e)._overflowWeekday&&t===-1&&(t=$At),Tt(e).overflow=t),e}var ADt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,DDt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,IDt=/Z|[+-]\d\d(?::?\d\d)?/,h_=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],CP=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],PDt=/^\/?Date\((-?\d+)/i,ODt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,RDt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function yke(e){var t,n,r=e._i,o=ADt.exec(r)||DDt.exec(r),i,s,a,c,u=h_.length,d=CP.length;if(o){for(Tt(e).iso=!0,t=0,n=u;t<n;t++)if(h_[t][1].exec(o[1])){s=h_[t][0],i=h_[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(o[3]){for(t=0,n=d;t<n;t++)if(CP[t][1].exec(o[3])){a=(o[2]||" ")+CP[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(o[4])if(IDt.exec(o[4]))c="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(c||""),k9(e)}else e._isValid=!1}function $Dt(e,t,n,r,o,i){var s=[MDt(e),ake.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}function MDt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function FDt(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function LDt(e,t,n){if(e){var r=pke.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return Tt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function BDt(e,t,n){if(e)return RDt[e];if(t)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return i*60+o}function bke(e){var t=ODt.exec(FDt(e._i)),n;if(t){if(n=$Dt(t[4],t[3],t[2],t[5],t[6],t[7]),!LDt(t[1],n,e))return;e._a=n,e._tzm=BDt(t[8],t[9],t[10]),e._d=nx.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Tt(e).rfc2822=!0}else e._isValid=!1}function NDt(e){var t=PDt.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(yke(e),e._isValid===!1)delete e._isValid;else return;if(bke(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Le.createFromInputFallback(e)}Le.createFromInputFallback=Qa("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function fg(e,t,n){return e??t??n}function zDt(e){var t=new Date(Le.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function E9(e){var t,n,r=[],o,i,s;if(!e._d){for(o=zDt(e),e._w&&e._a[gc]==null&&e._a[gu]==null&&VDt(e),e._dayOfYear!=null&&(s=fg(e._a[ki],o[ki]),(e._dayOfYear>ab(s)||e._dayOfYear===0)&&(Tt(e)._overflowDayOfYear=!0),n=nx(s,0,e._dayOfYear),e._a[gu]=n.getUTCMonth(),e._a[gc]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Eo]===24&&e._a[bl]===0&&e._a[vu]===0&&e._a[ep]===0&&(e._nextDay=!0,e._a[Eo]=0),e._d=(e._useUTC?nx:GAt).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Eo]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(Tt(e).weekdayMismatch=!0)}}function VDt(e){var t,n,r,o,i,s,a,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,s=4,n=fg(t.GG,e._a[ki],rx(cr(),1,4).year),r=fg(t.W,1),o=fg(t.E,1),(o<1||o>7)&&(c=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,u=rx(cr(),i,s),n=fg(t.gg,e._a[ki],u.year),r=fg(t.w,u.week),t.d!=null?(o=t.d,(o<0||o>6)&&(c=!0)):t.e!=null?(o=t.e+i,(t.e<0||t.e>6)&&(c=!0)):o=i),r<1||r>Eu(n,i,s)?Tt(e)._overflowWeeks=!0:c!=null?Tt(e)._overflowWeekday=!0:(a=hke(n,r,o,i,s),e._a[ki]=a.year,e._dayOfYear=a.dayOfYear)}Le.ISO_8601=function(){};Le.RFC_2822=function(){};function k9(e){if(e._f===Le.ISO_8601){yke(e);return}if(e._f===Le.RFC_2822){bke(e);return}e._a=[],Tt(e).empty=!0;var t=""+e._i,n,r,o,i,s,a=t.length,c=0,u,d;for(o=eke(e._f,e._locale).match(g9)||[],d=o.length,n=0;n<d;n++)i=o[n],r=(t.match(IAt(i,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&Tt(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),c+=r.length),cv[i]?(r?Tt(e).empty=!1:Tt(e).unusedTokens.push(i),OAt(i,r,e)):e._strict&&!r&&Tt(e).unusedTokens.push(i);Tt(e).charsLeftOver=a-c,t.length>0&&Tt(e).unusedInput.push(t),e._a[Eo]<=12&&Tt(e).bigHour===!0&&e._a[Eo]>0&&(Tt(e).bigHour=void 0),Tt(e).parsedDateParts=e._a.slice(0),Tt(e).meridiem=e._meridiem,e._a[Eo]=HDt(e._locale,e._a[Eo],e._meridiem),u=Tt(e).era,u!==null&&(e._a[ki]=e._locale.erasConvertYear(u,e._a[ki])),E9(e),S9(e)}function HDt(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function UDt(e){var t,n,r,o,i,s,a=!1,c=e._f.length;if(c===0){Tt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<c;o++)i=0,s=!1,t=p9({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],k9(t),h9(t)&&(s=!0),i+=Tt(t).charsLeftOver,i+=Tt(t).unusedTokens.length*10,Tt(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||s)&&(r=i,n=t,s&&(a=!0));qd(e,n||t)}function WDt(e){if(!e._d){var t=v9(e._i),n=t.day===void 0?t.date:t.day;e._a=XEe([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),E9(e)}}function YDt(e){var t=new Rw(S9(xke(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function xke(e){var t=e._i,n=e._f;return e._locale=e._locale||cd(e._l),t===null||n===void 0&&t===""?wT({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),$l(t)?new Rw(S9(t)):(Ow(t)?e._d=t:Rl(n)?UDt(e):n?k9(e):qDt(e),h9(e)||(e._d=null),e))}function qDt(e){var t=e._i;cs(t)?e._d=new Date(Le.now()):Ow(t)?e._d=new Date(t.valueOf()):typeof t=="string"?NDt(e):Rl(t)?(e._a=XEe(t.slice(0),function(n){return parseInt(n,10)}),E9(e)):bp(t)?WDt(e):Uu(t)?e._d=new Date(t):Le.createFromInputFallback(e)}function wke(e,t,n,r,o){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(bp(e)&&f9(e)||Rl(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=r,YDt(i)}function cr(e,t,n,r){return wke(e,t,n,r,!1)}var GDt=Qa("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=cr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:wT()}),KDt=Qa("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=cr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:wT()});function Cke(e,t){var n,r;if(t.length===1&&Rl(t[0])&&(t=t[0]),!t.length)return cr();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function ZDt(){var e=[].slice.call(arguments,0);return Cke("isBefore",e)}function XDt(){var e=[].slice.call(arguments,0);return Cke("isAfter",e)}var QDt=function(){return Date.now?Date.now():+new Date},F1=["year","quarter","month","week","day","hour","minute","second","millisecond"];function JDt(e){var t,n=!1,r,o=F1.length;for(t in e)if(dn(e,t)&&!(Gr.call(F1,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[F1[r]]){if(n)return!1;parseFloat(e[F1[r]])!==Ft(e[F1[r]])&&(n=!0)}return!0}function eIt(){return this._isValid}function tIt(){return Vl(NaN)}function DT(e){var t=v9(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=JDt(t),this._milliseconds=+d+u*1e3+c*6e4+a*1e3*60*60,this._days=+s+i*7,this._months=+o+r*3+n*12,this._data={},this._locale=cd(),this._bubble()}function eS(e){return e instanceof DT}function z$(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function nIt(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&Ft(e[s])!==Ft(t[s]))&&i++;return i+o}function _ke(e,t){rt(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Dc(~~(n/60),2)+t+Dc(~~n%60,2)})}_ke("Z",":");_ke("ZZ","");Ue("Z",jT);Ue("ZZ",jT);Rn(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=j9(jT,e)});var rIt=/([\+\-]|\d\d)/gi;function j9(e,t){var n=(t||"").match(e),r,o,i;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(rIt)||["-",0,0],i=+(o[1]*60)+Ft(o[2]),i===0?0:o[0]==="+"?i:-i)}function T9(e,t){var n,r;return t._isUTC?(n=t.clone(),r=($l(e)||Ow(e)?e.valueOf():cr(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Le.updateOffset(n,!1),n):cr(e).local()}function V$(e){return-Math.round(e._d.getTimezoneOffset())}Le.updateOffset=function(){};function oIt(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=j9(jT,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=V$(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?kke(this,Vl(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Le.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:V$(this)}function iIt(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function sIt(e){return this.utcOffset(0,e)}function aIt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(V$(this),"m")),this}function lIt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=j9(AAt,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function cIt(e){return this.isValid()?(e=e?cr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function uIt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function dIt(){if(!cs(this._isDSTShifted))return this._isDSTShifted;var e={},t;return p9(e,this),e=xke(e),e._a?(t=e._isUTC?Nc(e._a):cr(e._a),this._isDSTShifted=this.isValid()&&nIt(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function fIt(){return this.isValid()?!this._isUTC:!1}function hIt(){return this.isValid()?this._isUTC:!1}function Ske(){return this.isValid()?this._isUTC&&this._offset===0:!1}var pIt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,mIt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Vl(e,t){var n=e,r=null,o,i,s;return eS(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Uu(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=pIt.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:Ft(r[gc])*o,h:Ft(r[Eo])*o,m:Ft(r[bl])*o,s:Ft(r[vu])*o,ms:Ft(z$(r[ep]*1e3))*o}):(r=mIt.exec(e))?(o=r[1]==="-"?-1:1,n={y:bh(r[2],o),M:bh(r[3],o),w:bh(r[4],o),d:bh(r[5],o),h:bh(r[6],o),m:bh(r[7],o),s:bh(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=gIt(cr(n.from),cr(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),i=new DT(n),eS(e)&&dn(e,"_locale")&&(i._locale=e._locale),eS(e)&&dn(e,"_isValid")&&(i._isValid=e._isValid),i}Vl.fn=DT.prototype;Vl.invalid=tIt;function bh(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function DZ(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function gIt(e,t){var n;return e.isValid()&&t.isValid()?(t=T9(t,e),e.isBefore(t)?n=DZ(e,t):(n=DZ(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Eke(e,t){return function(n,r){var o,i;return r!==null&&!isNaN(+r)&&(JEe(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),o=Vl(n,r),kke(this,o,e),this}}function kke(e,t,n,r){var o=t._milliseconds,i=z$(t._days),s=z$(t._months);e.isValid()&&(r=r??!0,s&&cke(e,pk(e,"Month")+s*n),i&&nke(e,"Date",pk(e,"Date")+i*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&Le.updateOffset(e,i||s))}var vIt=Eke(1,"add"),yIt=Eke(-1,"subtract");function jke(e){return typeof e=="string"||e instanceof String}function bIt(e){return $l(e)||Ow(e)||jke(e)||Uu(e)||wIt(e)||xIt(e)||e===null||e===void 0}function xIt(e){var t=bp(e)&&!f9(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,i,s=r.length;for(o=0;o<s;o+=1)i=r[o],n=n||dn(e,i);return t&&n}function wIt(e){var t=Rl(e),n=!1;return t&&(n=e.filter(function(r){return!Uu(r)&&jke(e)}).length===0),t&&n}function CIt(e){var t=bp(e)&&!f9(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,i;for(o=0;o<r.length;o+=1)i=r[o],n=n||dn(e,i);return t&&n}function _It(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function SIt(e,t){arguments.length===1&&(arguments[0]?bIt(arguments[0])?(e=arguments[0],t=void 0):CIt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||cr(),r=T9(n,this).startOf("day"),o=Le.calendarFormat(this,r)||"sameElse",i=t&&(zc(t[o])?t[o].call(this,n):t[o]);return this.format(i||this.localeData().calendar(o,this,cr(n)))}function EIt(){return new Rw(this)}function kIt(e,t){var n=$l(e)?e:cr(e);return this.isValid()&&n.isValid()?(t=Ja(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function jIt(e,t){var n=$l(e)?e:cr(e);return this.isValid()&&n.isValid()?(t=Ja(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function TIt(e,t,n,r){var o=$l(e)?e:cr(e),i=$l(t)?t:cr(t);return this.isValid()&&o.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function AIt(e,t){var n=$l(e)?e:cr(e),r;return this.isValid()&&n.isValid()?(t=Ja(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function DIt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function IIt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function PIt(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(r=T9(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=Ja(t),t){case"year":i=tS(this,r)/12;break;case"month":i=tS(this,r);break;case"quarter":i=tS(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:ja(i)}function tS(e,t){if(e.date()<t.date())return-tS(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,i;return t-r<0?(o=e.clone().add(n-1,"months"),i=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),i=(t-r)/(o-r)),-(n+i)||0}Le.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Le.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function OIt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function RIt(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?J2(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):zc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",J2(n,"Z")):J2(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function $It(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+o+i)}function MIt(e){e||(e=this.isUtc()?Le.defaultFormatUtc:Le.defaultFormat);var t=J2(this,e);return this.localeData().postformat(t)}function FIt(e,t){return this.isValid()&&($l(e)&&e.isValid()||cr(e).isValid())?Vl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function LIt(e){return this.from(cr(),e)}function BIt(e,t){return this.isValid()&&($l(e)&&e.isValid()||cr(e).isValid())?Vl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function NIt(e){return this.to(cr(),e)}function Tke(e){var t;return e===void 0?this._locale._abbr:(t=cd(e),t!=null&&(this._locale=t),this)}var Ake=Qa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Dke(){return this._locale}var vk=1e3,uv=60*vk,yk=60*uv,Ike=(365*400+97)*24*yk;function dv(e,t){return(e%t+t)%t}function Pke(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Ike:new Date(e,t,n).valueOf()}function Oke(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Ike:Date.UTC(e,t,n)}function zIt(e){var t,n;if(e=Ja(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Oke:Pke,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=dv(t+(this._isUTC?0:this.utcOffset()*uv),yk);break;case"minute":t=this._d.valueOf(),t-=dv(t,uv);break;case"second":t=this._d.valueOf(),t-=dv(t,vk);break}return this._d.setTime(t),Le.updateOffset(this,!0),this}function VIt(e){var t,n;if(e=Ja(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Oke:Pke,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=yk-dv(t+(this._isUTC?0:this.utcOffset()*uv),yk)-1;break;case"minute":t=this._d.valueOf(),t+=uv-dv(t,uv)-1;break;case"second":t=this._d.valueOf(),t+=vk-dv(t,vk)-1;break}return this._d.setTime(t),Le.updateOffset(this,!0),this}function HIt(){return this._d.valueOf()-(this._offset||0)*6e4}function UIt(){return Math.floor(this.valueOf()/1e3)}function WIt(){return new Date(this.valueOf())}function YIt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function qIt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function GIt(){return this.isValid()?this.toISOString():null}function KIt(){return h9(this)}function ZIt(){return qd({},Tt(this))}function XIt(){return Tt(this).overflow}function QIt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}rt("N",0,0,"eraAbbr");rt("NN",0,0,"eraAbbr");rt("NNN",0,0,"eraAbbr");rt("NNNN",0,0,"eraName");rt("NNNNN",0,0,"eraNarrow");rt("y",["y",1],"yo","eraYear");rt("y",["yy",2],0,"eraYear");rt("y",["yyy",3],0,"eraYear");rt("y",["yyyy",4],0,"eraYear");Ue("N",A9);Ue("NN",A9);Ue("NNN",A9);Ue("NNNN",cPt);Ue("NNNNN",uPt);Rn(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?Tt(n).era=o:Tt(n).invalidEra=e});Ue("y",F0);Ue("yy",F0);Ue("yyy",F0);Ue("yyyy",F0);Ue("yo",dPt);Rn(["y","yy","yyy","yyyy"],ki);Rn(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ki]=n._locale.eraYearOrdinalParse(e,o):t[ki]=parseInt(e,10)});function JIt(e,t){var n,r,o,i=this._eras||cd("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":o=Le(i[n].since).startOf("day"),i[n].since=o.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":o=Le(i[n].until).startOf("day").valueOf(),i[n].until=o.valueOf();break}}return i}function ePt(e,t,n){var r,o,i=this.eras(),s,a,c;for(e=e.toUpperCase(),r=0,o=i.length;r<o;++r)if(s=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(s===e)return i[r];break;case"NNNNN":if(c===e)return i[r];break}else if([s,a,c].indexOf(e)>=0)return i[r]}function tPt(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Le(e.since).year():Le(e.since).year()+(t-e.offset)*n}function nPt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function rPt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function oPt(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function iPt(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-Le(o[e].since).year())*n+o[e].offset;return this.year()}function sPt(e){return dn(this,"_erasNameRegex")||D9.call(this),e?this._erasNameRegex:this._erasRegex}function aPt(e){return dn(this,"_erasAbbrRegex")||D9.call(this),e?this._erasAbbrRegex:this._erasRegex}function lPt(e){return dn(this,"_erasNarrowRegex")||D9.call(this),e?this._erasNarrowRegex:this._erasRegex}function A9(e,t){return t.erasAbbrRegex(e)}function cPt(e,t){return t.erasNameRegex(e)}function uPt(e,t){return t.erasNarrowRegex(e)}function dPt(e,t){return t._eraYearOrdinalRegex||F0}function D9(){var e=[],t=[],n=[],r=[],o,i,s=this.eras();for(o=0,i=s.length;o<i;++o)t.push(Ys(s[o].name)),e.push(Ys(s[o].abbr)),n.push(Ys(s[o].narrow)),r.push(Ys(s[o].name)),r.push(Ys(s[o].abbr)),r.push(Ys(s[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}rt(0,["gg",2],0,function(){return this.weekYear()%100});rt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function IT(e,t){rt(0,[e,e.length],0,t)}IT("gggg","weekYear");IT("ggggg","weekYear");IT("GGGG","isoWeekYear");IT("GGGGG","isoWeekYear");$i("weekYear","gg");$i("isoWeekYear","GG");Mi("weekYear",1);Mi("isoWeekYear",1);Ue("G",kT);Ue("g",kT);Ue("GG",hr,fa);Ue("gg",hr,fa);Ue("GGGG",b9,y9);Ue("gggg",b9,y9);Ue("GGGGG",ET,_T);Ue("ggggg",ET,_T);Mw(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Ft(e)});Mw(["gg","GG"],function(e,t,n,r){t[r]=Le.parseTwoDigitYear(e)});function fPt(e){return Rke.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function hPt(e){return Rke.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function pPt(){return Eu(this.year(),1,4)}function mPt(){return Eu(this.isoWeekYear(),1,4)}function gPt(){var e=this.localeData()._week;return Eu(this.year(),e.dow,e.doy)}function vPt(){var e=this.localeData()._week;return Eu(this.weekYear(),e.dow,e.doy)}function Rke(e,t,n,r,o){var i;return e==null?rx(this,r,o).year:(i=Eu(e,r,o),t>i&&(t=i),yPt.call(this,e,t,n,r,o))}function yPt(e,t,n,r,o){var i=hke(e,t,n,r,o),s=nx(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}rt("Q",0,"Qo","quarter");$i("quarter","Q");Mi("quarter",7);Ue("Q",rke);Rn("Q",function(e,t){t[gu]=(Ft(e)-1)*3});function bPt(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}rt("D",["DD",2],"Do","date");$i("date","D");Mi("date",9);Ue("D",hr);Ue("DD",hr,fa);Ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Rn(["D","DD"],gc);Rn("Do",function(e,t){t[gc]=Ft(e.match(hr)[0])});var $ke=M0("Date",!0);rt("DDD",["DDDD",3],"DDDo","dayOfYear");$i("dayOfYear","DDD");Mi("dayOfYear",4);Ue("DDD",ST);Ue("DDDD",oke);Rn(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Ft(e)});function xPt(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}rt("m",["mm",2],0,"minute");$i("minute","m");Mi("minute",14);Ue("m",hr);Ue("mm",hr,fa);Rn(["m","mm"],bl);var wPt=M0("Minutes",!1);rt("s",["ss",2],0,"second");$i("second","s");Mi("second",15);Ue("s",hr);Ue("ss",hr,fa);Rn(["s","ss"],vu);var CPt=M0("Seconds",!1);rt("S",0,0,function(){return~~(this.millisecond()/100)});rt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});rt(0,["SSS",3],0,"millisecond");rt(0,["SSSS",4],0,function(){return this.millisecond()*10});rt(0,["SSSSS",5],0,function(){return this.millisecond()*100});rt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});rt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});rt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});rt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});$i("millisecond","ms");Mi("millisecond",16);Ue("S",ST,rke);Ue("SS",ST,fa);Ue("SSS",ST,oke);var Gd,Mke;for(Gd="SSSS";Gd.length<=9;Gd+="S")Ue(Gd,F0);function _Pt(e,t){t[ep]=Ft(("0."+e)*1e3)}for(Gd="S";Gd.length<=9;Gd+="S")Rn(Gd,_Pt);Mke=M0("Milliseconds",!1);rt("z",0,0,"zoneAbbr");rt("zz",0,0,"zoneName");function SPt(){return this._isUTC?"UTC":""}function EPt(){return this._isUTC?"Coordinated Universal Time":""}var De=Rw.prototype;De.add=vIt;De.calendar=SIt;De.clone=EIt;De.diff=PIt;De.endOf=VIt;De.format=MIt;De.from=FIt;De.fromNow=LIt;De.to=BIt;De.toNow=NIt;De.get=jAt;De.invalidAt=XIt;De.isAfter=kIt;De.isBefore=jIt;De.isBetween=TIt;De.isSame=AIt;De.isSameOrAfter=DIt;De.isSameOrBefore=IIt;De.isValid=KIt;De.lang=Ake;De.locale=Tke;De.localeData=Dke;De.max=KDt;De.min=GDt;De.parsingFlags=ZIt;De.set=TAt;De.startOf=zIt;De.subtract=yIt;De.toArray=YIt;De.toObject=qIt;De.toDate=WIt;De.toISOString=RIt;De.inspect=$It;typeof Symbol<"u"&&Symbol.for!=null&&(De[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});De.toJSON=GIt;De.toString=OIt;De.unix=UIt;De.valueOf=HIt;De.creationData=QIt;De.eraName=nPt;De.eraNarrow=rPt;De.eraAbbr=oPt;De.eraYear=iPt;De.year=fke;De.isLeapYear=qAt;De.weekYear=fPt;De.isoWeekYear=hPt;De.quarter=De.quarters=bPt;De.month=uke;De.daysInMonth=UAt;De.week=De.weeks=JAt;De.isoWeek=De.isoWeeks=eDt;De.weeksInYear=gPt;De.weeksInWeekYear=vPt;De.isoWeeksInYear=pPt;De.isoWeeksInISOWeekYear=mPt;De.date=$ke;De.day=De.days=hDt;De.weekday=pDt;De.isoWeekday=mDt;De.dayOfYear=xPt;De.hour=De.hours=CDt;De.minute=De.minutes=wPt;De.second=De.seconds=CPt;De.millisecond=De.milliseconds=Mke;De.utcOffset=oIt;De.utc=sIt;De.local=aIt;De.parseZone=lIt;De.hasAlignedHourOffset=cIt;De.isDST=uIt;De.isLocal=fIt;De.isUtcOffset=hIt;De.isUtc=Ske;De.isUTC=Ske;De.zoneAbbr=SPt;De.zoneName=EPt;De.dates=Qa("dates accessor is deprecated. Use date instead.",$ke);De.months=Qa("months accessor is deprecated. Use month instead",uke);De.years=Qa("years accessor is deprecated. Use year instead",fke);De.zone=Qa("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",iIt);De.isDSTShifted=Qa("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",dIt);function kPt(e){return cr(e*1e3)}function jPt(){return cr.apply(null,arguments).parseZone()}function Fke(e){return e}var fn=m9.prototype;fn.calendar=hAt;fn.longDateFormat=vAt;fn.invalidDate=bAt;fn.ordinal=CAt;fn.preparse=Fke;fn.postformat=Fke;fn.relativeTime=SAt;fn.pastFuture=EAt;fn.set=dAt;fn.eras=JIt;fn.erasParse=ePt;fn.erasConvertYear=tPt;fn.erasAbbrRegex=aPt;fn.erasNameRegex=sPt;fn.erasNarrowRegex=lPt;fn.months=NAt;fn.monthsShort=zAt;fn.monthsParse=HAt;fn.monthsRegex=YAt;fn.monthsShortRegex=WAt;fn.week=KAt;fn.firstDayOfYear=QAt;fn.firstDayOfWeek=XAt;fn.weekdays=lDt;fn.weekdaysMin=uDt;fn.weekdaysShort=cDt;fn.weekdaysParse=fDt;fn.weekdaysRegex=gDt;fn.weekdaysShortRegex=vDt;fn.weekdaysMinRegex=yDt;fn.isPM=xDt;fn.meridiem=_Dt;function bk(e,t,n,r){var o=cd(),i=Nc().set(r,t);return o[n](i,e)}function Lke(e,t,n){if(Uu(e)&&(t=e,e=void 0),e=e||"",t!=null)return bk(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=bk(e,r,n,"month");return o}function I9(e,t,n,r){typeof e=="boolean"?(Uu(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Uu(t)&&(n=t,t=void 0),t=t||"");var o=cd(),i=e?o._week.dow:0,s,a=[];if(n!=null)return bk(t,(n+i)%7,r,"day");for(s=0;s<7;s++)a[s]=bk(t,(s+i)%7,r,"day");return a}function TPt(e,t){return Lke(e,t,"months")}function APt(e,t){return Lke(e,t,"monthsShort")}function DPt(e,t,n){return I9(e,t,n,"weekdays")}function IPt(e,t,n){return I9(e,t,n,"weekdaysShort")}function PPt(e,t,n){return I9(e,t,n,"weekdaysMin")}vf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Ft(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Le.lang=Qa("moment.lang is deprecated. Use moment.locale instead.",vf);Le.langData=Qa("moment.langData is deprecated. Use moment.localeData instead.",cd);var Xc=Math.abs;function OPt(){var e=this._data;return this._milliseconds=Xc(this._milliseconds),this._days=Xc(this._days),this._months=Xc(this._months),e.milliseconds=Xc(e.milliseconds),e.seconds=Xc(e.seconds),e.minutes=Xc(e.minutes),e.hours=Xc(e.hours),e.months=Xc(e.months),e.years=Xc(e.years),this}function Bke(e,t,n,r){var o=Vl(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function RPt(e,t){return Bke(this,e,t,1)}function $Pt(e,t){return Bke(this,e,t,-1)}function IZ(e){return e<0?Math.floor(e):Math.ceil(e)}function MPt(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,i,s,a,c;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=IZ(H$(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=ja(e/1e3),r.seconds=o%60,i=ja(o/60),r.minutes=i%60,s=ja(i/60),r.hours=s%24,t+=ja(s/24),c=ja(Nke(t)),n+=c,t-=IZ(H$(c)),a=ja(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function Nke(e){return e*4800/146097}function H$(e){return e*146097/4800}function FPt(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Ja(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+Nke(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(H$(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function LPt(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Ft(this._months/12)*31536e6:NaN}function ud(e){return function(){return this.as(e)}}var BPt=ud("ms"),NPt=ud("s"),zPt=ud("m"),VPt=ud("h"),HPt=ud("d"),UPt=ud("w"),WPt=ud("M"),YPt=ud("Q"),qPt=ud("y");function GPt(){return Vl(this)}function KPt(e){return e=Ja(e),this.isValid()?this[e+"s"]():NaN}function jm(e){return function(){return this.isValid()?this._data[e]:NaN}}var ZPt=jm("milliseconds"),XPt=jm("seconds"),QPt=jm("minutes"),JPt=jm("hours"),eOt=jm("days"),tOt=jm("months"),nOt=jm("years");function rOt(){return ja(this.days()/7)}var au=Math.round,Ng={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function oOt(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function iOt(e,t,n,r){var o=Vl(e).abs(),i=au(o.as("s")),s=au(o.as("m")),a=au(o.as("h")),c=au(o.as("d")),u=au(o.as("M")),d=au(o.as("w")),f=au(o.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=r,oOt.apply(null,p)}function sOt(e){return e===void 0?au:typeof e=="function"?(au=e,!0):!1}function aOt(e,t){return Ng[e]===void 0?!1:t===void 0?Ng[e]:(Ng[e]=t,e==="s"&&(Ng.ss=t-1),!0)}function lOt(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Ng,o,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Ng,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),i=iOt(this,!n,r,o),n&&(i=o.pastFuture(+this,i)),o.postformat(i)}var _P=Math.abs;function Gm(e){return(e>0)-(e<0)||+e}function PT(){if(!this.isValid())return this.localeData().invalidDate();var e=_P(this._milliseconds)/1e3,t=_P(this._days),n=_P(this._months),r,o,i,s,a=this.asSeconds(),c,u,d,f;return a?(r=ja(e/60),o=ja(r/60),e%=60,r%=60,i=ja(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=a<0?"-":"",u=Gm(this._months)!==Gm(a)?"-":"",d=Gm(this._days)!==Gm(a)?"-":"",f=Gm(this._milliseconds)!==Gm(a)?"-":"",c+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?d+t+"D":"")+(o||r||e?"T":"")+(o?f+o+"H":"")+(r?f+r+"M":"")+(e?f+s+"S":"")):"P0D"}var nn=DT.prototype;nn.isValid=eIt;nn.abs=OPt;nn.add=RPt;nn.subtract=$Pt;nn.as=FPt;nn.asMilliseconds=BPt;nn.asSeconds=NPt;nn.asMinutes=zPt;nn.asHours=VPt;nn.asDays=HPt;nn.asWeeks=UPt;nn.asMonths=WPt;nn.asQuarters=YPt;nn.asYears=qPt;nn.valueOf=LPt;nn._bubble=MPt;nn.clone=GPt;nn.get=KPt;nn.milliseconds=ZPt;nn.seconds=XPt;nn.minutes=QPt;nn.hours=JPt;nn.days=eOt;nn.weeks=rOt;nn.months=tOt;nn.years=nOt;nn.humanize=lOt;nn.toISOString=PT;nn.toString=PT;nn.toJSON=PT;nn.locale=Tke;nn.localeData=Dke;nn.toIsoString=Qa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",PT);nn.lang=Ake;rt("X",0,0,"unix");rt("x",0,0,"valueOf");Ue("x",kT);Ue("X",DAt);Rn("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Rn("x",function(e,t,n){n._d=new Date(Ft(e))});//! moment.js
Le.version="2.29.4";cAt(cr);Le.fn=De;Le.min=ZDt;Le.max=XDt;Le.now=QDt;Le.utc=Nc;Le.unix=kPt;Le.months=TPt;Le.isDate=Ow;Le.locale=vf;Le.invalid=wT;Le.duration=Vl;Le.isMoment=$l;Le.weekdays=DPt;Le.parseZone=jPt;Le.localeData=cd;Le.isDuration=eS;Le.monthsShort=APt;Le.weekdaysMin=PPt;Le.defineLocale=_9;Le.updateLocale=jDt;Le.locales=TDt;Le.weekdaysShort=IPt;Le.normalizeUnits=Ja;Le.relativeTimeRounding=sOt;Le.relativeTimeThreshold=aOt;Le.calendarFormat=_It;Le.prototype=De;Le.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function OT(e,t){return Le(e).format(t)}function P9(e,t){const n=Le(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:'Invalid date. Must be on the format "'.concat(t,'"')}}function O9(e){return window.crypto.getRandomValues(e)}var zke=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function cOt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&zke(e,t)&&!R9(e[t]))return!1;return!0}function uOt(e){for(let t=0;t<e.length;t++)if(!R9(e[t]))return!1;return!0}function R9(e){if(e==null)return!0;const t=typeof e;return Array.isArray(e)?uOt(e):t==="object"?cOt(e):!1}function dOt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&zke(e,t)&&e[t]!==void 0)return!1;return!0}const fOt=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function hOt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return O9(t),t}function Fw(e){const t=fOt();return hOt(e).reduce((n,r)=>n+t[r],"").slice(0,e)}const pOt=Object.prototype.toString;function mOt(e){switch(pOt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof e=="object"&&e&&typeof e.length=="number")try{if(typeof e.callee=="function")return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return e===null?"null":e===void 0?"undefined":e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function ks(e){const t=mOt(e);if(t!=="object")return t;const n=e;return"_type"in n&&n._type||t}var gOt=bOt,Vke="֑-߿יִ-﷽ﹰ-ﻼ",Hke="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",vOt=new RegExp("^[^"+Hke+"]*["+Vke+"]"),yOt=new RegExp("^[^"+Vke+"]*["+Hke+"]");function bOt(e){return e=String(e||""),vOt.test(e)?"rtl":yOt.test(e)?"ltr":"neutral"}const Uke=Pe(gOt),PZ=e=>typeof e=="object"&&e!=null&&e.nodeType===1,OZ=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",SP=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return OZ(n.overflowY,t)||OZ(n.overflowX,t)||(r=>{const o=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},p_=(e,t,n,r,o,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0,xOt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},RZ=(e,t)=>{var n,r,o,i;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:c,boundary:u,skipOverflowHiddenElements:d}=t,f=typeof u=="function"?u:R=>R!==u;if(!PZ(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,m=[];let v=e;for(;PZ(v)&&f(v);){if(v=xOt(v),v===p){m.push(v);break}v!=null&&v===document.body&&SP(v)&&!SP(document.documentElement)||v!=null&&SP(v,d)&&m.push(v)}const g=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,y=(i=(o=window.visualViewport)==null?void 0:o.height)!=null?i:innerHeight,{scrollX:x,scrollY:b}=window,{height:w,width:C,top:_,right:S,bottom:E,left:j}=e.getBoundingClientRect(),{top:k,right:T,bottom:A,left:D}=(R=>{const V=window.getComputedStyle(R);return{top:parseFloat(V.scrollMarginTop)||0,right:parseFloat(V.scrollMarginRight)||0,bottom:parseFloat(V.scrollMarginBottom)||0,left:parseFloat(V.scrollMarginLeft)||0}})(e);let I=a==="start"||a==="nearest"?_-k:a==="end"?E+A:_+w/2-k+A,P=c==="center"?j+C/2-D+T:c==="end"?S+T:j-D;const $=[];for(let R=0;R<m.length;R++){const V=m[R],{height:N,width:W,top:G,right:H,bottom:q,left:X}=V.getBoundingClientRect();if(s==="if-needed"&&_>=0&&j>=0&&E<=y&&S<=g&&_>=G&&E<=q&&j>=X&&S<=H)return $;const B=getComputedStyle(V),Y=parseInt(B.borderLeftWidth,10),z=parseInt(B.borderTopWidth,10),Z=parseInt(B.borderRightWidth,10),Q=parseInt(B.borderBottomWidth,10);let ne=0,K=0;const J="offsetWidth"in V?V.offsetWidth-V.clientWidth-Y-Z:0,re="offsetHeight"in V?V.offsetHeight-V.clientHeight-z-Q:0,fe="offsetWidth"in V?V.offsetWidth===0?0:W/V.offsetWidth:0,le="offsetHeight"in V?V.offsetHeight===0?0:N/V.offsetHeight:0;if(p===V)ne=a==="start"?I:a==="end"?I-y:a==="nearest"?p_(b,b+y,y,z,Q,b+I,b+I+w,w):I-y/2,K=c==="start"?P:c==="center"?P-g/2:c==="end"?P-g:p_(x,x+g,g,Y,Z,x+P,x+P+C,C),ne=Math.max(0,ne+b),K=Math.max(0,K+x);else{ne=a==="start"?I-G-z:a==="end"?I-q+Q+re:a==="nearest"?p_(G,q,N,z,Q+re,I,I+w,w):I-(G+N/2)+re/2,K=c==="start"?P-X-Y:c==="center"?P-(X+W/2)+J/2:c==="end"?P-H+Z+J:p_(X,H,W,Y,Z+J,P,P+C,C);const{scrollLeft:ge,scrollTop:xe}=V;ne=le===0?0:Math.max(0,Math.min(xe+ne/le,V.scrollHeight-N/le+re)),K=fe===0?0:Math.max(0,Math.min(ge+K/fe,V.scrollWidth-W/fe+J)),I+=xe-ne,P+=ge-K}$.push({el:V,top:ne,left:K})}return $},wOt=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function Yv(e,t){if(!e.isConnected||!(o=>{let i=o;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;const n=(o=>{const i=window.getComputedStyle(o);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(RZ(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:i,left:s}of RZ(e,wOt(t))){const a=i-n.top+n.bottom,c=s-n.left+n.right;o.scroll({top:a,left:c,behavior:r})}}var Wke=Symbol.for("immer-nothing"),$Z=Symbol.for("immer-draftable"),oa=Symbol.for("immer-state");function hl(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var qv=Object.getPrototypeOf;function Up(e){return!!e&&!!e[oa]}function Wp(e){var t;return e?Yke(e)||Array.isArray(e)||!!e[$Z]||!!((t=e.constructor)!=null&&t[$Z])||$T(e)||MT(e):!1}var COt=Object.prototype.constructor.toString();function Yke(e){if(!e||typeof e!="object")return!1;const t=qv(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===COt}function ix(e,t){RT(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function RT(e){const t=e[oa];return t?t.type_:Array.isArray(e)?1:$T(e)?2:MT(e)?3:0}function U$(e,t){return RT(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function qke(e,t,n){const r=RT(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function _Ot(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function $T(e){return e instanceof Map}function MT(e){return e instanceof Set}function Vh(e){return e.copy_||e.base_}function W$(e,t){if($T(e))return new Map(e);if(MT(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&Yke(e))return qv(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[oa];let r=Reflect.ownKeys(n);for(let o=0;o<r.length;o++){const i=r[o],s=n[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(qv(e),n)}function $9(e,t=!1){return FT(e)||Up(e)||!Wp(e)||(RT(e)>1&&(e.set=e.add=e.clear=e.delete=SOt),Object.freeze(e),t&&ix(e,(n,r)=>$9(r,!0))),e}function SOt(){hl(2)}function FT(e){return Object.isFrozen(e)}var EOt={};function Yp(e){const t=EOt[e];return t||hl(0,e),t}var sx;function Gke(){return sx}function kOt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function MZ(e,t){t&&(Yp("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Y$(e){q$(e),e.drafts_.forEach(jOt),e.drafts_=null}function q$(e){e===sx&&(sx=e.parent_)}function FZ(e){return sx=kOt(sx,e)}function jOt(e){const t=e[oa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function LZ(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[oa].modified_&&(Y$(t),hl(4)),Wp(e)&&(e=xk(t,e),t.parent_||wk(t,e)),t.patches_&&Yp("Patches").generateReplacementPatches_(n[oa].base_,e,t.patches_,t.inversePatches_)):e=xk(t,n,[]),Y$(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Wke?e:void 0}function xk(e,t,n){if(FT(t))return t;const r=t[oa];if(!r)return ix(t,(o,i)=>BZ(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return wk(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,s=!1;r.type_===3&&(i=new Set(o),o.clear(),s=!0),ix(i,(a,c)=>BZ(e,r,o,a,c,n,s)),wk(e,o,!1),n&&e.patches_&&Yp("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function BZ(e,t,n,r,o,i,s){if(Up(o)){const a=i&&t&&t.type_!==3&&!U$(t.assigned_,r)?i.concat(r):void 0,c=xk(e,o,a);if(qke(n,r,c),Up(c))e.canAutoFreeze_=!1;else return}else s&&n.add(o);if(Wp(o)&&!FT(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;xk(e,o),(!t||!t.scope_.parent_)&&wk(e,o)}}function wk(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$9(t,n)}function TOt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Gke(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=M9;n&&(o=[r],i=ax);const{revoke:s,proxy:a}=Proxy.revocable(o,i);return r.draft_=a,r.revoke_=s,a}var M9={get(e,t){if(t===oa)return e;const n=Vh(e);if(!U$(n,t))return AOt(e,n,t);const r=n[t];return e.finalized_||!Wp(r)?r:r===EP(e.base_,t)?(kP(e),e.copy_[t]=K$(r,e)):r},has(e,t){return t in Vh(e)},ownKeys(e){return Reflect.ownKeys(Vh(e))},set(e,t,n){const r=Kke(Vh(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=EP(Vh(e),t),i=o==null?void 0:o[oa];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(_Ot(n,o)&&(n!==void 0||U$(e.base_,t)))return!0;kP(e),G$(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return EP(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,kP(e),G$(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Vh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){hl(11)},getPrototypeOf(e){return qv(e.base_)},setPrototypeOf(){hl(12)}},ax={};ix(M9,(e,t)=>{ax[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ax.deleteProperty=function(e,t){return ax.set.call(this,e,t,void 0)};ax.set=function(e,t,n){return M9.set.call(this,e[0],t,n,e[0])};function EP(e,t){const n=e[oa];return(n?Vh(n):e)[t]}function AOt(e,t,n){var o;const r=Kke(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function Kke(e,t){if(!(t in e))return;let n=qv(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=qv(n)}}function G$(e){e.modified_||(e.modified_=!0,e.parent_&&G$(e.parent_))}function kP(e){e.copy_||(e.copy_=W$(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var DOt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const s=this;return function(c=i,...u){return s.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&hl(6),r!==void 0&&typeof r!="function"&&hl(7);let o;if(Wp(t)){const i=FZ(this),s=K$(t,void 0);let a=!0;try{o=n(s),a=!1}finally{a?Y$(i):q$(i)}return MZ(i,r),LZ(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===Wke&&(o=void 0),this.autoFreeze_&&$9(o,!0),r){const i=[],s=[];Yp("Patches").generateReplacementPatches_(t,o,i,s),r(i,s)}return o}else hl(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,c=>t(c,...a));let r,o;return[this.produce(t,n,(s,a)=>{r=s,o=a}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Wp(e)||hl(8),Up(e)&&(e=IOt(e));const t=FZ(this),n=K$(e,void 0);return n[oa].isManual_=!0,q$(t),n}finishDraft(e,t){const n=e&&e[oa];(!n||!n.isManual_)&&hl(9);const{scope_:r}=n;return MZ(r,t),LZ(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=Yp("Patches").applyPatches_;return Up(e)?r(e,t):this.produce(e,o=>r(o,t))}};function K$(e,t){const n=$T(e)?Yp("MapSet").proxyMap_(e,t):MT(e)?Yp("MapSet").proxySet_(e,t):TOt(e,t);return(t?t.scope_:Gke()).drafts_.push(n),n}function IOt(e){return Up(e)||hl(10,e),Zke(e)}function Zke(e){if(!Wp(e)||FT(e))return e;const t=e[oa];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=W$(e,t.scope_.immer_.useStrictShallowCopy_)}else n=W$(e,!0);return ix(n,(r,o)=>{qke(n,r,Zke(o))}),t&&(t.finalized_=!1),n}var ia=new DOt,F9=ia.produce;ia.produceWithPatches.bind(ia);ia.setAutoFreeze.bind(ia);ia.setUseStrictShallowCopy.bind(ia);ia.applyPatches.bind(ia);var NZ=ia.createDraft.bind(ia),zZ=ia.finishDraft.bind(ia),POt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=te.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},OOt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=Pt.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},ROt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=de.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},Ck=new WeakMap,_k=new WeakMap,lb=new WeakMap,Xke=new WeakMap,VZ=new WeakMap,HZ=new WeakMap,UZ=new WeakMap,te={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=te.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r],i=t[r];if(o!==i)break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return te.equals(r,o)&&i>s},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return te.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return te.equals(r,o)&&i<s},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return te.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&te.compare(e,t)===0},isBefore(e,t){return te.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&te.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&te.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&te.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&te.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),o=e[e.length-1],i=t[t.length-1];return o!==i&&te.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!te.isAncestor(t,e)&&!te.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:o="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:i}=t;(te.equals(i,r)||te.endsBefore(i,r)||te.isAncestor(i,r))&&(r[i.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(te.equals(s,r)||te.isAncestor(s,r))return null;te.endsBefore(s,r)&&(r[s.length-1]-=1);break}case"merge_node":{var{path:a,position:c}=t;te.equals(a,r)||te.endsBefore(a,r)?r[a.length-1]-=1:te.isAncestor(a,r)&&(r[a.length-1]-=1,r[a.length]+=c);break}case"split_node":{var{path:u,position:d}=t;if(te.equals(u,r)){if(o==="forward")r[r.length-1]+=1;else if(o!=="backward")return null}else te.endsBefore(u,r)?r[u.length-1]+=1:te.isAncestor(u,r)&&e[u.length]>=d&&(r[u.length-1]+=1,r[u.length]-=d);break}case"move_node":{var{path:f,newPath:p}=t;if(te.equals(f,p))return r;if(te.isAncestor(f,r)||te.equals(f,r)){var m=p.slice();return te.endsBefore(f,p)&&f.length<p.length&&(m[f.length-1]-=1),m.concat(r.slice(f.length))}else te.isSibling(f,p)&&(te.isAncestor(p,r)||te.equals(p,r))?te.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:te.endsBefore(p,r)||te.equals(p,r)||te.isAncestor(p,r)?(te.endsBefore(f,r)&&(r[f.length-1]-=1),r[p.length-1]+=1):te.endsBefore(f,r)&&(te.equals(p,r)&&(r[p.length-1]+=1),r[f.length-1]-=1);break}}return r}};function lx(e){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lx(e)}function $Ot(e,t){if(lx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MOt(e){var t=$Ot(e,"string");return lx(t)==="symbol"?t:String(t)}function rs(e,t,n){return t=MOt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function L1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WZ(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var FOt=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:o}=n,i=Ee.parent(e,r),s=r[r.length-1];if(s>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(i.children.splice(s,0,o),t)for(var[a,c]of de.points(t))t[c]=Pt.transform(a,n);break}case"insert_text":{var{path:u,offset:d,text:f}=n;if(f.length===0)break;var p=Ee.leaf(e,u),m=p.text.slice(0,d),v=p.text.slice(d);if(p.text=m+f+v,t)for(var[g,y]of de.points(t))t[y]=Pt.transform(g,n);break}case"merge_node":{var{path:x}=n,b=Ee.get(e,x),w=te.previous(x),C=Ee.get(e,w),_=Ee.parent(e,x),S=x[x.length-1];if(_e.isText(b)&&_e.isText(C))C.text+=b.text;else if(!_e.isText(b)&&!_e.isText(C))C.children.push(...b.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(x,"] to nodes of different interfaces: ").concat($o.stringify(b)," ").concat($o.stringify(C)));if(_.children.splice(S,1),t)for(var[E,j]of de.points(t))t[j]=Pt.transform(E,n);break}case"move_node":{var{path:k,newPath:T}=n;if(te.isAncestor(k,T))throw new Error("Cannot move a path [".concat(k,"] to new path [").concat(T,"] because the destination is inside itself."));var A=Ee.get(e,k),D=Ee.parent(e,k),I=k[k.length-1];D.children.splice(I,1);var P=te.transform(k,n),$=Ee.get(e,te.parent(P)),R=P[P.length-1];if($.children.splice(R,0,A),t)for(var[V,N]of de.points(t))t[N]=Pt.transform(V,n);break}case"remove_node":{var{path:W}=n,G=W[W.length-1],H=Ee.parent(e,W);if(H.children.splice(G,1),t)for(var[q,X]of de.points(t)){var B=Pt.transform(q,n);if(t!=null&&B!=null)t[X]=B;else{var Y=void 0,z=void 0;for(var[Z,Q]of Ee.texts(e))if(te.compare(Q,W)===-1)Y=[Z,Q];else{z=[Z,Q];break}var ne=!1;Y&&z&&(te.equals(z[1],W)?ne=!te.hasPrevious(z[1]):ne=te.common(Y[1],W).length<te.common(z[1],W).length),Y&&!ne?(q.path=Y[1],q.offset=Y[0].text.length):z?(q.path=z[1],q.offset=0):t=null}}break}case"remove_text":{var{path:K,offset:J,text:re}=n;if(re.length===0)break;var fe=Ee.leaf(e,K),le=fe.text.slice(0,J),ge=fe.text.slice(J+re.length);if(fe.text=le+ge,t)for(var[xe,ce]of de.points(t))t[ce]=Pt.transform(xe,n);break}case"set_node":{var{path:ve,properties:$e,newProperties:Ae}=n;if(ve.length===0)throw new Error("Cannot set properties on the root node!");var st=Ee.get(e,ve);for(var et in Ae){if(et==="children"||et==="text")throw new Error('Cannot set the "'.concat(et,'" property of nodes!'));var lt=Ae[et];lt==null?delete st[et]:st[et]=lt}for(var Oe in $e)Ae.hasOwnProperty(Oe)||delete st[Oe];break}case"set_selection":{var{newProperties:we}=n;if(we==null)t=we;else{if(t==null){if(!de.isRange(we))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat($o.stringify(we)," when there is no current selection."));t=L1({},we)}for(var We in we){var ze=we[We];if(ze==null){if(We==="anchor"||We==="focus")throw new Error('Cannot remove the "'.concat(We,'" selection property'));delete t[We]}else t[We]=ze}}break}case"split_node":{var{path:Ze,position:Ct,properties:ke}=n;if(Ze.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ze,"] because the root node cannot be split."));var Ne=Ee.get(e,Ze),dt=Ee.parent(e,Ze),ci=Ze[Ze.length-1],Jn;if(_e.isText(Ne)){var Wo=Ne.text.slice(0,Ct),Yt=Ne.text.slice(Ct);Ne.text=Wo,Jn=L1(L1({},ke),{},{text:Yt})}else{var eo=Ne.children.slice(0,Ct),nl=Ne.children.slice(Ct);Ne.children=eo,Jn=L1(L1({},ke),{},{children:nl})}if(dt.children.splice(ci+1,0,Jn),t)for(var[rl,Is]of de.points(t))t[Is]=Pt.transform(rl,n);break}}return t},LOt={transform(e,t){e.children=NZ(e.children);var n=e.selection&&NZ(e.selection);try{n=FOt(e,n,t)}finally{e.children=zZ(e.children),n?e.selection=Up(n)?zZ(n):n:e.selection=null}}},BOt={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},NOt={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},Qke=(e,t)=>{for(var n in e){var r=e[n],o=t[n];if(Zo(r)&&Zo(o)){if(!Qke(r,o))return!1}else if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!==o[i])return!1}else if(r!==o)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0};function zOt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Wu(e,t){if(e==null)return{};var n=zOt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var VOt=["anchor","focus"];function YZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function HOt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YZ(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var de={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return de.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=de.edges(e);return t},equals(e,t){return Pt.equals(e.anchor,t.anchor)&&Pt.equals(e.focus,t.focus)},includes(e,t){if(de.isRange(t)){if(de.includes(e,t.anchor)||de.includes(e,t.focus))return!0;var[n,r]=de.edges(e),[o,i]=de.edges(t);return Pt.isBefore(n,o)&&Pt.isAfter(r,i)}var[s,a]=de.edges(e),c=!1,u=!1;return Pt.isPoint(t)?(c=Pt.compare(t,s)>=0,u=Pt.compare(t,a)<=0):(c=te.compare(t,s.path)>=0,u=te.compare(t,a.path)<=0),c&&u},intersection(e,t){var n=Wu(e,VOt),[r,o]=de.edges(e),[i,s]=de.edges(t),a=Pt.isBefore(r,i)?i:r,c=Pt.isBefore(o,s)?o:s;return Pt.isBefore(c,a)?null:HOt({anchor:a,focus:c},n)},isBackward(e){var{anchor:t,focus:n}=e;return Pt.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return Pt.equals(t,n)},isExpanded(e){return!de.isCollapsed(e)},isForward(e){return!de.isBackward(e)},isRange(e){return Zo(e)&&Pt.isPoint(e.anchor)&&Pt.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=de.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F9(e,r=>{if(r===null)return null;var{affinity:o="inward"}=n,i,s;if(o==="inward"){var a=de.isCollapsed(r);de.isForward(r)?(i="forward",s=a?i:"backward"):(i="backward",s=a?i:"forward")}else o==="outward"?de.isForward(r)?(i="backward",s="forward"):(i="forward",s="backward"):(i=o,s=o);var c=Pt.transform(r.anchor,t,{affinity:i}),u=Pt.transform(r.focus,t,{affinity:s});if(!c||!u)return null;r.anchor=c,r.focus=u})}},qZ=e=>Zo(e)&&Ee.isNodeList(e.children)&&!F.isEditor(e),Re={isAncestor(e){return Zo(e)&&Ee.isNodeList(e.children)},isElement:qZ,isElementList(e){return Array.isArray(e)&&e.every(t=>Re.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return qZ(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},UOt=["children"],WOt=["text"],GZ=new WeakMap,Ee={ancestor(e,t){var n=Ee.get(e,t);if(_e.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat($o.stringify(n)));return n},ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of te.ancestors(t,n)){var o=Ee.ancestor(e,r),i=[o,r];yield i}}()},child(e,t){if(_e.isText(e))throw new Error("Cannot get the child of a text node: ".concat($o.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat($o.stringify(e)));return n},children(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:r=!1}=n,o=Ee.ancestor(e,t),{children:i}=o,s=r?i.length-1:0;r?s>=0:s<i.length;){var a=Ee.child(o,s),c=t.concat(s);yield[a,c],s=r?s-1:s+1}}()},common(e,t,n){var r=te.common(t,n),o=Ee.get(e,r);return[o,r]},descendant(e,t){var n=Ee.get(e,t);if(F.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat($o.stringify(n)));return n},descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Ee.nodes(e,t))r.length!==0&&(yield[n,r])}()},elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Ee.nodes(e,t))Re.isElement(n)&&(yield[n,r])}()},extractProps(e){if(Re.isAncestor(e)){var t=Wu(e,UOt);return t}else{var t=Wu(e,WOt);return t}},first(e,t){for(var n=t.slice(),r=Ee.get(e,n);r&&!(_e.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(_e.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat($o.stringify(e)));var n=F9({children:e.children},r=>{var[o,i]=de.edges(t),s=Ee.nodes(r,{reverse:!0,pass:p=>{var[,m]=p;return!de.includes(t,m)}});for(var[,a]of s){if(!de.includes(t,a)){var c=Ee.parent(r,a),u=a[a.length-1];c.children.splice(u,1)}if(te.equals(a,i.path)){var d=Ee.leaf(r,a);d.text=d.text.slice(0,i.offset)}if(te.equals(a,o.path)){var f=Ee.leaf(r,a);f.text=f.text.slice(o.offset)}}F.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(_e.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat($o.stringify(e)));n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(_e.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e){return _e.isText(e)||Re.isElement(e)||F.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=GZ.get(e);if(t!==void 0)return t;var n=e.every(r=>Ee.isNode(r));return GZ.set(e,n),n},last(e,t){for(var n=t.slice(),r=Ee.get(e,n);r&&!(_e.isText(r)||r.children.length===0);){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=Ee.get(e,t);if(!_e.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat($o.stringify(n)));return n},levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of te.levels(t,n)){var o=Ee.get(e,r);yield[o,r]}}()},matches(e,t){return Re.isElement(e)&&Re.isElementProps(t)&&Re.matches(e,t)||_e.isText(e)&&_e.isTextProps(t)&&_e.matches(e,t)},nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:n,reverse:r=!1}=t,{from:o=[],to:i}=t,s=new Set,a=[],c=e;!(i&&(r?te.isBefore(a,i):te.isAfter(a,i)));){if(s.has(c)||(yield[c,a]),!s.has(c)&&!_e.isText(c)&&c.children.length!==0&&(n==null||n([c,a])===!1)){s.add(c);var u=r?c.children.length-1:0;te.isAncestor(a,o)&&(u=o[a.length]),a=a.concat(u),c=Ee.get(e,a);continue}if(a.length===0)break;if(!r){var d=te.next(a);if(Ee.has(e,d)){a=d,c=Ee.get(e,a);continue}}if(r&&a[a.length-1]!==0){var f=te.previous(a);a=f,c=Ee.get(e,a);continue}a=te.parent(a),c=Ee.get(e,a),s.add(c)}}()},parent(e,t){var n=te.parent(t),r=Ee.get(e,n);if(_e.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return _e.isText(e)?e.text:e.children.map(Ee.string).join("")},texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of Ee.nodes(e,t))_e.isText(n)&&(yield[n,r])}()}};function KZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KZ(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zg={isNodeOperation(e){return zg.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!Zo(e))return!1;switch(e.type){case"insert_node":return te.isPath(e.path)&&Ee.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&te.isPath(e.path);case"merge_node":return typeof e.position=="number"&&te.isPath(e.path)&&Zo(e.properties);case"move_node":return te.isPath(e.path)&&te.isPath(e.newPath);case"remove_node":return te.isPath(e.path)&&Ee.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&te.isPath(e.path);case"set_node":return te.isPath(e.path)&&Zo(e.properties)&&Zo(e.newProperties);case"set_selection":return e.properties===null&&de.isRange(e.newProperties)||e.newProperties===null&&de.isRange(e.properties)||Zo(e.properties)&&Zo(e.newProperties);case"split_node":return te.isPath(e.path)&&typeof e.position=="number"&&Zo(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>zg.isOperation(t))},isSelectionOperation(e){return zg.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return zg.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return gr(gr({},e),{},{type:"remove_node"});case"insert_text":return gr(gr({},e),{},{type:"remove_text"});case"merge_node":return gr(gr({},e),{},{type:"split_node",path:te.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(te.equals(t,n))return e;if(te.isSibling(n,t))return gr(gr({},e),{},{path:t,newPath:n});var r=te.transform(n,e),o=te.transform(te.next(n),e);return gr(gr({},e),{},{path:r,newPath:o})}case"remove_node":return gr(gr({},e),{},{type:"insert_node"});case"remove_text":return gr(gr({},e),{},{type:"insert_text"});case"set_node":{var{properties:i,newProperties:s}=e;return gr(gr({},e),{},{properties:s,newProperties:i})}case"set_selection":{var{properties:a,newProperties:c}=e;return a==null?gr(gr({},e),{},{properties:c,newProperties:null}):c==null?gr(gr({},e),{},{properties:null,newProperties:a}):gr(gr({},e),{},{properties:c,newProperties:a})}case"split_node":return gr(gr({},e),{},{type:"merge_node",path:te.next(e.path)})}}},ZZ=new WeakMap,YOt=e=>{var t=ZZ.get(e);if(t!==void 0)return t;if(!Zo(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||Zo(e.marks))&&(e.selection===null||de.isRange(e.selection))&&Ee.isNodeList(e.children)&&zg.isOperationList(e.operations);return ZZ.set(e,n),n},F={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return YOt(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)}},qOt={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(te.isPath)}};function XZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function QZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XZ(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Pt={compare(e,t){var n=te.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return Pt.compare(e,t)===1},isBefore(e,t){return Pt.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&te.equals(e.path,t.path)},isPoint(e){return Zo(e)&&typeof e.offset=="number"&&te.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F9(e,r=>{if(r===null)return null;var{affinity:o="forward"}=n,{path:i,offset:s}=r;switch(t.type){case"insert_node":case"move_node":{r.path=te.transform(i,t,n);break}case"insert_text":{te.equals(t.path,i)&&(t.offset<s||t.offset===s&&o==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{te.equals(t.path,i)&&(r.offset+=t.position),r.path=te.transform(i,t,n);break}case"remove_text":{te.equals(t.path,i)&&t.offset<=s&&(r.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(te.equals(t.path,i)||te.isAncestor(t.path,i))return null;r.path=te.transform(i,t,n);break}case"split_node":{if(te.equals(t.path,i)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(r.offset-=t.position,r.path=te.transform(i,t,QZ(QZ({},n),{},{affinity:"forward"})))}else r.path=te.transform(i,t,n);break}}})}},JZ=void 0,$o={setScrubber(e){JZ=e},stringify(e){return JSON.stringify(e,JZ)}},GOt=["text"],KOt=["anchor","focus"];function eX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eX(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _e={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function o(i){var s=Wu(i,GOt);return s}return Qke(r?o(e):e,r?o(t):t)},isText(e){return Zo(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>_e.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[Qc({},e)];for(var r of t){var o=Wu(r,KOt),[i,s]=de.edges(r),a=[],c=0,u=i.offset,d=s.offset;for(var f of n){var{length:p}=f.text,m=c;if(c+=p,u<=m&&c<=d){Object.assign(f,o),a.push(f);continue}if(u!==d&&(u===c||d===m)||u>c||d<m||d===m&&m!==0){a.push(f);continue}var v=f,g=void 0,y=void 0;if(d<c){var x=d-m;y=Qc(Qc({},v),{},{text:v.text.slice(x)}),v=Qc(Qc({},v),{},{text:v.text.slice(0,x)})}if(u>m){var b=u-m;g=Qc(Qc({},v),{},{text:v.text.slice(0,b)}),v=Qc(Qc({},v),{},{text:v.text.slice(b)})}Object.assign(v,o),g&&a.push(g),a.push(v),y&&a.push(y)}n=a}return n}},L9=e=>e.selection?e.selection:e.children.length>0?F.end(e,[]):[0],L0=(e,t)=>{var[n]=F.node(e,t);return r=>r===n},B9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,o=n?t3t(t):t,i=bt.None,s=bt.None,a=0,c=null,u=null;for(var d of o){var f=d.codePointAt(0);if(!f)break;var p=h3t(d,f);if([i,s]=r?[s,p]:[p,i],Vg(i,bt.ZWJ)&&Vg(s,bt.ExtPict)&&(r?c=tX(t.substring(0,a)):c=tX(t.substring(0,t.length-a)),!c)||Vg(i,bt.RI)&&Vg(s,bt.RI)&&(u!==null?u=!u:r?u=!0:u=y3t(t.substring(0,t.length-a)),!u)||i!==bt.None&&s!==bt.None&&m3t(i,s))break;a+=d.length}return a||1},ZOt=/\s/,XOt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,QOt=/['\u2018\u2019]/,JOt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,o=!1;t.length>0;){var i=B9(t,n),[s,a]=N9(t,i,n);if(e3t(s,a,n))o=!0,r+=i;else if(!o)r+=i;else break;t=a}return r},N9=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},e3t=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(ZOt.test(t))return!1;if(QOt.test(t)){var o=B9(n,r),[i,s]=N9(n,o,r);if(e(i,s,r))return!0}return!XOt.test(t)},t3t=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var o=t.charAt(n-r);if(r3t(o.charCodeAt(0))){var i=t.charAt(n-r-1);if(n3t(i.charCodeAt(0))){yield i+o,r++;continue}}yield o}},n3t=e=>e>=55296&&e<=56319,r3t=e=>e>=56320&&e<=57343,bt;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(bt||(bt={}));var o3t=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,i3t=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,s3t=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,a3t=/^[\u1100-\u115F\uA960-\uA97C]$/,l3t=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,c3t=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,u3t=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,d3t=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,f3t=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,h3t=(e,t)=>{var n=bt.Any;return e.search(o3t)!==-1&&(n|=bt.Extend),t===8205&&(n|=bt.ZWJ),t>=127462&&t<=127487&&(n|=bt.RI),e.search(i3t)!==-1&&(n|=bt.Prepend),e.search(s3t)!==-1&&(n|=bt.SpacingMark),e.search(a3t)!==-1&&(n|=bt.L),e.search(l3t)!==-1&&(n|=bt.V),e.search(c3t)!==-1&&(n|=bt.T),e.search(u3t)!==-1&&(n|=bt.LV),e.search(d3t)!==-1&&(n|=bt.LVT),e.search(f3t)!==-1&&(n|=bt.ExtPict),n};function Vg(e,t){return(e&t)!==0}var p3t=[[bt.L,bt.L|bt.V|bt.LV|bt.LVT],[bt.LV|bt.V,bt.V|bt.T],[bt.LVT|bt.T,bt.T],[bt.Any,bt.Extend|bt.ZWJ],[bt.Any,bt.SpacingMark],[bt.Prepend,bt.Any],[bt.ZWJ,bt.ExtPict],[bt.RI,bt.RI]];function m3t(e,t){return p3t.findIndex(n=>Vg(e,n[0])&&Vg(t,n[1]))===-1}var g3t=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,tX=e=>e.search(g3t)!==-1,v3t=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,y3t=e=>{var t=e.match(v3t);if(t===null)return!1;var n=t[0].length/2;return n%2===1},b3t={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:o=L9(e)}=n;if(te.isPath(o)&&(o=F.range(e,o)),de.isRange(o))if(de.isCollapsed(o))o=o.anchor;else{var i=de.end(o);if(!r&&F.void(e,{at:i}))return;var s=de.start(o),a=F.pointRef(e,s),c=F.pointRef(e,i);ae.delete(e,{at:o,voids:r});var u=a.unref(),d=c.unref();o=u||d,ae.setSelection(e,{anchor:o,focus:o})}if(!(!r&&F.void(e,{at:o})||F.elementReadOnly(e,{at:o}))){var{path:f,offset:p}=o;t.length>0&&e.apply({type:"insert_text",path:f,offset:p,text:t})}})}};function nX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function m_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nX(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ae=m_(m_(m_(m_({},LOt),BOt),NOt),b3t),x3t=(e,t)=>{for(var n of F.pathRefs(e))POt.transform(n,t);for(var r of F.pointRefs(e))OOt.transform(r,t);for(var o of F.rangeRefs(e))ROt.transform(o,t);var i=Ck.get(e)||[],s=_k.get(e)||new Set,a,c,u=v=>{if(v){var g=v.join(",");c.has(g)||(c.add(g),a.push(v))}};if(te.operationCanTransformPath(t)){a=[],c=new Set;for(var d of i){var f=te.transform(d,t);u(f)}}else a=i,c=s;var p=e.getDirtyPaths(t);for(var m of p)u(m);Ck.set(e,a),_k.set(e,c),ae.transform(e,t),e.operations.push(t),F.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),lb.get(e)||(lb.set(e,!0),Promise.resolve().then(()=>{lb.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},w3t=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return te.levels(n)}case"insert_node":{var{node:r,path:o}=t,i=te.levels(o),s=_e.isText(r)?[]:Array.from(Ee.nodes(r),T=>{var[,A]=T;return o.concat(A)});return[...i,...s]}case"merge_node":{var{path:a}=t,c=te.ancestors(a),u=te.previous(a);return[...c,u]}case"move_node":{var{path:d,newPath:f}=t;if(te.equals(d,f))return[];var p=[],m=[];for(var v of te.ancestors(d)){var g=te.transform(v,t);p.push(g)}for(var y of te.ancestors(f)){var x=te.transform(y,t);m.push(x)}var b=m[m.length-1],w=f[f.length-1],C=b.concat(w);return[...p,...m,C]}case"remove_node":{var{path:_}=t,S=te.ancestors(_);return[...S]}case"split_node":{var{path:E}=t,j=te.levels(E),k=te.next(E);return[...j,k]}default:return[]}},C3t=e=>{var{selection:t}=e;return t?Ee.fragment(e,t):[]},_3t=(e,t)=>{var[n,r]=t;if(!_e.isText(n)){if(Re.isElement(n)&&n.children.length===0){var o={text:""};ae.insertNodes(e,o,{at:r.concat(0),voids:!0});return}for(var i=F.isEditor(n)?!1:Re.isElement(n)&&(e.isInline(n)||n.children.length===0||_e.isText(n.children[0])||e.isInline(n.children[0])),s=0,a=0;a<n.children.length;a++,s++){var c=Ee.get(e,r);if(!_e.isText(c)){var u=c.children[s],d=c.children[s-1],f=a===n.children.length-1,p=_e.isText(u)||Re.isElement(u)&&e.isInline(u);if(p!==i)ae.removeNodes(e,{at:r.concat(s),voids:!0}),s--;else if(Re.isElement(u)){if(e.isInline(u)){if(d==null||!_e.isText(d)){var m={text:""};ae.insertNodes(e,m,{at:r.concat(s),voids:!0}),s++}else if(f){var v={text:""};ae.insertNodes(e,v,{at:r.concat(s+1),voids:!0}),s++}}}else d!=null&&_e.isText(d)&&(_e.equals(u,d,{loose:!0})?(ae.mergeNodes(e,{at:r.concat(s),voids:!0}),s--):d.text===""?(ae.removeNodes(e,{at:r.concat(s-1),voids:!0}),s--):u.text===""&&(ae.removeNodes(e,{at:r.concat(s),voids:!0}),s--))}}}},S3t=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,o=r*42;if(n>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},E3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:o="lowest",at:i=t.selection,match:s}=n;if(i){var a=F.path(t,i),c=o==="lowest";for(var[u,d]of F.levels(t,{at:a,voids:r,match:s,reverse:c}))if(!_e.isText(u)){if(de.isRange(i)){if(te.isAncestor(d,i.anchor.path)&&te.isAncestor(d,i.focus.path))return[u,d]}else if(!te.equals(a,d))return[u,d]}}};function rX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function oX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rX(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var k3t=(e,t,n)=>{var{selection:r}=e;if(r){var o=(f,p)=>{if(!_e.isText(f))return!1;var[m,v]=F.parent(e,p);return!e.isVoid(m)||e.markableVoid(m)},i=de.isExpanded(r),s=!1;if(!i){var[a,c]=F.node(e,r);if(a&&o(a,c)){var[u]=F.parent(e,c);s=u&&e.markableVoid(u)}}if(i||s)ae.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var d=oX(oX({},F.marks(e)||{}),{},{[t]:n});e.marks=d,lb.get(e)||e.onChange()}}};function iX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function sX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iX(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var j3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.point(t,n,{edge:"end"}),i=F.end(t,[]),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of F.positions(t,sX(sX({},r),{},{at:s}))){if(c>a)break;c!==0&&(u=d),c++}return u};function aX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function lX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aX(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var T3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.start(t,[]),i=F.point(t,n,{edge:"start"}),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of F.positions(t,lX(lX({},r),{},{at:s,reverse:!0}))){if(c>a)break;c!==0&&(u=d),c++}return u},A3t=(e,t)=>{var{selection:n}=e;n&&de.isCollapsed(n)&&ae.delete(e,{unit:t,reverse:!0})},D3t=(e,t)=>{var{selection:n}=e;n&&de.isCollapsed(n)&&ae.delete(e,{unit:t})},I3t=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&de.isExpanded(r)&&ae.delete(t,{reverse:n==="backward"})},P3t=(e,t)=>[F.start(e,t),F.end(e,t)];function cX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function uX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cX(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var O3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(t,uX(uX({},n),{},{match:r=>Re.isElement(r)&&F.isElementReadOnly(t,r)}))},R3t=(e,t)=>F.point(e,t,{edge:"end"}),$3t=(e,t)=>{var n=F.path(e,t,{edge:"start"});return F.node(e,n)},M3t=(e,t)=>{var n=F.range(e,t);return Ee.fragment(e,n)};function dX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function fX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dX(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var F3t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(t,fX(fX({},n),{},{match:r=>Re.isElement(r)&&F.isVoid(t,r)}))},L3t=(e,t)=>t.children.some(n=>Re.isElement(n)&&F.isBlock(e,n)),B3t=(e,t)=>t.children.some(n=>_e.isText(n)||F.isInline(e,n)),N3t=(e,t)=>Ee.has(e,t),z3t=(e,t)=>t.children.every(n=>_e.isText(n)),V3t=e=>{ae.splitNodes(e,{always:!0})},H3t=(e,t,n)=>{ae.insertNodes(e,t,n)},U3t=e=>{ae.splitNodes(e,{always:!0})};function hX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function W3t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hX(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Y3t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:i}=t;if(o){if(i){var s=W3t({text:n},i);ae.insertNodes(t,s,{at:r.at,voids:r.voids})}else ae.insertText(t,n,r);t.marks=null}},q3t=(e,t)=>!e.isInline(t),G3t=(e,t,n)=>F.isStart(e,t,n)||F.isEnd(e,t,n),K3t=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&_e.isText(r)&&r.text===""&&!e.isVoid(t)},Z3t=(e,t,n)=>{var r=F.end(e,n);return Pt.equals(t,r)},X3t=e=>{var t=Xke.get(e);return t===void 0?!0:t},Q3t=(e,t,n)=>{if(t.offset!==0)return!1;var r=F.start(e,n);return Pt.equals(t,r)},J3t=(e,t)=>{var n=F.path(e,t,{edge:"end"});return F.node(e,n)},eRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=Ee.leaf(t,o);return[i,o]};function tRt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:i}=t;if(i==null&&(i=()=>!0),!!n){var s=[],a=F.path(e,n);for(var[c,u]of Ee.levels(e,a))if(i(c,u)&&(s.push([c,u]),!o&&Re.isElement(c)&&F.isVoid(e,c)))break;r&&s.reverse(),yield*s}}()}var nRt=["text"],rRt=["text"],oRt=function(t){var{marks:n,selection:r}=t;if(!r)return null;if(n)return n;if(de.isExpanded(r)){var[o]=F.nodes(t,{match:_e.isText});if(o){var[i]=o,s=Wu(i,nRt);return s}else return{}}var{anchor:a}=r,{path:c}=a,[u]=F.leaf(t,c);if(a.offset===0){var d=F.previous(t,{at:c,match:_e.isText}),f=F.above(t,{match:x=>Re.isElement(x)&&F.isVoid(t,x)&&t.markableVoid(x)});if(!f){var p=F.above(t,{match:x=>Re.isElement(x)&&F.isBlock(t,x)});if(d&&p){var[m,v]=d,[,g]=p;te.isAncestor(g,v)&&(u=m)}}}var y=Wu(u,rRt);return y},iRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=F.after(t,s,{voids:o});if(a){var[,c]=F.last(t,[]),u=[a.path,c];if(te.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(te.isPath(s)){var[d]=F.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=F.nodes(t,{at:u,match:i,mode:r,voids:o});return f}}},sRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=Ee.get(t,o);return[i,o]};function aRt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,mode:r="all",universal:o=!1,reverse:i=!1,voids:s=!1,ignoreNonSelectable:a=!1}=t,{match:c}=t;if(c||(c=()=>!0),!!n){var u,d;if(qOt.isSpan(n))u=n[0],d=n[1];else{var f=F.path(e,n,{edge:"start"}),p=F.path(e,n,{edge:"end"});u=i?p:f,d=i?f:p}var m=Ee.nodes(e,{reverse:i,from:u,to:d,pass:C=>{var[_]=C;return Re.isElement(_)?!!(!s&&(F.isVoid(e,_)||F.isElementReadOnly(e,_))||a&&!F.isSelectable(e,_)):!1}}),v=[],g;for(var[y,x]of m)if(!(a&&Re.isElement(y)&&!F.isSelectable(e,y))){var b=g&&te.compare(x,g[1])===0;if(!(r==="highest"&&b)){if(!c(y,x)){if(o&&!b&&_e.isText(y))return;continue}if(r==="lowest"&&b){g=[y,x];continue}var w=r==="lowest"?g:[y,x];w&&(o?v.push(w):yield w),g=[y,x]}}r==="lowest"&&g&&(o?v.push(g):yield g),o&&(yield*v)}}()}var lRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:o}=n,i=d=>Ck.get(d)||[],s=d=>_k.get(d)||new Set,a=d=>{var f=i(d).pop(),p=f.join(",");return s(d).delete(p),f};if(F.isNormalizing(t)){if(r){var c=Array.from(Ee.nodes(t),d=>{var[,f]=d;return f}),u=new Set(c.map(d=>d.join(",")));Ck.set(t,c),_k.set(t,u)}i(t).length!==0&&F.withoutNormalizing(t,()=>{for(var d of i(t))if(Ee.has(t,d)){var f=F.node(t,d),[p,m]=f;Re.isElement(p)&&p.children.length===0&&t.normalizeNode(f,{operation:o})}for(var v=i(t),g=v.length,y=0;v.length!==0;){if(!t.shouldNormalize({dirtyPaths:v,iteration:y,initialDirtyPathsLength:g,operation:o}))return;var x=a(t);if(Ee.has(t,x)){var b=F.node(t,x);t.normalizeNode(b,{operation:o})}y++,v=i(t)}})}},cRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=te.parent(o),s=F.node(t,i);return s},uRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=F.pathRefs(t);return c.delete(i),i.current=null,a}},s=F.pathRefs(t);return s.add(i),i},dRt=e=>{var t=VZ.get(e);return t||(t=new Set,VZ.set(e,t)),t},fRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:i}=r;if(te.isPath(n)){if(i==="start"){var[,s]=Ee.first(t,n);n=s}else if(i==="end"){var[,a]=Ee.last(t,n);n=a}}return de.isRange(n)&&(i==="start"?n=de.start(n):i==="end"?n=de.end(n):n=te.common(n.anchor.path,n.focus.path)),Pt.isPoint(n)&&(n=n.path),o!=null&&(n=n.slice(0,o)),n},hRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=F.pointRefs(t);return c.delete(i),i.current=null,a}},s=F.pointRefs(t);return s.add(i),i},pRt=e=>{var t=HZ.get(e);return t||(t=new Set,HZ.set(e,t)),t},mRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=r;if(te.isPath(n)){var i;if(o==="end"){var[,s]=Ee.last(t,n);i=s}else{var[,a]=Ee.first(t,n);i=a}var c=Ee.get(t,i);if(!_e.isText(c))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(n,"] because it has no ").concat(o," text node."));return{path:i,offset:o==="end"?c.text.length:0}}if(de.isRange(n)){var[u,d]=de.edges(n);return o==="start"?u:d}return n};function gRt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:i=!1,ignoreNonSelectable:s=!1}=t;if(!n)return;var a=F.range(e,n),[c,u]=de.edges(a),d=o?u:c,f=!1,p="",m=0,v=0,g=0;for(var[y,x]of F.nodes(e,{at:n,reverse:o,voids:i,ignoreNonSelectable:s})){if(Re.isElement(y)){if(!i&&(e.isVoid(y)||e.isElementReadOnly(y))){yield F.start(e,x);continue}if(e.isInline(y))continue;if(F.hasInlines(e,y)){var b=te.isAncestor(x,u.path)?u:F.end(e,x),w=te.isAncestor(x,c.path)?c:F.start(e,x);p=F.string(e,{anchor:w,focus:b},{voids:i}),f=!0}}if(_e.isText(y)){var C=te.equals(x,d.path);for(C?(v=o?d.offset:y.text.length-d.offset,g=d.offset):(v=y.text.length,g=o?v:0),(C||f||r==="offset")&&(yield{path:x,offset:g},f=!1);;){if(m===0){if(p==="")break;m=_(p,r,o),p=N9(p,m,o)[1]}if(g=o?g-m:g+m,v=v-m,v<0){m=-v;break}m=0,yield{path:x,offset:g}}}}function _(S,E,j){return E==="character"?B9(S,j):E==="word"?JOt(S,j):E==="line"||E==="block"?S.length:1}}()}var vRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=F.before(t,s,{voids:o});if(a){var[,c]=F.first(t,[]),u=[a.path,c];if(te.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(te.isPath(s)){var[d]=F.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=F.nodes(t,{reverse:!0,at:u,match:i,mode:r,voids:o});return f}}},yRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=F.rangeRefs(t);return c.delete(i),i.current=null,a}},s=F.rangeRefs(t);return s.add(i),i},bRt=e=>{var t=UZ.get(e);return t||(t=new Set,UZ.set(e,t)),t},xRt=(e,t,n)=>{if(de.isRange(t)&&!n)return t;var r=F.start(e,t),o=F.end(e,n||t);return{anchor:r,focus:o}};function pX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function wRt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pX(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var CRt=(e,t)=>{var{selection:n}=e;if(n){var r=(d,f)=>{if(!_e.isText(d))return!1;var[p,m]=F.parent(e,f);return!e.isVoid(p)||e.markableVoid(p)},o=de.isExpanded(n),i=!1;if(!o){var[s,a]=F.node(e,n);if(s&&r(s,a)){var[c]=F.parent(e,a);i=c&&e.markableVoid(c)}}if(o||i)ae.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var u=wRt({},F.marks(e)||{});delete u[t],e.marks=u,lb.get(e)||e.onChange()}}},_Rt=(e,t)=>{Xke.set(e,t)},SRt=(e,t)=>F.point(e,t,{edge:"start"}),ERt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,i=F.range(t,n),[s,a]=de.edges(i),c="";for(var[u,d]of F.nodes(t,{at:i,match:_e.isText,voids:o})){var f=u.text;te.equals(d,a.path)&&(f=f.slice(0,a.offset)),te.equals(d,s.path)&&(f=f.slice(s.offset)),c+=f}return c},kRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,[i,s]=de.edges(n);if(i.offset!==0||s.offset!==0||de.isCollapsed(n)||te.hasPrevious(s.path))return n;var a=F.above(t,{at:s,match:v=>Re.isElement(v)&&F.isBlock(t,v),voids:o}),c=a?a[1]:[],u=F.start(t,i),d={anchor:u,focus:s},f=!0;for(var[p,m]of F.nodes(t,{at:d,match:_e.isText,reverse:!0,voids:o})){if(f){f=!1;continue}if(p.text!==""||te.isBefore(m,c)){s={path:m,offset:p.text.length};break}}return{anchor:i,focus:s}},jRt=(e,t)=>{var n=F.isNormalizing(e);F.setNormalizing(e,!1);try{t()}finally{F.setNormalizing(e,n)}F.normalize(e)},TRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var r,o,{reverse:i=!1,unit:s="character",distance:a=1,voids:c=!1}=n,{at:u=t.selection,hanging:d=!1}=n;if(u){var f=!1;if(de.isRange(u)&&de.isCollapsed(u)&&(f=!0,u=u.anchor),Pt.isPoint(u)){var p=F.void(t,{at:u,mode:"highest"});if(!c&&p){var[,m]=p;u=m}else{var v={unit:s,distance:a},g=i?F.before(t,u,v)||F.start(t,[]):F.after(t,u,v)||F.end(t,[]);u={anchor:u,focus:g},d=!0}}if(te.isPath(u)){ae.removeNodes(t,{at:u,voids:c});return}if(!de.isCollapsed(u)){if(!d){var[,y]=de.edges(u),x=F.end(t,[]);Pt.equals(y,x)||(u=F.unhangRange(t,u,{voids:c}))}var[b,w]=de.edges(u),C=F.above(t,{match:le=>Re.isElement(le)&&F.isBlock(t,le),at:b,voids:c}),_=F.above(t,{match:le=>Re.isElement(le)&&F.isBlock(t,le),at:w,voids:c}),S=C&&_&&!te.equals(C[1],_[1]),E=te.equals(b.path,w.path),j=c?null:(r=F.void(t,{at:b,mode:"highest"}))!==null&&r!==void 0?r:F.elementReadOnly(t,{at:b,mode:"highest"}),k=c?null:(o=F.void(t,{at:w,mode:"highest"}))!==null&&o!==void 0?o:F.elementReadOnly(t,{at:w,mode:"highest"});if(j){var T=F.before(t,b);T&&C&&te.isAncestor(C[1],T.path)&&(b=T)}if(k){var A=F.after(t,w);A&&_&&te.isAncestor(_[1],A.path)&&(w=A)}var D=[],I;for(var P of F.nodes(t,{at:u,voids:c})){var[$,R]=P;I&&te.compare(R,I)===0||(!c&&Re.isElement($)&&(F.isVoid(t,$)||F.isElementReadOnly(t,$))||!te.isCommon(R,b.path)&&!te.isCommon(R,w.path))&&(D.push(P),I=R)}var V=Array.from(D,le=>{var[,ge]=le;return F.pathRef(t,ge)}),N=F.pointRef(t,b),W=F.pointRef(t,w),G="";if(!E&&!j){var H=N.current,[q]=F.leaf(t,H),{path:X}=H,{offset:B}=b,Y=q.text.slice(B);Y.length>0&&(t.apply({type:"remove_text",path:X,offset:B,text:Y}),G=Y)}if(V.reverse().map(le=>le.unref()).filter(le=>le!==null).forEach(le=>ae.removeNodes(t,{at:le,voids:c})),!k){var z=W.current,[Z]=F.leaf(t,z),{path:Q}=z,ne=E?b.offset:0,K=Z.text.slice(ne,w.offset);K.length>0&&(t.apply({type:"remove_text",path:Q,offset:ne,text:K}),G=K)}!E&&S&&W.current&&N.current&&ae.mergeNodes(t,{at:W.current,hanging:!0,voids:c}),f&&i&&s==="character"&&G.length>1&&G.match(/[\u0E00-\u0E7F]+/)&&ae.insertText(t,G.slice(0,G.length-a));var J=N.unref(),re=W.unref(),fe=i?J||re:re||J;n.at==null&&fe&&ae.select(t,fe)}}})},ARt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1}=r,{at:s=L9(t)}=r;if(n.length){if(de.isRange(s))if(o||(s=F.unhangRange(t,s,{voids:i})),de.isCollapsed(s))s=s.anchor;else{var[,a]=de.edges(s);if(!i&&F.void(t,{at:a}))return;var c=F.pointRef(t,a);ae.delete(t,{at:s}),s=c.unref()}else te.isPath(s)&&(s=F.start(t,s));if(!(!i&&F.void(t,{at:s}))){var u=F.above(t,{at:s,match:B=>Re.isElement(B)&&F.isInline(t,B),mode:"highest",voids:i});if(u){var[,d]=u;if(F.isEnd(t,s,d)){var f=F.after(t,d);s=f}else if(F.isStart(t,s,d)){var p=F.before(t,d);s=p}}var m=F.above(t,{match:B=>Re.isElement(B)&&F.isBlock(t,B),at:s,voids:i}),[,v]=m,g=F.isStart(t,s,v),y=F.isEnd(t,s,v),x=g&&y,b=!g||g&&y,w=!y,[,C]=Ee.first({children:n},[]),[,_]=Ee.last({children:n},[]),S=[],E=B=>{var[Y,z]=B,Z=z.length===0;return Z?!1:x?!0:!(b&&te.isAncestor(z,C)&&Re.isElement(Y)&&!t.isVoid(Y)&&!t.isInline(Y)||w&&te.isAncestor(z,_)&&Re.isElement(Y)&&!t.isVoid(Y)&&!t.isInline(Y))};for(var j of Ee.nodes({children:n},{pass:E}))E(j)&&S.push(j);var k=[],T=[],A=[],D=!0,I=!1;for(var[P]of S)Re.isElement(P)&&!t.isInline(P)?(D=!1,I=!0,T.push(P)):D?k.push(P):A.push(P);var[$]=F.nodes(t,{at:s,match:B=>_e.isText(B)||F.isInline(t,B),mode:"highest",voids:i}),[,R]=$,V=F.isStart(t,s,R),N=F.isEnd(t,s,R),W=F.pathRef(t,y&&!A.length?te.next(v):v),G=F.pathRef(t,N?te.next(R):R);ae.splitNodes(t,{at:s,match:B=>I?Re.isElement(B)&&F.isBlock(t,B):_e.isText(B)||F.isInline(t,B),mode:I?"lowest":"highest",always:I&&(!g||k.length>0)&&(!y||A.length>0),voids:i});var H=F.pathRef(t,!V||V&&N?te.next(R):R);if(ae.insertNodes(t,k,{at:H.current,match:B=>_e.isText(B)||F.isInline(t,B),mode:"highest",voids:i}),x&&!k.length&&T.length&&!A.length&&ae.delete(t,{at:v,voids:i}),ae.insertNodes(t,T,{at:W.current,match:B=>Re.isElement(B)&&F.isBlock(t,B),mode:"lowest",voids:i}),ae.insertNodes(t,A,{at:G.current,match:B=>_e.isText(B)||F.isInline(t,B),mode:"highest",voids:i}),!r.at){var q;if(A.length>0&&G.current?q=te.previous(G.current):T.length>0&&W.current?q=te.previous(W.current):H.current&&(q=te.previous(H.current)),q){var X=F.end(t,q);ae.select(t,X)}}H.unref(),W.unref(),G.unref()}}})},DRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:o}=t;if(o){if(r==="anchor")ae.select(t,o.anchor);else if(r==="focus")ae.select(t,o.focus);else if(r==="start"){var[i]=de.edges(o);ae.select(t,i)}else if(r==="end"){var[,s]=de.edges(o);ae.select(t,s)}}else return},IRt=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},PRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:o=1,unit:i="character",reverse:s=!1}=n,{edge:a=null}=n;if(r){a==="start"&&(a=de.isBackward(r)?"focus":"anchor"),a==="end"&&(a=de.isBackward(r)?"anchor":"focus");var{anchor:c,focus:u}=r,d={distance:o,unit:i,ignoreNonSelectable:!0},f={};if(a==null||a==="anchor"){var p=s?F.before(t,c,d):F.after(t,c,d);p&&(f.anchor=p)}if(a==null||a==="focus"){var m=s?F.before(t,u,d):F.after(t,u,d);m&&(f.focus=m)}ae.setSelection(t,f)}},ORt=(e,t)=>{var{selection:n}=e;if(t=F.range(e,t),n){ae.setSelection(e,t);return}if(!de.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat($o.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function mX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function gX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mX(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var RRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=t,{edge:i="both"}=r;if(o){i==="start"&&(i=de.isBackward(o)?"focus":"anchor"),i==="end"&&(i=de.isBackward(o)?"anchor":"focus");var{anchor:s,focus:a}=o,c=i==="anchor"?s:a;ae.setSelection(t,{[i==="anchor"?"anchor":"focus"]:gX(gX({},c),n)})}},$Rt=(e,t)=>{var{selection:n}=e,r={},o={};if(n){for(var i in t)(i==="anchor"&&t.anchor!=null&&!Pt.equals(t.anchor,n.anchor)||i==="focus"&&t.focus!=null&&!Pt.equals(t.focus,n.focus)||i!=="anchor"&&i!=="focus"&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}},MRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1,mode:s="lowest"}=r,{at:a,match:c,select:u}=r;if(Ee.isNode(n)&&(n=[n]),n.length!==0){var[d]=n;if(a||(a=L9(t),u=!0),u==null&&(u=!1),de.isRange(a))if(o||(a=F.unhangRange(t,a,{voids:i})),de.isCollapsed(a))a=a.anchor;else{var[,f]=de.edges(a),p=F.pointRef(t,f);ae.delete(t,{at:a}),a=p.unref()}if(Pt.isPoint(a)){c==null&&(_e.isText(d)?c=E=>_e.isText(E):t.isInline(d)?c=E=>_e.isText(E)||F.isInline(t,E):c=E=>Re.isElement(E)&&F.isBlock(t,E));var[m]=F.nodes(t,{at:a.path,match:c,mode:s,voids:i});if(m){var[,v]=m,g=F.pathRef(t,v),y=F.isEnd(t,a,v);ae.splitNodes(t,{at:a,match:c,mode:s,voids:i});var x=g.unref();a=y?te.next(x):x}else return}var b=te.parent(a),w=a[a.length-1];if(!(!i&&F.void(t,{at:b}))){for(var C of n){var _=b.concat(w);w++,t.apply({type:"insert_node",path:_,node:C}),a=te.next(a)}if(a=te.previous(a),u){var S=F.end(t,a);S&&ae.select(t,S)}}}})},FRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:o="lowest",voids:i=!1}=n,{match:s}=n;if(s==null&&(s=te.isPath(r)?L0(t,r):C=>Re.isElement(C)&&F.isBlock(t,C)),!!r){var a=F.nodes(t,{at:r,match:s,mode:o,voids:i}),c=Array.from(a,C=>{var[,_]=C;return F.pathRef(t,_)});for(var u of c){var d=u.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var f=F.node(t,te.parent(d)),[p,m]=f,v=d[d.length-1],{length:g}=p.children;if(g===1){var y=te.next(m);ae.moveNodes(t,{at:d,to:y,voids:i}),ae.removeNodes(t,{at:m,voids:i})}else if(v===0)ae.moveNodes(t,{at:d,to:m,voids:i});else if(v===g-1){var x=te.next(m);ae.moveNodes(t,{at:d,to:x,voids:i})}else{var b=te.next(d),w=te.next(m);ae.splitNodes(t,{at:b,voids:i}),ae.moveNodes(t,{at:d,to:w,voids:i})}}}})},LRt=["text"],BRt=["children"],Jke=(e,t)=>{if(Re.isElement(t)){var n=t;return F.isVoid(e,t)?!0:n.children.length===1?Jke(e,n.children[0]):!1}else return!F.isEditor(t)},NRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{match:r,at:o=t.selection}=n,{hanging:i=!1,voids:s=!1,mode:a="lowest"}=n;if(o){if(r==null)if(te.isPath(o)){var[c]=F.parent(t,o);r=T=>c.children.includes(T)}else r=T=>Re.isElement(T)&&F.isBlock(t,T);if(!i&&de.isRange(o)&&(o=F.unhangRange(t,o,{voids:s})),de.isRange(o))if(de.isCollapsed(o))o=o.anchor;else{var[,u]=de.edges(o),d=F.pointRef(t,u);ae.delete(t,{at:o}),o=d.unref(),n.at==null&&ae.select(t,o)}var[f]=F.nodes(t,{at:o,match:r,voids:s,mode:a}),p=F.previous(t,{at:o,match:r,voids:s,mode:a});if(!(!f||!p)){var[m,v]=f,[g,y]=p;if(!(v.length===0||y.length===0)){var x=te.next(y),b=te.common(v,y),w=te.isSibling(v,y),C=Array.from(F.levels(t,{at:v}),T=>{var[A]=T;return A}).slice(b.length).slice(0,-1),_=F.above(t,{at:v,mode:"highest",match:T=>C.includes(T)&&Jke(t,T)}),S=_&&F.pathRef(t,_[1]),E,j;if(_e.isText(m)&&_e.isText(g)){var k=Wu(m,LRt);j=g.text.length,E=k}else if(Re.isElement(m)&&Re.isElement(g)){var k=Wu(m,BRt);j=g.children.length,E=k}else throw new Error("Cannot merge the node at path [".concat(v,"] with the previous sibling because it is not the same kind: ").concat($o.stringify(m)," ").concat($o.stringify(g)));w||ae.moveNodes(t,{at:v,to:x,voids:s}),S&&ae.removeNodes(t,{at:S.current,voids:s}),Re.isElement(g)&&F.isEmpty(t,g)||_e.isText(g)&&g.text===""&&y[y.length-1]!==0?ae.removeNodes(t,{at:y,voids:s}):t.apply({type:"merge_node",path:x,position:j,properties:E}),S&&S.unref()}}}})},zRt=(e,t)=>{F.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:i=!1}=t,{match:s}=t;if(r){s==null&&(s=te.isPath(r)?L0(e,r):m=>Re.isElement(m)&&F.isBlock(e,m));var a=F.pathRef(e,n),c=F.nodes(e,{at:r,match:s,mode:o,voids:i}),u=Array.from(c,m=>{var[,v]=m;return F.pathRef(e,v)});for(var d of u){var f=d.unref(),p=a.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:p}),a.current&&te.isSibling(p,f)&&te.isAfter(p,f)&&(a.current=te.next(a.current))}a.unref()}})},VRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:o=!1,mode:i="lowest"}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=te.isPath(s)?L0(t,s):m=>Re.isElement(m)&&F.isBlock(t,m)),!r&&de.isRange(s)&&(s=F.unhangRange(t,s,{voids:o}));var c=F.nodes(t,{at:s,match:a,mode:i,voids:o}),u=Array.from(c,m=>{var[,v]=m;return F.pathRef(t,v)});for(var d of u){var f=d.unref();if(f){var[p]=F.node(t,f);t.apply({type:"remove_node",path:f,node:p})}}}})},HRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{match:o,at:i=t.selection,compare:s,merge:a}=r,{hanging:c=!1,mode:u="lowest",split:d=!1,voids:f=!1}=r;if(i){if(o==null&&(o=te.isPath(i)?L0(t,i):j=>Re.isElement(j)&&F.isBlock(t,j)),!c&&de.isRange(i)&&(i=F.unhangRange(t,i,{voids:f})),d&&de.isRange(i)){if(de.isCollapsed(i)&&F.leaf(t,i.anchor)[0].text.length>0)return;var p=F.rangeRef(t,i,{affinity:"inward"}),[m,v]=de.edges(i),g=u==="lowest"?"lowest":"highest",y=F.isEnd(t,v,v.path);ae.splitNodes(t,{at:v,match:o,mode:g,voids:f,always:!y});var x=F.isStart(t,m,m.path);ae.splitNodes(t,{at:m,match:o,mode:g,voids:f,always:!x}),i=p.unref(),r.at==null&&ae.select(t,i)}s||(s=(j,k)=>j!==k);for(var[b,w]of F.nodes(t,{at:i,match:o,mode:u,voids:f})){var C={},_={};if(w.length!==0){var S=!1;for(var E in n)E==="children"||E==="text"||s(n[E],b[E])&&(S=!0,b.hasOwnProperty(E)&&(C[E]=b[E]),a?n[E]!=null&&(_[E]=a(b[E],n[E])):n[E]!=null&&(_[E]=n[E]));S&&t.apply({type:"set_node",path:w,properties:C,newProperties:_})}}}})},URt=(e,t)=>{if(de.isCollapsed(t))return t.anchor;var[,n]=de.edges(t),r=F.pointRef(e,n);return ae.delete(e,{at:t}),r.unref()},WRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection,height:a=0,always:c=!1}=n;if(i==null&&(i=W=>Re.isElement(W)&&F.isBlock(t,W)),de.isRange(s)&&(s=URt(t,s)),te.isPath(s)){var u=s,d=F.point(t,u),[f]=F.parent(t,u);i=W=>W===f,a=d.path.length-u.length+1,s=d,c=!0}if(s){var p=F.pointRef(t,s,{affinity:"backward"}),m;try{var[v]=F.nodes(t,{at:s,match:i,mode:r,voids:o});if(!v)return;var g=F.void(t,{at:s,mode:"highest"}),y=0;if(!o&&g){var[x,b]=g;if(Re.isElement(x)&&t.isInline(x)){var w=F.after(t,b);if(!w){var C={text:""},_=te.next(b);ae.insertNodes(t,C,{at:_,voids:o}),w=F.point(t,_)}s=w,c=!0}var S=s.path.length-b.length;a=S+1,c=!0}m=F.pointRef(t,s);var E=s.path.length-a,[,j]=v,k=s.path.slice(0,E),T=a===0?s.offset:s.path[E]+y;for(var[A,D]of F.levels(t,{at:k,reverse:!0,voids:o})){var I=!1;if(D.length<j.length||D.length===0||!o&&Re.isElement(A)&&F.isVoid(t,A))break;var P=p.current,$=F.isEnd(t,P,D);if(c||!p||!F.isEdge(t,P,D)){I=!0;var R=Ee.extractProps(A);t.apply({type:"split_node",path:D,position:T,properties:R})}T=D[D.length-1]+(I||$?1:0)}if(n.at==null){var V=m.current||F.end(t,[]);ae.select(t,V)}}finally{var N;p.unref(),(N=m)===null||N===void 0||N.unref()}}})},YRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var o={};for(var i of n)o[i]=null;ae.setNodes(t,o,r)},qRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{mode:r="lowest",split:o=!1,voids:i=!1}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=te.isPath(s)?L0(t,s):m=>Re.isElement(m)&&F.isBlock(t,m)),te.isPath(s)&&(s=F.range(t,s));var c=de.isRange(s)?F.rangeRef(t,s):null,u=F.nodes(t,{at:s,match:a,mode:r,voids:i}),d=Array.from(u,m=>{var[,v]=m;return F.pathRef(t,v)}).reverse(),f=function(){var v=p.unref(),[g]=F.node(t,v),y=F.range(t,v);o&&c&&(y=de.intersection(c.current,y)),ae.liftNodes(t,{at:y,match:x=>Re.isAncestor(g)&&g.children.includes(x),voids:i})};for(var p of d)f();c&&c.unref()}})};function vX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function yX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vX(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var GRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{mode:o="lowest",split:i=!1,voids:s=!1}=r,{match:a,at:c=t.selection}=r;if(c){if(a==null&&(te.isPath(c)?a=L0(t,c):t.isInline(n)?a=y=>Re.isElement(y)&&F.isInline(t,y)||_e.isText(y):a=y=>Re.isElement(y)&&F.isBlock(t,y)),i&&de.isRange(c)){var[u,d]=de.edges(c),f=F.rangeRef(t,c,{affinity:"inward"});ae.splitNodes(t,{at:d,match:a,voids:s}),ae.splitNodes(t,{at:u,match:a,voids:s}),c=f.unref(),r.at==null&&ae.select(t,c)}var p=Array.from(F.nodes(t,{at:c,match:t.isInline(n)?y=>Re.isElement(y)&&F.isBlock(t,y):y=>F.isEditor(y),mode:"lowest",voids:s})),m=function(){var x=de.isRange(c)?de.intersection(c,F.range(t,g)):c;if(!x)return 0;var b=Array.from(F.nodes(t,{at:x,match:a,mode:o,voids:s}));if(b.length>0){var[w]=b,C=b[b.length-1],[,_]=w,[,S]=C;if(_.length===0&&S.length===0)return 0;var E=te.equals(_,S)?te.parent(_):te.common(_,S),j=F.range(t,_,S),k=F.node(t,E),[T]=k,A=E.length+1,D=te.next(S.slice(0,A)),I=yX(yX({},n),{},{children:[]});ae.insertNodes(t,I,{at:D,voids:s}),ae.moveNodes(t,{at:j,match:P=>Re.isAncestor(T)&&T.children.includes(P),to:D.concat(0),voids:s})}},v;for(var[,g]of p)v=m()}})},KRt=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return x3t(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return k3t(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return A3t(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return D3t(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return I3t(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return C3t(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return V3t(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return U3t(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ARt(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return H3t(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Y3t(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _3t(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return CRt(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return w3t(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return S3t(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return E3t(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return j3t(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return T3t(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DRt(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return TRt(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return IRt(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return P3t(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return O3t(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return R3t(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $3t(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M3t(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return oRt(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return L3t(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return B3t(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return N3t(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return z3t(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return MRt(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return q3t(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return G3t(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return K3t(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Z3t(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return X3t(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Q3t(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return J3t(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return eRt(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tRt(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return FRt(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return NRt(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return PRt(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zRt(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return iRt(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return sRt(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return aRt(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return lRt(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return cRt(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fRt(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return uRt(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dRt(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return mRt(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hRt(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pRt(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return gRt(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return vRt(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xRt(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yRt(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return bRt(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return VRt(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ORt(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return HRt(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _Rt(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return RRt(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $Rt(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WRt(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return SRt(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ERt(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kRt(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return YRt(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qRt(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return F3t(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jRt(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return GRt(e,...r)}};return e},dd={};Object.defineProperty(dd,"__esModule",{value:!0});var ZRt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),jP={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},e5e={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:ZRt?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},z9={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var g_=1;g_<20;g_++)z9["f"+g_]=111+g_;function LT(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return t5e(s,t)}),o=function(a){return r.some(function(c){return n5e(c,a)})},i=n==null?o:o(n);return i}function XRt(e,t){return LT(e,t)}function QRt(e,t){return LT(e,{byKey:!0},t)}function t5e(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in jP)r[jP[s]]=!1;var a=!0,c=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=V9(p),g=jP[v];if(p.length>1&&!g&&!e5e[p]&&!z9[v])throw new TypeError('Unknown modifier: "'+p+'"');(i===1||!g)&&(n?r.key=v:r.which=r5e(p)),g&&(r[g]=m?null:!0)}}catch(y){c=!0,u=y}finally{try{!a&&d.return&&d.return()}finally{if(c)throw u}}return r}function n5e(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function r5e(e){e=V9(e);var t=z9[e]||e.toUpperCase().charCodeAt(0);return t}function V9(e){return e=e.toLowerCase(),e=e5e[e]||e,e}dd.default=LT;var TP=dd.isHotkey=LT;dd.isCodeHotkey=XRt;dd.isKeyHotkey=QRt;dd.parseHotkey=t5e;dd.compareHotkey=n5e;dd.toKeyCode=r5e;dd.toKeyName=V9;function JRt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Gv(e,t){if(e==null)return{};var n=JRt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cx(e){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cx(e)}function e$t(e,t){if(cx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t$t(e){var t=e$t(e,"string");return cx(t)==="symbol"?t:String(t)}function Fa(e,t,n){return t=t$t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H9=h.createContext(null),Vc=()=>{var e=h.useContext(H9);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},o5e=parseInt(ie.version.split(".")[0],10),n$t=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,bX=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),vs=typeof navigator<"u"&&/Android/.test(navigator.userAgent),Hg=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),wy=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),r$t=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),i5e=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),o$t=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),i$t=vs&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),s$t=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),a$t=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),l$t=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),nS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xd=(!o$t||!i$t)&&!r$t&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",U9=new WeakMap,W9=new WeakMap,s5e=new WeakMap,rS=new WeakMap,Z$=new WeakMap,ux=new WeakMap,xp=new WeakMap,Sk=new WeakMap,BT=new WeakMap,X$=new WeakMap,Kd=new WeakMap,tp=new WeakMap,cb=new WeakMap,Q$=new WeakMap,Y9=new WeakMap,xl=new WeakMap,yu=new WeakMap,fs=new WeakMap,Pd=new WeakMap,Od=new WeakMap,a5e=new WeakMap,Kv=Symbol("placeholder"),l5e=Symbol("mark-placeholder"),c$t=globalThis.Text,q9=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,u$t=e=>Lf(e)&&e.nodeType===8,Da=e=>Lf(e)&&e.nodeType===1,Lf=e=>{var t=q9(e);return!!t&&e instanceof t.Node},J$=e=>{var t=e&&e.anchorNode&&q9(e.anchorNode);return!!t&&e instanceof t.Selection},c5e=e=>Lf(e)&&e.nodeType===3,d$t=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,f$t=e=>{var[t,n]=e;if(Da(t)&&t.childNodes.length){var r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=u5e(t,o,r?"backward":"forward"),r=o<n;Da(t)&&t.childNodes.length;){var i=r?t.childNodes.length-1:0;t=p$t(t,i,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},h$t=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},u5e=(e,t,n)=>{for(var{childNodes:r}=e,o=r[t],i=t,s=!1,a=!1;(u$t(o)||Da(o)&&o.childNodes.length===0||Da(o)&&o.getAttribute("contenteditable")==="false")&&!(s&&a);){if(i>=r.length){s=!0,i=t-1,n="backward";continue}if(i<0){a=!0,i=t+1,n="forward";continue}o=r[i],t=i,i+=n==="forward"?1:-1}return[o,t]},p$t=(e,t,n)=>{var[r]=u5e(e,t,n);return r},d5e=e=>{var t="";if(c5e(e)&&e.nodeValue)return e.nodeValue;if(Da(e)){for(var n of Array.from(e.childNodes))t+=d5e(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},m$t=/data-slate-fragment="(.+?)"/m,g$t=e=>{var t=e.getData("text/html"),[,n]=t.match(m$t)||[];return n},G9=(e,t,n)=>{var{target:r}=t;if(Da(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:o}=me.getWindow(e);if(o.contains(r))return me.hasDOMNode(e,r,{editable:!0});var i=n.find(s=>{var{addedNodes:a,removedNodes:c}=s;for(var u of a)if(u===r||u.contains(r))return!0;for(var d of c)if(d===r||d.contains(r))return!0});return!i||i===t?!1:G9(e,i,n)},v$t=0;class y$t{constructor(){Fa(this,"id",void 0),this.id="".concat(v$t++)}}var me={androidPendingDiffs:e=>fs.get(e),androidScheduleFlush:e=>{var t;(t=Y9.get(e))===null||t===void 0||t()},blur:e=>{var t=me.toDOMNode(e,e),n=me.findDocumentOrShadowRoot(e);Kd.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=me.findDocumentOrShadowRoot(e),r=n.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&ae.deselect(e)},findDocumentOrShadowRoot:e=>{var t=me.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:o}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i=me.toSlateNode(e,t.target),s=me.findPath(e,i);if(Re.isElement(i)&&F.isVoid(e,i)){var a=o.getBoundingClientRect(),c=e.isInline(i)?n-a.left<a.left+a.width-n:r-a.top<a.top+a.height-r,u=F.point(e,s,{edge:c?"start":"end"}),d=c?F.before(e,u):F.after(e,u);if(d){var f=F.range(e,d);return f}}var p,{document:m}=me.getWindow(e);if(m.caretRangeFromPoint)p=m.caretRangeFromPoint(n,r);else{var v=m.caretPositionFromPoint(n,r);v&&(p=m.createRange(),p.setStart(v.offsetNode,v.offset),p.setEnd(v.offsetNode,v.offset))}if(!p)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var g=me.toSlateRange(e,p,{exactMatch:!1,suppressThrow:!1});return g},findKey:(e,t)=>{var n=Sk.get(t);return n||(n=new y$t,Sk.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var o=W9.get(r);if(o==null){if(F.isEditor(r))return n;break}var i=U9.get(r);if(i==null)break;n.unshift(i),r=o}throw new Error("Unable to find the path for Slate node: ".concat($o.stringify(t)))},focus:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!Kd.get(t)){if(n.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(t.operations.length>0){setTimeout(()=>{me.focus(t,{retries:n.retries-1})},10);return}var r=me.toDOMNode(t,t),o=me.findDocumentOrShadowRoot(t);if(o.activeElement!==r){if(t.selection&&o instanceof Document){var i=o.getSelection(),s=me.toDOMRange(t,t.selection);i==null||i.removeAllRanges(),i==null||i.addRange(s)}t.selection||(ae.select(t,F.start(t,[])),t.onChange()),r.focus({preventScroll:!0}),Kd.set(t,!0)}}},getWindow:e=>{var t=s5e.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=r,i=me.toDOMNode(t,t),s;try{s=Da(n)?n:n.parentElement}catch(a){if(a instanceof Error&&!a.message.includes('Permission denied to access property "nodeType"'))throw a}return s?s.closest("[data-slate-editor]")===i&&(!o||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===i||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>Lf(t)&&me.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return F.hasPath(e,n.path)&&F.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>me.hasEditableTarget(e,t)||me.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>Lf(t)&&me.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!tp.get(e),isFocused:e=>!!Kd.get(e),isReadOnly:e=>!!X$.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(X$.get(e))return!1;var n=me.hasTarget(e,t)&&me.toSlateNode(e,t);return Re.isElement(n)&&F.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=BT.get(e),r=F.isEditor(t)?rS.get(e):n==null?void 0:n.get(me.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat($o.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=F.node(e,t.path),r=me.toDOMNode(e,n),o;F.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i="[data-slate-string], [data-slate-zero-width]",s=Array.from(r.querySelectorAll(i)),a=0,c=0;c<s.length;c++){var u=s[c],d=u.childNodes[0];if(!(d==null||d.textContent==null)){var{length:f}=d.textContent,p=u.getAttribute("data-slate-length"),m=p==null?f:parseInt(p,10),v=a+m,g=s[c+1];if(t.offset===v&&g!==null&&g!==void 0&&g.hasAttribute("data-slate-mark-placeholder")){var y,x=g.childNodes[0];o=[x instanceof c$t?x:g,(y=g.textContent)!==null&&y!==void 0&&y.startsWith("\uFEFF")?1:0];break}if(t.offset<=v){var b=Math.min(f,Math.max(0,t.offset-a));o=[d,b];break}a=v}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat($o.stringify(t)));return o},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,o=de.isBackward(t),i=me.toDOMPoint(e,n),s=de.isCollapsed(t)?i:me.toDOMPoint(e,r),a=me.getWindow(e),c=a.document.createRange(),[u,d]=o?s:i,[f,p]=o?i:s,m=Da(u)?u:u.parentElement,v=!!m.getAttribute("data-slate-zero-width"),g=Da(f)?f:f.parentElement,y=!!g.getAttribute("data-slate-zero-width");return c.setStart(u,v?1:d),c.setEnd(f,y?1:p),c},toSlateNode:(e,t)=>{var n=Da(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?ux.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,[i,s]=r?t:f$t(t),a=i.parentNode,c=null,u=0;if(a){var d,f,p=me.toDOMNode(e,e),m=a.closest('[data-slate-void="true"]'),v=m&&p.contains(m)?m:null,g=a.closest("[data-slate-leaf]"),y=null;if(g){if(c=g.closest('[data-slate-node="text"]'),c){var x=me.getWindow(e),b=x.document.createRange();b.setStart(c,0),b.setEnd(i,s);var w=b.cloneContents(),C=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];C.forEach(P=>{if(vs&&!r&&P.hasAttribute("data-slate-zero-width")&&P.textContent.length>0&&P.textContext!=="\uFEFF"){P.textContent.startsWith("\uFEFF")&&(P.textContent=P.textContent.slice(1));return}P.parentNode.removeChild(P)}),u=w.textContent.length,y=c}}else if(v){for(var _=v.querySelectorAll("[data-slate-leaf]"),S=0;S<_.length;S++){var E=_[S];if(me.hasDOMNode(e,E)){g=E;break}}g?(c=g.closest('[data-slate-node="text"]'),y=g,u=y.textContent.length,y.querySelectorAll("[data-slate-zero-width]").forEach(P=>{u-=P.textContent.length})):u=1}y&&u===y.textContent.length&&vs&&y.getAttribute("data-slate-zero-width")==="z"&&(d=y.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(a.hasAttribute("data-slate-zero-width")||Hg&&(f=y.textContent)!==null&&f!==void 0&&f.endsWith(`

`))&&u--}if(vs&&!c&&!r){var j=a.hasAttribute("data-slate-node")?a:a.closest("[data-slate-node]");if(j&&me.hasDOMNode(e,j,{editable:!0})){var k=me.toSlateNode(e,j),{path:T,offset:A}=F.start(e,me.findPath(e,k));return j.querySelector("[data-slate-leaf]")||(A=s),{path:T,offset:A}}}if(!c){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var D=me.toSlateNode(e,c),I=me.findPath(e,D);return{path:I,offset:u}},toSlateRange:(e,t,n)=>{var r,{exactMatch:o,suppressThrow:i}=n,s=J$(t)?t.anchorNode:t.startContainer,a,c,u,d,f;if(s)if(J$(t)){if(Hg&&t.rangeCount>1){u=t.focusNode;var p=t.getRangeAt(0),m=t.getRangeAt(t.rangeCount-1);if(u instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement&&m.startContainer instanceof HTMLTableRowElement){let S=function(E){return E.childElementCount>0?S(E.children[0]):E};var v=p.startContainer,g=m.startContainer,y=S(v.children[p.startOffset]),x=S(g.children[m.startOffset]);d=0,x.childNodes.length>0?a=x.childNodes[0]:a=x,y.childNodes.length>0?u=y.childNodes[0]:u=y,x instanceof HTMLElement?c=x.innerHTML.length:c=0}else p.startContainer===u?(a=m.endContainer,c=m.endOffset,d=p.startOffset):(a=p.startContainer,c=p.endOffset,d=m.startOffset)}else a=t.anchorNode,c=t.anchorOffset,u=t.focusNode,d=t.focusOffset;i5e&&h$t(a)||Hg?f=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:f=t.isCollapsed}else a=t.startContainer,c=t.startOffset,u=t.endContainer,d=t.endOffset,f=t.collapsed;if(a==null||u==null||c==null||d==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if(Hg&&(r=u.textContent)!==null&&r!==void 0&&r.endsWith(`

`)&&d===u.textContent.length&&d--,"getAttribute"in u&&u.getAttribute("contenteditable")==="false"&&u.getAttribute("data-slate-void")!=="true"){var b;u=a,d=((b=a.textContent)===null||b===void 0?void 0:b.length)||0}var w=me.toSlatePoint(e,[a,c],{exactMatch:o,suppressThrow:i});if(!w)return null;var C=f?w:me.toSlatePoint(e,[u,d],{exactMatch:o,suppressThrow:i});if(!C)return null;var _={anchor:w,focus:C};return de.isExpanded(_)&&de.isForward(_)&&Da(u)&&F.void(e,{at:_.focus,mode:"highest"})&&(_=F.unhangRange(e,_,{voids:!0})),_}};function b$t(e,t){var{path:n,diff:r}=t;if(!F.hasPath(e,n))return!1;var o=Ee.get(e,n);if(!_e.isText(o))return!1;if(r.start!==o.text.length||r.text.length===0)return o.text.slice(r.start,r.start+r.text.length)===r.text;var i=te.next(n);if(!F.hasPath(e,i))return!1;var s=Ee.get(e,i);return _e.isText(s)&&s.text.startsWith(r.text)}function f5e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((o,i)=>o.slice(0,i.start)+i.text+o.slice(i.end),e)}function x$t(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function w$t(e,t,n){for(var r=Math.min(e.length,t.length,n),o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}function h5e(e,t){var{start:n,end:r,text:o}=t,i=e.slice(n,r),s=x$t(i,o),a=Math.min(i.length-s,o.length-s),c=w$t(i,o,a),u={start:n+s,end:r-c,text:o.slice(s,o.length-c)};return u.start===u.end&&u.text.length===0?null:u}function C$t(e,t,n){var r=Math.min(t.start,n.start),o=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),i=f5e(e,t,n),s=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-o),a=i.slice(r,s),c=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return h5e(e,{start:r,end:c,text:a})}function _$t(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function eM(e,t){var{path:n,offset:r}=t;if(!F.hasPath(e,n))return null;var o=Ee.get(e,n);if(!_e.isText(o))return null;var i=F.above(e,{match:a=>Re.isElement(a)&&F.isBlock(e,a),at:n});if(!i)return null;for(;r>o.text.length;){var s=F.next(e,{at:n,match:_e.isText});if(!s||!te.isDescendant(s[1],i[1]))return null;r-=o.text.length,o=s[0],n=s[1]}return{path:n,offset:r}}function xX(e,t){var n=eM(e,t.anchor);if(!n)return null;if(de.isCollapsed(t))return{anchor:n,focus:n};var r=eM(e,t.focus);return r?{anchor:n,focus:r}:null}function tM(e,t,n){var r=fs.get(e),o=r==null?void 0:r.find(d=>{var{path:f}=d;return te.equals(f,t.path)});if(!o||t.offset<=o.diff.start)return Pt.transform(t,n,{affinity:"backward"});var{diff:i}=o;if(t.offset<=i.start+i.text.length){var s={path:t.path,offset:i.start},a=Pt.transform(s,n,{affinity:"backward"});return a?{path:a.path,offset:a.offset+t.offset-i.start}:null}var c={path:t.path,offset:t.offset-i.text.length+i.end-i.start},u=Pt.transform(c,n,{affinity:"backward"});return u?n.type==="split_node"&&te.equals(n.path,t.path)&&c.offset<n.position&&i.start<n.position?u:{path:u.path,offset:u.offset+i.text.length-i.end+i.start}:null}function wX(e,t,n){var r=tM(e,t.anchor,n);if(!r)return null;if(de.isCollapsed(t))return{anchor:r,focus:r};var o=tM(e,t.focus,n);return o?{anchor:r,focus:o}:null}function S$t(e,t){var{path:n,diff:r,id:o}=e;switch(t.type){case"insert_text":return!te.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:o,path:n};case"remove_text":return!te.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:o,path:n};case"split_node":return!te.equals(t.path,n)||t.position>=r.end?{diff:r,id:o,path:te.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:o,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:o,path:te.transform(n,t,{affinity:"forward"})};case"merge_node":return te.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:o,path:te.transform(n,t)}:{diff:r,id:o,path:te.transform(n,t)}}var i=te.transform(n,t);return i?{diff:r,path:i,id:o}:null}function CX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function v_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CX(Object(n),!0).forEach(function(r){Fa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var E$t=25,k$t=200,j$t=function(){},T$t=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function A$t(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,o=!1,i=null,s=null,a=null,c=0,u=!1,d=()=>{var D=Od.get(t);if(Od.delete(t),D){var{selection:I}=t,P=xX(t,D);P&&(!I||!de.equals(P,I))&&ae.select(t,P)}},f=()=>{var D=Pd.get(t);if(Pd.delete(t),!!D){if(D.at){var I=Pt.isPoint(D.at)?eM(t,D.at):xX(t,D.at);if(!I)return;var P=F.range(t,I);(!t.selection||!de.equals(t.selection,P))&&ae.select(t,I)}D.run()}},p=()=>{if(s&&(clearTimeout(s),s=null),a&&(clearTimeout(a),a=null),!C()&&!w()){d();return}o||(o=!0,setTimeout(()=>o=!1)),w()&&(o="action");var D=t.selection&&F.rangeRef(t,t.selection,{affinity:"forward"});yu.set(t,t.marks),j$t("flush",Pd.get(t),fs.get(t));for(var I=C(),P;P=($=fs.get(t))===null||$===void 0?void 0:$[0];){var $,R,V=xl.get(t);V!==void 0&&(xl.delete(t),t.marks=V),V&&u===!1&&(u=null);var N=_$t(P);(!t.selection||!de.equals(t.selection,N))&&ae.select(t,N),P.diff.text?F.insertText(t,P.diff.text):F.deleteFragment(t),fs.set(t,(R=fs.get(t))===null||R===void 0?void 0:R.filter(H=>{var{id:q}=H;return q!==P.id})),b$t(t,P)||(I=!1,Pd.delete(t),yu.delete(t),o="action",Od.delete(t),n.cancel(),r.cancel(),D==null||D.unref())}var W=D==null?void 0:D.unref();if(W&&!Od.get(t)&&(!t.selection||!de.equals(W,t.selection))&&ae.select(t,W),w()){f();return}I&&n(),n.flush(),r.flush(),d();var G=yu.get(t);yu.delete(t),G!==void 0&&(t.marks=G,t.onChange())},m=D=>{i&&clearTimeout(i),i=setTimeout(()=>{tp.set(t,!1),p()},E$t)},v=D=>{tp.set(t,!0),i&&(clearTimeout(i),i=null)},g=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,P=Z$.get(t);if(P){if(C()||I){P.style.display="none";return}P.style.removeProperty("display")}},y=(D,I)=>{var P,$=(P=fs.get(t))!==null&&P!==void 0?P:[];fs.set(t,$);var R=Ee.leaf(t,D),V=$.findIndex(G=>te.equals(G.path,D));if(V<0){var N=h5e(R.text,I);N&&$.push({path:D,diff:I,id:c++}),g();return}var W=C$t(R.text,$[V].diff,I);if(!W){$.splice(V,1),g();return}$[V]=v_(v_({},$[V]),{},{diff:W})},x=function(I){var{at:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u=!1,Od.delete(t),n.cancel(),r.cancel(),w()&&p(),Pd.set(t,{at:P,run:I}),a=setTimeout(p)},b=D=>{var I;s&&(clearTimeout(s),s=null);var{inputType:P}=D,$=null,R=D.dataTransfer||D.data||void 0;u!==!1&&P!=="insertText"&&P!=="insertCompositionText"&&(u=!1);var[V]=D.getTargetRanges();V&&($=me.toSlateRange(t,V,{exactMatch:!1,suppressThrow:!0}));var N=me.getWindow(t),W=N.getSelection();if(!$&&W&&(V=W,$=me.toSlateRange(t,W,{exactMatch:!1,suppressThrow:!0})),$=(I=$)!==null&&I!==void 0?I:t.selection,!!$){var G=!0;if(P.startsWith("delete")){if(de.isExpanded($)){var[H,q]=de.edges($),X=Ee.leaf(t,H.path);if(X.text.length===H.offset&&q.offset===0){var B=F.next(t,{at:H.path,match:_e.isText});B&&te.equals(B[1],q.path)&&($={anchor:q,focus:q})}}var Y=P.endsWith("Backward")?"backward":"forward",[z,Z]=de.edges($),[Q,ne]=F.leaf(t,z.path),K={text:"",start:z.offset,end:Z.offset},J=fs.get(t),re=J==null?void 0:J.find(Ze=>te.equals(Ze.path,ne)),fe=re?[re.diff,K]:[K],le=f5e(Q.text,...fe);if(le.length===0&&(G=!1),de.isExpanded($)){if(G&&te.equals($.anchor.path,$.focus.path)){var ge={path:$.anchor.path,offset:z.offset},xe=F.range(t,ge,ge);return E(xe),y($.anchor.path,{text:"",end:Z.offset,start:z.offset})}return x(()=>F.deleteFragment(t,{direction:Y}),{at:$})}}switch(P){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return x(()=>F.deleteFragment(t),{at:$});case"deleteContent":case"deleteContentForward":{var{anchor:ce}=$;if(G&&de.isCollapsed($)){var ve=Ee.leaf(t,ce.path);if(ce.offset<ve.text.length)return y(ce.path,{text:"",start:ce.offset,end:ce.offset+1})}return x(()=>F.deleteForward(t),{at:$})}case"deleteContentBackward":{var $e,{anchor:Ae}=$,st=J$(V)?V.isCollapsed:!!(($e=V)!==null&&$e!==void 0&&$e.collapsed);return G&&st&&de.isCollapsed($)&&Ae.offset>0?y(Ae.path,{text:"",start:Ae.offset-1,end:Ae.offset}):x(()=>F.deleteBackward(t),{at:$})}case"deleteEntireSoftLine":return x(()=>{F.deleteBackward(t,{unit:"line"}),F.deleteForward(t,{unit:"line"})},{at:$});case"deleteHardLineBackward":return x(()=>F.deleteBackward(t,{unit:"block"}),{at:$});case"deleteSoftLineBackward":return x(()=>F.deleteBackward(t,{unit:"line"}),{at:$});case"deleteHardLineForward":return x(()=>F.deleteForward(t,{unit:"block"}),{at:$});case"deleteSoftLineForward":return x(()=>F.deleteForward(t,{unit:"line"}),{at:$});case"deleteWordBackward":return x(()=>F.deleteBackward(t,{unit:"word"}),{at:$});case"deleteWordForward":return x(()=>F.deleteForward(t,{unit:"word"}),{at:$});case"insertLineBreak":return x(()=>F.insertSoftBreak(t),{at:$});case"insertParagraph":return x(()=>F.insertBreak(t),{at:$});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(T$t(R))return x(()=>me.insertData(t,R),{at:$});var et=R??"";if(xl.get(t)&&(et=et.replace("\uFEFF","")),P==="insertText"&&/.*\n.*\n$/.test(et)&&(et=et.slice(0,-1)),et.includes(`
`))return x(()=>{var Ze=et.split(`
`);Ze.forEach((Ct,ke)=>{Ct&&F.insertText(t,Ct),ke!==Ze.length-1&&F.insertSoftBreak(t)})},{at:$});if(te.equals($.anchor.path,$.focus.path)){var[lt,Oe]=de.edges($),we={start:lt.offset,end:Oe.offset,text:et};if(et&&u&&P==="insertCompositionText"){var We=u.start+u.text.search(/\S|$/),ze=we.start+we.text.search(/\S|$/);ze===We+1&&we.end===u.start+u.text.length?(we.start-=1,u=null,T()):u=!1}else P==="insertText"?u===null?u=we:u&&de.isCollapsed($)&&u.end+u.text.length===lt.offset?u=v_(v_({},u),{},{text:u.text+et}):u=!1:u=!1;if(G){y(lt.path,we);return}}return x(()=>F.insertText(t,et),{at:$})}}}},w=()=>!!Pd.get(t),C=()=>{var D;return!!((D=fs.get(t))!==null&&D!==void 0&&D.length)},_=()=>w()||C(),S=()=>o,E=D=>{Od.set(t,D),s&&(clearTimeout(s),s=null);var{selection:I}=t;if(D){var P=!I||!te.equals(I.anchor.path,D.anchor.path),$=!I||!te.equals(I.anchor.path.slice(0,-1),D.anchor.path.slice(0,-1));(P&&u||$)&&(u=!1),(P||C())&&(s=setTimeout(p,k$t))}},j=()=>{(w()||!C())&&p()},k=D=>{C()||(g(!0),setTimeout(g))},T=()=>{w()||(a=setTimeout(p))},A=D=>{if(!(C()||w())&&D.some(P=>G9(t,P,D))){var I;(I=a5e.get(t))===null||I===void 0||I()}};return{flush:p,scheduleFlush:T,hasPendingDiffs:C,hasPendingAction:w,hasPendingChanges:_,isFlushing:S,handleUserSelect:E,handleCompositionEnd:m,handleCompositionStart:v,handleDOMBeforeInput:b,handleKeyDown:k,handleDomMutations:A,handleInput:j}}function D$t(){var e=h.useRef(!1);return h.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var dx=nS?h.useLayoutEffect:h.useEffect;function I$t(e,t,n){var[r]=h.useState(()=>new MutationObserver(t));dx(()=>{r.takeRecords()}),h.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var P$t=["node"];function _X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function O$t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_X(Object(n),!0).forEach(function(r){Fa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_X(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var R$t={subtree:!0,childList:!0,characterData:!0},$$t=vs?e=>{var{node:t}=e,n=Gv(e,P$t);if(!vs)return null;var r=Vc(),o=D$t(),[i]=h.useState(()=>A$t(O$t({editor:r},n)));return I$t(t,i.handleDomMutations,R$t),Y9.set(r,i.scheduleFlush),o&&i.flush(),i}:()=>null,M$t=["anchor","focus"],F$t=["anchor","focus"],L$t=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),p5e=(e,t)=>{var n=Gv(e,M$t),r=Gv(t,F$t);return e[Kv]===t[Kv]&&L$t(n,r)},B$t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(!de.equals(r,o)||!p5e(r,o))return!1}return!0},N$t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(r.anchor.offset!==o.anchor.offset||r.focus.offset!==o.focus.offset||!p5e(r,o))return!1}return!0};function SX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function z$t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SX(Object(n),!0).forEach(function(r){Fa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var V$t=e=>{var{isLast:t,leaf:n,parent:r,text:o}=e,i=Vc(),s=me.findPath(i,o),a=te.parent(s),c=!!n[l5e];return i.isVoid(r)?ie.createElement(AP,{length:Ee.string(r).length}):n.text===""&&r.children[r.children.length-1]===o&&!i.isInline(r)&&F.string(i,a)===""?ie.createElement(AP,{isLineBreak:!0,isMarkPlaceholder:c}):n.text===""?ie.createElement(AP,{isMarkPlaceholder:c}):t&&n.text.slice(-1)===`
`?ie.createElement(EX,{isTrailing:!0,text:n.text}):ie.createElement(EX,{text:n.text})},EX=e=>{var{text:t,isTrailing:n=!1}=e,r=h.useRef(null),o=()=>"".concat(t??"").concat(n?`
`:""),[i]=h.useState(o);return dx(()=>{var s=o();r.current&&r.current.textContent!==s&&(r.current.textContent=s)}),ie.createElement(H$t,{ref:r},i)},H$t=h.memo(h.forwardRef((e,t)=>ie.createElement("span",{"data-slate-string":!0,ref:t},e.children))),AP=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,o={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(o["data-slate-mark-placeholder"]=!0),ie.createElement("span",z$t({},o),!vs||!n?"\uFEFF":null,n?ie.createElement("br",null):null)};function kX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function m5e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kX(Object(n),!0).forEach(function(r){Fa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U$t(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function jX(e){e.current&&(clearTimeout(e.current),e.current=null)}var W$t=e=>{var{leaf:t,isLast:n,text:r,parent:o,renderPlaceholder:i,renderLeaf:s=b=>ie.createElement(q$t,m5e({},b))}=e,a=Vc(),c=h.useRef(null),u=h.useRef(null),[d,f]=h.useState(!1),p=h.useRef(null),m=h.useCallback(b=>{if(U$t(c,b==null),b==null){var w;Z$.delete(a),(w=t.onPlaceholderResize)===null||w===void 0||w.call(t,null)}else{if(Z$.set(a,b),!c.current){var C=window.ResizeObserver||r_e;c.current=new C(()=>{var _;(_=t.onPlaceholderResize)===null||_===void 0||_.call(t,b)})}c.current.observe(b),u.current=b}},[u,t,a]),v=ie.createElement(V$t,{isLast:n,leaf:t,parent:o,text:r}),g=!!t[Kv];if(h.useEffect(()=>(g?p.current||(p.current=setTimeout(()=>{f(!0),p.current=null},300)):(jX(p),f(!1)),()=>jX(p)),[g,f]),g&&d){var y={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:wy?"inherit":void 0},contentEditable:!1,ref:m}};v=ie.createElement(ie.Fragment,null,i(y),v)}var x={"data-slate-leaf":!0};return s({attributes:x,children:v,leaf:t,text:r})},Y$t=ie.memo(W$t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&_e.equals(t.leaf,e.leaf)&&t.leaf[Kv]===e.leaf[Kv]),q$t=e=>{var{attributes:t,children:n}=e;return ie.createElement("span",m5e({},t),n)},G$t=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:o,renderLeaf:i,text:s}=e,a=Vc(),c=h.useRef(null),u=_e.decorations(s,t),d=me.findKey(a,s),f=[],p=0;p<u.length;p++){var m=u[p];f.push(ie.createElement(Y$t,{isLast:n&&p===u.length-1,key:"".concat(d.id,"-").concat(p),renderPlaceholder:o,leaf:m,text:s,parent:r,renderLeaf:i}))}var v=h.useCallback(g=>{var y=BT.get(a);g?(y==null||y.set(d,g),xp.set(s,g),ux.set(g,s)):(y==null||y.delete(d),xp.delete(s),c.current&&ux.delete(c.current)),c.current=g},[c,a,d,s]);return ie.createElement("span",{"data-slate-node":"text",ref:v},f)},g5e=ie.memo(G$t,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&N$t(t.decorations,e.decorations));function TX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function nM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TX(Object(n),!0).forEach(function(r){Fa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var K$t=e=>{var{decorations:t,element:n,renderElement:r=b=>ie.createElement(X$t,nM({},b)),renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=Vc(),c=J$t(),u=a.isInline(n),d=me.findKey(a,n),f=h.useCallback(b=>{var w=BT.get(a);b?(w==null||w.set(d,b),xp.set(n,b),ux.set(b,n)):(w==null||w.delete(d),xp.delete(n))},[a,d,n]),p=x5e({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}),m={"data-slate-node":"element",ref:f};if(u&&(m["data-slate-inline"]=!0),!u&&F.hasInlines(a,n)){var v=Ee.string(n),g=Uke(v);g==="rtl"&&(m.dir=g)}if(F.isVoid(a,n)){m["data-slate-void"]=!0,!c&&u&&(m.contentEditable=!1);var y=u?"span":"div",[[x]]=Ee.texts(n);p=ie.createElement(y,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},ie.createElement(g5e,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:x})),U9.set(x,0),W9.set(x,n)}return r({attributes:m,children:p,element:n})},Z$t=ie.memo(K$t,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&B$t(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&de.equals(e.selection,t.selection))),X$t=e=>{var{attributes:t,children:n,element:r}=e,o=Vc(),i=o.isInline(r)?"span":"div";return ie.createElement(i,nM(nM({},t),{},{style:{position:"relative"}}),n)},v5e=h.createContext(()=>[]),Q$t=()=>h.useContext(v5e),y5e=h.createContext(!1),b5e=()=>h.useContext(y5e),x5e=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=Q$t(),c=Vc(),u=me.findPath(c,n),d=[],f=Re.isElement(n)&&!c.isInline(n)&&F.hasInlines(c,n),p=0;p<n.children.length;p++){var m=u.concat(p),v=n.children[p],g=me.findKey(c,v),y=F.range(c,m),x=s&&de.intersection(y,s),b=a([v,m]);for(var w of t){var C=de.intersection(w,y);C&&b.push(C)}Re.isElement(v)?d.push(ie.createElement(y5e.Provider,{key:"provider-".concat(g.id),value:!!x},ie.createElement(Z$t,{decorations:b,element:v,key:g.id,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:x}))):d.push(ie.createElement(g5e,{decorations:b,key:g.id,isLast:f&&p===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:i,text:v})),U9.set(v,p),W9.set(v,n)}return d},w5e=h.createContext(!1),J$t=()=>h.useContext(w5e),C5e=h.createContext(null),NT=()=>{var e=h.useContext(C5e);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function eMt(){var e=Vc(),t=h.useRef(!1),n=h.useRef(0),r=h.useCallback(()=>{if(!t.current){t.current=!0;var o=me.getWindow(e);o.cancelAnimationFrame(n.current),n.current=o.requestAnimationFrame(()=>{t.current=!1})}},[e]);return h.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var tMt=3,nMt={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},rMt={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},oMt={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},vr=e=>{var t=nMt[e],n=rMt[e],r=oMt[e],o=t&&TP(t),i=n&&TP(n),s=r&&TP(r);return a=>!!(o&&o(a)||bX&&i&&i(a)||!bX&&s&&s(a))},jr={isBold:vr("bold"),isCompose:vr("compose"),isMoveBackward:vr("moveBackward"),isMoveForward:vr("moveForward"),isDeleteBackward:vr("deleteBackward"),isDeleteForward:vr("deleteForward"),isDeleteLineBackward:vr("deleteLineBackward"),isDeleteLineForward:vr("deleteLineForward"),isDeleteWordBackward:vr("deleteWordBackward"),isDeleteWordForward:vr("deleteWordForward"),isExtendBackward:vr("extendBackward"),isExtendForward:vr("extendForward"),isExtendLineBackward:vr("extendLineBackward"),isExtendLineForward:vr("extendLineForward"),isItalic:vr("italic"),isMoveLineBackward:vr("moveLineBackward"),isMoveLineForward:vr("moveLineForward"),isMoveWordBackward:vr("moveWordBackward"),isMoveWordForward:vr("moveWordForward"),isRedo:vr("redo"),isSoftBreak:vr("insertSoftBreak"),isSplitBlock:vr("splitBlock"),isTransposeCharacter:vr("transposeCharacter"),isUndo:vr("undo")},iMt=(e,t)=>{var n=[],r=()=>{n=[]},o=s=>{if(t.current){var a=s.filter(c=>G9(e,c,s));n.push(...a)}};function i(){n.length>0&&(n.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(a=>{s.target.insertBefore(a,s.nextSibling)}),s.addedNodes.forEach(a=>{s.target.removeChild(a)}))}),r())}return{registerMutations:o,restoreDOM:i,clear:r}},sMt={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class _5e extends h.Component{constructor(){super(...arguments),Fa(this,"context",null),Fa(this,"manager",null),Fa(this,"mutationObserver",null)}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,sMt)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=iMt(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,o=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(o!=null&&o.length){var i;(i=this.manager)===null||i===void 0||i.registerMutations(o)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}Fa(_5e,"contextType",H9);var aMt=vs?_5e:e=>{var{children:t}=e;return ie.createElement(ie.Fragment,null,t)},lMt=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],cMt=["text"];function AX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AX(Object(n),!0).forEach(function(r){Fa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var uMt=e=>ie.createElement(ie.Fragment,null,x5e(e)),dMt=e=>{var t=h.useCallback(B=>ie.createElement(fMt,ec({},B)),[]),{autoFocus:n,decorate:r=hMt,onDOMBeforeInput:o,placeholder:i,readOnly:s=!1,renderElement:a,renderLeaf:c,renderPlaceholder:u=t,scrollSelectionIntoView:d=pMt,style:f={},as:p="div",disableDefaultStyles:m=!1}=e,v=Gv(e,lMt),g=NT(),[y,x]=h.useState(!1),b=h.useRef(null),w=h.useRef([]),[C,_]=h.useState(),{onUserInput:S,receivedUserInput:E}=eMt(),[,j]=h.useReducer(B=>B+1,0);a5e.set(g,j),X$.set(g,s);var k=h.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);h.useEffect(()=>{b.current&&n&&b.current.focus()},[n]);var T=h.useRef(),A=h.useMemo(()=>eT(()=>{var B=T.current;if((vs||!me.isComposing(g))&&(!k.isUpdatingSelection||B!=null&&B.isFlushing())&&!k.isDraggingInternally){var Y=me.findDocumentOrShadowRoot(g),{activeElement:z}=Y,Z=me.toDOMNode(g,g),Q=Y.getSelection();if(z===Z?(k.latestElement=z,Kd.set(g,!0)):Kd.delete(g),!Q)return ae.deselect(g);var{anchorNode:ne,focusNode:K}=Q,J=me.hasEditableTarget(g,ne)||me.isTargetInsideNonReadonlyVoid(g,ne),re=me.hasEditableTarget(g,K)||me.isTargetInsideNonReadonlyVoid(g,K);if(J&&re){var fe=me.toSlateRange(g,Q,{exactMatch:!1,suppressThrow:!0});fe&&(!me.isComposing(g)&&!(B!=null&&B.hasPendingChanges())&&!(B!=null&&B.isFlushing())?ae.select(g,fe):B==null||B.handleUserSelect(fe))}s&&(!J||!re)&&ae.deselect(g)}},100),[g,s,k]),D=h.useMemo(()=>Kx(A,0),[A]);T.current=$$t({node:b,onDOMSelectionChange:A,scheduleOnDOMSelectionChange:D}),dx(()=>{var B,Y,z;b.current&&(z=q9(b.current))?(s5e.set(g,z),rS.set(g,b.current),xp.set(g,b.current),ux.set(b.current,g)):xp.delete(g);var{selection:Z}=g,Q=me.findDocumentOrShadowRoot(g),ne=Q.getSelection();if(!(!ne||!me.isFocused(g)||(B=T.current)!==null&&B!==void 0&&B.hasPendingAction())){var K=le=>{var ge=ne.type!=="None";if(!(!Z&&!ge)){var xe=ne.focusNode,ce;if(Hg&&ne.rangeCount>1){var ve=ne.getRangeAt(0),$e=ne.getRangeAt(ne.rangeCount-1);ve.startContainer===xe?ce=$e.endContainer:ce=ve.startContainer}else ce=ne.anchorNode;var Ae=rS.get(g),st=!1;if(Ae.contains(ce)&&Ae.contains(xe)&&(st=!0),ge&&st&&Z&&!le){var et=me.toSlateRange(g,ne,{exactMatch:!0,suppressThrow:!0});if(et&&de.equals(et,Z)){var lt;if(!k.hasMarkPlaceholder||(lt=ce)!==null&&lt!==void 0&&(lt=lt.parentElement)!==null&&lt!==void 0&&lt.hasAttribute("data-slate-mark-placeholder"))return}}if(Z&&!me.hasRange(g,Z)){g.selection=me.toSlateRange(g,ne,{exactMatch:!1,suppressThrow:!0});return}k.isUpdatingSelection=!0;var Oe=Z&&me.toDOMRange(g,Z);return Oe?(me.isComposing(g)&&!vs?ne.collapseToEnd():de.isBackward(Z)?ne.setBaseAndExtent(Oe.endContainer,Oe.endOffset,Oe.startContainer,Oe.startOffset):ne.setBaseAndExtent(Oe.startContainer,Oe.startOffset,Oe.endContainer,Oe.endOffset),d(g,Oe)):ne.removeAllRanges(),Oe}};ne.rangeCount<=1&&K();var J=((Y=T.current)===null||Y===void 0?void 0:Y.isFlushing())==="action";if(!vs||!J){setTimeout(()=>{k.isUpdatingSelection=!1});return}var re=null,fe=requestAnimationFrame(()=>{if(J){var le=ge=>{try{var xe=me.toDOMNode(g,g);xe.focus(),K(ge)}catch{}};le(),re=setTimeout(()=>{le(!0),k.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(fe),re&&clearTimeout(re)}}});var I=h.useCallback(B=>{if(S(),!s&&me.hasEditableTarget(g,B.target)&&!mMt(B,o)){var Y;if(T.current)return T.current.handleDOMBeforeInput(B);D.flush(),A.flush();var{selection:z}=g,{inputType:Z}=B,Q=B.dataTransfer||B.data||void 0,ne=Z==="insertCompositionText"||Z==="deleteCompositionText";if(ne&&me.isComposing(g))return;var K=!1;if(Z==="insertText"&&z&&de.isCollapsed(z)&&B.data&&B.data.length===1&&/[a-z ]/i.test(B.data)&&z.anchor.offset!==0){var J,re;K=!0,g.marks&&(K=!1);var{anchor:fe}=z,[le,ge]=me.toDOMPoint(g,fe),xe=(J=le.parentElement)===null||J===void 0?void 0:J.closest("a"),ce=me.getWindow(g);if(K&&xe&&me.hasDOMNode(g,xe)){var ve,$e=ce==null?void 0:ce.document.createTreeWalker(xe,NodeFilter.SHOW_TEXT).lastChild();$e===le&&((ve=$e.textContent)===null||ve===void 0?void 0:ve.length)===ge&&(K=!1)}if(K&&le.parentElement&&(ce==null||(re=ce.getComputedStyle(le.parentElement))===null||re===void 0?void 0:re.whiteSpace)==="pre"){var Ae=F.above(g,{at:fe.path,match:We=>Re.isElement(We)&&F.isBlock(g,We)});Ae&&Ee.string(Ae[0]).includes("	")&&(K=!1)}}if(!Z.startsWith("delete")||Z.startsWith("deleteBy")){var[st]=B.getTargetRanges();if(st){var et=me.toSlateRange(g,st,{exactMatch:!1,suppressThrow:!1});if(!z||!de.equals(z,et)){K=!1;var lt=!ne&&g.selection&&F.rangeRef(g,g.selection);ae.select(g,et),lt&&cb.set(g,lt)}}}if(ne)return;if(K||B.preventDefault(),z&&de.isExpanded(z)&&Z.startsWith("delete")){var Oe=Z.endsWith("Backward")?"backward":"forward";F.deleteFragment(g,{direction:Oe});return}switch(Z){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{F.deleteFragment(g);break}case"deleteContent":case"deleteContentForward":{F.deleteForward(g);break}case"deleteContentBackward":{F.deleteBackward(g);break}case"deleteEntireSoftLine":{F.deleteBackward(g,{unit:"line"}),F.deleteForward(g,{unit:"line"});break}case"deleteHardLineBackward":{F.deleteBackward(g,{unit:"block"});break}case"deleteSoftLineBackward":{F.deleteBackward(g,{unit:"line"});break}case"deleteHardLineForward":{F.deleteForward(g,{unit:"block"});break}case"deleteSoftLineForward":{F.deleteForward(g,{unit:"line"});break}case"deleteWordBackward":{F.deleteBackward(g,{unit:"word"});break}case"deleteWordForward":{F.deleteForward(g,{unit:"word"});break}case"insertLineBreak":F.insertSoftBreak(g);break;case"insertParagraph":{F.insertBreak(g);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{Z==="insertFromComposition"&&me.isComposing(g)&&(x(!1),tp.set(g,!1)),(Q==null?void 0:Q.constructor.name)==="DataTransfer"?me.insertData(g,Q):typeof Q=="string"&&(K?w.current.push(()=>F.insertText(g,Q)):F.insertText(g,Q));break}}var we=(Y=cb.get(g))===null||Y===void 0?void 0:Y.unref();cb.delete(g),we&&(!g.selection||!de.equals(g.selection,we))&&ae.select(g,we)}},[g,A,S,o,s,D]),P=h.useCallback(B=>{B==null?(A.cancel(),D.cancel(),rS.delete(g),xp.delete(g),b.current&&xd&&b.current.removeEventListener("beforeinput",I)):xd&&B.addEventListener("beforeinput",I),b.current=B},[A,D,g,I]);dx(()=>{var B=me.getWindow(g);return B.document.addEventListener("selectionchange",D),()=>{B.document.removeEventListener("selectionchange",D)}},[D]);var $=r([g,[]]),R=i&&g.children.length===1&&Array.from(Ee.texts(g)).length===1&&Ee.string(g)===""&&!y,V=h.useCallback(B=>{if(B&&R){var Y;_((Y=B.getBoundingClientRect())===null||Y===void 0?void 0:Y.height)}else _(void 0)},[R]);if(R){var N=F.start(g,[]);$.push({[Kv]:!0,placeholder:i,onPlaceholderResize:V,anchor:N,focus:N})}var{marks:W}=g;if(k.hasMarkPlaceholder=!1,g.selection&&de.isCollapsed(g.selection)&&W){var{anchor:G}=g.selection,H=Ee.leaf(g,G.path),q=Gv(H,cMt);if(!_e.equals(H,W,{loose:!0})){k.hasMarkPlaceholder=!0;var X=Object.fromEntries(Object.keys(q).map(B=>[B,null]));$.push(ec(ec(ec({[l5e]:!0},X),W),{},{anchor:G,focus:G}))}}return h.useEffect(()=>{setTimeout(()=>{var{selection:B}=g;if(B){var{anchor:Y}=B,z=Ee.leaf(g,Y.path);if(W&&!_e.equals(z,W,{loose:!0})){xl.set(g,W);return}}xl.delete(g)})}),ie.createElement(w5e.Provider,{value:s},ie.createElement(v5e.Provider,{value:r},ie.createElement(aMt,{node:b,receivedUserInput:E},ie.createElement(p,ec(ec({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},v),{},{spellCheck:xd||!nS?v.spellCheck:!1,autoCorrect:xd||!nS?v.autoCorrect:"false",autoCapitalize:xd||!nS?v.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:P,style:ec(ec({},m?{}:ec({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},C?{minHeight:C}:{})),f),onBeforeInput:h.useCallback(B=>{if(!xd&&!s&&!zi(B,v.onBeforeInput)&&me.hasSelectableTarget(g,B.target)&&(B.preventDefault(),!me.isComposing(g))){var Y=B.data;F.insertText(g,Y)}},[v.onBeforeInput,g,s]),onInput:h.useCallback(B=>{if(!zi(B,v.onInput)){if(T.current){T.current.handleInput();return}for(var Y of w.current)Y();w.current=[]}},[v.onInput]),onBlur:h.useCallback(B=>{if(!(s||k.isUpdatingSelection||!me.hasSelectableTarget(g,B.target)||zi(B,v.onBlur))){var Y=me.findDocumentOrShadowRoot(g);if(k.latestElement!==Y.activeElement){var{relatedTarget:z}=B,Z=me.toDOMNode(g,g);if(z!==Z&&!(Da(z)&&z.hasAttribute("data-slate-spacer"))){if(z!=null&&Lf(z)&&me.hasDOMNode(g,z)){var Q=me.toSlateNode(g,z);if(Re.isElement(Q)&&!g.isVoid(Q))return}if(wy){var ne=Y.getSelection();ne==null||ne.removeAllRanges()}Kd.delete(g)}}}},[s,k.isUpdatingSelection,k.latestElement,g,v.onBlur]),onClick:h.useCallback(B=>{if(me.hasTarget(g,B.target)&&!zi(B,v.onClick)&&Lf(B.target)){var Y=me.toSlateNode(g,B.target),z=me.findPath(g,Y);if(!F.hasPath(g,z)||Ee.get(g,z)!==Y)return;if(B.detail===tMt&&z.length>=1){var Z=z;if(!(Re.isElement(Y)&&F.isBlock(g,Y))){var Q,ne=F.above(g,{match:xe=>Re.isElement(xe)&&F.isBlock(g,xe),at:z});Z=(Q=ne==null?void 0:ne[1])!==null&&Q!==void 0?Q:z.slice(0,1)}var K=F.range(g,Z);ae.select(g,K);return}if(s)return;var J=F.start(g,z),re=F.end(g,z),fe=F.void(g,{at:J}),le=F.void(g,{at:re});if(fe&&le&&te.equals(fe[1],le[1])){var ge=F.range(g,J);ae.select(g,ge)}}},[g,v.onClick,s]),onCompositionEnd:h.useCallback(B=>{if(me.hasSelectableTarget(g,B.target)){var Y;if(me.isComposing(g)&&(x(!1),tp.set(g,!1)),(Y=T.current)===null||Y===void 0||Y.handleCompositionEnd(B),zi(B,v.onCompositionEnd)||vs)return;if(!wy&&!s$t&&!n$t&&!l$t&&!a$t&&B.data){var z=xl.get(g);xl.delete(g),z!==void 0&&(yu.set(g,g.marks),g.marks=z),F.insertText(g,B.data);var Z=yu.get(g);yu.delete(g),Z!==void 0&&(g.marks=Z)}}},[v.onCompositionEnd,g]),onCompositionUpdate:h.useCallback(B=>{me.hasSelectableTarget(g,B.target)&&!zi(B,v.onCompositionUpdate)&&(me.isComposing(g)||(x(!0),tp.set(g,!0)))},[v.onCompositionUpdate,g]),onCompositionStart:h.useCallback(B=>{if(me.hasSelectableTarget(g,B.target)){var Y;if((Y=T.current)===null||Y===void 0||Y.handleCompositionStart(B),zi(B,v.onCompositionStart)||vs)return;x(!0);var{selection:z}=g;if(z){if(de.isExpanded(z)){F.deleteFragment(g);return}var Z=F.above(g,{match:K=>Re.isElement(K)&&F.isInline(g,K),mode:"highest"});if(Z){var[,Q]=Z;if(F.isEnd(g,z.anchor,Q)){var ne=F.after(g,Q);ae.setSelection(g,{anchor:ne,focus:ne})}}}}},[v.onCompositionStart,g]),onCopy:h.useCallback(B=>{me.hasSelectableTarget(g,B.target)&&!zi(B,v.onCopy)&&!DX(B)&&(B.preventDefault(),me.setFragmentData(g,B.clipboardData,"copy"))},[v.onCopy,g]),onCut:h.useCallback(B=>{if(!s&&me.hasSelectableTarget(g,B.target)&&!zi(B,v.onCut)&&!DX(B)){B.preventDefault(),me.setFragmentData(g,B.clipboardData,"cut");var{selection:Y}=g;if(Y)if(de.isExpanded(Y))F.deleteFragment(g);else{var z=Ee.parent(g,Y.anchor.path);F.isVoid(g,z)&&ae.delete(g)}}},[s,g,v.onCut]),onDragOver:h.useCallback(B=>{if(me.hasTarget(g,B.target)&&!zi(B,v.onDragOver)){var Y=me.toSlateNode(g,B.target);Re.isElement(Y)&&F.isVoid(g,Y)&&B.preventDefault()}},[v.onDragOver,g]),onDragStart:h.useCallback(B=>{if(!s&&me.hasTarget(g,B.target)&&!zi(B,v.onDragStart)){var Y=me.toSlateNode(g,B.target),z=me.findPath(g,Y),Z=Re.isElement(Y)&&F.isVoid(g,Y)||F.void(g,{at:z,voids:!0});if(Z){var Q=F.range(g,z);ae.select(g,Q)}k.isDraggingInternally=!0,me.setFragmentData(g,B.dataTransfer,"drag")}},[s,g,v.onDragStart,k]),onDrop:h.useCallback(B=>{if(!s&&me.hasTarget(g,B.target)&&!zi(B,v.onDrop)){B.preventDefault();var Y=g.selection,z=me.findEventRange(g,B),Z=B.dataTransfer;ae.select(g,z),k.isDraggingInternally&&Y&&!de.equals(Y,z)&&!F.void(g,{at:z,voids:!0})&&ae.delete(g,{at:Y}),me.insertData(g,Z),me.isFocused(g)||me.focus(g)}k.isDraggingInternally=!1},[s,g,v.onDrop,k]),onDragEnd:h.useCallback(B=>{!s&&k.isDraggingInternally&&v.onDragEnd&&me.hasTarget(g,B.target)&&v.onDragEnd(B),k.isDraggingInternally=!1},[s,k,v,g]),onFocus:h.useCallback(B=>{if(!s&&!k.isUpdatingSelection&&me.hasEditableTarget(g,B.target)&&!zi(B,v.onFocus)){var Y=me.toDOMNode(g,g),z=me.findDocumentOrShadowRoot(g);if(k.latestElement=z.activeElement,Hg&&B.target!==Y){Y.focus();return}Kd.set(g,!0)}},[s,k,g,v.onFocus]),onKeyDown:h.useCallback(B=>{if(!s&&me.hasEditableTarget(g,B.target)){var Y;(Y=T.current)===null||Y===void 0||Y.handleKeyDown(B);var{nativeEvent:z}=B;if(me.isComposing(g)&&z.isComposing===!1&&(tp.set(g,!1),x(!1)),zi(B,v.onKeyDown)||me.isComposing(g))return;var{selection:Z}=g,Q=g.children[Z!==null?Z.focus.path[0]:0],ne=Uke(Ee.string(Q))==="rtl";if(jr.isRedo(z)){B.preventDefault();var K=g;typeof K.redo=="function"&&K.redo();return}if(jr.isUndo(z)){B.preventDefault();var J=g;typeof J.undo=="function"&&J.undo();return}if(jr.isMoveLineBackward(z)){B.preventDefault(),ae.move(g,{unit:"line",reverse:!0});return}if(jr.isMoveLineForward(z)){B.preventDefault(),ae.move(g,{unit:"line"});return}if(jr.isExtendLineBackward(z)){B.preventDefault(),ae.move(g,{unit:"line",edge:"focus",reverse:!0});return}if(jr.isExtendLineForward(z)){B.preventDefault(),ae.move(g,{unit:"line",edge:"focus"});return}if(jr.isMoveBackward(z)){B.preventDefault(),Z&&de.isCollapsed(Z)?ae.move(g,{reverse:!ne}):ae.collapse(g,{edge:"start"});return}if(jr.isMoveForward(z)){B.preventDefault(),Z&&de.isCollapsed(Z)?ae.move(g,{reverse:ne}):ae.collapse(g,{edge:"end"});return}if(jr.isMoveWordBackward(z)){B.preventDefault(),Z&&de.isExpanded(Z)&&ae.collapse(g,{edge:"focus"}),ae.move(g,{unit:"word",reverse:!ne});return}if(jr.isMoveWordForward(z)){B.preventDefault(),Z&&de.isExpanded(Z)&&ae.collapse(g,{edge:"focus"}),ae.move(g,{unit:"word",reverse:ne});return}if(xd){if((i5e||wy)&&Z&&(jr.isDeleteBackward(z)||jr.isDeleteForward(z))&&de.isCollapsed(Z)){var re=Ee.parent(g,Z.anchor.path);if(Re.isElement(re)&&F.isVoid(g,re)&&(F.isInline(g,re)||F.isBlock(g,re))){B.preventDefault(),F.deleteBackward(g,{unit:"block"});return}}}else{if(jr.isBold(z)||jr.isItalic(z)||jr.isTransposeCharacter(z)){B.preventDefault();return}if(jr.isSoftBreak(z)){B.preventDefault(),F.insertSoftBreak(g);return}if(jr.isSplitBlock(z)){B.preventDefault(),F.insertBreak(g);return}if(jr.isDeleteBackward(z)){B.preventDefault(),Z&&de.isExpanded(Z)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g);return}if(jr.isDeleteForward(z)){B.preventDefault(),Z&&de.isExpanded(Z)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g);return}if(jr.isDeleteLineBackward(z)){B.preventDefault(),Z&&de.isExpanded(Z)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g,{unit:"line"});return}if(jr.isDeleteLineForward(z)){B.preventDefault(),Z&&de.isExpanded(Z)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g,{unit:"line"});return}if(jr.isDeleteWordBackward(z)){B.preventDefault(),Z&&de.isExpanded(Z)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g,{unit:"word"});return}if(jr.isDeleteWordForward(z)){B.preventDefault(),Z&&de.isExpanded(Z)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g,{unit:"word"});return}}}},[s,g,v.onKeyDown]),onPaste:h.useCallback(B=>{!s&&me.hasEditableTarget(g,B.target)&&!zi(B,v.onPaste)&&(!xd||d$t(B.nativeEvent)||wy)&&(B.preventDefault(),me.insertData(g,B.clipboardData))},[s,g,v.onPaste])}),ie.createElement(uMt,{decorations:$,node:g,renderElement:a,renderPlaceholder:u,renderLeaf:c,selection:g.selection})))))},fMt=e=>{var{attributes:t,children:n}=e;return ie.createElement("span",ec({},t),n,vs&&ie.createElement("br",null))},hMt=()=>[],pMt=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&de.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),Yv(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},zi=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},DX=e=>Lf(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),mMt=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},gMt=h.createContext(!1),vMt=h.createContext({});function yMt(e){var t=h.useRef([]).current,n=h.useRef({editor:e}).current,r=h.useCallback(i=>{n.editor=i,t.forEach(s=>s(i))},[t,n]),o=h.useMemo(()=>({getSlate:()=>n.editor,addEventListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1)})}),[t,n]);return{selectorContext:o,onChange:r}}var bMt=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],xMt=e=>{var{editor:t,children:n,onChange:r,onSelectionChange:o,onValueChange:i,initialValue:s}=e,a=Gv(e,bMt),[c,u]=ie.useState(()=>{if(!Ee.isNodeList(s))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat($o.stringify(s)));if(!F.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat($o.stringify(t)));return t.children=s,Object.assign(t,a),{v:0,editor:t}}),{selectorContext:d,onChange:f}=yMt(t),p=h.useCallback(g=>{var y;switch(r&&r(t.children),g==null||(y=g.operation)===null||y===void 0?void 0:y.type){case"set_selection":o==null||o(t.selection);break;default:i==null||i(t.children)}u(x=>({v:x.v+1,editor:t})),f(t)},[t,f,r,o,i]);h.useEffect(()=>(Q$.set(t,p),()=>{Q$.set(t,()=>{})}),[t,p]);var[m,v]=h.useState(me.isFocused(t));return h.useEffect(()=>{v(me.isFocused(t))},[t]),dx(()=>{var g=()=>v(me.isFocused(t));return o5e>=17?(document.addEventListener("focusin",g),document.addEventListener("focusout",g),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",g)}):(document.addEventListener("focus",g,!0),document.addEventListener("blur",g,!0),()=>{document.removeEventListener("focus",g,!0),document.removeEventListener("blur",g,!0)})},[]),ie.createElement(vMt.Provider,{value:d},ie.createElement(C5e.Provider,{value:c},ie.createElement(H9.Provider,{value:c.editor},ie.createElement(gMt.Provider,{value:m},n))))},IX=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},PX=(e,t,n)=>{var r=me.toDOMRange(e,t).getBoundingClientRect(),o=me.toDOMRange(e,n).getBoundingClientRect();return IX(r,o)&&IX(o,r)},wMt=(e,t)=>{var n=F.range(e,de.end(t)),r=Array.from(F.positions(e,{at:t})),o=0,i=r.length,s=Math.floor(i/2);if(PX(e,F.range(e,r[o]),n))return F.range(e,r[o],n);if(r.length<2)return F.range(e,r[r.length-1],n);for(;s!==r.length&&s!==o;)PX(e,F.range(e,r[s]),n)?i=s:o=s,s=Math.floor((o+i)/2);return F.range(e,r[i],n)};function OX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function RX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OX(Object(n),!0).forEach(function(r){Fa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var CMt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:o,onChange:i,deleteBackward:s,addMark:a,removeMark:c}=r;return BT.set(r,new WeakMap),r.addMark=(u,d)=>{var f,p;(f=Y9.get(r))===null||f===void 0||f(),!xl.get(r)&&(p=fs.get(r))!==null&&p!==void 0&&p.length&&xl.set(r,null),yu.delete(r),a(u,d)},r.removeMark=u=>{var d;!xl.get(r)&&(d=fs.get(r))!==null&&d!==void 0&&d.length&&xl.set(r,null),yu.delete(r),c(u)},r.deleteBackward=u=>{if(u!=="line")return s(u);if(r.selection&&de.isCollapsed(r.selection)){var d=F.above(r,{match:v=>Re.isElement(v)&&F.isBlock(r,v),at:r.selection});if(d){var[,f]=d,p=F.range(r,f,r.selection.anchor),m=wMt(r,p);de.isCollapsed(m)||ae.delete(r,{at:m})}}},r.apply=u=>{var d=[],f=[],p=fs.get(r);if(p!=null&&p.length){var m=p.map(P=>S$t(P,u)).filter(Boolean);fs.set(r,m)}var v=Od.get(r);v&&Od.set(r,wX(r,v,u));var g=Pd.get(r);if(g!=null&&g.at){var y=Pt.isPoint(g==null?void 0:g.at)?tM(r,g.at,u):wX(r,g.at,u);Pd.set(r,y?RX(RX({},g),{},{at:y}):null)}switch(u.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...Km(r,u.path));break}case"set_selection":{var x;(x=cb.get(r))===null||x===void 0||x.unref(),cb.delete(r);break}case"insert_node":case"remove_node":{d.push(...Km(r,te.parent(u.path)));break}case"merge_node":{var b=te.previous(u.path);d.push(...Km(r,b));break}case"move_node":{var w=te.common(te.parent(u.path),te.parent(u.newPath));d.push(...Km(r,w));var C;te.isBefore(u.path,u.newPath)?(d.push(...Km(r,te.parent(u.path))),C=u.newPath):(d.push(...Km(r,te.parent(u.newPath))),C=u.path);var _=Ee.get(t,te.parent(C)),S=me.findKey(r,_),E=F.pathRef(r,te.parent(C));f.push([E,S]);break}}o(u);for(var[j,k]of d){var[T]=F.node(r,j);Sk.set(T,k)}for(var[A,D]of f)if(A.current){var[I]=F.node(r,A.current);Sk.set(I,D)}},r.setFragmentData=u=>{var{selection:d}=r;if(d){var[f,p]=de.edges(d),m=F.void(r,{at:f.path}),v=F.void(r,{at:p.path});if(!(de.isCollapsed(d)&&!m)){var g=me.toDOMRange(r,d),y=g.cloneContents(),x=y.childNodes[0];if(y.childNodes.forEach(T=>{T.textContent&&T.textContent.trim()!==""&&(x=T)}),v){var[b]=v,w=g.cloneRange(),C=me.toDOMNode(r,b);w.setEndAfter(C),y=w.cloneContents()}if(m&&(x=y.querySelector("[data-slate-spacer]")),Array.from(y.querySelectorAll("[data-slate-zero-width]")).forEach(T=>{var A=T.getAttribute("data-slate-zero-width")==="n";T.textContent=A?`
`:""}),c5e(x)){var _=x.ownerDocument.createElement("span");_.style.whiteSpace="pre",_.appendChild(x),y.appendChild(_),x=_}var S=r.getFragment(),E=JSON.stringify(S),j=window.btoa(encodeURIComponent(E));x.setAttribute("data-slate-fragment",j),u.setData("application/".concat(n),j);var k=y.ownerDocument.createElement("div");return k.appendChild(y),k.setAttribute("hidden","true"),y.ownerDocument.body.appendChild(k),u.setData("text/html",k.innerHTML),u.setData("text/plain",d5e(k)),y.ownerDocument.body.removeChild(k),u}}},r.insertData=u=>{r.insertFragmentData(u)||r.insertTextData(u)},r.insertFragmentData=u=>{var d=u.getData("application/".concat(n))||g$t(u);if(d){var f=decodeURIComponent(window.atob(d)),p=JSON.parse(f);return r.insertFragment(p),!0}return!1},r.insertTextData=u=>{var d=u.getData("text/plain");if(d){var f=d.split(/\r\n|\r|\n/),p=!1;for(var m of f)p&&ae.splitNodes(r,{always:!0}),r.insertText(m),p=!0;return!0}return!1},r.onChange=u=>{var d=o5e<18?zHe.unstable_batchedUpdates:f=>f();d(()=>{var f=Q$.get(r);f&&f(u),i(u)})},r},Km=(e,t)=>{var n=[];for(var[r,o]of F.levels(e,{at:t})){var i=me.findKey(e,r);n.push([o,i])}return n},_Mt=Rve,$X=1/0,SMt=17976931348623157e292;function EMt(e){if(!e)return e===0?e:0;if(e=_Mt(e),e===$X||e===-$X){var t=e<0?-1:1;return t*SMt}return e===e?e:0}var S5e=EMt,kMt=S5e;function jMt(e){var t=kMt(e),n=t%1;return t===t?n?t-n:t:0}var TMt=jMt,AMt=E_e,DMt=Jf,IMt=TMt,PMt=Math.max;function OMt(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:IMt(n);return o<0&&(o=PMt(r+o,0)),AMt(e,DMt(t),o)}var E5e=OMt;const K9=Pe(E5e);var RMt=M8,$Mt=4;function MMt(e){return RMt(e,$Mt)}var FMt=MMt;const k5e=Pe(FMt);var fd={};Object.defineProperty(fd,"__esModule",{value:!0});var LMt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),DP={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},BMt={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:LMt?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},j5e={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var y_=1;y_<20;y_++)j5e["f"+y_]=111+y_;function zT(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return T5e(s,t)}),o=function(a){return r.some(function(c){return A5e(c,a)})},i=n==null?o:o(n);return i}function NMt(e,t){return zT(e,t)}function zMt(e,t){return zT(e,{byKey:!0},t)}function T5e(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in DP)r[DP[s]]=!1;var a=!0,c=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=Z9(p),g=DP[v];(i===1||!g)&&(n?r.key=v:r.which=D5e(p)),g&&(r[g]=m?null:!0)}}catch(y){c=!0,u=y}finally{try{!a&&d.return&&d.return()}finally{if(c)throw u}}return r}function A5e(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function D5e(e){e=Z9(e);var t=j5e[e]||e.toUpperCase().charCodeAt(0);return t}function Z9(e){return e=e.toLowerCase(),e=BMt[e]||e,e}var yi=fd.default=zT;fd.isHotkey=zT;fd.isCodeHotkey=NMt;fd.isKeyHotkey=zMt;fd.parseHotkey=T5e;fd.compareHotkey=A5e;fd.toKeyCode=D5e;fd.toKeyName=Z9;function oS(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Ek(e){return oS(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>oS(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>oS(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function IP(e){return oS(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function Yu(e){return!!e&&(typeof e=="object"||typeof e=="function")}function MX(e){return Yu(e)?e.jsonType==="object":!1}function VMt(e){return Yu(e)?e.jsonType==="array":!1}function HMt(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function UMt(e){return Yu(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function WMt(e){if(!Yu(e)||!Array.isArray(e.fields))return!1;const t=e.fields.find(iM),n=e.fields.find(rM),r=e.fields.find(oM);return iM(t)&&rM(n)&&oM(r)}function rM(e){return!Yu(e)||e.name!=="style"?!1:Yu(e.type)&&e.type.jsonType==="string"}function oM(e){return!Yu(e)||e.name!=="listItem"?!1:Yu(e.type)&&e.type.jsonType==="string"}function iM(e){return!Yu(e)||e.name!=="children"||!VMt(e.type)?!1:e.type.of.some(UMt)}function X9(e){return e.type?X9(e.type):e.name==="block"}function YMt(e){var t,n;if(!e)throw new Error("Parameter 'blockContentType' required");const r=e.of.find(X9);if(!WMt(r))throw new Error("'block' type is not defined in this schema (required).");const o=(n=(t=r.fields.find(iM))==null?void 0:t.type)==null?void 0:n.of;if(!o)throw new Error("No `of` declaration found for blocks `children` field");const i=o.find(c=>c.name==="span");if(!i)throw new Error("No `span` type found in `block` schema type `children` definition");const s=o.filter(c=>c.name!=="span"&&MX(c)),a=e.of.filter(c=>c.name!==r.name&&MX(c));return{styles:qMt(r),decorators:KMt(i),annotations:GMt(i),lists:ZMt(r),types:{block:e,span:i,inlineObjects:s,blockObjects:a}}}function qMt(e){const t=e.fields.find(rM);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=I5e(t.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function GMt(e){return e.annotations.map(t=>({title:t.title,type:t,value:t.name,icon:t.icon}))}function KMt(e){return e.decorators}function ZMt(e){const t=e.fields.find(oM);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=I5e(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function I5e(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map(n=>HMt(n)?n:{title:n,value:n}):[]}const XMt=Object.prototype.toString;function P5e(e){switch(XMt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return e===null?"null":e===void 0?"undefined":e&&typeof e=="object"&&"nodeType"in e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function QMt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return O9(t),t}const O5e=[];for(let e=0;e<256;++e)O5e[e]=(e+256).toString(16).substring(1);function sM(e){return QMt(e).reduce((t,n)=>t+O5e[n],"").slice(0,e)}const JMt=["pre","textarea","code"],Zv="normal",ms=Object.freeze({_type:"block",markDefs:[],style:Zv}),iS=Object.freeze({_type:"span",marks:[]}),kk={p:ms,blockquote:{...ms,style:"blockquote"}},R5e={span:{object:"text"}},jk={ol:{object:null},ul:{object:null}},Tk={h1:{...ms,style:"h1"},h2:{...ms,style:"h2"},h3:{...ms,style:"h3"},h4:{...ms,style:"h4"},h5:{...ms,style:"h5"},h6:{...ms,style:"h6"}},e4t={br:{...ms,style:Zv}},$5e={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},M5e={li:{...ms,style:Zv,level:1,listItem:"bullet"}},t4t={...kk,...R5e,...jk,...M5e,...Tk,...e4t};ho(Object.values(t4t).filter(e=>"style"in e).map(e=>e.style));ho(Object.values($5e));const qp={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var n4t=(e,t)=>{function n(r){var o,i;if(r.nodeType===qp.BOOLEAN_TYPE&&!JMt.includes(((o=r.parentElement)==null?void 0:o.tagName.toLowerCase())||""))r.textContent=((i=r.textContent)==null?void 0:i.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let s=0;s<r.childNodes.length;s++)n(r.childNodes[s])}return n(t.body),t};const r4t=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var o4t=(e,t)=>{var n,r,o;const i=t.evaluate("/html/body/text()",t,null,qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=i.snapshotLength-1;a>=0;a--){const c=i.snapshotItem(a),u=c.textContent||"";if(u.replace(/[^\S\n]+$/g,"")){const d=t.createElement("span");d.appendChild(t.createTextNode(u)),(n=c.parentNode)==null||n.replaceChild(d,c)}else(r=c.parentNode)==null||r.removeChild(c)}const s=t.evaluate(r4t.join("|"),t,null,qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=s.snapshotLength-1;a>=0;a--){const c=s.snapshotItem(a);c&&((o=c.parentNode)==null||o.removeChild(c))}return t};const i4t=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,s4t=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],a4t=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],l4t={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function c4t(e){return i4t.test(e)}var u4t=(e,t)=>{var n;if(!c4t(e))return t;const r=t.evaluate(s4t.join("|"),t,i=>i==="o"?"urn:schemas-microsoft-com:office:office":null,qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=r.snapshotLength-1;i>=0;i--){const s=r.snapshotItem(i);s!=null&&s.parentNode&&s.parentNode.removeChild(s)}const o=t.evaluate(a4t.join("|"),t,null,qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i),a=l4t[s.className],c=new Text(s.textContent||"");if(!a)continue;const u=document.createElement(a[0]);let d=u,f=u;a.slice(1).forEach(p=>{f=document.createElement(p),d.appendChild(f),d=f}),f.appendChild(c),(n=s==null?void 0:s.parentNode)==null||n.replaceChild(u,s)}return t},d4t=(e,t)=>{var n;const r=t.evaluate('//b[contains(@id, "docs-internal-guid")]',t,null,qp.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(r){const o=t.evaluate("//*",t,null,qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i);s==null||s.setAttribute("data-is-google-docs","true")}return(n=t.body.firstElementChild)==null||n.replaceWith(...Array.from(r.childNodes)),t}return t},f4t=[n4t,u4t,d4t,o4t];function h4t(e){const t=YMt(e),n=t.styles.map(s=>s.value||s.title),r=t.decorators.map(s=>s.value||s.title),o=t.annotations.map(s=>s.value||s.title||""),i=t.lists.map(s=>s.value||s.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:o,enabledListTypes:i}}function Tr(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function p4t(e,t){const n=t(m4t(e));return f4t.forEach(r=>{r(e,n)}),n}function m4t(e){return e.trim()}function g4t(){if(P5e(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}function v4t(e){let t=0;const n=[],r=o=>{const i=[];o.forEach(s=>{t===0&&n.push(s),Ek(s)&&(t>0&&(i.push(s),n.push(s)),t++,r(s.children)),s._type==="__block"&&(i.push(s),n.push(s.block))}),i.forEach(s=>{o.splice(o.indexOf(s),1)}),t--};return r(e),n}function y4t(e,t){const n=e.children[t+1];return n&&n._type==="span"?n:null}function b4t(e,t){const n=e.children[t-1];return n&&n._type==="span"?n:null}function FX(e){return[" "," "].includes(e)}function x4t(e){return e.forEach(t=>{Ek(t)&&t.children.forEach((n,r)=>{if(!fv(n))return;const o=y4t(t,r),i=b4t(t,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===t.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(n.text.length-1))&&o&&fv(o)&&/\s/.test(o.text.substring(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(0,1))&&i&&fv(i)&&/\s/.test(i.text.substring(i.text.length-1))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||t.children.splice(r,1),i&&Ht(i.marks,n.marks)&&FX(n.text)?(i.text+=" ",t.children.splice(r,1)):o&&Ht(o.marks,n.marks)&&FX(n.text)&&(o.text=" ".concat(o.text),t.children.splice(r,1))})}),e}function w4t(e){return e.reduce((t,n,r,o)=>{if(n._type==="block")return t.push(n),t;if(n._type==="__block")return t.push(n.block),t;const i=t[t.length-1];if(r>0&&!Ek(o[r-1])&&Ek(i))return i.children.push(n),t;const s={...ms,children:[n]};return t.push(s),t},[])}function C4t(e){return Object.prototype.toString.call(e)=="[object NodeList]"}function fv(e){return e._type==="span"}function LX(e){return e._type==="block"}function BX(e){return e._type==="__decorator"}function NX(e){return e._type==="__annotation"}function rh(e){return e.nodeType===1}function _4t(e,t){if(e==="ul"&&t.includes("bullet"))return"bullet";if(e==="ol"&&t.includes("number"))return"number"}function S4t(e,t){return[{deserialize(n){if(Tr(n)==="pre")return;const o=(n.nodeType===3&&(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&n.nextSibling&&n.nextSibling.nodeType!==3&&n.previousSibling&&n.previousSibling.nodeType!==3||n.textContent!==" ")&&Tr(n.parentNode)!=="body";if(n.nodeName==="#text"&&o)return{...iS,marks:[],text:(n.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(n){if(Tr(n)!=="pre")return;const r=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...iS,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(Tr(n)!=="blockquote")return;const o={...kk,...Tk};delete o.blockquote;const i=[];return n.childNodes.forEach((s,a)=>{if(s.nodeType===1&&Object.keys(o).includes(s.localName.toLowerCase())){if(!n.ownerDocument)return;const c=n.ownerDocument.createElement("span");c.appendChild(n.ownerDocument.createTextNode("\r")),s.childNodes.forEach(u=>{c.appendChild(u.cloneNode(!0))}),a!==n.childNodes.length&&c.appendChild(n.ownerDocument.createTextNode("\r")),i.push(c)}else i.push(s)}),{_type:"block",style:"blockquote",markDefs:[],children:r(i)}}},{deserialize(n,r){const o={...kk,...Tk},i=Tr(n);let s=i?o[i]:void 0;if(s)return n.parentNode&&Tr(n.parentNode)==="li"?r(n.childNodes):(t.enabledBlockStyles.includes(s.style)||(s=ms),{...s,children:r(n.childNodes)})}},{deserialize(n,r){const o=Tr(n);if(!(!o||!(o in R5e)))return r(n.childNodes)}},{deserialize(n,r){if(Tr(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const o=Tr(n);if(!(!o||!(o in jk)))return r(n.childNodes)}},{deserialize(n){if(Tr(n)==="br")return{...iS,text:`
`}}},{deserialize(n,r,o){const i=Tr(n),s=i?M5e[i]:void 0,a=Tr(n.parentNode)||"";if(!s||!n.parentNode||!jk[a])return;const c=_4t(a,t.enabledListTypes);return c?(s.listItem=c,{...s,children:r(n.childNodes)}):o({_type:"block",children:r(n.childNodes)})}},{deserialize(n,r){const o=$5e[Tr(n)||""];if(!(!o||!t.enabledSpanDecorators.includes(o)))return{_type:"__decorator",name:o,children:r(n.childNodes)}}},{deserialize(n,r){if(Tr(n)!="a")return;const o=t.enabledBlockAnnotations.includes("link"),i=rh(n)&&n.getAttribute("href");if(!i)return r(n.childNodes);let s;return o?(s={_key:sM(12),_type:"link",href:i},{_type:"__annotation",markDef:s,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(" (".concat(i,")")))&&r(n.childNodes)}}]}const F5e=Object.keys(jk);function E4t(e){const t=rh(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function k4t(e){const t=rh(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")}function zX(e){return rh(e)&&!!e.getAttribute("data-is-google-docs")}function j4t(e){const t=Tr(e.parentNode);if(!(t&&!F5e.includes(t)))return Tr(e.parentNode)==="ul"?"bullet":"number"}function T4t(e){let t=0;if(Tr(e)==="li"){let n=e.parentNode;for(;n;){const r=Tr(n);r&&F5e.includes(r)&&t++,n=n.parentNode}}else t=1;return t}const A4t={...kk,...Tk};function D4t(e,t){const n=Tr(e.firstChild),r=n&&A4t[n];return!r||!t.includes(r.style)?Zv:r.style}function I4t(e,t){return[{deserialize(n){if(rh(n)&&Tr(n)==="span"&&zX(n)){const r={...iS,marks:[],text:n.textContent};return k4t(n)&&r.marks.push("strong"),E4t(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var o;if(Tr(n)==="li"&&zX(n))return{...ms,listItem:j4t(n),level:T4t(n),style:D4t(n,t.enabledBlockStyles),children:r(((o=n.firstChild)==null?void 0:o.childNodes)||[])}}}]}function P4t(e){const t=rh(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function O4t(e){const t=rh(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function R4t(e){return rh(e)&&e.className?e.className==="MsoListParagraphCxSpFirst"||e.className==="MsoListParagraphCxSpMiddle"||e.className==="MsoListParagraphCxSpLast":!1}function $4t(){return[{deserialize(e,t){if(Tr(e)==="p"&&R4t(e))return{...ms,listItem:P4t(e),level:O4t(e),style:Zv,children:t(e.childNodes)}}}]}function M4t(e,t){return[...$4t(),...I4t(e,t),...S4t(e,t)]}class F4t{constructor(t){var n=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._markDefs=[],this.deserialize=a=>{this._markDefs=[];const{parseHtml:c}=this,u=c(a),d=Array.from(u.childNodes),f=x4t(v4t(w4t(this.deserializeElements(d))));this._markDefs.length>0&&f.filter(m=>m._type==="block").forEach(m=>{m.markDefs=m.markDefs||[],m.markDefs=m.markDefs.concat(this._markDefs.filter(v=>Dn(m.children.map(g=>g.marks||[])).includes(v._key)))});const p=this.blockContentType.of.find(X9);return p?f.map(m=>(m._type==="block"&&(m._type=p.name),m)):f},this.deserializeElements=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=[];return a.forEach(u=>{c=c.concat(n.deserializeElement(u))}),c},this.deserializeElement=a=>{var c,u;const d=m=>{if(C4t(m))return this.deserializeElements(Array.from(m));if(Array.isArray(m))return this.deserializeElements(m);if(m)return this.deserializeElement(m)},f=m=>({_type:"__block",block:m});let p;for(let m=0;m<this.rules.length;m++){const v=this.rules[m];if(!v.deserialize)continue;const g=v.deserialize(a,d,f),y=P5e(g);if(y!=="array"&&y!=="object"&&y!=="null"&&y!=="undefined")throw new Error('A rule returned an invalid deserialized representation: "'.concat(p,'".'));if(g!==void 0){{if(g===null)throw new Error("Deserializer rule returned `null`");Array.isArray(g)?p=g:BX(g)?p=this.deserializeDecorator(g):NX(g)?p=this.deserializeAnnotation(g):p=g}if(g&&!Array.isArray(g)&&LX(g)&&"listItem"in g){let x=(c=a.parentNode)==null?void 0:c.parentNode;for(;x&&Tr(x)==="li";)x=(u=x.parentNode)==null?void 0:u.parentNode,g.level=g.level?g.level+1:1}g&&!Array.isArray(g)&&LX(g)&&g.style==="blockquote"&&g.children.forEach((x,b)=>{fv(x)&&x.text==="\r"&&(x.text=`

`,(b===0||b===g.children.length-1)&&g.children.splice(b,1))});break}}return p||d(a.childNodes)||[]},this.deserializeDecorator=a=>{const{name:c}=a,u=d=>{if(BX(d))return this.deserializeDecorator(d);if(fv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])},this.deserializeAnnotation=a=>{const{markDef:c}=a;this._markDefs.push(c);const u=d=>{if(NX(d))return this.deserializeAnnotation(d);if(fv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c._key);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])};const{rules:o=[]}=r;if(!t)throw new Error("Parameter 'blockContentType' is required");const i=M4t(t,h4t(t));this.rules=[...o,...i];const s=r.parseHtml||g4t();this.blockContentType=t,this.parseHtml=a=>p4t(a,s).body}}function fx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:sM(12)};const n={_key:sM(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:"".concat(n._key).concat(0),text:"",marks:[]}],n;const o=[],i=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((s,a)=>{const c=s[s.length-1];return c&&IP(a)&&IP(c)&&Ht(c.marks,a.marks)?(r&&r===a&&a.text===""&&n.children.length>1||(c.text+=a.text),s):(s.push(a),s)},[]).map((s,a)=>{if(!s)throw new Error("missing child");return s._key="".concat(n._key).concat(a),IP(s)&&(s.marks?i&&(s.marks=s.marks.filter(c=>{var u;const d=i.includes(c),f=(u=n.markDefs)==null?void 0:u.some(p=>p._key===c);return d||f})):s.marks=[],o.push(...s.marks)),s}),n.markDefs=(n.markDefs||[]).filter(s=>o.includes(s._key)),n}function VX(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new F4t(t,n).deserialize(e).map(o=>fx(o))}function HX(e){return B8.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}function UX(e){var t,n,r;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const o=(t=e.of)==null?void 0:t.find(L5e);if(!o)throw new Error("Block type is not defined in this schema (required)");const i=(n=o.fields)==null?void 0:n.find(d=>d.name==="children");if(!i)throw new Error("Children field for block type found in schema (required)");const s=i.type.of;if(!s)throw new Error("Valid types for block children not found in schema (required)");const a=s.find(d=>d.name==="span");if(!a)throw new Error("Span type not found in schema (required)");const c=s.filter(d=>d.name!=="span")||[],u=((r=e.of)==null?void 0:r.filter(d=>d.name!==o.name))||[];return{styles:L4t(o),decorators:B4t(a),lists:N4t(o),block:o,span:a,portableText:e,inlineObjects:c,blockObjects:u,annotations:a.annotations}}function L4t(e){var t,n,r;const o=(t=e.fields)==null?void 0:t.find(s=>s.name==="style");if(!o)throw new Error("A field with name 'style' is not defined in the block type (required).");const i=((n=o.type.options)==null?void 0:n.list)&&((r=o.type.options.list)==null?void 0:r.filter(s=>s.value));if(!i||i.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return i}function B4t(e){return e.decorators}function N4t(e){var t,n;const r=(t=e.fields)==null?void 0:t.find(i=>i.name==="listItem");if(!r)throw new Error("A field with name 'listItem' is not defined in the block type (required).");const o=((n=r.type.options)==null?void 0:n.list)&&r.type.options.list.filter(i=>i.value);if(!o)throw new Error("The list field need at least to be an empty array");return o}function L5e(e){return e.type?L5e(e.type):e.name==="block"?e:null}const aM="sanity-pte:";xs(aM);function Wr(e){const t="".concat(aM).concat(e);return xs&&xs.enabled(t)?xs(t):xs(aM)}const Ak=()=>Fw(12),B5e=h.createContext(Ak),z4t=()=>{const e=h.useContext(B5e);if(e===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return e},Dk=new WeakMap,sS=new WeakMap,b_=new WeakMap,B1=new WeakMap,N1=new WeakMap,z1=new WeakMap,lM=new WeakMap,Ca=new WeakMap,Ik=new WeakMap;function V4t(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function cM(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Lw(e){const[t,n]=e;return[t,n]}function WX(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function Q9(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function VT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function N5e(e){let t=e.map(f=>Lw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===St?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===Kn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[An,i]),t[r[o-1]+1][0]=Kn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=HT(t)),t=z5e(t),s=1;s<t.length;){if(t[s-1][0]===An&&t[s][0]===Kn){const f=t[s-1][1],p=t[s][1],m=WX(f,p),v=WX(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[St,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[St,f.substring(0,v)]),t[s-1][0]=Kn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=An,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const YX=/[^a-zA-Z0-9]/,qX=/\s/,GX=/[\r\n]/,H4t=/\n\r?\n$/,U4t=/^\r?\n\r?\n/;function z5e(e){const t=e.map(o=>Lw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(YX),u=a.match(YX),d=c&&s.match(qX),f=u&&a.match(qX),p=d&&s.match(GX),m=f&&a.match(GX),v=p&&o.match(H4t),g=m&&i.match(U4t);return v||g?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===St&&t[r+1][0]===St){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=VT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function HT(e){let t=e.map(u=>Lw(u));t.push([St,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Kn:o++,s+=t[n][1],n++;break;case An:r++,i+=t[n][1],n++;break;case St:r+o>1?(r!==0&&o!==0&&(a=Q9(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===St?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[St,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=VT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[An,i]),n++),s.length&&(t.splice(n,0,[Kn,s]),n++),n++):n!==0&&t[n-1][0]===St?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===St&&t[n+1][0]===St&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=HT(t)),t}function W4t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function V5e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Lw(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===St?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===An?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&W4t(c,u,d,f)===3)&&(n.splice(o[i-1],0,[An,s]),n[o[i-1]+1][0]=Kn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=HT(n)),n}function Y4t(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let y=0;y<a;y++)c[y]=-1,u[y]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let y=0;y<i&&!(Date.now()>n);y++){for(let x=-y+p;x<=y-m;x+=2){const b=s+x;let w;x===-y||x!==y&&c[b-1]<c[b+1]?w=c[b+1]:w=c[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(c[b]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return KX(e,t,w,C,n)}}}for(let x=-y+v;x<=y-g;x+=2){const b=s+x;let w;x===-y||x!==y&&u[b-1]<u[b+1]?w=u[b+1]:w=u[b-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[b]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&c[_]!==-1){const S=c[_],E=s+S-_;if(w=r-w,S>=w)return KX(e,t,S,E,n)}}}}return[[An,e],[Kn,t]]}function KX(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=Gp(i,s,{checkLines:!1,deadline:o}),d=Gp(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function q4t(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=ZX(r,o,Math.ceil(r.length/4)),s=ZX(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function ZX(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=Q9(e.slice(n),t.slice(o)),f=VT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function G4t(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function K4t(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function Z4t(e,t,n){let r=e,o=t;const i=K4t(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Gp(r,o,{checkLines:!1,deadline:n.deadline});G4t(a,s),a=N5e(a),a.push([St,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case Kn:d++,p+=a[c][1];break;case An:u++,f+=a[c][1];break;case St:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=Gp(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(c,0,m[v]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function X4t(e,t,n){let r;if(!e)return[[Kn,t]];if(!t)return[[An,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Kn,o.substring(0,s)],[St,i],[Kn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=An,r[2][0]=An),r;if(i.length===1)return[[An,e],[Kn,t]];const a=q4t(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Gp(c,d,n),v=Gp(u,f,n);return m.concat([[St,p]],v)}return n.checkLines&&e.length>100&&t.length>100?Z4t(e,t,n):Y4t(e,t,n.deadline)}const An=-1,Kn=1,St=0;function J9(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Gp(e,t,J4t(n||{}));return tFt(r),r}function Gp(e,t,n){let r=e,o=t;if(r===o)return r?[[St,r]]:[];let i=Q9(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=VT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=X4t(r,o,n);return s&&c.unshift([St,s]),a&&c.push([St,a]),c=HT(c),c}function Q4t(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function J4t(e){return{checkLines:!0,deadline:Q4t(e.timeout||1),...e}}function x_(e,t,n){return n===1?e+t:t+e}function w_(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function eFt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function XX(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Kn){o===null&&(o=s);continue}else if(u===An){i===null&&(i=s);continue}else if(u===St){if(o===null&&i===null){const[f,p]=w_(e[t][1],n);e[t][1]=f,e[s][1]=x_(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&eFt(e,o,i,n)){const[u,d]=w_(e[o][1],r),[f]=w_(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=x_(e[t][1],d,n);return}const[a,c]=w_(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Kn,c]),i!==null&&i>=s&&i++):e[o][1]=x_(e[o][1],c,r),i===null?e.splice(s,0,[An,c]):e[i][1]=x_(e[i][1],c,r)}function tFt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];V4t(i)&&n===St&&XX(e,t,1),cM(o)&&n===St&&XX(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const nFt={threshold:.5,distance:1e3};function rFt(e){return{...nFt,...e}}const oFt=32;function iFt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>oFt)throw new Error("Pattern too long for this browser.");const o=rFt(r),i=sFt(t);function s(v,g){const y=v/t.length,x=Math.abs(n-g);return o.distance?y+x/o.distance:x?1:y}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const y=Math.min(n+f,e.length)+t.length,x=new Array(y+2);x[y+1]=(1<<v)-1;for(let b=y;b>=g;b--){const w=i[e.charAt(b-1)];if(v===0?x[b]=(x[b+1]<<1|1)&w:x[b]=(x[b+1]<<1|1)&w|((m[b+1]|m[b])<<1|1)|m[b+1],x[b]&u){const C=s(v,b-1);if(C<=a)if(a=C,c=b-1,c>n)g=Math.max(1,2*n-c);else break}}if(s(v+1,n)>a)break;m=x}return c}function sFt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function PP(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return iFt(e,t,r)}function Pk(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function e7(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Kn&&(t[n]=e[n][1]);return t.join("")}function H5e(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==An&&(t[n]=e[n][1]);return t.join("")}function Zd(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=U5e(r)}return t}function aFt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=U5e(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>Lw(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function U5e(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Rd=32,t7=4,lFt={margin:4};function OP(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...lFt,...e}}function cFt(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=J9(e,t,{checkLines:!0});return r.length>2&&(r=N5e(r),r=V5e(r)),RP(e,r,OP(n))}if(e&&Array.isArray(e)&&typeof t>"u")return RP(e7(e),e,OP(n));if(typeof e=="string"&&t&&Array.isArray(t))return RP(e,t,OP(n));throw new Error("Unknown call format to make()")}function RP(e,t,n){if(t.length===0)return[];const r=[];let o=Pk(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,y=g.length,x=Zd(g);switch(!i&&v!==St&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),v){case Kn:o.diffs[i++]=m,o.length2+=y,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case An:o.length1+=y,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+y);break;case St:y<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=y,o.length2+=y,o.utf8Length1+=x,o.utf8Length2+=x):y>=2*n.margin&&i&&(QX(o,d,n),r.push(o),o=Pk(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}v!==Kn&&(s+=y,c+=x),v!==An&&(a+=y,u+=x)}return i&&(QX(o,d,n),r.push(o)),r}function QX(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Rd-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&cM(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([St,s]);const a=s.length,c=Zd(s);let u=e.start2+e.length1+o;u<t.length&&cM(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([St,d]);const f=d.length,p=Zd(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function uFt(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Kn:n+=s.length;break;case An:r+=s.length;break;case St:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function JX(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Kn&&(n+=e[s][1].length),e[s][0]!==An&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===An?i:i+(t-o)}function dFt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t7;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==St)i.unshift([St,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==St)i.push([St,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function fFt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t7;const n=Rd;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=Pk(i-a.length,s-a.length);let u=!0;if(a!==""){const p=Zd(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([St,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=Zd(m);if(p===Kn){c.length2+=m.length,c.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&c.diffs.push(g),u=!1}else p===An&&c.diffs.length===1&&c.diffs[0][0]===St&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=v,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),v=Zd(m),c.length1+=m.length,c.utf8Length1+=v,i+=m.length,p===St?(c.length2+=m.length,c.utf8Length2+=v,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=H5e(c.diffs),a=a.substring(a.length-t);const d=e7(o.diffs).substring(0,t),f=Zd(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===St?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([St,d])),u||e.splice(++r,0,c)}}}function W5e(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=aFt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||t7,s=n.deleteThreshold||.4,a=dFt(o,i);r=a+r+a,fFt(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=e7(o[d].diffs);let m,v=-1;if(p.length>Rd?(m=PP(r,p.substring(0,Rd),f),m!==-1&&(v=PP(r,p.substring(p.length-Rd),f+p.length-Rd),(v===-1||m>=v)&&(m=-1))):m=PP(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+Rd),p===g)r=r.substring(0,m)+H5e(o[d].diffs)+r.substring(m+p.length);else{let y=J9(p,g,{checkLines:!1});if(p.length>Rd&&uFt(y)/p.length>s)u[d]=!1;else{y=z5e(y);let x=0,b=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==St&&(b=JX(y,x)),C[0]===Kn?r=r.substring(0,m+b)+C[1]+r.substring(m+b):C[0]===An&&(r=r.substring(0,m+b)+r.substring(m+JX(y,x+C[1].length))),C[0]!==An&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function hFt(e){return e.map(pFt).join("")}function pFt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Kn:u="+";break;case An:u="-";break;case St:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const mFt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function n7(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(mFt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=Pk(C_(o[1]),C_(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=C_(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=C_(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=Zd(c)-c.length;if(a==="-")i.diffs.push([An,c]),i.length1-=u;else if(a==="+")i.diffs.push([Kn,c]),i.length2-=u;else if(a===" ")i.diffs.push([St,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function C_(e){return parseInt(e,10)}function Y5e(e){return{type:"setIfMissing",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function eQ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=cFt(e,t),o=hFt(r);return{type:"diffMatchPatch",path:n,value:o}}function lu(e,t){return{type:"insert",path:arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],position:t,items:e}}function fl(e){return{type:"set",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function Us(){return{type:"unset",path:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const gFt=[],q5e="void-child";function hv(e,t){const n=t[e._key];return n&&Ht(e,n)?n:(t[e._key]=e,e)}function Sc(e,t){let{schemaTypes:n}=t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e&&Array.isArray(e)?e.map(o=>{const{_type:i,_key:s,...a}=o,c=[{_key:q5e,_type:"span",text:"",marks:[]}];if(o&&o._type===n.block.name){const d=o;let f=!1;const p=typeof d.style>"u",m=typeof d.markDefs>"u",v=d.children.map(g=>{const{_type:y,_key:x,...b}=g;return y!=="span"?(f=!0,hv({_type:y,_key:x,children:c,value:b,__inline:!0},r)):g});return!p&&!m&&!f&&Re.isElement(o)?o:(p&&(a.style=n.styles[0].value),m&&(a.markDefs=gFt),hv({_type:i,_key:s,...a,children:v},r))}return hv({_type:i,_key:s,children:c,value:a},r)}):[]}function xr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.map(r=>{const{_key:o,_type:i}=r;if(!o||!i)throw new Error("Not a valid block");if(i===t&&"children"in r&&Array.isArray(r.children)&&o){let a=!1;const c=r.children.map(u=>{const{_type:d}=u;if("value"in u&&d!=="span"){a=!0;const{value:f,_key:p,_type:m,__inline:v,children:g,...y}=u;return hv({...y,...f,_key:p,_type:m},n)}return u});return a?hv({...r,children:c,_key:o,_type:i},n):r}const s="value"in r&&r.value;return hv({_key:o,_type:i,...typeof s=="object"?s:{}},n)})}function Ok(e,t){var n;return e===void 0||e&&Array.isArray(e)&&e.length===0||e&&Array.isArray(e)&&e.length===1&&Re.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].value&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&e[0].children.length===1&&_e.isText(e[0].children[0])&&e[0].children[0]._type==="span"&&!((n=e[0].children[0].marks)!=null&&n.join(""))&&e[0].children[0].text===""}const Hh=Wr("operationToPatches");Hh.enabled=!1;function vFt(e){const t=e.block.name;function n(d,f,p){Hh.enabled&&Hh("Operation",JSON.stringify(f,null,2));const m=d.isTextBlock(d.children[f.path[0]])&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&d.isTextSpan(m.children[f.path[1]])&&m.children[f.path[1]];if(!v)throw new Error("Could not find child");const g=[{_key:m._key},"children",{_key:v._key},"text"],y=p[f.path[0]],x=d.isTextBlock(y)&&y.children[f.path[1]],b=d.isTextSpan(x)?x.text:"",w=eQ(b,v.text,g);return w.value.length?[w]:[]}function r(d,f,p){const m=d&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&m.children[f.path[1]]||void 0,g=d.isTextSpan(v)?v:void 0;if(v&&!g)throw new Error("Expected span");if(!g)throw new Error("Could not find child");const y=[{_key:m._key},"children",{_key:g._key},"text"],x=p[f.path[0]],b=d.isTextBlock(x)&&x.children[f.path[1]],w=d.isTextSpan(b)&&b.text,C=eQ(w||"",g.text,y);return C.value?[C]:[]}function o(d,f){if(f.path.length===1){const p=d.children[f.path[0]];if(typeof p._key!="string")throw new Error("Expected block to have a _key");const m=MSe({...d.children[f.path[0]],...f.newProperties},FSe);return[fl(xr([m],t)[0],[{_key:p._key}])]}else if(f.path.length===2){const p=d.children[f.path[0]];if(d.isTextBlock(p)){const m=p.children[f.path[1]];if(m){const v=p._key,g=m._key,y=[];return Object.keys(f.newProperties).forEach(x=>{const b=Un(f.newProperties,x);y.push(fl(b,[{_key:v},"children",{_key:g},x]))}),y}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error("Unexpected path encountered: ".concat(JSON.stringify(f.path)))}function i(d,f,p){const m=p[f.path[0]],v=d.isTextBlock(m);if(f.path.length===1){const g=f.path[0]===0?"before":"after",y=p[f.path[0]-1],x=f.path[0]===0?m==null?void 0:m._key:y==null?void 0:y._key;return x?[lu([xr([f.node],t)[0]],g,[{_key:x}])]:[Y5e(p,[]),lu([xr([f.node],t)[0]],"before",[f.path[0]])]}else if(v&&f.path.length===2&&d.children[f.path[0]]){const g=m.children.length===0||!m.children[f.path[1]-1]?"before":"after",y={...f.node};!y._type&&_e.isText(y)&&(y._type="span",y.marks=[]);const b=xr([{_key:"bogus",_type:t,children:[y]}],t)[0].children[0];return[lu([b],g,[{_key:m._key},"children",m.children.length<=1||!m.children[f.path[1]-1]?0:{_key:m.children[f.path[1]-1]._key}])]}return Hh("Something was inserted into a void block. Not producing editor patches."),[]}function s(d,f,p){const m=[],v=d.children[f.path[0]];if(!d.isTextBlock(v))throw new Error("Block with path ".concat(JSON.stringify(f.path[0])," is not a text block and can't be split"));if(f.path.length===1){const g=p[f.path[0]];if(d.isTextBlock(g)){const y=xr([d.children[f.path[0]+1]],t)[0];y&&(m.push(lu([y],"after",[{_key:v._key}])),g.children.slice(f.position).forEach(b=>{const w=[{_key:g._key},"children",{_key:b._key}];m.push(Us(w))}))}return m}if(f.path.length===2){const g=v.children[f.path[1]];if(d.isTextSpan(g)){const y=xr([{...v,children:v.children.slice(f.path[1]+1,f.path[1]+2)}],t)[0].children;m.push(lu(y,"after",[{_key:v._key},"children",{_key:g._key}])),m.push(fl(g.text,[{_key:v._key},"children",{_key:g._key},"text"]))}return m}return m}function a(d,f,p){const m=p[f.path[0]];if(f.path.length===1){if(m&&m._key)return[Us([{_key:m._key}])];throw new Error("Block not found")}else if(d.isTextBlock(m)&&f.path.length===2){const v=d.isTextBlock(m)&&m.children&&m.children[f.path[1]];return v?[Us([{_key:m._key},"children",{_key:v._key}])]:(Hh("Span not found in editor trying to remove node"),[])}else return Hh("Not creating patch inside object block"),[]}function c(d,f,p){const m=[],v=p[f.path[0]],g=d.children[f.path[0]];if(f.path.length===1)if(v!=null&&v._key){const y=xr([d.children[f.path[0]-1]],t)[0];m.push(fl(y,[{_key:y._key}])),m.push(Us([{_key:v._key}]))}else throw new Error("Target key not found!");else if(f.path.length===2&&d.isTextBlock(g)){const y=d.isTextBlock(v)&&v.children[f.path[1]]||void 0,x=g.children[f.path[1]-1];d.isTextSpan(x)&&(m.push(fl(x.text,[{_key:v._key},"children",{_key:x._key},"text"])),y&&m.push(Us([{_key:v._key},"children",{_key:y._key}])))}else Hh("Void nodes can't be merged, not creating any patches");return m}function u(d,f,p){const m=[],v=p[f.path[0]],g=p[f.newPath[0]];if(f.path.length===1){const y=f.path[0]>f.newPath[0]?"before":"after";m.push(Us([{_key:v._key}])),m.push(lu([xr([v],t)[0]],y,[{_key:g._key}]))}else if(f.path.length===2&&d.isTextBlock(v)&&d.isTextBlock(g)){const y=v.children[f.path[1]],x=g.children[f.newPath[1]],b=f.newPath[1]===g.children.length?"after":"before",w=xr([v],t)[0].children[f.path[1]];m.push(Us([{_key:v._key},"children",{_key:y._key}])),m.push(lu([w],b,[{_key:g._key},"children",{_key:x._key}]))}return m}return{insertNodePatch:i,insertTextPatch:n,mergeNodePatch:c,moveNodePatch:u,removeNodePatch:a,removeTextPatch:r,setNodePatch:o,splitNodePatch:s}}function tQ(e,t,n){const r=[e.path[0]];if(!t)return null;const o=t[r[0]];if(!o)return null;const i=[{_key:o._key}];if(o._type!==n.block.name)return i;let s;const a=e.path.slice(0,2),c=Array.isArray(o.children)&&o.children[a[1]];return c&&(s=["children",{_key:c._key}]),s?[...i,...s]:i}function nQ(e,t){if(!t)return[];const[n,r]=Array.from(F.nodes(t,{at:[],match:s=>Rr(e.path[0])&&s._key===e.path[0]._key}))[0]||[void 0,void 0];if(!n||!Re.isElement(n))return[];if(t.isVoid(n))return[r[0],0];const o=[e.path[2]],i=n.children.findIndex(s=>Ht([{_key:s._key}],o));if(i>=0&&n.children[i]){const s=n.children[i];return Re.isElement(s)&&t.isVoid(s)?r.concat(i).concat(0):r.concat(i)}return r}function np(e,t,n){if(!t)return null;let r=null,o=null;const i=t.anchor&&tQ(t.anchor,e,n);i&&t.anchor&&(r={path:i,offset:t.anchor.offset});const s=t.focus&&tQ(t.focus,e,n);return s&&t.focus&&(o={path:s,offset:t.focus.offset}),r&&o?{anchor:r,focus:o}:null}function aS(e,t){if(!e||!t)return null;const n={path:nQ(e.anchor,t),offset:e.anchor.offset},r={path:nQ(e.focus,t),offset:e.focus.offset};return n&&r?{anchor:n,focus:r}:null}function uM(e){if(e){const t=e&&window.getSelection();t==null||t.removeAllRanges()}}const V1=Wr("API:editable");function yFt(e,t,n){return function(o){return e.setEditable({focus:()=>{me.focus(o)},blur:()=>{me.blur(o)},toggleMark:i=>{o.pteToggleMark(i)},toggleList:i=>{o.pteToggleListItem(i)},toggleBlockStyle:i=>{o.pteToggleBlockStyle(i)},isMarkActive:i=>{try{return o.pteIsMarkActive(i)}catch(s){return console.warn(s),!1}},marks:()=>({...F.marks(o)||{}}).marks||[],undo:()=>o.undo(),redo:()=>o.redo(),select:i=>{const s=aS(i,o);s?ae.select(o,s):ae.deselect(o),o.onChange()},focusBlock:()=>{if(o.selection){const i=Ee.descendant(o,o.selection.focus.path.slice(0,1));if(i)return xr([i],t.block.name,Ca.get(o))[0]}},focusChild:()=>{if(o.selection){const i=Ee.descendant(o,o.selection.focus.path.slice(0,1));if(i&&o.isTextBlock(i))return xr([i],t.block.name,Ca.get(o))[0].children[o.selection.focus.path[1]]}},insertChild:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const[c]=Array.from(F.nodes(o,{at:o.selection.focus.path.slice(0,1),match:v=>v._type===t.block.name}))[0]||[void 0];if(!c)throw new Error("No focused text block");if(i.name!==t.span.name&&!t.inlineObjects.some(v=>v.name===i.name))throw new Error("This type cannot be inserted as a child to a text block");const d=Sc([{_key:n(),_type:t.block.name,children:[{_key:n(),_type:i.name,...s||{}}]}],e)[0].children[0],f=o.selection.focus.path.slice(0,2),p=d._type===t.span.name,m=Ee.get(o,f);return p&&m._type!==t.span.name&&(V1("Inserting span child next to inline object child, moving selection + 1"),o.move({distance:1,unit:"character"})),ae.insertNodes(o,d,{select:!0,at:o.selection}),o.onChange(),((a=np(xr(o.children,t.block.name,Ca.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},insertBlock:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const c=Sc([{_key:n(),_type:i.name,...s||{}}],e)[0];return F.insertNode(o,c),o.onChange(),((a=np(xr(o.children,t.block.name,Ca.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},hasBlockStyle:i=>{try{return o.pteHasBlockStyle(i)}catch{return!1}},hasListStyle:i=>{try{return o.pteHasListStyle(i)}catch{return!1}},isVoid:i=>![t.block.name,t.span.name].includes(i._type),findByPath:i=>{const s=aS({focus:{path:i,offset:0},anchor:{path:i,offset:0}},o);if(s){const[a,c]=F.node(o,s.focus.path.slice(0,1));if(a&&c&&typeof a._key=="string"){if(i.length===1&&s.focus.path.length===1)return[xr([a],t.block.name)[0],[{_key:a._key}]];const u=xr([a],t.block.name,Ca.get(o))[0];if(o.isTextBlock(u)){const d=u.children[s.focus.path[1]];if(d)return[d,[{_key:a._key},"children",{_key:d._key}]]}}}return[void 0,void 0]},findDOMNode:i=>{let s;try{const[a]=Array.from(F.nodes(o,{at:[],match:c=>c._key===i._key})||[])[0]||[void 0];s=me.toDOMNode(o,a)}catch{}return s},activeAnnotations:()=>{var i;if(!o.selection||o.selection.focus.path.length<2)return[];try{const s=[],a=F.nodes(o,{at:o.selection,match:c=>_e.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0});for(const[c,u]of a){const[d]=F.node(o,u,{depth:1});o.isTextBlock(d)&&((i=d.markDefs)==null||i.forEach(f=>{_e.isText(c)&&c.marks&&Array.isArray(c.marks)&&c.marks.includes(f._key)&&s.push(f)}))}return s}catch{return[]}},addAnnotation:(i,s)=>{const{selection:a}=o;if(a){const[c]=F.node(o,a.focus,{depth:1});if(Re.isElement(c)&&c._type===t.block.name){const u=n();if(o.isTextBlock(c)){ae.setNodes(o,{markDefs:[...c.markDefs||[],{_type:i.name,_key:u,...s}]},{at:a.focus}),o.onChange(),de.isCollapsed(a)&&(o.pteExpandToWord(),o.onChange());const[d]=F.node(o,a.focus,{depth:2});if(o.selection){F.withoutNormalizing(o,()=>{ae.setNodes(o,{},{match:_e.isText,split:!0}),o.selection&&_e.isText(d)&&(ae.setNodes(o,{marks:[...d.marks||[],u]},{at:o.selection,match:p=>p._type===t.span.name}),o.onChange())}),F.normalize(o),o.onChange();const f=np(xr(o.children,t.block.name,Ca.get(o)),o.selection,t);if(f&&typeof c._key=="string")return F.withoutNormalizing(o,()=>{o.selection&&(ae.insertNodes(o,[{_type:"span",text:"",marks:[],_key:n()}],{at:de.end(o.selection)}),o.onChange())}),{spanPath:f.focus.path,markDefPath:[{_key:c._key},"markDefs",{_key:u}]}}}}}},delete:(i,s)=>{if(i){const a=aS(i,o);if(!(a&&a.anchor.path.length>0&&a.focus.path.length>0))throw new Error("Invalid range");if(a){if(!(s!=null&&s.mode)||(s==null?void 0:s.mode)==="selected"){V1("Deleting content in selection"),ae.delete(o,{at:a,hanging:!0,voids:!0}),o.onChange();return}(s==null?void 0:s.mode)==="blocks"&&(V1("Deleting blocks touched by selection"),ae.removeNodes(o,{at:a,voids:!0,match:u=>o.isTextBlock(u)||!o.isTextBlock(u)&&Re.isElement(u)})),(s==null?void 0:s.mode)==="children"&&(V1("Deleting children touched by selection"),ae.removeNodes(o,{at:a,voids:!0,match:u=>u._type===t.span.name||!o.isTextBlock(u)&&Re.isElement(u)})),o.children.length===0&&(o.children=[o.createPlaceholderBlock()]),o.onChange()}}},removeAnnotation:i=>{let{selection:s}=o;if(V1("Removing annotation",i),s){if(de.isCollapsed(s)){const[a,c]=F.node(o,s,{depth:2});_e.isText(a)&&a.marks&&typeof a.text=="string"&&(ae.select(o,c),s=o.selection)}F.withoutNormalizing(o,()=>{if(s&&de.isExpanded(s)){if(s=o.selection,!s)return;ae.setNodes(o,{},{match:_e.isText,split:!0}),o.onChange(),[...F.nodes(o,{at:s,match:c=>_e.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0})].forEach(c=>{let[u,d]=c;var f;const[p]=F.node(o,d,{depth:1});o.isTextBlock(p)&&((f=p.markDefs)==null||f.filter(m=>m._type===i.name).forEach(m=>{if(_e.isText(u)&&Array.isArray(u.marks)&&u.marks.includes(m._key)){const v=[...(u.marks||[]).filter(g=>g!==m._key)];ae.setNodes(o,{marks:v},{at:d,voids:!1,split:!1})}}))})}}),F.normalize(o),o.onChange()}},getSelection:()=>{let i=null;if(o.selection){const s=Ik.get(o.selection);if(s)return s;i=np(xr(o.children,t.block.name,Ca.get(o)),o.selection,t),Ik.set(o.selection,i)}return i},getValue:()=>xr(o.children,t.block.name,Ca.get(o)),isCollapsedSelection:()=>!!o.selection&&de.isCollapsed(o.selection),isExpandedSelection:()=>!!o.selection&&de.isExpanded(o.selection),insertBreak:()=>{o.insertBreak(),o.onChange()}}),o}}function bFt(e){return function(n){const{apply:r}=n;return n.apply=o=>{const i=e;i>0&&n.children.length>=i&&(o.type==="insert_node"||o.type==="split_node")&&o.path.length===1||r(o)},n}}const Rk=new WeakMap;function hx(e,t){const n=G5e(e);Rk.set(e,!0),t(),Rk.set(e,n)}function G5e(e){return Rk.get(e)}function xFt(e,t){return function(r){Rk.set(r,!1);const{apply:o,normalizeNode:i}=r;return r.apply=s=>{if(s.type==="split_node"&&(s.properties={...s.properties,_key:t()}),s.type==="insert_node"){const a=!G5e(r)||!("_key"in s.node);F.isEditor(s.node)||(s.node={...s.node,...a?{_key:t()}:{}})}o(s)},r.normalizeNode=s=>{const[a,c]=s;if(Re.isElement(a)&&a._type===e.block.name){a._key||ae.setNodes(r,{_key:t()},{at:c});for(const[u,d]of Ee.children(r,c))if(!u._key){ae.setNodes(r,{_key:t()},{at:d});return}}i(s)},r}}const $k=new WeakMap;function dM(e,t){const n=K5e(e);$k.set(e,!1),t(),$k.set(e,n)}function K5e(e){return $k.get(e)}const rQ="before",oQ="after";function wFt(e,t,n){if(t!==rQ&&t!==oQ)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(rQ," or ").concat(oQ));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=iQ(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,...iQ(s)),d}function iQ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const sQ=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function CFt(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function _Ft(e,t){if(typeof t=="number")return t;const n=K9(e,t);return n===-1?!1:n}function SFt(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!sQ(t.value,"from")||!sQ(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return CFt(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=_Ft(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return wFt(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=r7(n[i],{...t,path:o}),n}function EFt(e,t){const n=k5e(e);if(t.path.length===0){if(t.type==="set"){if(!Gx(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Pi(n,r):(n[r]=r7(n[r],{...t,path:o}),n)}const Z5e={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},kFt=Object.keys(Z5e);function jFt(e,t){if(!kFt.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return Z5e[t.type](e,t.value)}const X5e={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=W5e(n7(t),e,{allowExceedingIndices:!0});return n}},TFt=Object.keys(X5e);function AFt(e,t){if(!TFt.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));const n=X5e[t.type];if(n)return n(e,t.value);throw new Error("Unknown patch type")}function DFt(e,t){return t.reduce(r7,e)}function IFt(e,t){return Array.isArray(e)?SFt(e,t):cT(e)?AFt(e,t):Gx(e)?EFt(e,t):jFt(e,t)}function r7(e,t){return IFt(e,t)}const Cr=Wr("applyPatches"),o7=Cr.enabled&&!0;function PFt(e){let t;return function(n,r){let o=!1;o7&&(Cr(`

NEW PATCH =============================================================`),Cr(JSON.stringify(r,null,2)));try{switch(r.type){case"insert":o=RFt(n,r,e);break;case"unset":o=MFt(n,r,t);break;case"set":o=$Ft(n,r);break;case"diffMatchPatch":o=OFt(n,r);break;default:Cr("Unhandled patch",r.type)}}catch(i){console.error(i)}return t=r,o}}function OFt(e,t){const{block:n,child:r,childPath:o}=UT(e,t.path);if(!n)return Cr("Block not found"),!1;if(!r||!o)return Cr("Child not found"),!1;if(!(n&&e.isTextBlock(n)&&t.path.length===4&&t.path[1]==="children"&&t.path[3]==="text")||!_e.isText(r))return!1;const s=n7(t.value),[a]=W5e(s,r.text,{allowExceedingIndices:!0}),c=V5e(J9(r.text,a),5);gs(e,"before");let u=0;for(const[d,f]of c)d===Kn?(e.apply({type:"insert_text",path:o,offset:u,text:f}),u+=f.length):d===An?e.apply({type:"remove_text",path:o,offset:u,text:f}):d===St&&(u+=f.length);return gs(e,"after"),!0}function RFt(e,t,n){const{block:r,child:o,blockPath:i,childPath:s}=UT(e,t.path);if(!r||!i)return Cr("Block not found"),!1;if(t.path.length>1&&t.path[1]!=="children")return Cr("Ignoring patch targeting void value"),!1;if(t.path.length===1){const{items:m,position:v}=t,g=Sc(m,{schemaTypes:n},lM.get(e)),y=i[0],x=v==="after"?y+1:y;return Cr("Inserting blocks at path [".concat(x,"]")),gs(e,"before"),ae.insertNodes(e,g,{at:[x]}),gs(e,"after"),!0}const{items:a,position:c}=t;if(!o||!s)return Cr("Child not found"),!1;const u=r&&Sc([{...r,children:a}],{schemaTypes:n},lM.get(e)),d=s[1],f=c==="after"?d+1:d,p=[s[0],f];return Cr("Inserting children at path ".concat(p)),gs(e,"before"),u&&Re.isElement(u[0])&&ae.insertNodes(e,u[0].children,{at:p}),gs(e,"after"),!0}function $Ft(e,t){let n=t.value;typeof t.path[3]=="string"&&(n={},n[t.path[3]]=t.value);const{block:r,blockPath:o,child:i,childPath:s}=UT(e,t.path);if(!r)return Cr("Block not found"),!1;const a=e.isTextBlock(r);if(a&&t.path.length>1&&t.path[1]!=="children")return Cr("Ignoring setting void value"),!1;if(gs(e,"before"),a&&i&&s){if(_e.isText(n)&&_e.isText(i)){const c=i.text;n.text!==c&&(Cr("Setting text property"),e.apply({type:"remove_text",path:s,offset:0,text:c}),e.apply({type:"insert_text",path:s,offset:0,text:n.text}),e.onChange())}else Cr("Setting non-text property"),e.apply({type:"set_node",path:s,properties:{},newProperties:n});return!0}else if(Re.isElement(r)&&t.path.length===1&&o){Cr("Setting block property");const{children:c,...u}=n,{children:d,...f}=r||{children:void 0};e.apply({type:"set_node",path:o,properties:{...f},newProperties:u}),r.children.forEach((p,m)=>{e.apply({type:"remove_node",path:o.concat(m),node:p})}),Array.isArray(c)&&c.forEach((p,m)=>{e.apply({type:"insert_node",path:o.concat(m),node:p})})}else if(r&&"value"in r){const c=DFt([r.value],[t])[0];return ae.setNodes(e,{...r,value:c},{at:o}),!0}return gs(e,"after"),!0}function MFt(e,t,n){if(t.path.length===0){Cr("Removing everything"),gs(e,"before");const a=e.selection;return ae.deselect(e),e.children.forEach((c,u)=>{ae.removeNodes(e,{at:[u]})}),ae.insertNodes(e,e.createPlaceholderBlock()),a&&ae.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),gs(e,"after"),!0}const{block:r,blockPath:o,child:i,childPath:s}=UT(e,t.path);if(t.path.length===1){if(!r||!o)return Cr("Block not found"),!1;const a=o[0];return Cr("Removing block at path [".concat(a,"]")),gs(e,"before"),ae.removeNodes(e,{at:[a]}),gs(e,"after"),!0}if(e.isTextBlock(r)&&t.path[1]==="children"&&t.path.length===3){if(!i||!s)return Cr("Child not found"),!1;const a=s[1];return Cr("Unsetting child at path ".concat(JSON.stringify(s))),gs(e,"before"),o7&&Cr("Removing child at path ".concat(JSON.stringify([s,a]))),ae.removeNodes(e,{at:s}),gs(e,"after"),!0}return!1}function Q5e(e){return typeof e=="object"&&"_key"in e}function gs(e,t){o7&&(Cr("Children ".concat(t,":"),JSON.stringify(e.children,null,2)),Cr("Selection ".concat(t,": "),JSON.stringify(e.selection,null,2)))}function FFt(e,t){let n=-1;const r=e.children.find((o,i)=>{const s=Q5e(t[0])?o._key===t[0]._key:i===t[0];return s&&(n=i),s});return r?{block:r,path:[n]}:{}}function UT(e,t){const{block:n,path:r}=FFt(e,t);if(!(Re.isElement(n)&&t[1]==="children"))return{block:n,blockPath:r,child:void 0,childPath:void 0};let o=-1;const i=n.children.find((s,a)=>{const c=Q5e(t[2])?s._key===t[2]._key:a===t[2];return c&&(o=a),c});return i?{block:n,child:i,blockPath:r,childPath:r==null?void 0:r.concat(o)}:{block:n,blockPath:r,child:void 0,childPath:void 0}}function J5e(e,t){const n=eje(e)||!1;Dk.set(e,!0),t(),Dk.set(e,n)}function eje(e){return Dk.get(e)}function LFt(e){return sS.get(e)}const Ko=Wr("plugin:withUndoRedo"),aQ=Ko.enabled&&!1,pv=new WeakMap,$P=new WeakMap,BFt=1e3,tje=e=>{const t=pv.get(e);return t===void 0?!0:t},NFt=e=>($P.get(e)||$P.set(e,[]),$P.get(e)||[]);function zFt(e){const{readOnly:t,patches$:n,blockSchemaType:r}=e;return o=>{let i=xr(o.children,r.name);const s=NFt(o);n&&o.subscriptions.push(()=>{Ko("Subscribing to patches");const c=n.subscribe(u=>{let{patches:d,snapshot:f}=u,p=!1;d.forEach(m=>{if(!p&&m.origin!=="local"&&s){if(m.type==="unset"&&m.path.length===0){Ko("Someone else cleared the content, resetting undo/redo history"),o.history={undos:[],redos:[]},s.splice(0,s.length),pv.set(o,!0),p=!0;return}s.push({patch:m,time:new Date,snapshot:f,previousSnapshot:i})}}),i=f});return()=>{Ko("Unsubscribing to patches"),c.unsubscribe()}}),o.history={undos:[],redos:[]};const{apply:a}=o;return o.apply=c=>{if(t){a(c);return}const{operations:u,history:d}=o,{undos:f}=d,p=f[f.length-1],m=p&&p.operations&&p.operations[p.operations.length-1],v=HFt(c,m),g=tje(o);let y=!0;if(g){if(p?u.length===0&&(y=VFt(c,m)||v):y=!1,p&&y)p.operations.push(c);else{const x={operations:[...o.selection===null?[]:[WFt(o)],c],timestamp:new Date};f.push(x),Ko("Created new undo step",p)}for(;f.length>BFt;)f.shift();UFt(c)&&(d.redos=[])}a(c)},o.undo=()=>{if(t)return;const{undos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(Ko("Undoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=Dn(f.map(m=>lQ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),uM(!!o.selection);try{F.withoutNormalizing(o,()=>{px(o,()=>{f.map(zg.inverse).reverse().forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Ko("Could not perform undo step",p),s.splice(0,s.length),ae.deselect(o),o.history={undos:[],redos:[]},pv.set(o,!0),o.onChange();return}o.history.redos.push(u),o.history.undos.pop()}}},o.redo=()=>{if(t)return;const{redos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(Ko("Redoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=Dn(f.map(m=>lQ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),uM(!!o.selection);try{F.withoutNormalizing(o,()=>{px(o,()=>{f.forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Ko("Could not perform redo step",p),s.splice(0,s.length),ae.deselect(o),o.history={undos:[],redos:[]},pv.set(o,!0),o.onChange();return}o.history.undos.push(u),o.history.redos.pop()}}},o}}function lQ(e,t,n,r,o){aQ&&(Ko("Adjusting '".concat(n.type,"' operation paths for '").concat(t.type,"' patch")),Ko("Operation ".concat(JSON.stringify(n))),Ko("Patch ".concat(JSON.stringify(t))));const i={...n};if(t.type==="insert"&&t.path.length===1){const s=(r||[]).findIndex(a=>Ht({_key:a._key},t.path[0]));return Ko("Adjusting block path (+".concat(t.items.length,") for '").concat(i.type,"' operation and patch '").concat(t.type,"'")),[cQ(i,t.items.length,s)]}if(t.type==="unset"&&t.path.length===1){const s=(o||[]).findIndex(a=>Ht({_key:a._key},t.path[0]));return"path"in i&&Array.isArray(i.path)&&i.path[0]===s?(Ko("Skipping transformation that targeted removed block"),[]):(aQ&&(Ko("Selection ".concat(JSON.stringify(e.selection))),Ko("Adjusting block path (-1) for '".concat(i.type,"' operation and patch '").concat(t.type,"'"))),[cQ(i,-1,s)])}if(t.type==="unset"&&t.path.length===0)return Ko("Adjusting selection for unset everything patch and ".concat(n.type," operation")),[];if(t.type==="diffMatchPatch"){const s=YFt(e,i);return!s||!Ht({_key:s._key},t.path[0])?[i]:(n7(t.value).forEach(c=>{var u,d,f,p;let m=0,v=c.utf8Start1;const{diffs:g}=c;if(g.forEach((y,x)=>{const[b,w]=y;b===Kn?(m+=w.length,v+=w.length):b===An?(m-=w.length,v-=w.length):b===St&&(g.slice(x).every(C=>{let[_]=C;return _===St})||(v+=w.length))}),i.type==="insert_text"&&v<i.offset&&(i.offset+=m),i.type==="remove_text"&&v<=i.offset-i.text.length&&(i.offset+=m),i.type==="set_selection"){const y=(u=i.properties)!=null&&u.focus?{...i.properties.focus}:void 0,x=(d=i==null?void 0:i.properties)!=null&&d.anchor?{...i.properties.anchor}:void 0,b=(f=i==null?void 0:i.newProperties)!=null&&f.focus?{...i.newProperties.focus}:void 0,w=(p=i==null?void 0:i.newProperties)!=null&&p.anchor?{...i.newProperties.anchor}:void 0;(y&&x||b&&w)&&([y,x,b,w].forEach(_=>{_&&v<_.offset&&(_.offset+=m)}),y&&x&&(i.properties={focus:y,anchor:x}),b&&w&&(i.newProperties={focus:b,anchor:w}))}}),[i])}return[i]}function cQ(e,t,n){var r,o,i,s;const a={...e};if(n>=0&&a.type!=="set_selection"&&Array.isArray(a.path)&&a.path[0]>=n+t&&a.path[0]+t>-1){const c=[a.path[0]+t,...a.path.slice(1)];a.path=c}if(a.type==="set_selection"){const c=(r=a.properties)!=null&&r.focus?{...a.properties.focus}:void 0,u=(o=a==null?void 0:a.properties)!=null&&o.anchor?{...a.properties.anchor}:void 0,d=(i=a==null?void 0:a.newProperties)!=null&&i.focus?{...a.newProperties.focus}:void 0,f=(s=a==null?void 0:a.newProperties)!=null&&s.anchor?{...a.newProperties.anchor}:void 0;(c&&u||d&&f)&&([c,u,d,f].forEach(m=>{m&&m.path[0]>=n+t&&m.path[0]+t>-1&&(m.path=[m.path[0]+t,...m.path.slice(1)])}),c&&u&&(a.properties={focus:c,anchor:u}),d&&f&&(a.newProperties={focus:d,anchor:f}))}return a}const VFt=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&te.equals(e.path,t.path)&&e.text!==" "||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&te.equals(e.path,t.path)),HFt=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),UFt=e=>e.type!=="set_selection";function px(e,t){const n=tje(e);pv.set(e,!1),t(),pv.set(e,n)}function WFt(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function YFt(e,t){let n;return t.type==="set_selection"&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const __=Wr("plugin:withPatches");function qFt(e){let{change$:t,patches$:n,patchFunctions:r,readOnly:o,schemaTypes:i}=e,s;const a=PFt(i);return function(u){Dk.set(u,!1),$k.set(u,!0),s=[...u.children];const{apply:d}=u;let f=[];const p=()=>{if(f.length===0)return;const v=f;f=[];let g=!1;J5e(u,()=>{F.withoutNormalizing(u,()=>{dM(u,()=>{px(u,()=>{hx(u,()=>{v.forEach(y=>{(y.type==="insert"||y.type==="unset")&&uM(!!u.selection),__.enabled&&__("Handling remote patch ".concat(JSON.stringify(y))),g=a(u,y)})})})})}),g&&(u.normalize(),u.onChange())})},m=v=>{let{patches:g}=v;const y=g.filter(x=>x.origin!=="local");y.length!==0&&(f=f.concat(y),p())};return n&&u.subscriptions.push(()=>{__("Subscribing to patches$");const v=n.subscribe(m);return()=>{__("Unsubscribing to patches$"),v.unsubscribe()}}),u.apply=v=>{if(o)return d(v),u;let g=[];s=u.children;const y=Ok(s,i);d(v);const x=Ok(u.children,i);if(!K5e(u))return u;switch(y&&!x&&v.type!=="set_selection"&&g.push(lu(s,"before",[0])),v.type){case"insert_text":g=[...g,...r.insertTextPatch(u,v,s)];break;case"remove_text":g=[...g,...r.removeTextPatch(u,v,s)];break;case"remove_node":g=[...g,...r.removeNodePatch(u,v,s)];break;case"split_node":g=[...g,...r.splitNodePatch(u,v,s)];break;case"insert_node":g=[...g,...r.insertNodePatch(u,v,s)];break;case"set_node":g=[...g,...r.setNodePatch(u,v,s)];break;case"merge_node":g=[...g,...r.mergeNodePatch(u,v,s)];break;case"move_node":g=[...g,...r.moveNodePatch(u,v,s)];break}return!y&&x&&["merge_node","set_node","remove_text","remove_node"].includes(v.type)&&(g=[...g,Us([])],t.next({type:"unset",previousValue:xr(s,i.block.name,Ca.get(u))})),y&&g.length>0&&(g=[Y5e([],[]),...g]),g.length>0&&g.forEach(b=>{t.next({type:"patch",patch:{...b,origin:"local"}})}),u},u}}const GFt=Wr("plugin:withPlaceholderBlock");function KFt(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){return o.createPlaceholderBlock=()=>(GFt("Creating placeholder block"),{_type:t.block.name,_key:n(),style:t.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:n(),text:"",marks:[]}]}),o}}const S_=Wr("plugin:withPortableTextBlockStyle");function ZFt(e){const t=e.styles[0].value;return function(r){const{normalizeNode:o}=r;return r.normalizeNode=i=>{o(i);const[,s]=i;for(const a of r.operations)if(a.type==="split_node"&&a.path.length===1&&r.isTextBlock(a.properties)&&a.properties.style!==t&&a.path[0]===s[0]&&!te.equals(s,a.path)){const[c]=F.node(r,[a.path[0]+1,0]);if(_e.isText(c)&&c.text===""){S_("Normalizing split node to ".concat(t," style"),a),ae.setNodes(r,{style:t},{at:[a.path[0]+1],voids:!1});break}}},r.pteHasBlockStyle=i=>r.selection?[...F.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)&&a.style===i})].length>0:!1,r.pteToggleBlockStyle=i=>{if(!r.selection)return;[...F.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)})].forEach(a=>{let[c,u]=a;r.isTextBlock(c)&&c.style===i?(S_("Unsetting block style '".concat(i,"'")),ae.setNodes(r,{...c,style:t},{at:u})):(i?S_("Setting style '".concat(i,"'")):S_("Setting default style",t),ae.setNodes(r,{...c,style:i||t},{at:u}))}),r.onChange()},r}}const xh=Wr("plugin:withPortableTextLists"),MP=10;function XFt(e){return function(n){return n.pteToggleListItem=r=>{n.pteHasListStyle(r)?(xh("Remove list item '".concat(r,"'")),n.pteUnsetListItem(r)):(xh("Add list item '".concat(r,"'")),n.pteSetListItem(r))},n.pteUnsetListItem=r=>{if(!n.selection)return;[...F.nodes(n,{at:n.selection,match:i=>Re.isElement(i)&&i._type===e.block.name})].forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){const{listItem:c,level:u,...d}=s,f={...d,listItem:void 0,level:void 0};xh("Unsetting list '".concat(r,"'")),ae.setNodes(n,f,{at:a})}})},n.pteSetListItem=r=>{if(!n.selection)return;[...F.nodes(n,{at:n.selection,match:i=>n.isTextBlock(i)})].forEach(i=>{let[s,a]=i;xh("Setting list '".concat(r,"'")),ae.setNodes(n,{...s,level:1,listItem:r||e.lists[0]&&e.lists[0].value},{at:a})})},n.pteEndList=()=>{if(!n.selection)return!1;const r=[...F.nodes(n,{at:n.selection,match:o=>Re.isElement(o)&&n.isListBlock(o)&&o.children.length===1&&_e.isText(o.children[0])&&o.children[0].text===""})];return r.length===0?!1:(r.forEach(o=>{let[i,s]=o;Re.isElement(i)&&(xh("Unset list"),ae.setNodes(n,{...i,level:void 0,listItem:void 0},{at:s}))}),!0)},n.pteIncrementBlockLevels=r=>{if(!n.selection)return!1;const o=[...F.nodes(n,{at:n.selection,match:i=>!!n.isListBlock(i)})];return o.length===0?!1:(o.forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){let c=s.level||1;r?(c--,xh("Decrementing list level",Math.min(MP,Math.max(1,c)))):(c++,xh("Incrementing list level",Math.min(MP,Math.max(1,c)))),ae.setNodes(n,{level:Math.min(MP,Math.max(1,c))},{at:a})}}),!0)},n.pteHasListStyle=r=>n.selection?[...F.nodes(n,{at:n.selection,match:i=>n.isListBlock(i)&&i.listItem===r})].length>0:!1,n}}const wd=Wr("plugin:withPortableTextMarkModel");function QFt(e,t){return function(i){const{apply:s,normalizeNode:a}=i,c=e.decorators.map(d=>d.value),u=()=>{i.selection&&(ae.select(i,{...i.selection}),i.selection={...i.selection});const d=np(i.children,i.selection,e);t.next({type:"selection",selection:d})};return i.normalizeNode=d=>{a(d),i.operations.some(g=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(g.type))&&n(i);const[f,p]=d,m=_e.isText(f)&&f._type===e.span.name,v=i.isTextBlock(f);if(m||v){m&&!Array.isArray(f.marks)&&(wd("Adding .marks to span node"),ae.setNodes(i,{marks:[]},{at:p}),i.onChange());for(const g of i.operations){if(g.type==="merge_node"&&g.path.length===1&&"markDefs"in g.properties&&g.properties._type===e.block.name&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]-1>=0){const[y,x]=F.node(i,[g.path[0]-1]);if(wd("Copying markDefs over to merged block",g),i.isTextBlock(y)){const b=Array.isArray(y.markDefs)&&y.markDefs||[],w=ho([...b,...g.properties.markDefs]);Ht(w,y.markDefs)||(ae.setNodes(i,{markDefs:w},{at:x,voids:!1}),i.onChange())}}if(g.type==="split_node"&&g.path.length===1&&Re.isElementProps(g.properties)&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]+1<i.children.length){const[y,x]=F.node(i,[g.path[0]+1]);if(wd("Copying markDefs over to split block",g),i.isTextBlock(y)){const b=Array.isArray(y.markDefs)&&y.markDefs||[];ae.setNodes(i,{markDefs:ho([...b,...g.properties.markDefs])},{at:x,voids:!1}),i.onChange()}}if(g.type==="split_node"&&g.path.length===2&&g.properties._type===e.span.name&&"marks"in g.properties&&Array.isArray(g.properties.marks)&&g.properties.marks.length>0&&g.path[0]+1<i.children.length){const[y,x]=F.node(i,[g.path[0]+1,0]);_e.isText(y)&&y.text===""&&Array.isArray(y.marks)&&y.marks.length>0&&(ae.setNodes(i,{marks:[]},{at:x,voids:!1}),i.onChange())}if(g.type==="split_node"&&g.path.length===1&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0){const[y,x]=F.node(i,[g.path[0]]);i.isTextBlock(y)&&y.children.length===1&&y.markDefs&&y.markDefs.length>0&&_e.isText(y.children[0])&&y.children[0].text===""&&(!y.children[0].marks||y.children[0].marks.length===0)&&(ae.setNodes(i,{markDefs:[]},{at:x}),i.onChange())}}m&&Array.isArray(f.marks)&&(!f.marks||f.marks.length>0&&f.text==="")&&(ae.setNodes(i,{marks:[]},{at:p,voids:!1}),i.onChange())}v&&i.operations.some(g=>["split_node","remove_node","remove_text","merge_node"].includes(g.type))&&r(i)},i.apply=d=>{var f,p;if(d.type==="insert_text"){const{selection:m}=i;if(m&&de.isCollapsed(m)&&((p=(f=F.marks(i))==null?void 0:f.marks)!=null&&p.some(v=>!c.includes(v)))){const[v]=Array.from(F.nodes(i,{mode:"lowest",at:m.focus,match:g=>g._type===e.span.name,voids:!1}))[0]||[void 0];if(_e.isText(v)&&v.text.length===m.focus.offset&&Array.isArray(v.marks)&&v.marks.length>0){s(d),ae.splitNodes(i,{match:_e.isText,at:{...m.focus,offset:m.focus.offset}});const g=({...F.marks(i)||{}}.marks||[]).filter(y=>c.includes(y));ae.setNodes(i,{marks:g},{at:te.next(m.focus.path)}),wd("Inserting text at end of annotation");return}}}s(d)},i.addMark=d=>{if(i.selection){if(de.isExpanded(i.selection)){ae.setNodes(i,{},{match:_e.isText,split:!0});const f=[...F.nodes(i,{at:i.selection,match:_e.isText})];if(Dn(f.map(m=>m[0]).map(m=>m.marks)).includes(d))return i.removeMark(d),i;F.withoutNormalizing(i,()=>{f.forEach(m=>{let[v,g]=m;const y=[...(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),d];ae.setNodes(i,{marks:y},{at:g,match:_e.isText,split:!0,hanging:!0})})}),F.normalize(i)}else{const f={...F.marks(i)||{}}.marks||[],p={...F.marks(i)||{},marks:[...f,d]};return i.marks=p,u(),i}i.onChange(),u()}return i},i.removeMark=d=>{const{selection:f}=i;if(f){if(de.isExpanded(f))F.withoutNormalizing(i,()=>{ae.setNodes(i,{},{match:_e.isText,split:!0}),i.selection&&[...F.nodes(i,{at:i.selection,match:_e.isText})].forEach(m=>{let[v,g]=m;const y=i.children[g[0]];Re.isElement(y)&&y.children.includes(v)&&ae.setNodes(i,{marks:(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),_type:"span"},{at:g})})}),F.normalize(i);else{const p={...F.marks(i)||{}}.marks||[],m={...F.marks(i)||{},marks:p.filter(v=>v!==d)};return i.marks={marks:m.marks,_type:"span"},u(),i}i.onChange(),u()}return i},i.pteIsMarkActive=d=>{if(!i.selection)return!1;let f={...F.marks(i)||{}}.marks||[];return de.isExpanded(i.selection)&&Array.from(F.nodes(i,{match:_e.isText,at:i.selection})).forEach(p=>{const[m]=p;f=ho([...f,...m.marks||[]])}),f.includes(d)},i.pteToggleMark=d=>{i.pteIsMarkActive(d)?(wd("Remove mark '".concat(d,"'")),F.removeMark(i,d)):(wd("Add mark '".concat(d,"'")),F.addMark(i,d,!0))},i};function n(o){const{selection:i}=o;if(i)for(const[s,a]of Array.from(F.nodes(o,{at:F.range(o,[i.anchor.path[0]],[i.focus.path[0]])})).reverse()){const[c]=a.length>1?F.node(o,te.parent(a)):[void 0],u=[a[0],a[1]+1];if(o.isTextBlock(c)){const d=c.children[u[1]];_e.isText(s)&&_e.isText(d)&&Ht(d.marks,s.marks)&&(wd("Merging spans"),ae.mergeNodes(o,{at:u,voids:!0}),o.onChange())}}}function r(o){const{selection:i}=o;if(i){const s=F.nodes(o,{at:i,match:a=>a._type===e.block.name});for(const[a,c]of s)if(o.isTextBlock(a)){const u=(a.markDefs||[]).filter(d=>a.children.find(f=>_e.isText(f)&&Array.isArray(f.marks)&&f.marks.includes(d._key)));Ht(u,a.markDefs)||(wd("Removing markDef not in use"),ae.setNodes(o,{markDefs:u},{at:c}),o.onChange())}}}}const nje=Wr("plugin:withPortableTextSelections"),JFt=nje.enabled&&!1;function eLt(e,t){let n=null;return function(o){const i=()=>{if(n!==o.selection){let a=null;if(o.selection){const c=Ik.get(o.selection);if(c)a=c;else{const u=o.children;a=np(u,o.selection,t),Ik.set(o.selection,a)}}JFt&&nje("Emitting selection ".concat(JSON.stringify(a||null)," (").concat(JSON.stringify(o.selection),")")),a?e.next({type:"selection",selection:a}):e.next({type:"selection",selection:null})}n=o.selection},{onChange:s}=o;return o.onChange=()=>{const a=o.operations.length>0;s(),a&&i()},o}}const tLt=Wr("plugin:withSchemaTypes");function nLt(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){o.isTextBlock=s=>Vf(s)&&s._type===t.block.name,o.isTextSpan=s=>Ks(s)&&s._type==t.span.name,o.isListBlock=s=>jMe(s)&&s._type===t.block.name,o.isVoid=s=>t.block.name!==s._type&&(t.blockObjects.map(a=>a.name).includes(s._type)||t.inlineObjects.map(a=>a.name).includes(s._type)),o.isInline=s=>t.inlineObjects.map(c=>c.name).includes(s._type)&&"__inline"in s&&s.__inline===!0;const{normalizeNode:i}=o;return o.normalizeNode=s=>{const[a,c]=s;if(a._type===void 0&&c.length===2){tLt("Setting span type on text node without a type");const u=a,d=u._key||n();ae.setNodes(o,{...u,_type:t.span.name,_key:d},{at:c})}i(s)},o}}const FP=Wr("plugin:withUtils");function rLt(e){return function(n){return n.pteExpandToWord=()=>{const{selection:r}=n;if(r&&!de.isExpanded(r)){const[o]=F.node(n,r.focus,{depth:2});if(!o||!_e.isText(o)||o.text.length===0){FP("pteExpandToWord: Can't expand to word here");return}const{focus:i}=r,s=i.offset,a=o.text.slice(0,s),c=o.text.slice(s,-1),u=v=>v.match(/\s/g),d=a.split("").reverse().findIndex(v=>u(v)),f=d>-1?a.length-d:0,p=c.split("").findIndex(v=>u(v)),m=a.length+(p>-1?p:c.length+1);if(!(f===m||isNaN(f)||isNaN(m))){FP("pteExpandToWord: Expanding to focused word"),ae.setSelection(n,{anchor:{...r.anchor,offset:f},focus:{...r.focus,offset:m}});return}FP("pteExpandToWord: Can't expand to word here")}},n}}const LP=Wr("plugin:withHotKeys"),oLt={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function iLt(e,t,n,r){const o=["enter","tab","shift","delete","end"],i=r||oLt,s=()=>Sc([{_type:e.block.name,_key:t(),style:"normal",markDefs:[],children:[{_type:"span",_key:t(),text:"",marks:[]}]}],n)[0];return function(c){return c.pteWithHotKeys=u=>{Object.keys(i).forEach(y=>{if(y==="marks")for(const x in i[y]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(yi(x,u.nativeEvent)){u.preventDefault();const b=i[y];if(b){const w=b[x];LP("HotKey ".concat(x," to toggle ").concat(w)),c.pteToggleMark(w)}}}if(y==="custom")for(const x in i[y]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(yi(x,u.nativeEvent)){const b=i[y];if(b){const w=b[x];w(u,n)}}}});const d=yi("enter",u.nativeEvent),f=yi("tab",u.nativeEvent),p=yi("shift+enter",u.nativeEvent),m=yi("shift+tab",u.nativeEvent),v=yi("backspace",u.nativeEvent),g=yi("delete",u.nativeEvent);if(v&&c.selection&&c.selection.focus.path[0]>0&&de.isCollapsed(c.selection)){const y=te.previous(c.selection.focus.path.slice(0,1)),x=Ee.descendant(c,y),b=Ee.descendant(c,c.selection.focus.path.slice(0,1));if(x&&b&&F.isVoid(c,x)&&c.selection.focus.offset===0){LP("Preventing deleting void block above"),u.preventDefault(),u.stopPropagation(),ae.removeNodes(c,{match:w=>w===b}),ae.select(c,y),c.onChange();return}}if(g&&c.selection&&c.selection.focus.offset===0&&de.isCollapsed(c.selection)&&c.children[c.selection.focus.path[0]+1]){const y=Ee.descendant(c,te.next(c.selection.focus.path.slice(0,1))),x=c.selection.focus.path.slice(0,1),b=Ee.descendant(c,x);if(y&&b&&!F.isVoid(c,b)&&F.isVoid(c,y)){LP("Preventing deleting void block below"),u.preventDefault(),u.stopPropagation(),ae.removeNodes(c,{match:w=>w===b}),ae.select(c,x),c.onChange();return}}if((f||m)&&c.selection){const[y]=F.node(c,c.selection.focus,{depth:2}),[x]=Ks(y)?F.node(c,c.selection.focus,{depth:1}):[],b=y&&Vf(x)&&Ks(y)&&(y.marks||[]).filter(_=>(x.markDefs||[]).map(S=>S._key).includes(_)).length>0,[w]=de.edges(c.selection),C=F.isStart(c,w,w.path);y&&Ks(y)&&(!b||C)&&c.pteIncrementBlockLevels(m)&&u.preventDefault()}if(d&&!p&&c.selection){const y=c.selection.focus.path.slice(0,1),x=Ee.descendant(c,y);if(c.isListBlock(x)){c.pteEndList()&&u.preventDefault();return}if(c.isTextBlock(x)&&x.style&&x.style!==e.styles[0].value){const[,b]=de.edges(c.selection);if(F.isEnd(c,b,b.path)){F.insertNode(c,s()),u.preventDefault(),c.onChange();return}}if(x&&F.isVoid(c,x)){F.insertNode(c,s()),u.preventDefault(),c.onChange();return}u.preventDefault(),c.insertBreak(),c.onChange()}if(p){u.preventDefault(),c.insertText(`
`);return}if(yi("mod+z",u.nativeEvent)){u.preventDefault(),c.undo();return}(yi("mod+y",u.nativeEvent)||yi("mod+shift+z",u.nativeEvent))&&(u.preventDefault(),c.redo())},c}}function Mk(e,t,n){let r=null,o=!0;const i=[t.span.name,...t.inlineObjects.map(a=>a.name)],s=[t.block.name,...t.blockObjects.map(a=>a.name)];return e===void 0?{valid:!0,resolution:null,value:e}:!Array.isArray(e)||e.length===0?{valid:!1,resolution:{patches:[Us([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e},value:e}:(e.some((a,c)=>{if(!Gx(a))return r={patches:[Us([c])],description:"Block must be an object, got ".concat(String(a)),action:"Unset invalid item",item:a},!0;if(!a._key)return r={patches:[fl({...a,_key:n()},[c])],description:"Block at index ".concat(c," is missing required _key."),action:"Set the block with a random _key value",item:a},!0;if(!a._type||!s.includes(a._type)){if(a._type==="block"){const u=t.block.name;return r={patches:[fl({...a,_type:u},[{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid type name '").concat(a._type,"'. According to the schema, the block type name is '").concat(u,"'"),action:"Use type '".concat(u,"'"),item:a},!0}return r={patches:[Us([{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid _type '").concat(a._type,"'"),action:"Remove the block",item:a},!0}if(a._type===t.block.name){const u=a;if(!u.children)return r={patches:[Us([{_key:u._key}])],description:"Text block with _key '".concat(u._key,"' is missing required key 'children'."),action:"Remove the block",item:u},!0;if(!a.markDefs)return r={patches:[fl({...u,markDefs:[]},[{_key:u._key}])],description:"Block is missing required key 'markDefs'.",action:"Add empty markDefs array",item:u},!0;const p=ho(Dn(u.children.filter(m=>m._type===t.span.name).map(m=>m.marks||[]))).filter(m=>!t.decorators.map(v=>v.value).includes(m)).filter(m=>u.markDefs?!u.markDefs.find(v=>v._key===m):!1);if(p.length>0){const m=u.children.filter(v=>v._type===t.span.name&&Array.isArray(v.marks)&&v.marks.some(g=>p.includes(g)));if(m)return r={patches:m.map(v=>fl((v.marks||[]).filter(g=>!p.includes(g)),[{_key:a._key},"children",{_key:v._key},"marks"])),description:"Block with _key '".concat(a._key,"' contains marks (").concat(p.join(", "),") not supported by the current content model."),action:"Remove invalid marks",item:a},!0}if(u.children&&u.children.length===0){const m={_type:t.span.name,_key:n(),text:""};return r={patches:[lu([m],"after",[{_key:a._key},"children",0])],description:"Children for text block with _key '".concat(a._key,"' is empty."),action:"Insert an empty text",item:a},!0}u.children.some((m,v)=>{if(!m._key){const g={...m,_key:n()};return r={patches:[fl(g,[{_key:a._key},"children",v])],description:"Child at index ".concat(v," is missing required _key in block with _key ").concat(a._key,"."),action:"Set a new random _key on the object",item:a},!0}return!m._type||i.includes(m._type)===!1?(r={patches:[Us([{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' has invalid '_type' property (").concat(m._type,")."),action:"Remove the object",item:a},!0):m._type===t.span.name&&m.text===void 0?(r={patches:[fl({...m,text:""},[{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' is missing text property!"),action:"Write an empty .text to the object",item:a},!0):!1})&&(o=!1)}return!1})&&(o=!1),{valid:o,resolution:r,value:e})}const ou=Wr("plugin:withInsertData");function sLt(e,t,n){return function(o){const i=t.block.name,s=t.span.name,a=c=>c.map(u=>{var d;return o.isTextBlock(u)?u.children.map(f=>{var p;return f._type===s?f.text:"[".concat(((p=t.inlineObjects.find(m=>m.name===f._type))==null?void 0:p.title)||"Object","]")}).join(""):"[".concat(((d=t.blockObjects.find(f=>f.name===u._type))==null?void 0:d.title)||"Object","]")}).join(`

`);return o.setFragmentData=(c,u)=>{const{selection:d}=o;if(!d)return;const[f,p]=de.edges(d),m=F.void(o,{at:f.path}),v=F.void(o,{at:p.path});if(de.isCollapsed(d)&&!m)return;const g=me.toDOMRange(o,d);let y=g.cloneContents();if(v){const[E]=v,j=g.cloneRange(),k=me.toDOMNode(o,E);j.setEndAfter(k),y=j.cloneContents()}Array.from(y.querySelectorAll("[data-slate-zero-width]")).forEach(E=>{const j=E.getAttribute("data-slate-zero-width")==="n";E.textContent=j?`
`:""}),Array.from(y.querySelectorAll("*")).forEach(E=>{E.removeAttribute("contentEditable"),E.removeAttribute("data-slate-inline"),E.removeAttribute("data-slate-leaf"),E.removeAttribute("data-slate-node"),E.removeAttribute("data-slate-spacer"),E.removeAttribute("data-slate-string"),E.removeAttribute("data-slate-zero-width"),E.removeAttribute("draggable");for(const j in E.attributes)E.hasAttribute(j)&&E.removeAttribute(j)});const x=y.ownerDocument.createElement("div");x.appendChild(y),x.setAttribute("hidden","true"),y.ownerDocument.body.appendChild(x);const b=x.innerHTML;y.ownerDocument.body.removeChild(x);const w=o.getFragment(),C=xr(w,i),_=JSON.stringify(C),S=a(C);c.clearData(),c.setData("text/plain",S),c.setData("text/html",b),c.setData("application/json",_),c.setData("application/x-portable-text",_),ou("text",S),c.setData("application/x-portable-text-event-origin",u||"external"),ou("Set fragment data",_,b)},o.insertPortableTextData=c=>{var u;if(!o.selection)return!1;const d=c.getData("application/x-portable-text"),f=c.getData("application/x-portable-text-event-origin");if(ou("Inserting portable text from ".concat(f," event"),d),d){const p=JSON.parse(d);if(Array.isArray(p)&&p.length>0){const m=cLt(o,Sc(p,{schemaTypes:t}),n,s),v=Mk(p,t,n);if(!v.valid){const g="".concat((u=v.resolution)==null?void 0:u.description);return e.next({type:"error",level:"warning",name:"pasteError",description:g,data:v}),ou("Invalid insert result",v),!1}return uQ(o,m,t),!0}}return!1},o.insertTextOrHTMLData=c=>{var u;if(!o.selection)return ou("No selection, not inserting"),!1;e.next({type:"loading",isLoading:!0});const d=c.getData("text/html"),f=c.getData("text/plain");if(d||f){ou("Inserting data",c);let p,m,v;if(d)p=VX(d,t.portableText).map(y=>fx(y,{blockTypeName:i})),m=Sc(p,{schemaTypes:t}),v="HTML";else{const y=lLt(f).split(/\n{2,}/).map(b=>b?"<p>".concat(b.replace(/(?:\r\n|\r|\n)/g,"<br/>"),"</p>"):"<p></p>").join(""),x="<html><body>".concat(y,"</body></html>");p=VX(x,t.portableText).map(b=>fx(b,{blockTypeName:i})),m=Sc(p,{schemaTypes:t}),v="text"}const g=Mk(p,t,n);if(!g.valid){const y=`Could not validate the resulting portable text to insert.
`.concat((u=g.resolution)==null?void 0:u.description,`
Try to insert as plain text (shift-paste) instead.`);return e.next({type:"error",level:"warning",name:"pasteError",description:y,data:g}),ou("Invalid insert result",g),!1}return ou("Inserting ".concat(v," fragment at ").concat(JSON.stringify(o.selection))),uQ(o,m,t),e.next({type:"loading",isLoading:!1}),!0}return e.next({type:"loading",isLoading:!1}),!1},o.insertData=c=>{o.insertPortableTextData(c)||o.insertTextOrHTMLData(c)},o.insertFragmentData=c=>{const u=c.getData("application/x-portable-text");if(u){const d=JSON.parse(u);return o.insertFragment(d),!0}return!1},o}}const aLt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function lLt(e){return String(e).replace(/[&<>"'`=/]/g,t=>aLt[t])}function cLt(e,t,n,r){return t.map(o=>{const i={...o};e.isTextBlock(i)&&(i.markDefs=(i.markDefs||[]).map(a=>{const c=a._key,u=n();return i.children=i.children.map(d=>d._type===r&&e.isTextSpan(d)?{...d,marks:d.marks&&d.marks.includes(c)?[...d.marks].filter(f=>f!==c).concat(u):d.marks}:d),{...a,_key:u}}));const s={...i,_key:n()};return e.isTextBlock(s)&&(s.children=s.children.map(a=>({...a,_key:n()}))),s})}function uQ(e,t,n){if(!e.selection)return;const[r,o]=F.node(e,e.selection,{depth:1});if(e.isTextBlock(r)&&e.isTextBlock(t[0])){const{markDefs:s}=r;ou("Mixing markDefs of focusBlock and fragments[0] block",s,t[0].markDefs),Ht(s,t[0].markDefs)||ae.setNodes(e,{markDefs:ho([...t[0].markDefs||[],...s||[]])},{at:o,mode:"lowest",voids:!1})}Ok(e.children,n)?(ae.splitNodes(e,{at:[0,0]}),e.insertFragment(t),ae.removeNodes(e,{at:[0]})):e.insertFragment(t),e.onChange()}const dQ=new WeakMap,fQ=(e,t)=>{const n=e,{keyGenerator:r,portableTextEditor:o,patches$:i,readOnly:s,maxBlocks:a}=t,{schemaTypes:c,change$:u}=o;n.subscriptions=[],n.destroy?n.destroy():dQ.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const d=vFt(c),f=xFt(c,r),p=nLt({schemaTypes:c,keyGenerator:r}),m=yFt(o,c,r),v=qFt({change$:u,keyGenerator:r,patches$:i,patchFunctions:d,readOnly:s,schemaTypes:c}),g=bFt(a||-1),y=XFt(c),x=zFt({readOnly:s,patches$:i,blockSchemaType:c.block}),b=QFt(c,u),w=ZFt(c),C=KFt({keyGenerator:r,schemaTypes:c}),_=rLt(),S=eLt(u,c);return n.destroy=()=>{const E=dQ.get(n);if(!E)throw new Error("Could not find pristine versions of editor functions");n.apply=E.apply,n.history={undos:[],redos:[]},n.normalizeNode=E.normalizeNode,n.onChange=E.onChange},s?{editor:p(f(b(w(_(C(y(S(m(n))))))))),subscribe:()=>BSe}:{editor:p(f(b(w(y(C(_(g(x(v(S(m(n)))))))))))),subscribe:()=>{const E=[];return e.subscriptions.forEach(j=>{E.push(j())}),()=>{E.forEach(j=>{j()})}}}},BP=Wr("component:PortableTextEditor:SlateContainer");function uLt(e){const{patches$:t,portableTextEditor:n,readOnly:r,maxBlocks:o,keyGenerator:i}=e,[s,a]=h.useMemo(()=>{BP("Creating new Slate editor instance");const{editor:u,subscribe:d}=fQ(CMt(KRt()),{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r});return Ca.set(u,{}),lM.set(u,{}),[u,d]},[]);h.useEffect(()=>{const u=a();return()=>{u()}},[a]),h.useEffect(()=>{BP("Re-initializing plugin chain"),fQ(s,{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r})},[i,n,o,r,t,s]);const c=h.useMemo(()=>[s.createPlaceholderBlock()],[s]);return h.useEffect(()=>()=>{BP("Destroying Slate editor"),s.destroy()},[s]),l.jsx(xMt,{editor:s,initialValue:c,children:e.children})}const rje=h.createContext(null),B0=()=>{const e=h.useContext(rje);if(e===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return e},oje=h.createContext(null),vo=()=>{const e=h.useContext(oje);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e},dLt=h.createContext(void 0),ije=h.createContext(!1),fLt=()=>{const e=h.useContext(ije);if(e===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return e},oo=Wr("hook:useSyncValue"),hQ=new WeakMap;function hLt(e){const{portableTextEditor:t,readOnly:n,keyGenerator:r}=e,{change$:o,schemaTypes:i}=t,s=h.useRef(),a=NT(),c=h.useRef(),u=h.useCallback(()=>{const f=hQ.get(t);if(s.current===f){oo("Value is the same object as previous, not need to sync");return}c.current&&f&&(oo("Updating the value debounced"),c.current(f))},[t]),d=h.useCallback(Kx(u,1e3,{trailing:!0,leading:!1}),[u]);return h.useMemo(()=>{const f=p=>{hQ.set(t,p);const m=LFt(a),v=eje(a);if(!n){if(m){oo("Has local changes, not syncing value right now"),d();return}if(v){oo("Has remote changes, not syncing value right now"),d();return}}let g=!1,y=!0;const x=!!a.selection;if((!p||p.length===0)&&(oo("Value is empty"),F.withoutNormalizing(a,()=>{px(a,()=>{dM(a,()=>{x&&ae.deselect(a);const b=a.children.length;a.children.forEach((w,C)=>{ae.removeNodes(a,{at:[b-1-C]})}),ae.insertNodes(a,a.createPlaceholderBlock(),{at:[0]}),x&&ae.select(a,[0,0])})})}),g=!0),p&&p.length>0){const b=Sc(p,{schemaTypes:i});F.withoutNormalizing(a,()=>{J5e(a,()=>{px(a,()=>{dM(a,()=>{const w=a.children.length;if(b.length<w){for(let C=w-1;C>b.length-1;C--)ae.removeNodes(a,{at:[C]});g=!0}b.forEach((C,_)=>{const S=a.children[_];if(S&&!Ht(C,S)&&y){const j=[p[_]],k=Mk(j,i,r);k.valid?(S._key===C._key?(oo.enabled&&oo("Updating block",S,C),mLt(a,C,S,_)):(oo.enabled&&oo("Replacing block",S,C),pLt(a,C,_)),g=!0):(o.next({type:"invalidValue",resolution:k.resolution,value:p}),y=!1)}if(!S&&y){const j=[p[_]],k=Mk(j,i,r);oo.enabled&&oo("Validating and inserting new block in the end of the value",C),k.valid?hx(a,()=>{ae.insertNodes(a,C,{at:[_]})}):(oo("Invalid",k),o.next({type:"invalidValue",resolution:k.resolution,value:p}),y=!1)}})})})})})}if(!y){oo("Invalid value, returning");return}if(g){oo("Server value changed, syncing editor");try{a.onChange()}catch(b){console.error(b),o.next({type:"invalidValue",resolution:null,value:p});return}x&&!a.selection&&(ae.select(a,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),a.onChange()),o.next({type:"value",value:p})}else oo("Server value and editor value is equal, no need to sync.");s.current=p};return c.current=f,f},[o,r,t,n,i,a,d])}function pLt(e,t,n){const r=e.selection,o=r&&r.focus.path[0]===n;o&&ae.deselect(e),ae.removeNodes(e,{at:[n]}),hx(e,()=>{ae.insertNodes(e,t,{at:[n]})}),o&&ae.select(e,r)}function mLt(e,t,n,r){if(ae.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const o=n.children.length;t.children.length<o&&Array.from(Array(o-t.children.length)).forEach((i,s)=>{const a=o-1-s;a>0&&(oo("Removing child"),ae.removeNodes(e,{at:[r,a]}))}),t.children.forEach((i,s)=>{const a=n.children[s],c=!Ht(i,a),u=!Ht(i.text,a==null?void 0:a.text),d=[r,s];if(c)if(i._key===(a==null?void 0:a._key)){oo("Updating changed child",i,a),ae.setNodes(e,i,{at:d});const f=_e.isText(i)&&i._type==="span"&&_e.isText(a)&&a._type==="span";f&&u?(ae.delete(e,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:a.text.length}}}),ae.insertText(e,i.text,{at:d}),e.onChange()):f||(oo("Updating changed inline object child",i),ae.setNodes(e,{_key:q5e},{at:[...d,0],voids:!0}))}else a?(oo("Replacing child",i),ae.removeNodes(e,{at:[r,s]}),hx(e,()=>{ae.insertNodes(e,i,{at:[r,s]})}),e.onChange()):a||(oo("Inserting new child",i),hx(e,()=>{ae.insertNodes(e,i,{at:[r,s]}),e.onChange()}))})}}const iu=Wr("component:PortableTextEditor:Synchronizer"),pQ=iu.enabled&&!1,gLt=1e3;function vLt(e){const{change$:t,portableTextEditor:n,onChange:r,keyGenerator:o,readOnly:i,value:s}=e,[a,c]=h.useState(null),u=h.useRef([]),d=hLt({keyGenerator:o,onChange:r,portableTextEditor:n,readOnly:i}),f=NT();h.useEffect(()=>{sS.set(f,!1)},[f]);const p=h.useCallback(()=>{if(u.current.length>0){iu("Flushing pending patches"),pQ&&iu(`Patches:
`.concat(JSON.stringify(u.current,null,2)));const x=Se.getValue(n);t.next({type:"mutation",patches:u.current,snapshot:x}),u.current=[]}sS.set(f,!1)},[f,n,t]),m=h.useMemo(()=>eT(()=>{if(F.isNormalizing(f)){p();return}m()},gLt,{leading:!1,trailing:!0}),[p,f]);h.useEffect(()=>()=>{p()},[p]),h.useEffect(()=>{iu("Subscribing to editor changes$");const x=t.subscribe(b=>{switch(b.type){case"patch":sS.set(f,!0),u.current.push(b.patch),m(),r(b);break;case"selection":h.startTransition(()=>{pQ&&iu("Setting selection"),c(b.selection)}),r(b);break;default:r(b)}});return()=>{iu("Unsubscribing to changes$"),x.unsubscribe()}},[t,r,m,f]);const v=h.useCallback(()=>{iu("Editor is online, syncing from props.value"),t.next({type:"connection",value:"online"}),d(s)},[t,d,s]),g=h.useCallback(()=>{iu("Editor is offline"),t.next({type:"connection",value:"offline"})},[t]);h.useEffect(()=>(n.props.patches$&&(window.addEventListener("online",v),window.addEventListener("offline",g)),()=>{n.props.patches$&&(window.removeEventListener("online",v),window.removeEventListener("offline",g))}));const y=h.useRef(!0);return h.useEffect(()=>{iu("Value from props changed, syncing new value"),d(s),y.current&&(t.next({type:"loading",isLoading:!1}),t.next({type:"ready"}),y.current=!1)},[t,d,s]),l.jsx(B5e.Provider,{value:o,children:l.jsx(oje.Provider,{value:n,children:l.jsx(dLt.Provider,{value:s,children:l.jsx(ije.Provider,{value:i,children:l.jsx(rje.Provider,{value:a,children:e.children})})})})})}const N0=Wr("component:PortableTextEditor");class Se extends ie.Component{constructor(t){if(super(t),this.change$=new _r,this.setEditable=n=>{this.editable={...this.editable,...n}},!t.schemaType)throw new Error('PortableTextEditor: missing "type" property');t.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=UX(t.schemaType.hasOwnProperty("jsonType")?t.schemaType:HX(t.schemaType))}componentDidUpdate(t){this.props.schemaType!==t.schemaType&&(this.schemaTypes=UX(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:HX(this.props.schemaType)))}render(){const{onChange:t,value:n,children:r,patches$:o,incomingPatches$:i}=this.props,{change$:s}=this,a=i||o,c=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,u=!!this.props.readOnly,d=this.props.keyGenerator||Ak;return l.jsx(uLt,{keyGenerator:d,maxBlocks:c,patches$:a,portableTextEditor:this,readOnly:u,children:l.jsx(vLt,{change$:s,keyGenerator:d,onChange:t,portableTextEditor:this,readOnly:u,value:n,children:r})})}}Se.activeAnnotations=e=>e&&e.editable?e.editable.activeAnnotations():[];Se.addAnnotation=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.addAnnotation(t,n)};Se.blur=e=>{var t;N0("Host blurred"),(t=e.editable)==null||t.blur()};Se.delete=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.delete(t,n)};Se.findDOMNode=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.findDOMNode(t)};Se.findByPath=(e,t)=>{var n;return((n=e.editable)==null?void 0:n.findByPath(t))||[]};Se.focus=e=>{var t;N0("Host requesting focus"),(t=e.editable)==null||t.focus()};Se.focusBlock=e=>{var t;return(t=e.editable)==null?void 0:t.focusBlock()};Se.focusChild=e=>{var t;return(t=e.editable)==null?void 0:t.focusChild()};Se.getSelection=e=>e.editable?e.editable.getSelection():null;Se.getValue=e=>{var t;return(t=e.editable)==null?void 0:t.getValue()};Se.hasBlockStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasBlockStyle(t)};Se.hasListStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasListStyle(t)};Se.isCollapsedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isCollapsedSelection()};Se.isExpandedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isExpandedSelection()};Se.isMarkActive=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isMarkActive(t)};Se.insertChild=(e,t,n)=>{var r;return N0("Host inserting child"),(r=e.editable)==null?void 0:r.insertChild(t,n)};Se.insertBlock=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.insertBlock(t,n)};Se.insertBreak=e=>{var t;return(t=e.editable)==null?void 0:t.insertBreak()};Se.isVoid=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isVoid(t)};Se.isObjectPath=(e,t)=>{if(!t||!Array.isArray(t))return!1;const n=t.length>3&&t[1]==="children";return t.length>1&&t[1]!=="children"||n};Se.marks=e=>{var t;return(t=e.editable)==null?void 0:t.marks()};Se.select=(e,t)=>{var n;N0("Host setting selection",t),(n=e.editable)==null||n.select(t)};Se.removeAnnotation=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.removeAnnotation(t)};Se.toggleBlockStyle=(e,t)=>{var n;return N0("Host is toggling block style"),(n=e.editable)==null?void 0:n.toggleBlockStyle(t)};Se.toggleList=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.toggleList(t)};Se.toggleMark=(e,t)=>{var n;N0("Host toggling mark",t),(n=e.editable)==null||n.toggleMark(t)};function mQ(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const o=typeof e.path[0]=="object"&&"_key"in e.path[0]&&e.path[0]._key,i=typeof e.path[2]=="object"&&"_key"in e.path[2]&&e.path[2]._key,s=t.find(a=>a._key===o);if(s)n.push({_key:s._key});else return null;if(s&&e.path[1]==="children"){if(!s.children||Array.isArray(s.children)&&s.children.length===0)return null;const a=Array.isArray(s.children)&&s.children.find(c=>c._key===i);if(a)n.push("children"),n.push({_key:a._key}),r=a.text&&a.text.length>=e.offset?e.offset:a.text&&a.text.length||0;else return null}return{path:n,offset:r}}function yLt(e,t){if(!e||!t||t.length===0)return null;let n=null,r=null;const{anchor:o,focus:i}=e;return o&&t.find(s=>Ht({_key:s._key},o.path[0]))&&(n=mQ(o,t)),i&&t.find(s=>Ht({_key:s._key},i.path[0]))&&(r=mQ(i,t)),n&&r?{anchor:n,focus:r}:null}function bLt(e){const t=h.useCallback(()=>alert(JSON.stringify(e.annotation)),[e.annotation]);return l.jsx("span",{style:{color:"blue"},onClick:t,children:e.children})}const xLt=Wr("components:Leaf"),gQ=[],wLt=e=>{const{attributes:t,children:n,leaf:r,schemaTypes:o,renderChild:i,renderDecorator:s,renderAnnotation:a}=e,c=ie.useRef(null),u=vo(),d=b5e(),[f,p]=h.useState(!1),[m,v]=h.useState(!1),g=n.props.parent,y=h.useMemo(()=>g?[{_key:g==null?void 0:g._key},"children",{_key:r._key}]:[],[g,r._key]),x=h.useMemo(()=>o.decorators.map(j=>j.value),[o.decorators]),b=h.useMemo(()=>ho((r.marks||gQ).filter(j=>x.includes(j))),[x,r.marks]),w=Array.isArray(r.marks)?r.marks:gQ,C=h.useMemo(()=>w.map(j=>{var k;return!x.includes(j)&&((k=g==null?void 0:g.markDefs)==null?void 0:k.find(T=>T._key===j))}).filter(Boolean),[w,g,x]),_=C.length>0&&d;h.useEffect(()=>{if(!_){p(!1);return}const j=Se.getSelection(u);j&&Ht(j.focus.path,y)&&Se.isCollapsedSelection(u)&&h.startTransition(()=>{p(!0)})},[_,y,u]);const S=h.useCallback(()=>{if(!_)return;xLt("Setting selection and focus from range");const j=window.getSelection();if(!j){v(!1);return}if(j&&j.rangeCount>0){const k=j.getRangeAt(0);c.current&&k.intersectsNode(c.current)?v(!0):v(!1)}else v(!1)},[_]);h.useEffect(()=>{if(!_)return;const j=u.change$.subscribe(k=>{if(k.type==="blur"){p(!1),v(!1);return}if(k.type==="focus"){const T=Se.getSelection(u);T&&Ht(T.focus.path,y)&&Se.isCollapsedSelection(u)&&p(!0),S();return}k.type==="selection"&&(k.selection&&Ht(k.selection.focus.path,y)&&Se.isCollapsedSelection(u)?p(!0):p(!1),S())});return()=>{j.unsubscribe()}},[y,u,S,_]),h.useEffect(()=>S(),[S]);const E=h.useMemo(()=>{let j=n;if(_e.isText(r)&&r._type===o.span.name&&(b.forEach(k=>{const T=o.decorators.find(A=>A.value===k);if(T&&s){const A=Object.defineProperty({children:j,editorElementRef:c,focused:f,path:y,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=s(A)}}),g&&C.length>0&&C.forEach(k=>{const T=o.annotations.find(A=>A.name===k._type);if(T)if(a){const A=Object.defineProperty({block:g,children:j,editorElementRef:c,focused:f,path:y,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=l.jsx("span",{ref:c,children:a(A)})}else j=l.jsx(bLt,{annotation:k,children:l.jsx("span",{ref:c,children:j})})}),g&&i)){const k=g.children.find(T=>T._key===r._key);if(k){const T=l.jsx(l.Fragment,{children:j}),A=Object.defineProperty({annotations:C,children:T,editorElementRef:c,focused:f,path:y,schemaType:o.span,selected:m,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.span}});j=i(A)}}return j},[C,g,n,f,r,b,y,a,i,s,o.annotations,o.decorators,o.span,m]);return h.useMemo(()=>l.jsx("span",{...t,ref:c,children:E},r._key),[r,t,E])},E_=e=>l.jsx("div",{children:l.jsx("pre",{children:JSON.stringify(e.value,null,2)})});var vQ=Object.freeze,CLt=Object.defineProperty,WT=(e,t)=>vQ(CLt(e,"raw",{value:vQ(t||e.slice())})),yQ,bQ,xQ,wQ;const _Lt=O.div(yQ||(yQ=WT([`
  user-select: none;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");O.span(bQ||(bQ=WT([`
  background: #999;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");const SLt=O.div(xQ||(xQ=WT([`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: `,`;
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '`,`';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: `,`;
    counter-reset: `,`;
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: `,`;
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`])),e=>kLt(e.listLevel),e=>TLt(e.listLevel,e.listStyle),e=>ALt(e.listLevel),e=>DLt(e.listLevel),e=>ILt(e.listLevel)),ELt=O.div(wQ||(wQ=WT([""])));function kLt(e){switch(Number(e)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const jLt=["●","○","■"];function TLt(e,t){const n=(e-1)%3;return t==="bullet"?jLt[n]:"*"}function ALt(e){switch(e){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function DLt(e){switch(e){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function ILt(e){switch(e){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const Ql=Wr("components:DraggableBlock"),CQ=e=>{let{children:t,element:n,readOnly:r,blockRef:o}=e;const i=Vc(),s=h.useRef(),[a,c]=h.useState(!1),u=h.useMemo(()=>F.isVoid(i,n),[i,n]),d=h.useMemo(()=>F.isInline(i,n),[i,n]),[f,p]=h.useState(null);h.useEffect(()=>p(o?o.current:me.toDOMNode(i,n)),[i,n,o]);const m=h.useCallback(k=>{const T=B1.get(i);if(!T||!f)return;k.preventDefault(),k.dataTransfer.dropEffect="move",N1.set(i,n);const A=f.getBoundingClientRect(),D=A.top,I=A.height,P=k.pageY,$=Math.abs(D-P);let R="bottom";if(n===i.children[0]?R="top":$<I/2?(R="top",z1.set(i,R)):(R="bottom",z1.set(i,R)),T===n){k.dataTransfer.dropEffect="none";return}c(!0)},[f,i,n]),v=h.useCallback(()=>{c(!1)},[]),g=h.useCallback(k=>{const T=N1.get(i);if(T){b_.set(i,!1),k.preventDefault(),k.stopPropagation(),N1.delete(i),s.current&&(Ql("Removing drag ghost"),document.body.removeChild(s.current));const A=z1.get(i);z1.delete(i);let D=me.findPath(i,T);const I=me.findPath(i,n),P=te.isBefore(I,D);if(A==="bottom"&&!P){if(D[0]>=i.children.length-1){Ql("target is already at the bottom, not moving");return}const $=D;D=te.next(D),Ql("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(D)))}if(A==="top"&&P&&D[0]!==i.children.length-1){const $=D;D=te.previous(D),Ql("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(D)))}if(te.equals(D,I)){k.preventDefault(),Ql("targetPath and myPath is the same, not moving");return}Ql("Moving element ".concat(n._key," from path ").concat(JSON.stringify(I)," to ").concat(JSON.stringify(D)," (").concat(A,")")),ae.moveNodes(i,{at:I,to:D}),i.onChange();return}Ql("No target element, not doing anything")},[i,n]),y=h.useCallback(k=>{B1.get(i)&&(Ql("On drop (prevented)",n),k.preventDefault(),k.stopPropagation(),c(!1))},[i,n]),x=h.useCallback(k=>{if(!u){B1.delete(i);return}b_.set(i,!0),B1.set(i,n),k.stopPropagation();const T=k.target;T instanceof HTMLElement&&(T.style.opacity="1")},[i,n,u]),b=h.useCallback(k=>{if(!u||d){Ql("Not dragging block"),B1.delete(i),b_.set(i,!1);return}if(Ql("Drag start"),b_.set(i,!0),k.dataTransfer&&(k.dataTransfer.setData("application/portable-text","something"),k.dataTransfer.effectAllowed="move"),f&&f instanceof HTMLElement){let T=f.cloneNode(!0);const A=T.querySelector("[data-pt-drag-ghost-element]");if(A&&(T=A),T.setAttribute("data-dragged",""),document.body){s.current=T,T.style.position="absolute",T.style.left="-99999px",T.style.boxSizing="border-box",document.body.appendChild(T);const D=f.getBoundingClientRect(),I=k.clientX-D.left,P=k.clientY-D.top;T.style.width="".concat(D.width,"px"),T.style.height="".concat(D.height,"px"),k.dataTransfer.setDragImage(T,I,P)}}x(k)},[f,i,x,d,u]),w=a&&i.children[0]===N1.get(i),C=a&&i.children[i.children.length-1]===N1.get(i),_=z1.get(i),S=w||a&&!w&&!C&&_==="top",E=C||a&&!w&&!C&&_==="bottom",j=h.useMemo(()=>l.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return r?l.jsx(l.Fragment,{children:t}):l.jsxs("div",{draggable:u,onDragStart:b,onDrag:x,onDragOver:m,onDragLeave:v,onDragEnd:g,onDrop:y,children:[S&&j,t,E&&j]})};Wr("components:Element");const PLt=[],OLt={display:"inline-block"},RLt=e=>{let{attributes:t,children:n,element:r,schemaTypes:o,readOnly:i,renderBlock:s,renderChild:a,renderListItem:c,renderStyle:u,spellCheck:d}=e;const f=Vc(),p=b5e(),m=h.useRef(null),v=h.useRef(null),g=p&&f.selection&&de.isCollapsed(f.selection)||!1,y=h.useMemo(()=>xr([r],o.block.name,Ca.get(f))[0],[f,r,o.block.name]);let x=n,b;const w=h.useMemo(()=>[{_key:r._key}],[r]);if(typeof r._type!="string")throw new Error("Expected element to have a _type property");if(typeof r._key!="string")throw new Error("Expected element to have a _key property");if(f.isInline(r)){const E=me.findPath(f,r),[j]=F.node(f,E,{depth:1}),k=o.inlineObjects.find(T=>T.name===r._type);if(!k)throw new Error("Could not find type for inline block element");if(Re.isElement(j)){const T=[{_key:j._key},"children",{_key:r._key}];return l.jsxs("span",{...t,children:[n,l.jsxs("span",{draggable:!i,className:"pt-inline-object",ref:v,style:OLt,contentEditable:!1,children:[a&&a({annotations:PLt,children:l.jsx(E_,{value:y}),editorElementRef:v,focused:g,path:T,schemaType:k,selected:p,type:k,value:y}),!a&&l.jsx(E_,{value:y})]},r._key)]})}throw new Error("Block not found!")}if(r._type===o.block.name){b="pt-block pt-text-block";const E="listItem"in r,j="style"in r&&r.style||"normal";b="pt-block pt-text-block pt-text-block-style-".concat(j);const k=o.styles.find(I=>I.value===j);u&&k&&(x=u({block:r,children:n,focused:g,selected:p,value:j,path:w,schemaType:k,editorElementRef:m}));let T;if(E&&(typeof r.level=="number"&&(T=r.level),b+=" pt-list-item pt-list-item-".concat(r.listItem," pt-list-item-level-").concat(T||1)),f.isListBlock(y)&&E&&r.listItem){const I=o.lists.find(P=>P.value===r.listItem);c&&I?x=c({block:y,children:x,focused:g,selected:p,value:r.listItem,path:w,schemaType:I,level:y.level||1,editorElementRef:m}):x=l.jsx(SLt,{listStyle:y.listItem||o.lists[0].value,listLevel:y.level||1,children:l.jsx(ELt,{children:x})})}const A=Object.defineProperty({children:x,editorElementRef:m,focused:g,level:T,listItem:E?r.listItem:void 0,path:w,selected:p,style:j,schemaType:o.block,value:y},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.block}}),D=s?s(A):n;return l.jsx("div",{...t,className:b,spellCheck:d,children:l.jsx(CQ,{element:r,readOnly:i,blockRef:m,children:l.jsx("div",{ref:m,children:D})})},r._key)}const C=o.blockObjects.find(E=>E.name===r._type);if(!C)throw new Error("Could not find schema type for block element of _type ".concat(r._type));b="pt-block pt-object-block";const _=xr([r],o.block.name,Ca.get(f))[0];let S;if(s){const E=Object.defineProperty({children:l.jsx(E_,{value:y}),editorElementRef:m,focused:g,path:w,schemaType:C,selected:p,value:_},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),C}});S=s(E)}return l.jsxs("div",{...t,className:b,children:[n,l.jsxs(CQ,{element:r,readOnly:i,blockRef:m,children:[S&&l.jsx("div",{ref:m,contentEditable:!1,children:S}),!S&&l.jsx(_Lt,{selected:p,children:l.jsx(E_,{value:y})})]})]},r._key)},$Lt=typeof window>"u"?h.useEffect:h.useLayoutEffect;function MLt(e){const t=h.useRef(null);return $Lt(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}const il=Wr("component:Editable"),FLt={opacity:.5,position:"absolute",userSelect:"none",pointerEvents:"none",left:0,right:0},LLt=[],sje=h.forwardRef(function(t,n){const{hotkeys:r,onBlur:o,onFocus:i,onBeforeInput:s,onPaste:a,onCopy:c,renderAnnotation:u,renderBlock:d,renderChild:f,renderDecorator:p,renderListItem:m,renderPlaceholder:v,renderStyle:g,selection:y,scrollSelectionIntoView:x,spellCheck:b,...w}=t,C=vo(),_=fLt(),S=z4t(),E=MLt(n),[j,k]=h.useState(null),[T,A]=h.useState(!1),{change$:D,schemaTypes:I}=C,P=NT(),$=I.block.name,R=h.useMemo(()=>sLt(D,I,S),[D,S,I]),V=h.useMemo(()=>iLt(I,S,C,r),[r,S,C,I]);h.useMemo(()=>_?(il("Editable is in read only mode"),R(P)):(il("Editable is in edit mode"),R(V(P))),[_,P,V,R]);const N=h.useCallback(K=>l.jsx(RLt,{...K,readOnly:_,renderBlock:d,renderChild:f,renderListItem:m,renderStyle:g,schemaTypes:I,spellCheck:b}),[I,b,_,d,f,m,g]),W=h.useCallback(K=>{const J=l.jsx(wLt,{...K,schemaTypes:I,renderAnnotation:u,renderChild:f,renderDecorator:p,readOnly:_});return v&&K.leaf.placeholder&&K.text.text===""?l.jsxs(l.Fragment,{children:[l.jsx("span",{style:FLt,contentEditable:!1,children:v()}),J]}):J},[_,u,f,p,v,I]),G=h.useCallback(()=>{if(y){il("Selection from props ".concat(JSON.stringify(y)));const K=yLt(y,xr(P.children,$));if(K!==null){il("Normalized selection from props ".concat(JSON.stringify(K)));const J=aS(K,P);J&&(ae.select(P,J),P.operations.some(re=>re.type==="set_selection")||D.next({type:"selection",selection:K}),P.onChange())}}},[y,P,$,D]);h.useEffect(()=>{il("Subscribing to editor changes$");const K=D.subscribe(J=>{switch(J.type){case"ready":G();break;case"invalidValue":A(!0);break;case"value":A(!1);break}});return()=>{il("Unsubscribing to changes$"),K.unsubscribe()}},[D,G]),h.useEffect(()=>{y&&!T&&G()},[T,y,G]);const H=h.useCallback(K=>{c&&c(K)!==void 0&&K.preventDefault()},[c]),q=h.useCallback(K=>{if(K.preventDefault(),!!P.selection){if(!a){il("Pasting normally"),P.insertData(K.clipboardData);return}new Promise(J=>{const re=Se.getValue(C),fe=np(re,P.selection,I),le=(fe==null?void 0:fe.focus.path)||[];J(a({event:K,value:re,path:le,schemaTypes:I}))}).then(J=>{if(il("Custom paste function from client resolved",J),D.next({type:"loading",isLoading:!0}),!J||!J.insert){il("No result from custom paste handler, pasting normally"),P.insertData(K.clipboardData);return}if(J&&J.insert){P.insertFragment(Sc(J.insert,{schemaTypes:I})),D.next({type:"loading",isLoading:!1});return}console.warn("Your onPaste function returned something unexpected:",J)}).catch(J=>(D.next({type:"loading",isLoading:!1}),console.error(J),J))}},[D,a,C,I,P]),X=h.useCallback(K=>{if(i&&i(K),!K.isDefaultPrevented()){const J=Se.getSelection(C);J===null&&(ae.select(P,F.start(P,[])),P.onChange()),D.next({type:"focus",event:K});const re=Se.getSelection(C);J===re&&D.next({type:"selection",selection:J})}},[i,C,D,P]),B=h.useCallback(K=>{o&&o(K),K.isPropagationStopped()||D.next({type:"blur",event:K})},[D,o]),Y=h.useCallback(K=>{s&&s(K)},[s]),z=h.useCallback(()=>{if(!P.selection)return;const K=me.findDocumentOrShadowRoot(P),{activeElement:J}=K;if(E.current!==J)return;const fe=me.getWindow(P).getSelection();if(!fe)return;const le=fe.getRangeAt(0);try{const ge=me.toDOMRange(P,P.selection);(ge.startOffset!==le.startOffset||ge.endOffset!==le.endOffset)&&(il("DOM range out of sync, validating selection"),fe==null||fe.removeAllRanges(),fe.addRange(ge))}catch{il("Could not resolve selection, selecting top document"),ae.deselect(P),P.children.length>0&&ae.select(P,[0,0]),P.onChange()}},[E,P]);h.useEffect(()=>{if(j){const K=new MutationObserver(z);return K.observe(j,{attributeOldValue:!1,attributes:!1,characterData:!1,childList:!0,subtree:!0}),()=>{K.disconnect()}}},[z,j]);const Z=h.useCallback(K=>{t.onKeyDown&&t.onKeyDown(K),K.isDefaultPrevented()||P.pteWithHotKeys(K)},[t,P]),Q=h.useMemo(()=>{if(x!==void 0)return x===null?BSe:(K,J)=>{x(C,J)}},[C,x]),ne=h.useCallback(()=>Ok(P.children,I)?[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}]:LLt,[I,P]);return h.useEffect(()=>{E.current=me.toDOMNode(P,P),k(E.current)},[P,E]),C?T?null:l.jsx(dMt,{...w,autoFocus:!1,className:w.className||"pt-editable",decorate:ne,onBlur:B,onCopy:H,onDOMBeforeInput:Y,onFocus:X,onKeyDown:Z,onPaste:q,readOnly:_,renderPlaceholder:void 0,renderElement:N,renderLeaf:W,scrollSelectionIntoView:Q}):null});var BLt=k_e,NLt=D0,_Q=uT;function zLt(e,t,n){var r=e.length;if(r<2)return r?_Q(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var s=e[o],a=-1;++a<r;)a!=o&&(i[o]=BLt(i[o]||s,e[a],t,n));return _Q(NLt(i,1),t,n)}var VLt=zLt,HLt=NCe,ULt=P0,WLt=VLt,YLt=nT,qLt=ULt(function(e){return WLt(HLt(e,YLt))}),GLt=qLt;const KLt=Pe(GLt);function aje(e){return e.reduce((t,n,r)=>{if(Array.isArray(n))return"".concat(t,"[").concat(n.join(":"),"]");if(ZLt(n))return"".concat(t,'[_key=="').concat(n._key,'"]');if(typeof n=="number")return"".concat(t,"[").concat(n,"]");if(typeof n=="string"&&/^\d+$/.test(n))return"".concat(t,'["').concat(n,'"]');if(typeof n=="string"){const o=r===0?"":".";return"".concat(t).concat(o).concat(n)}throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function ZLt(e){return typeof e=="object"&&typeof e._key=="string"}class Cy extends Error{constructor(t,n,r){const o=aje(n);super("".concat(t," (at '").concat(o,"')")),this.path=n,this.serializedPath=o,this.value=r}}const XLt=/^[a-z0-9][a-z0-9_.-]+$/i,QLt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,JLt=/^[a-z_]/i;function SQ(e,t,n){if(!JLt.test(e))throw new Cy("Keys must start with a letter (a-z)",n.concat(e),t);if(!QLt.test(e))throw new Cy("Keys can only contain letters, numbers and underscores",n.concat(e),t);if(e==="_key"||e==="_ref"||e==="_type"){if(typeof t!="string")throw new Cy("Keys must be strings",n.concat(e),t);if(!XLt.test(t))throw new Cy("Invalid key - use less exotic characters",n.concat(e),t)}return e}const e6t=["_id","_type","_createdAt","_updatedAt","_rev"],fM={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function t6t(e){return{...fM,...e,diffMatchPatch:{...fM.diffMatchPatch,...e.diffMatchPatch||{}}}}function YT(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fM,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(e===t)return o;const i=Array.isArray(e)?"array":typeof e,s=Array.isArray(t)?"array":typeof t,a=i==="undefined",c=s==="undefined";if(a&&!c)return o.push({op:"set",path:r,value:t}),o;if(!a&&c)return o.push({op:"unset",path:r}),o;const u=t6t(n),d=a?s:i;return d==="object"||d==="array"?i!==s?(o.push({op:"set",path:r,value:t}),o):d==="array"?r6t(e,t,u,r,o):n6t(e,t,u,r,o):s6t(e,t,u,r,o)}function n6t(e,t,n,r,o){const i=r.length===0,s=Object.keys(e).filter(i?EQ:jQ).map(d=>SQ(d,e[d],r)),a=s.length,c=Object.keys(t).filter(i?EQ:jQ).map(d=>SQ(d,t[d],r)),u=c.length;for(let d=0;d<a;d++){const f=s[d];f in t||o.push({op:"unset",path:r.concat(f)})}for(let d=0;d<u;d++){const f=c[d];YT(e[f],t[f],n,r.concat([f]),o)}return o}function r6t(e,t,n,r,o){if(t.length>e.length&&o.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((c,u)=>i7(c,r,u,n))}),t.length<e.length){const c=e.length-t.length===1,u=e.slice(t.length);c6t(n)||!NP(u)?o.push({op:"unset",path:r.concat([c?t.length:[t.length,""]])}):o.push(...u.map(d=>({op:"unset",path:r.concat({_key:d._key})})))}for(let c=0;c<t.length;c++)if(Array.isArray(t[c]))throw new Cy("Multi-dimensional arrays not supported",r.concat(c),t[c]);const i=Math.min(e.length,t.length),s=e.slice(0,i),a=t.slice(0,i);return NP(s)&&NP(a)?o6t(s,a,n,r,o):lje(s,a,n,r,o)}function lje(e,t,n,r,o){for(let i=0;i<e.length;i++)YT(e[i],i7(t[i],r,i,n),n,r.concat(i),o);return o}function o6t(e,t,n,r,o){const i=kQ(e),s=kQ(t);if(!l6t(i.keys,s.keys))return lje(e,t,n,r,o);for(let a=0;a<s.keys.length;a++){const c=s.keys[a],u=i.index[c],d=i7(s.index[c],r,a,n);YT(u,d,n,r.concat({_key:c}),o)}return o}function i6t(e,t,n,r){const{enabled:o,lengthThresholdRelative:i,lengthThresholdAbsolute:s}=n.diffMatchPatch,a=r[r.length-1];if(!o||typeof e!="string"||typeof t!="string"||typeof a=="string"&&a[0]==="_"||t.length<s)return;let c="";try{const u=Pw(e,t),d=c9(u);c=GEe(YEe(d))}catch{return}return c.length>t.length*i?void 0:{op:"diffMatchPatch",path:r,value:c}}function s6t(e,t,n,r,o){const i=i6t(e,t,n,r);return o.push(i||{op:"set",path:r,value:t}),o}function EQ(e){return e6t.indexOf(e)===-1}function NP(e){const t=[];for(let n=0;n<e.length;n++){const r=a6t(e[n]);if(!r||t.indexOf(r)!==-1)return!1;t.push(r)}return!0}function a6t(e){return typeof e=="object"&&e!==null&&e._key}function kQ(e){return e.reduce((t,n)=>(t.keys.push(n._key),t.index[n._key]=n,t),{keys:[],index:{}})}function l6t(e,t){return e.length===t.length&&e.every((n,r)=>t[r]===n)}function i7(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const o=aje(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(o,"')"))}return null}function c6t(e){return!!e.ifRevisionID}function jQ(e){return!0}var u6t=rT,d6t=H8,f6t=Object.prototype,h6t=f6t.hasOwnProperty,p6t=d6t(function(e,t,n){h6t.call(e,n)?e[n].push(t):u6t(e,n,[t])}),m6t=p6t;const s7=Pe(m6t);function g6t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const qT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function z0(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function a7(e){return"nodeType"in e}function Ds(e){var t,n;return e?z0(e)?e:a7(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function l7(e){const{Document:t}=Ds(e);return e instanceof t}function Bw(e){return z0(e)?!1:e instanceof Ds(e).HTMLElement}function cje(e){return e instanceof Ds(e).SVGElement}function V0(e){return e?z0(e)?e.document:a7(e)?l7(e)?e:Bw(e)||cje(e)?e.ownerDocument:document:document:document}const Ml=qT?h.useLayoutEffect:h.useEffect;function c7(e){const t=h.useRef(e);return Ml(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function v6t(){const e=h.useRef(null),t=h.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function mx(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return Ml(()=>{n.current!==e&&(n.current=e)},t),n}function Nw(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Fk(e){const t=c7(e),n=h.useRef(null),r=h.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function hM(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let zP={};function zw(e,t){return h.useMemo(()=>{if(t)return t;const n=zP[e]==null?0:zP[e]+1;return zP[e]=n,e+"-"+n},[e,t])}function uje(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const a=Object.entries(s);for(const[c,u]of a){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const mv=uje(1),gx=uje(-1);function y6t(e){return"clientX"in e&&"clientY"in e}function u7(e){if(!e)return!1;const{KeyboardEvent:t}=Ds(e.target);return t&&e instanceof t}function b6t(e){if(!e)return!1;const{TouchEvent:t}=Ds(e.target);return t&&e instanceof t}function pM(e){if(b6t(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return y6t(e)?{x:e.clientX,y:e.clientY}:null}const vx=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[vx.Translate.toString(e),vx.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),TQ="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function x6t(e){return e.matches(TQ)?e:e.querySelector(TQ)}const w6t={display:"none"};function C6t(e){let{id:t,value:n}=e;return ie.createElement("div",{id:t,style:w6t},n)}function _6t(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ie.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function S6t(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const dje=h.createContext(null);function E6t(e){const t=h.useContext(dje);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function k6t(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}const j6t={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},T6t={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function A6t(e){let{announcements:t=T6t,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=j6t}=e;const{announce:i,announcement:s}=S6t(),a=zw("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),E6t(h.useMemo(()=>({onDragStart(f){let{active:p}=f;i(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:m}=f;t.onDragMove&&i(t.onDragMove({active:p,over:m}))},onDragOver(f){let{active:p,over:m}=f;i(t.onDragOver({active:p,over:m}))},onDragEnd(f){let{active:p,over:m}=f;i(t.onDragEnd({active:p,over:m}))},onDragCancel(f){let{active:p,over:m}=f;i(t.onDragCancel({active:p,over:m}))}}),[i,t])),!c)return null;const d=ie.createElement(ie.Fragment,null,ie.createElement(C6t,{id:r,value:o.draggable}),ie.createElement(_6t,{id:a,announcement:s}));return n?hc.createPortal(d,n):d}var Co;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Co||(Co={}));function Lk(){}function AQ(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function D6t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Fl=Object.freeze({x:0,y:0});function fje(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function hje(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function I6t(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function DQ(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function pje(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function IQ(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const P6t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=IQ(t,t.left,t.top),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=fje(IQ(c),o);i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(hje)},O6t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=DQ(t),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=DQ(c),d=o.reduce((p,m,v)=>p+fje(u[v],m),0),f=Number((d/4).toFixed(4));i.push({id:a,data:{droppableContainer:s,value:f}})}}return i.sort(hje)};function R6t(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const c=t.width*t.height,u=e.width*e.height,d=s*a,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const $6t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,a=n.get(s);if(a){const c=R6t(a,t);c>0&&o.push({id:s,data:{droppableContainer:i,value:c}})}}return o.sort(I6t)};function M6t(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function mje(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Fl}function F6t(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const L6t=F6t(1);function B6t(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function N6t(e,t,n){const r=B6t(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,c=e.left-s-(1-o)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const z6t={ignoreTransform:!1};function H0(e,t){t===void 0&&(t=z6t);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Ds(e).getComputedStyle(e);u&&(n=N6t(n,u,d))}const{top:r,left:o,width:i,height:s,bottom:a,right:c}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:c}}function PQ(e){return H0(e,{ignoreTransform:!0})}function V6t(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function H6t(e,t){return t===void 0&&(t=Ds(e).getComputedStyle(e)),t.position==="fixed"}function U6t(e,t){t===void 0&&(t=Ds(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function GT(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(l7(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Bw(o)||cje(o)||n.includes(o))return n;const i=Ds(e).getComputedStyle(o);return o!==e&&U6t(o,i)&&n.push(o),H6t(o,i)?n:r(o.parentNode)}return e?r(e):n}function gje(e){const[t]=GT(e,1);return t??null}function VP(e){return!qT||!e?null:z0(e)?e:a7(e)?l7(e)||e===V0(e).scrollingElement?window:Bw(e)?e:null:null}function vje(e){return z0(e)?e.scrollX:e.scrollLeft}function yje(e){return z0(e)?e.scrollY:e.scrollTop}function mM(e){return{x:vje(e),y:yje(e)}}var Ro;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ro||(Ro={}));function bje(e){return!qT||!e?!1:e===document.scrollingElement}function xje(e){const t={x:0,y:0},n=bje(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const W6t={x:.2,y:.2};function Y6t(e,t,n,r,o){let{top:i,left:s,right:a,bottom:c}=n;r===void 0&&(r=10),o===void 0&&(o=W6t);const{isTop:u,isBottom:d,isLeft:f,isRight:p}=xje(e),m={x:0,y:0},v={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+g.height?(m.y=Ro.Backward,v.y=r*Math.abs((t.top+g.height-i)/g.height)):!d&&c>=t.bottom-g.height&&(m.y=Ro.Forward,v.y=r*Math.abs((t.bottom-g.height-c)/g.height)),!p&&a>=t.right-g.width?(m.x=Ro.Forward,v.x=r*Math.abs((t.right-g.width-a)/g.width)):!f&&s<=t.left+g.width&&(m.x=Ro.Backward,v.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:m,speed:v}}function q6t(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function wje(e){return e.reduce((t,n)=>mv(t,mM(n)),Fl)}function G6t(e){return e.reduce((t,n)=>t+vje(n),0)}function K6t(e){return e.reduce((t,n)=>t+yje(n),0)}function Z6t(e,t){if(t===void 0&&(t=H0),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);gje(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const X6t=[["x",["left","right"],G6t],["y",["top","bottom"],K6t]];let d7=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=GT(n),o=wje(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,a]of X6t)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=a(r),d=o[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class ub{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Q6t(e){const{EventTarget:t}=Ds(e);return e instanceof t?e:V0(e)}function HP(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Sa;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Sa||(Sa={}));function OQ(e){e.preventDefault()}function J6t(e){e.stopPropagation()}var Xt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Xt||(Xt={}));const Cje={start:[Xt.Space,Xt.Enter],cancel:[Xt.Esc],end:[Xt.Space,Xt.Enter]},e8t=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Xt.Right:return{...n,x:n.x+25};case Xt.Left:return{...n,x:n.x-25};case Xt.Down:return{...n,y:n.y+25};case Xt.Up:return{...n,y:n.y-25}}};class f7{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new ub(V0(n)),this.windowListeners=new ub(Ds(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Sa.Resize,this.handleCancel),this.windowListeners.add(Sa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Sa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Z6t(r),n(Fl)}handleKeyDown(t){if(u7(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=Cje,coordinateGetter:s=e8t,scrollBehavior:a="smooth"}=o,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Fl;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const p=gx(f,d),m={x:0,y:0},{scrollableAncestors:v}=r.current;for(const g of v){const y=t.code,{isTop:x,isRight:b,isLeft:w,isBottom:C,maxScroll:_,minScroll:S}=xje(g),E=q6t(g),j={x:Math.min(y===Xt.Right?E.right-E.width/2:E.right,Math.max(y===Xt.Right?E.left:E.left+E.width/2,f.x)),y:Math.min(y===Xt.Down?E.bottom-E.height/2:E.bottom,Math.max(y===Xt.Down?E.top:E.top+E.height/2,f.y))},k=y===Xt.Right&&!b||y===Xt.Left&&!w,T=y===Xt.Down&&!C||y===Xt.Up&&!x;if(k&&j.x!==f.x){const A=g.scrollLeft+p.x,D=y===Xt.Right&&A<=_.x||y===Xt.Left&&A>=S.x;if(D&&!p.y){g.scrollTo({left:A,behavior:a});return}D?m.x=g.scrollLeft-A:m.x=y===Xt.Right?g.scrollLeft-_.x:g.scrollLeft-S.x,m.x&&g.scrollBy({left:-m.x,behavior:a});break}else if(T&&j.y!==f.y){const A=g.scrollTop+p.y,D=y===Xt.Down&&A<=_.y||y===Xt.Up&&A>=S.y;if(D&&!p.x){g.scrollTo({top:A,behavior:a});return}D?m.y=g.scrollTop-A:m.y=y===Xt.Down?g.scrollTop-_.y:g.scrollTop-S.y,m.y&&g.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(t,mv(gx(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}f7.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Cje,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function RQ(e){return!!(e&&"distance"in e)}function $Q(e){return!!(e&&"delay"in e)}class h7{constructor(t,n,r){var o;r===void 0&&(r=Q6t(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=V0(s),this.documentListeners=new ub(this.document),this.listeners=new ub(r),this.windowListeners=new ub(Ds(s)),this.initialCoordinates=(o=pM(i))!=null?o:Fl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(Sa.Resize,this.handleCancel),this.windowListeners.add(Sa.DragStart,OQ),this.windowListeners.add(Sa.VisibilityChange,this.handleCancel),this.windowListeners.add(Sa.ContextMenu,OQ),this.documentListeners.add(Sa.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if($Q(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(RQ(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Sa.Click,J6t,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Sa.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const c=(n=pM(t))!=null?n:Fl,u=gx(o,c);if(!r&&a){if(RQ(a)){if(a.tolerance!=null&&HP(u,a.tolerance))return this.handleCancel();if(HP(u,a.distance))return this.handleStart()}return $Q(a)&&HP(u,a.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Xt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const t8t={move:{name:"pointermove"},end:{name:"pointerup"}};class p7 extends h7{constructor(t){const{event:n}=t,r=V0(n.target);super(t,t8t,r)}}p7.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const n8t={move:{name:"mousemove"},end:{name:"mouseup"}};var gM;(function(e){e[e.RightClick=2]="RightClick"})(gM||(gM={}));class r8t extends h7{constructor(t){super(t,n8t,V0(t.event.target))}}r8t.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===gM.RightClick?!1:(r==null||r({event:n}),!0)}}];const UP={move:{name:"touchmove"},end:{name:"touchend"}};class o8t extends h7{constructor(t){super(t,UP)}static setup(){return window.addEventListener(UP.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(UP.move.name,t)};function t(){}}}o8t.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var db;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(db||(db={}));var Bk;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Bk||(Bk={}));function i8t(e){let{acceleration:t,activator:n=db.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=Bk.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const m=a8t({delta:f,disabled:!i}),[v,g]=v6t(),y=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),b=h.useMemo(()=>{switch(n){case db.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case db.DraggableRect:return o}},[n,o,c]),w=h.useRef(null),C=h.useCallback(()=>{const S=w.current;if(!S)return;const E=y.current.x*x.current.x,j=y.current.y*x.current.y;S.scrollBy(E,j)},[]),_=h.useMemo(()=>a===Bk.TreeOrder?[...u].reverse():u,[a,u]);h.useEffect(()=>{if(!i||!u.length||!b){g();return}for(const S of _){if((r==null?void 0:r(S))===!1)continue;const E=u.indexOf(S),j=d[E];if(!j)continue;const{direction:k,speed:T}=Y6t(S,j,b,t,p);for(const A of["x","y"])m[A][k[A]]||(T[A]=0,k[A]=0);if(T.x>0||T.y>0){g(),w.current=S,v(C,s),y.current=T,x.current=k;return}}y.current={x:0,y:0},x.current={x:0,y:0},g()},[t,C,r,g,i,s,JSON.stringify(b),JSON.stringify(m),v,u,_,d,JSON.stringify(p)])}const s8t={x:{[Ro.Backward]:!1,[Ro.Forward]:!1},y:{[Ro.Backward]:!1,[Ro.Forward]:!1}};function a8t(e){let{delta:t,disabled:n}=e;const r=hM(t);return Nw(o=>{if(n||!r||!o)return s8t;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Ro.Backward]:o.x[Ro.Backward]||i.x===-1,[Ro.Forward]:o.x[Ro.Forward]||i.x===1},y:{[Ro.Backward]:o.y[Ro.Backward]||i.y===-1,[Ro.Forward]:o.y[Ro.Forward]||i.y===1}}},[n,t,r])}function l8t(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return Nw(o=>{var i;return t===null?null:(i=r??o)!=null?i:null},[r,t])}function c8t(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var yx;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(yx||(yx={}));var vM;(function(e){e.Optimized="optimized"})(vM||(vM={}));const MQ=new Map;function u8t(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=h.useState(null),{frequency:a,measure:c,strategy:u}=o,d=h.useRef(e),f=y(),p=mx(f),m=h.useCallback(function(x){x===void 0&&(x=[]),!p.current&&s(b=>b===null?x:b.concat(x.filter(w=>!b.includes(w))))},[p]),v=h.useRef(null),g=Nw(x=>{if(f&&!n)return MQ;if(!x||x===MQ||d.current!==e||i!=null){const b=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const C=w.node.current,_=C?new d7(c(C),C):null;w.rect.current=_,_&&b.set(w.id,_)}return b}return x},[e,i,n,f,c]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||m()},[n,f]),h.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},a))},[a,f,m,...r]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:i!=null};function y(){switch(u){case yx.Always:return!1;case yx.BeforeDragging:return n;default:return!n}}}function _je(e,t){return Nw(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function d8t(e,t){return _je(e,t)}function f8t(e){let{callback:t,disabled:n}=e;const r=c7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function KT(e){let{callback:t,disabled:n}=e;const r=c7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function h8t(e){return new d7(H0(e),e)}function FQ(e,t,n){t===void 0&&(t=h8t);const[r,o]=h.useReducer(a,null),i=f8t({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),s=KT({callback:o});return Ml(()=>{o(),e?(s==null||s.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),i==null||i.disconnect())},[e]),r;function a(c){if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d}}function p8t(e){const t=_je(e);return mje(e,t)}const LQ=[];function m8t(e){const t=h.useRef(e),n=Nw(r=>e?r&&r!==LQ&&e&&t.current&&e.parentNode===t.current.parentNode?r:GT(e):LQ,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function g8t(e){const[t,n]=h.useState(null),r=h.useRef(e),o=h.useCallback(i=>{const s=VP(i.target);s&&n(a=>a?(a.set(s,mM(s)),new Map(a)):null)},[]);return h.useEffect(()=>{const i=r.current;if(e!==i){s(i);const a=e.map(c=>{const u=VP(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,mM(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(c=>{const u=VP(c);u==null||u.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>mv(i,s),Fl):wje(e):Fl,[e,t])}function BQ(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==Fl;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?gx(e,n.current):Fl}function v8t(e){h.useEffect(()=>{if(!qT)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function y8t(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function Sje(e){return h.useMemo(()=>e?V6t(e):null,[e])}const WP=[];function b8t(e,t){t===void 0&&(t=H0);const[n]=e,r=Sje(n?Ds(n):null),[o,i]=h.useReducer(a,WP),s=KT({callback:i});return e.length>0&&o===WP&&i(),Ml(()=>{e.length?e.forEach(c=>s==null?void 0:s.observe(c)):(s==null||s.disconnect(),i())},[e]),o;function a(){return e.length?e.map(c=>bje(c)?r:new d7(t(c),c)):WP}}function x8t(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Bw(t)?t:e}function w8t(e){let{measure:t}=e;const[n,r]=h.useState(null),o=h.useCallback(u=>{for(const{target:d}of u)if(Bw(d)){r(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),i=KT({callback:o}),s=h.useCallback(u=>{const d=x8t(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[a,c]=Fk(s);return h.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const C8t=[{sensor:p7,options:{}},{sensor:f7,options:{}}],_8t={current:{}},lS={draggable:{measure:PQ},droppable:{measure:PQ,strategy:yx.WhileDragging,frequency:vM.Optimized},dragOverlay:{measure:H0}};class fb extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const S8t={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new fb,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Lk},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:lS,measureDroppableContainers:Lk,windowRect:null,measuringScheduled:!1},E8t={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Lk,draggableNodes:new Map,over:null,measureDroppableContainers:Lk},ZT=h.createContext(E8t),Eje=h.createContext(S8t);function k8t(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new fb}}}function j8t(e,t){switch(t.type){case Co.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Co.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Co.DragEnd:case Co.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Co.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new fb(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case Co.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new fb(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case Co.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new fb(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function T8t(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=h.useContext(ZT),i=hM(r),s=hM(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!u7(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=x6t(d);if(f){f.focus();break}}})}},[r,t,o,s,i]),null}function A8t(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function D8t(e){return h.useMemo(()=>({draggable:{...lS.draggable,...e==null?void 0:e.draggable},droppable:{...lS.droppable,...e==null?void 0:e.droppable},dragOverlay:{...lS.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function I8t(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=h.useRef(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;Ml(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=mje(d,r);if(s||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=gje(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const kje=h.createContext({...Fl,scaleX:1,scaleY:1});var $d;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})($d||($d={}));const P8t=h.memo(function(t){var n,r,o,i;let{id:s,accessibility:a,autoScroll:c=!0,children:u,sensors:d=C8t,collisionDetection:f=$6t,measuring:p,modifiers:m,...v}=t;const g=h.useReducer(j8t,void 0,k8t),[y,x]=g,[b,w]=k6t(),[C,_]=h.useState($d.Uninitialized),S=C===$d.Initialized,{draggable:{active:E,nodes:j,translate:k},droppable:{containers:T}}=y,A=E?j.get(E):null,D=h.useRef({initial:null,translated:null}),I=h.useMemo(()=>{var Fn;return E!=null?{id:E,data:(Fn=A==null?void 0:A.data)!=null?Fn:_8t,rect:D}:null},[E,A]),P=h.useRef(null),[$,R]=h.useState(null),[V,N]=h.useState(null),W=mx(v,Object.values(v)),G=zw("DndDescribedBy",s),H=h.useMemo(()=>T.getEnabled(),[T]),q=D8t(p),{droppableRects:X,measureDroppableContainers:B,measuringScheduled:Y}=u8t(H,{dragging:S,dependencies:[k.x,k.y],config:q.droppable}),z=l8t(j,E),Z=h.useMemo(()=>V?pM(V):null,[V]),Q=Is(),ne=d8t(z,q.draggable.measure);I8t({activeNode:E?j.get(E):null,config:Q.layoutShiftCompensation,initialRect:ne,measure:q.draggable.measure});const K=FQ(z,q.draggable.measure,ne),J=FQ(z?z.parentElement:null),re=h.useRef({activatorEvent:null,active:null,activeNode:z,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),fe=T.getNodeFor((n=re.current.over)==null?void 0:n.id),le=w8t({measure:q.dragOverlay.measure}),ge=(r=le.nodeRef.current)!=null?r:z,xe=S?(o=le.rect)!=null?o:K:null,ce=!!(le.nodeRef.current&&le.rect),ve=p8t(ce?null:K),$e=Sje(ge?Ds(ge):null),Ae=m8t(S?fe??z:null),st=b8t(Ae),et=A8t(m,{transform:{x:k.x-ve.x,y:k.y-ve.y,scaleX:1,scaleY:1},activatorEvent:V,active:I,activeNodeRect:K,containerNodeRect:J,draggingNodeRect:xe,over:re.current.over,overlayNodeRect:le.rect,scrollableAncestors:Ae,scrollableAncestorRects:st,windowRect:$e}),lt=Z?mv(Z,k):null,Oe=g8t(Ae),we=BQ(Oe),We=BQ(Oe,[K]),ze=mv(et,we),Ze=xe?L6t(xe,et):null,Ct=I&&Ze?f({active:I,collisionRect:Ze,droppableRects:X,droppableContainers:H,pointerCoordinates:lt}):null,ke=pje(Ct,"id"),[Ne,dt]=h.useState(null),ci=ce?et:mv(et,We),Jn=M6t(ci,(i=Ne==null?void 0:Ne.rect)!=null?i:null,K),Wo=h.useCallback((Fn,Bn)=>{let{sensor:Yr,options:Ge}=Bn;if(P.current==null)return;const _t=j.get(P.current);if(!_t)return;const er=Fn.nativeEvent,Ln=new Yr({active:P.current,activeNode:_t,event:er,options:Ge,context:re,onStart(kr){const ui=P.current;if(ui==null)return;const Ps=j.get(ui);if(!Ps)return;const{onDragStart:ma}=W.current,Nm={active:{id:ui,data:Ps.data,rect:D}};hc.unstable_batchedUpdates(()=>{ma==null||ma(Nm),_($d.Initializing),x({type:Co.DragStart,initialCoordinates:kr,active:ui}),b({type:"onDragStart",event:Nm})})},onMove(kr){x({type:Co.DragMove,coordinates:kr})},onEnd:pa(Co.DragEnd),onCancel:pa(Co.DragCancel)});hc.unstable_batchedUpdates(()=>{R(Ln),N(Fn.nativeEvent)});function pa(kr){return async function(){const{active:Ps,collisions:ma,over:Nm,scrollAdjustedTranslate:xC}=re.current;let Gl=null;if(Ps&&xC){const{cancelDrop:Gc}=W.current;Gl={activatorEvent:er,active:Ps,collisions:ma,delta:xC,over:Nm},kr===Co.DragEnd&&typeof Gc=="function"&&await Promise.resolve(Gc(Gl))&&(kr=Co.DragCancel)}P.current=null,hc.unstable_batchedUpdates(()=>{x({type:kr}),_($d.Uninitialized),dt(null),R(null),N(null);const Gc=kr===Co.DragEnd?"onDragEnd":"onDragCancel";if(Gl){const p1=W.current[Gc];p1==null||p1(Gl),b({type:Gc,event:Gl})}})}}},[j]),Yt=h.useCallback((Fn,Bn)=>(Yr,Ge)=>{const _t=Yr.nativeEvent,er=j.get(Ge);if(P.current!==null||!er||_t.dndKit||_t.defaultPrevented)return;const Ln={active:er};Fn(Yr,Bn.options,Ln)===!0&&(_t.dndKit={capturedBy:Bn.sensor},P.current=Ge,Wo(Yr,Bn))},[j,Wo]),eo=c8t(d,Yt);v8t(d),Ml(()=>{K&&C===$d.Initializing&&_($d.Initialized)},[K,C]),h.useEffect(()=>{const{onDragMove:Fn}=W.current,{active:Bn,activatorEvent:Yr,collisions:Ge,over:_t}=re.current;if(!Bn||!Yr)return;const er={active:Bn,activatorEvent:Yr,collisions:Ge,delta:{x:ze.x,y:ze.y},over:_t};hc.unstable_batchedUpdates(()=>{Fn==null||Fn(er),b({type:"onDragMove",event:er})})},[ze.x,ze.y]),h.useEffect(()=>{const{active:Fn,activatorEvent:Bn,collisions:Yr,droppableContainers:Ge,scrollAdjustedTranslate:_t}=re.current;if(!Fn||P.current==null||!Bn||!_t)return;const{onDragOver:er}=W.current,Ln=Ge.get(ke),pa=Ln&&Ln.rect.current?{id:Ln.id,rect:Ln.rect.current,data:Ln.data,disabled:Ln.disabled}:null,kr={active:Fn,activatorEvent:Bn,collisions:Yr,delta:{x:_t.x,y:_t.y},over:pa};hc.unstable_batchedUpdates(()=>{dt(pa),er==null||er(kr),b({type:"onDragOver",event:kr})})},[ke]),Ml(()=>{re.current={activatorEvent:V,active:I,activeNode:z,collisionRect:Ze,collisions:Ct,droppableRects:X,draggableNodes:j,draggingNode:ge,draggingNodeRect:xe,droppableContainers:T,over:Ne,scrollableAncestors:Ae,scrollAdjustedTranslate:ze},D.current={initial:xe,translated:Ze}},[I,z,Ct,Ze,j,ge,xe,X,T,Ne,Ae,ze]),i8t({...Q,delta:k,draggingRect:Ze,pointerCoordinates:lt,scrollableAncestors:Ae,scrollableAncestorRects:st});const nl=h.useMemo(()=>({active:I,activeNode:z,activeNodeRect:K,activatorEvent:V,collisions:Ct,containerNodeRect:J,dragOverlay:le,draggableNodes:j,droppableContainers:T,droppableRects:X,over:Ne,measureDroppableContainers:B,scrollableAncestors:Ae,scrollableAncestorRects:st,measuringConfiguration:q,measuringScheduled:Y,windowRect:$e}),[I,z,K,V,Ct,J,le,j,T,X,Ne,B,Ae,st,q,Y,$e]),rl=h.useMemo(()=>({activatorEvent:V,activators:eo,active:I,activeNodeRect:K,ariaDescribedById:{draggable:G},dispatch:x,draggableNodes:j,over:Ne,measureDroppableContainers:B}),[V,eo,I,K,x,G,j,Ne,B]);return ie.createElement(dje.Provider,{value:w},ie.createElement(ZT.Provider,{value:rl},ie.createElement(Eje.Provider,{value:nl},ie.createElement(kje.Provider,{value:Jn},u)),ie.createElement(T8t,{disabled:(a==null?void 0:a.restoreFocus)===!1})),ie.createElement(A6t,{...a,hiddenTextDescribedById:G}));function Is(){const Fn=($==null?void 0:$.autoScrollEnabled)===!1,Bn=typeof c=="object"?c.enabled===!1:c===!1,Yr=S&&!Fn&&!Bn;return typeof c=="object"?{...c,enabled:Yr}:{enabled:Yr}}}),O8t=h.createContext(null),NQ="button",R8t="Droppable";function $8t(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=zw(R8t),{activators:s,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=h.useContext(ZT),{role:m=NQ,roleDescription:v="draggable",tabIndex:g=0}=o??{},y=(c==null?void 0:c.id)===t,x=h.useContext(y?kje:O8t),[b,w]=Fk(),[C,_]=Fk(),S=y8t(s,t),E=mx(n);Ml(()=>(f.set(t,{id:t,key:i,node:b,activatorNode:C,data:E}),()=>{const k=f.get(t);k&&k.key===i&&f.delete(t)}),[f,t]);const j=h.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":y&&m===NQ?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,m,g,y,v,d.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:j,isDragging:y,listeners:r?void 0:S,node:b,over:p,setNodeRef:w,setActivatorNodeRef:_,transform:x}}function M8t(){return h.useContext(Eje)}const F8t="Droppable",L8t={timeout:25};function B8t(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=zw(F8t),{active:s,dispatch:a,over:c,measureDroppableContainers:u}=h.useContext(ZT),d=h.useRef({disabled:n}),f=h.useRef(!1),p=h.useRef(null),m=h.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:y}={...L8t,...o},x=mx(g??r),b=h.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},y)},[y]),w=KT({callback:b,disabled:v||!s}),C=h.useCallback((j,k)=>{w&&(k&&(w.unobserve(k),f.current=!1),j&&w.observe(j))},[w]),[_,S]=Fk(C),E=mx(t);return h.useEffect(()=>{!w||!_.current||(w.disconnect(),f.current=!1,w.observe(_.current))},[_,w]),Ml(()=>(a({type:Co.RegisterDroppable,element:{id:r,key:i,disabled:n,node:_,rect:p,data:E}}),()=>a({type:Co.UnregisterDroppable,key:i,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(a({type:Co.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,a]),{active:s,rect:p,isOver:(c==null?void 0:c.id)===r,node:_,over:c,setNodeRef:S}}function jje(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function N8t(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function k_(e){return e!==null&&e>=0}function z8t(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function V8t(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const j_={scaleX:1,scaleY:1},H8t=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:s}=e;const a=(t=n[o])!=null?t:r;if(!a)return null;const c=U8t(n,s,o);if(s===o){const u=n[i];return u?{x:o<i?u.left+u.width-(a.left+a.width):u.left-a.left,y:0,...j_}:null}return s>o&&s<=i?{x:-a.width-c,y:0,...j_}:s<o&&s>=i?{x:a.width+c,y:0,...j_}:{x:0,y:0,...j_}};function U8t(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return!r||!o&&!i?0:n<t?o?r.left-(o.left+o.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(o.left+o.width)}const Tje=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=jje(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},T_={scaleX:1,scaleY:1},W8t=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...T_}:null}const c=Y8t(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-c,...T_}:o<n&&o>=s?{x:0,y:a.height+c,...T_}:{x:0,y:0,...T_}};function Y8t(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Aje="Sortable",Dje=ie.createContext({activeIndex:-1,containerId:Aje,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Tje,disabled:{draggable:!1,droppable:!1}});function q8t(e){let{children:t,id:n,items:r,strategy:o=Tje,disabled:i=!1}=e;const{active:s,dragOverlay:a,droppableRects:c,over:u,measureDroppableContainers:d}=M8t(),f=zw(Aje,n),p=a.rect!==null,m=h.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),v=s!=null,g=s?m.indexOf(s.id):-1,y=u?m.indexOf(u.id):-1,x=h.useRef(m),b=!z8t(m,x.current),w=y!==-1&&g===-1||b,C=V8t(i);Ml(()=>{b&&v&&d(m)},[b,m,v,d]),h.useEffect(()=>{x.current=m},[m]);const _=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:C,disableTransforms:w,items:m,overIndex:y,useDragOverlay:p,sortedRects:N8t(m,c),strategy:o}),[g,f,C.draggable,C.droppable,w,m,y,c,p,o]);return ie.createElement(Dje.Provider,{value:_},t)}const G8t=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return jje(n,r,o).indexOf(t)},K8t=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:c,transition:u}=e;return!u||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===c},Z8t={duration:200,easing:"ease"},Ije="transform",X8t=vx.Transition.toString({property:Ije,duration:0,easing:"linear"}),Q8t={roleDescription:"sortable"};function J8t(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=h.useState(null),a=h.useRef(n);return Ml(()=>{if(!t&&n!==a.current&&r.current){const c=o.current;if(c){const u=H0(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&s(d)}}n!==a.current&&(a.current=n)},[t,n,r,o]),h.useEffect(()=>{i&&s(null)},[i]),i}function Pje(e){let{animateLayoutChanges:t=K8t,attributes:n,disabled:r,data:o,getNewIndex:i=G8t,id:s,strategy:a,resizeObserverConfig:c,transition:u=Z8t}=e;const{items:d,containerId:f,activeIndex:p,disabled:m,disableTransforms:v,sortedRects:g,overIndex:y,useDragOverlay:x,strategy:b}=h.useContext(Dje),w=e9t(r,m),C=d.indexOf(s),_=h.useMemo(()=>({sortable:{containerId:f,index:C,items:d},...o}),[f,o,C,d]),S=h.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:E,node:j,isOver:k,setNodeRef:T}=B8t({id:s,data:_,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:A,activatorEvent:D,activeNodeRect:I,attributes:P,setNodeRef:$,listeners:R,isDragging:V,over:N,setActivatorNodeRef:W,transform:G}=$8t({id:s,data:_,attributes:{...Q8t,...n},disabled:w.draggable}),H=g6t(T,$),q=!!A,X=q&&!v&&k_(p)&&k_(y),B=!x&&V,Y=B&&X?G:null,Z=X?Y??(a??b)({rects:g,activeNodeRect:I,activeIndex:p,overIndex:y,index:C}):null,Q=k_(p)&&k_(y)?i({id:s,items:d,activeIndex:p,overIndex:y}):C,ne=A==null?void 0:A.id,K=h.useRef({activeId:ne,items:d,newIndex:Q,containerId:f}),J=d!==K.current.items,re=t({active:A,containerId:f,isDragging:V,isSorting:q,id:s,index:C,items:d,newIndex:K.current.newIndex,previousItems:K.current.items,previousContainerId:K.current.containerId,transition:u,wasDragging:K.current.activeId!=null}),fe=J8t({disabled:!re,index:C,node:j,rect:E});return h.useEffect(()=>{q&&K.current.newIndex!==Q&&(K.current.newIndex=Q),f!==K.current.containerId&&(K.current.containerId=f),d!==K.current.items&&(K.current.items=d)},[q,Q,f,d]),h.useEffect(()=>{if(ne===K.current.activeId)return;if(ne&&!K.current.activeId){K.current.activeId=ne;return}const ge=setTimeout(()=>{K.current.activeId=ne},50);return()=>clearTimeout(ge)},[ne]),{active:A,activeIndex:p,attributes:P,data:_,rect:E,index:C,newIndex:Q,items:d,isOver:k,isSorting:q,isDragging:V,listeners:R,node:j,overIndex:y,over:N,setNodeRef:H,setActivatorNodeRef:W,setDroppableNodeRef:T,setDraggableNodeRef:$,transform:fe??Z,transition:le()};function le(){if(fe||J&&K.current.newIndex===C)return X8t;if(!(B&&!u7(D)||!u)&&(q||re))return vx.Transition.toString({...u,property:Ije})}}function e9t(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function Nk(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const t9t=[Xt.Down,Xt.Right,Xt.Up,Xt.Left],n9t=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if(t9t.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=o.get(f.id);if(p)switch(e.code){case Xt.Down:r.top<p.top&&c.push(f);break;case Xt.Up:r.top>p.top&&c.push(f);break;case Xt.Left:r.left>p.left&&c.push(f);break;case Xt.Right:r.left<p.left&&c.push(f);break}});const u=O6t({active:n,collisionRect:r,droppableRects:o,droppableContainers:c,pointerCoordinates:null});let d=pje(u,"id");if(d===(s==null?void 0:s.id)&&u.length>1&&(d=u[1].id),d!=null){const f=i.get(n.id),p=i.get(d),m=p?o.get(p.id):null,v=p==null?void 0:p.node.current;if(v&&m&&f&&p){const y=GT(v).some((S,E)=>a[E]!==S),x=Oje(f,p),b=r9t(f,p),w=y||!x?{x:0,y:0}:{x:b?r.width-m.width:0,y:b?r.height-m.height:0},C={x:m.left,y:m.top};return w.x&&w.y?C:gx(C,w)}}}};function Oje(e,t){return!Nk(e)||!Nk(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function r9t(e,t){return!Nk(e)||!Nk(t)||!Oje(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const o9t=e=>{let{transform:t}=e;return{...t,y:0}},i9t=e=>{let{transform:t}=e;return{...t,x:0}};var s9t=sm;function a9t(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],s=t(i);if(s!=null&&(a===void 0?s===s&&!s9t(s):n(s,a)))var a=s,c=i}return c}var Rje=a9t;function l9t(e,t){return e<t}var c9t=l9t,u9t=Rje,d9t=c9t,f9t=wm;function h9t(e){return e&&e.length?u9t(e,f9t,d9t):void 0}var p9t=h9t;const m9t=Pe(p9t);function g9t(e,t){return e>t}var v9t=g9t,y9t=Rje,b9t=v9t,x9t=wm;function w9t(e){return e&&e.length?y9t(e,x9t,b9t):void 0}var C9t=w9t;const _9t=Pe(C9t),S9t=/[0-9]/,E9t=/^[a-zA-Z0-9_]$/,k9t=/^[a-zA-Z_]$/,$je={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},j9t=Object.keys($je);class T9t{constructor(t){this.source=t,this.length=t.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const t=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(o=>(n=o(),!!n))||!n)throw new Error("Invalid tokens in jsonpath '".concat(this.source,"' @ ").concat(this.i));t.push(n)}return t}takeWhile(t){const n=this.i;let r="";for(;!this.EOF();){const o=t(this.source[this.i]);if(o===null)break;r+=o,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(t){if(this.i+t.length>this.length)throw new Error("Expected ".concat(t," at end of jsonpath"));if(t===this.source.slice(this.i,this.i+t.length))this.i+=t.length;else throw new Error('Expected "'.concat(t,'", but source contained "').concat(this.source.slice()))}tryConsume(t){return this.i+t.length>this.length?null:t===this.source.slice(this.i,this.i+t.length)?(this.i+=t.length,t):null}chompWhitespace(){this.takeWhile(t=>t===" "?"":null)}tokenizeQuoted(){const t=this.peek();if(t==="'"||t==='"'){this.consume(t);let n=!1;const r=this.takeWhile(o=>n?(n=!1,o):o==="\\"?(n=!0,""):o!=t?o:null);return this.consume(t),{type:"quoted",value:r,quote:t==='"'?"double":"single"}}return null}tokenizeIdentifier(){let t=!0;const n=this.takeWhile(r=>t?(t=!1,r.match(k9t)?r:null):r.match(E9t)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const t=this.i;let n=!1,r=!1,o=!1;this.peek()==="-"&&(o=!0,this.consume("-"));const i=this.takeWhile(s=>s==="."&&!n&&r?(n=!0,s):(r=!0,s.match(S9t)?s:null));return i!==null?{type:"number",value:o?-i:+i,raw:o?"-".concat(i):i}:(this.i=t,null)}tokenizeSymbol(){for(const t of j9t){const r=$je[t].find(o=>this.tryConsume(o));if(r)return{type:t,symbol:r}}return null}}function A9t(e){return new T9t(e).tokenize()}class D9t{constructor(t){this.tokens=A9t(t),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const t=this.peek();return this.i+=1,t}probe(t){const n=this.peek();if(!n)return null;const r=n;return Object.keys(t).every(i=>i in n&&t[i]===r[i])?n:null}match(t){return this.probe(t)?this.consume():null}parseAttribute(){const t=this.match({type:"identifier"});if(t&&t.type==="identifier")return{type:"attribute",name:t.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const t=this.match({type:"number"});return t&&t.type==="number"?{type:"number",value:t.value}:null}parseNumberValue(){const t=this.parseNumber();return t?t.value:null}parseSliceSelector(){const t=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=t,null):{type:"index",value:n};const o={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(o.step=this.parseNumberValue()),o.start===null&&o.end===null?(this.i=t,null):o}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const t=this.match({type:"quoted",quote:"double"});if(t&&t.type==="quoted")return{type:"string",value:t.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const t=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=t,null;const o=n,i=this.parseLiteralValue();if(!i)throw new Error("Operator ".concat(r.symbol," needs a literal value at the right hand side"));return{type:"constraint",operator:r.symbol,lhs:o,rhs:i}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const t=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(t.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:t}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const t=this.parsePath();if(!t)throw new Error("Expected path following '..' operator");return{type:"recursive",term:t}}parsePath(){const t=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(t.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");t.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");t.push(r)}else{const r=this.parseRecursive();r&&t.push(r);break}return t.length===1?t[0]:{type:"path",nodes:t}}}function Mje(e){const t=new D9t(e).parse();if(!t)throw new Error('Failed to parse JSON path "'.concat(e,'"'));return t}function I9t(e){const[t,n]=Fje(e);if(!t)throw new Error("Head cannot be null");return O9t(t,n)}function Fje(e){if(e.type!=="path")return[e,null];const t=e.nodes;return t.length===0?[null,null]:t.length===1?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function P9t(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function O9t(e,t){return e.type!=="union"?[[e,t]]:e.nodes.map(n=>{if(n.type==="path"){const[r,o]=Fje(n);return[r,P9t(o,t)]}return[n,t]})}function Lje(e){return hg(e,!1)}function hg(e,t){switch(e.type){case"attribute":return e.name;case"alias":return e.target==="self"?"@":"$";case"number":return"".concat(e.value);case"range":{const n=[];return t||n.push("["),e.start&&n.push("".concat(e.start)),n.push(":"),e.end&&n.push("".concat(e.end)),e.step&&n.push(":".concat(e.step)),t||n.push("]"),n.join("")}case"index":return t?"".concat(e.value):"[".concat(e.value,"]");case"constraint":{const n=e.rhs?" ".concat(hg(e.rhs,!1)):"",r="".concat(hg(e.lhs,!1)," ").concat(e.operator).concat(n);return t?r:"[".concat(r,"]")}case"string":return JSON.stringify(e.value);case"path":{const n=[],r=e.nodes.slice();for(;r.length>0;){const o=r.shift();o&&n.push(Lje(o));const i=r[0];i&&hg(i,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return"[".concat(e.nodes.map(n=>hg(n,!0)).join(","),"]");default:throw new Error("Unknown node type ".concat(e.type));case"recursive":return"..".concat(hg(e.term,!1))}}class Ws{constructor(t){if(!t)throw new Error("Attempted to create Expression from null-value");if("expr"in t?this.expr=t.expr:this.expr=t,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(t){const n=()=>{if(!t)throw new Error("expandRange() required a probe that was not passed");return t.length()};let r="start"in this.expr&&this.expr.start||0;r=YP(r,t);let o="end"in this.expr&&this.expr.end||n();o=YP(o,t);const i="step"in this.expr&&this.expr.step||1;return{start:r,end:o,step:i}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(t){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(t.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const s=t.get(),a=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return zQ(s,n.operator,a)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error("Constraint target ".concat(r.type," not supported"));if(t.containerType()!=="object")return!1;const o=t.getAttribute(r.name);if(o==null||o.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const i=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return zQ(o.get(),n.operator,i)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(t){return t?new Ws({type:"path",nodes:t.pathNodes().concat(this.pathNodes())}):this}concat(t){return t?t.prepend(this):this}descend(){return I9t(this.expr).map(t=>{const[n,r]=t;return{head:n?new Ws(n):null,tail:r?new Ws(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error("Attempt to unwrap recursive on type ".concat(this.expr.type));return new Ws(this.expr.term)}toIndicies(t){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[YP(this.expr.value,t)];const n=[],r=this.expandRange(t);let{start:o,end:i}=r;r.step<0&&([o,i]=[i,o]);for(let s=o;s<i;s++)n.push(s);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error("Can't convert ".concat(this.expr.type," to field references"))}toString(){return Lje(this.expr)}static fromPath(t){const n=Mje(t);if(!n)throw new Error('Failed to parse path "'.concat(t,'"'));return new Ws(n)}static attributeReference(t){return new Ws({type:"attribute",name:t})}static indexReference(t){return new Ws({type:"index",value:t})}}function zQ(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error("Unsupported binary operator ".concat(t))}}function YP(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}class Ug{constructor(t,n){this.head=t,this.tail=n}iterate(t){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=Dn(n.map(o=>o.iterateConstraints(t))),r=n.some(o=>o.head&&o.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const t=this.head.unwrapRecursive();return new Ug(null,t.concat(this.tail)).descend()}return[]}iterateConstraints(t){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(t.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(t)&&r.push(...this.descend()),r;if(t.containerType()==="array"){const o=t.length();for(let i=0;i<o;i++){const s=t.getIndex(i);s&&n.testConstraint(s)&&r.push(new Ug(new Ws({type:"index",value:i}),this.tail))}return r}return t.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(t)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(t=>new Ug(t.head,t.tail)):[new Ug(null,null)]}toString(){const t=["<"];return this.head&&t.push(this.head.toString()),t.push("|"),this.tail&&t.push(this.tail.toString()),t.push(">"),t.join("")}}class rp{constructor(t,n){this.active=t||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(t){return this.payload=t,this}extractRecursives(){this.active=this.active.filter(t=>t.isRecursive()?(this.recursives.push(...t.extractRecursives()),!1):!0)}activeRecursives(t){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||t.containerType()==="array"&&r.isIndexReference()?!0:t.containerType()==="object"?r.isAttributeReference()&&t.hasAttribute(r.name()):!1:!1})}match(t){return this.iterate(t).extractMatches(t)}iterate(t){const n=[];return this.active.concat(this.activeRecursives(t)).forEach(r=>{n.push(...r.iterate(t))}),new rp(n,this)}isDestination(){return this.active.some(t=>t.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(t){const n=[],r=[];if(this.active.forEach(o=>{if(o.hasArrived()){r.push(new Ws({type:"alias",target:"self"}));return}const i=o.head;if(i&&!(t.containerType()==="array"&&!i.isIndexReference())&&!(t.containerType()==="object"&&!i.isAttributeReference()))if(o.tail){const s=new rp(o.descend(),this);i.toFieldReferences().forEach(()=>{n.push({target:i,matcher:s})})}else r.push(i)}),this.hasRecursives()){const o=new rp([],this);if(t.containerType()==="array"){const i=t.length();for(let s=0;s<i;s++)n.push({target:Ws.indexReference(s),matcher:o})}else t.containerType()==="object"&&t.attributeKeys().forEach(i=>{n.push({target:Ws.attributeReference(i),matcher:o})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(t){const n=Mje(t);if(!n)throw new Error('Failed to parse path from "'.concat(t,'"'));const r=new Ug(null,new Ws(n));return new rp(r.descend())}}function cS(e){return e!==null&&typeof e=="object"}class zk{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new zk(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return cS(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return cS(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!cS(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new zk(this._value[t],this.path.concat(t)):null}get(){return this._value}}function R9t(e,t){const n=[],r=rp.fromPath(e).setPayload(function(s){n.push(...s)}),o=new zk(t);return Bje(r,o),n}function Bje(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach(o=>{VQ(o.target,t).forEach(i=>{Bje(o.matcher,i)})}),r&&r.targets.forEach(o=>{typeof r.payload=="function"&&r.payload(VQ(o,t))})}function VQ(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach(r=>{n.push(t.getIndex(r))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw new Error("Unable to derive accessor for target ".concat(e.toString()));return yT(n)}function $9t(e,t){return R9t(e,t).map(r=>({path:r.path,value:r.get()}))}const M9t=/^[a-z_$]+/;function Nje(e){let t="";return e.forEach((n,r)=>{t+=F9t(n,r===0)}),t}function F9t(e,t){if(typeof e=="number")return"[".concat(e,"]");if(cS(e)){const n=e;return Object.keys(e).map(r=>L9t(n[r])?"[".concat(r,'=="').concat(n[r],'"]'):"").join("")}return typeof e=="string"&&M9t.test(e)?t?e:".".concat(e):"['".concat(e,"']")}function L9t(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}class zje{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(o.isSelfReference())r=r.set(this.value);else if(o.isIndexReference())o.toIndicies(n).forEach(i=>{r=r.setIndex(i,this.value)});else if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r=r.setAttribute(o.name(),this.value);else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}function HQ(e,t){return typeof e!="number"||!Number.isFinite(e)?e:e+t}class UQ{constructor(t,n,r){this.path=n,this.value=r,this.id=t}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get();r=r.setIndex(i,HQ(a,this.value))}continue}if(o.isAttributeReference()){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get();r=r.setAttribute(o.name(),HQ(s,this.value));continue}throw new Error("Unable to apply to target ".concat(o.toString()))}return r}}function XT(e,t){const n=[];return e.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(t))}),n.sort()}class B9t{constructor(t,n,r,o){this.id=t,this.location=n,this.path=r,this.items=o}apply(t,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const o=N9t(t,n);r=r.insertItemsAt(o,this.items);break}case"after":{const o=z9t(t,n);r=r.insertItemsAt(o+1,this.items);break}case"replace":{const o=XT(t,n);r=r.unsetIndices(o),r=r.insertItemsAt(o[0],this.items);break}default:throw new Error("Unsupported location atm: ".concat(this.location))}return r}}function N9t(e,t){let n=m9t(XT(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{start:o}=r.expandRange();o<n&&(n=o)}}),n}function z9t(e,t){let n=_9t(XT(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{end:o}=r.expandRange();o>n&&(n=o)}}),n}class Vje{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(!o.isIndexReference())if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r.hasAttribute(o.name())||(r=n.setAttribute(o.name(),this.value));else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}class V9t{constructor(t,n){this.id=t,this.path=n}apply(t,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(XT(t,n));break;case"object":t.forEach(o=>{r=r.unsetAttribute(o.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}function WQ(e,t){if(typeof t!="string")return t;const[n]=qEe(e,t,{allowExceedingIndices:!0});return n}class H9t{constructor(t,n,r){this.id=t,this.path=n,this.dmpPatch=KEe(r)}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get(),c=WQ(this.dmpPatch,a);r=r.setIndex(i,c)}continue}if(o.isAttributeReference()&&r.hasAttribute(o.name())){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get(),a=WQ(this.dmpPatch,s);r=r.setAttribute(o.name(),a);continue}throw new Error("Unable to apply diffMatchPatch to target ".concat(o.toString()))}return r}}function Hje(e){const t=[];if(Array.isArray(e))return e.reduce((u,d)=>u.concat(Hje(d)),t);const{set:n,setIfMissing:r,unset:o,diffMatchPatch:i,inc:s,dec:a,insert:c}=e;if(r&&Object.keys(r).forEach(u=>{t.push(new Vje(e.id,u,r[u]))}),n&&Object.keys(n).forEach(u=>{t.push(new zje(e.id,u,n[u]))}),o&&o.forEach(u=>{t.push(new V9t(e.id,u))}),i&&Object.keys(i).forEach(u=>{t.push(new H9t(e.id,u,i[u]))}),s&&Object.keys(s).forEach(u=>{t.push(new UQ(e.id,u,s[u]))}),a&&Object.keys(a).forEach(u=>{t.push(new UQ(e.id,u,-a[u]))}),c){let u,d;const f=c;if("before"in f)u="before",d=f.before;else if("after"in f)u="after",d=f.after;else if("replace"in f)u="replace",d=f.replace;else throw new Error("Invalid insert patch");t.push(new B9t(e.id,u,d,f.items))}return t}class ac{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new ac(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return H1(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return H1(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!H1(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new ac(this._value[t],this.path.concat(t)):null}set(t){return t===this._value?this:new ac(t,this.path)}setIndex(t,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[t]))return this;const r=this._value.slice();return r[t]=n,new ac(r,this.path)}setIndexAccessor(t,n){return this.setIndex(t,n.get())}unsetIndices(t){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let o=0;o<n;o++)t.indexOf(o)===-1&&r.push(this._value[o]);return new ac(r,this.path)}insertItemsAt(t,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&t===0?r=n:r=this._value.slice(0,t).concat(n).concat(this._value.slice(t)),new ac(r,this.path)}setAttribute(t,n){if(!H1(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[t]))return this;const r=Object.assign({},this._value,{[t]:n});return new ac(r,this.path)}setAttributeAccessor(t,n){return this.setAttribute(t,n.get())}unsetAttribute(t){if(!H1(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[t],new ac(n,this.path)}}function H1(e){return e!==null&&typeof e=="object"}let U9t=class{constructor(t){this.patches=Hje(t)}apply(t){const n=new ac(t);return this.applyViaAccessor(n).get()}applyViaAccessor(t){let n=t;const r=t.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const o=r.get();for(const i of this.patches){if(i.id!==o)continue;const s=rp.fromPath(i.path).setPayload(i);n=yM(s,n)}return n}};function yM(e,t){const n=e.payload instanceof zje||e.payload instanceof Vje;let r=t;const{leads:o,delivery:i}=e.match(t);return o.forEach(s=>{if(s.target.isIndexReference())s.target.toIndicies().forEach(a=>{const c=r.getIndex(a);if(!c)throw new Error("Index out of bounds");r=r.setIndexAccessor(a,yM(s.matcher,c))});else if(s.target.isAttributeReference()){n&&r.containerType()==="primitive"&&(r=r.set({}));let a=r.getAttribute(s.target.name());if(!a&&n&&(r=r.setAttribute(s.target.name(),{}),a=r.getAttribute(s.target.name())),!a)return;const c=yM(s.matcher,a);a!==c&&(r=r.setAttributeAccessor(s.target.name(),c))}else throw new Error("Unable to handle target ".concat(s.target.toString()))}),i&&W9t(i.payload)&&(r=i.payload.apply(i.targets,r)),r}function W9t(e){return!!(e&&typeof e=="object"&&e!==null&&"apply"in e&&typeof e.apply=="function")}const Y9t=ld,Nt=xs("mutator-document");class Ec{constructor(t){this.params=t}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=Y9t(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const t=this.mutations[0];return t?this._appliesToMissingDocument=!!(t.create||t.createIfNotExists||t.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const t=[];this.mutations.forEach(o=>{if(o.create){const i=o.create||{};t.push(s=>s||Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.createIfNotExists){const i=o.createIfNotExists||{};t.push(s=>s===null?Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}):s);return}if(o.createOrReplace){const i=o.createOrReplace||{};t.push(()=>Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.delete){t.push(()=>null);return}if(o.patch){if("query"in o.patch)return;const i=new U9t(o.patch);t.push(s=>i.apply(s));return}throw new Error("Unsupported mutation ".concat(JSON.stringify(o,null,2)))}),typeof this.params.timestamp=="string"&&t.push(o=>o?Object.assign(o,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=o=>{if(n&&o&&n!==o._rev)throw new Error("Previous revision for this mutation was ".concat(n,", but the document revision is ").concat(o._rev));let i=o;for(const s of t)i=s(i);return i&&r&&(i===o&&(i=Object.assign({},o)),i._rev=r),i}}apply(t){Nt("Applying mutation %O to document %O",this.mutations,t),this.compiled||this.compile();const n=this.compiled(t);return Nt("  => %O",n),n}static applyAll(t,n){return n.reduce((r,o)=>o.apply(r),t)}static squash(t,n){const r=n.reduce((o,i)=>o.concat(...i.mutations),[]);return new Ec({mutations:r})}}let q9t=class{constructor(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.lastStagedAt=null,this.reset(t),this.HEAD=t,this.EDGE=t}reset(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=t,this.EDGE=t,this.considerIncoming(),this.updateConsistencyFlag()}arrive(t){this.incoming.push(t),this.considerIncoming(),this.updateConsistencyFlag()}stage(t,n){if(!t.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,Nt("Staging mutation %s (pushed to pending)",t.transactionId),this.pending.push(t),this.EDGE=t.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:t,document:this.EDGE,remote:!1});const r=t.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let t=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const i=new Date(this.HEAD._updatedAt);this.incoming.find(s=>s.timestamp&&s.timestamp<i)&&(this.incoming=this.incoming.filter(s=>s.timestamp&&s.timestamp<i))}let o=0;do{if(this.HEAD){const i=this.HEAD;n=i._rev?this.incoming.find(s=>s.previousRev===i._rev):void 0}else n=this.incoming.find(i=>i.appliesToMissingDocument());if(n){const i=this.applyIncoming(n);if(t=t||i,t&&r.push(n),o++>10)throw new Error("Mutator stuck flushing incoming mutations. Probably stuck here: ".concat(JSON.stringify(n)))}}while(n);this.incoming.length>0&&Nt.enabled&&Nt("Unable to apply mutations %s",this.incoming.map(i=>i.transactionId).join(", ")),t&&this.rebase(r)}updateConsistencyFlag(){const t=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),t!=n&&this.onConsistencyChanged&&(Nt(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(t){if(!t)return!1;if(!t.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(Nt("Applying mutation %s -> %s to rev %s",t.previousRev,t.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=t.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(t),this.incoming=this.incoming.filter(n=>n.transactionId!==t.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(t.transactionId);return Nt.enabled&&(Nt("Incoming mutation ".concat(t.transactionId," appeared while there were pending or submitted local mutations")),Nt("Submitted txnIds: ".concat(this.submitted.map(r=>r.transactionId).join(", "))),Nt("Pending txnIds: ".concat(this.pending.map(r=>r.transactionId).join(", "))),Nt("needRebase === %s",n)),n}return Nt("Remote mutation %s arrived w/o any pending or submitted local mutations",t.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:t,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(t){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===t)return Nt("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",t),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===t)return Nt("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",t),this.pending.shift(),!1;return Nt("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==t),this.pending=this.pending.filter(n=>n.transactionId!==t),Nt("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(t){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===t){this.pending.shift(),this.submitted.push(n);return}let r;const o=[];this.pending.forEach(i=>{if(i.transactionId===t){r=i;return}o.push(i)}),r&&this.submitted.push(r),this.pending=o,this.rebase([])}pendingFailed(t){this.pending=this.pending.filter(n=>n.transactionId!==t),this.rebase([])}rebase(t){const n=this.EDGE;this.EDGE=Ec.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!Ht(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,t,this.pending)}};class A_{constructor(t){this.out=[],t?Nt("Reset mutation buffer to rev %s",t._rev):Nt("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=t,this.PRESTAGE=t}add(t){t.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(t){this.stashStagedOperations();let n=null;return this.out.length>0&&(Nt("Purged mutation buffer"),n=new Ec({mutations:this.out,resultRev:t,transactionId:t})),this.out=[],this.documentPresent=!1,n}addOperation(t){var n;if(t.patch&&t.patch.set&&"id"in t.patch&&t.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(t.patch).length===2){const r=t.patch.set,o={};for(const i of Object.keys(r))r.hasOwnProperty(i)&&(this.optimiseSetOperation(i,r[i])||(o[i]=r[i]));Object.keys(o).length>0&&(Nt("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:o}}),this.stashStagedOperations());return}if(t.createIfNotExists&&this.PRESTAGE&&t.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(t),this.documentPresent=!0,this.stashStagedOperations());return}Nt("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(t),this.stashStagedOperations()}optimiseSetOperation(t,n){if(typeof n=="object")return!1;const r=$9t(t,this.PRESTAGE);if(r.length!==1)return!1;const o=r[0];if(typeof o.value=="object"||!this.PRESTAGE)return!1;let i=null;if(o.value===n)i=null;else if(typeof o.value=="string"&&typeof n=="string")try{const a=GEe(YEe(o.value,n));i={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[t]:a}}}}catch{return!1}else i={patch:{id:this.PRESTAGE._id,set:{[t]:n}}};const s=Nje(o.path);return i?this.setOperations[s]=i:delete this.setOperations[s],!0}stashStagedOperations(){const t=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&t.push(r)}),t.push(...this.staged),t.length>0&&(this.PRESTAGE=new Ec({mutations:t}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...t)}rebase(t){return this.stashStagedOperations(),t===null?(this.out=[],this.BASIS=t,this.PRESTAGE=t,this.documentPresent=!1):(this.BASIS=t,this.out?this.PRESTAGE=new Ec({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}const G9t=1e3*60;class K9t{constructor(t,n){let{resolve:r,reject:o}=n;this.mutations=t,this.tries=0,this.resolve=r,this.reject=o}apply(t){return Ec.applyAll(t,this.mutations)}squash(t){const n=Ec.squash(t,this.mutations);return n.assignRandomTransactionId(),n}}const YQ=(e,t)=>e.concat(t.mutations);class Z9t{constructor(t){this.committerRunning=!1,this.buffer=new A_(t),this.document=new q9t(t),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,o)=>this.handleDocRebase(n,r,o),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=t,this.mutations=[],this.commits=[]}reset(t){t?Nt("Document state reset to revision %s",t._rev):Nt("Document state reset to being deleted"),this.document.reset(t),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(t){this.onConsistencyChanged&&this.onConsistencyChanged(!1),Nt("Staged local mutation"),this.buffer.add(t);const n=this.LOCAL;this.LOCAL=t.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(Nt("onMutation fired"),this.onMutation({mutation:t,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(t){if(Nt("Remote mutation arrived %s -> %s",t.previousRev,t.resultRev),t.previousRev===t.resultRev)throw new Error("Mutation ".concat(t.transactionId," has previousRev === resultRev (").concat(t.previousRev,")"));return this.document.arrive(t)}commit(){return new Promise((t,n)=>{if(!this.buffer.hasChanges()){t();return}Nt("Committing local changes");const r=this.buffer.purge();this.commits.push(new K9t(r?[r]:[],{resolve:t,reject:n})),this.buffer=new A_(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const t=this.commits.shift();if(!t){this.committerRunning=!1;return}this.committerRunning=!0;const n=t.squash(this.LOCAL),r=this.document.stage(n,!0),o={success:()=>{Nt("Commit succeeded"),r.success(),t.resolve(),this._cycleCommitter()},failure:()=>{Nt("Commit failed"),t.tries+=1,this.LOCAL!==null&&this.commits.unshift(t),r.failure(),t.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(t.tries*1e3,G9t))},cancel:i=>{this.commits.forEach(s=>s.reject(i)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new A_(this.LOCAL),this.committerRunning=!1}};Nt("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:o.success,failure:o.failure,cancel:o.cancel})}handleDocRebase(t,n,r){this.rebase(n,r)}handleDocumentDeleted(){Nt("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(t){if(this.commits.length===0&&!this.buffer.hasChanges()){Nt("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new A_(this.LOCAL),this.onMutation&&this.onMutation(t);return}Nt("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([t.mutation],[])}rebase(t,n){Nt("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((i,s)=>s.apply(i),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!Ht(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,t.reduce(YQ,[]),n.reduce(YQ,[]))}handleDocConsistencyChanged(t){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();t&&!n&&this.onConsistencyChanged(!0),t||this.onConsistencyChanged(!1)}}var Uje={};(function(e){(function(){(e!==null?e:this).ExifReader=function(){t.prototype._MIN_DATA_BUFFER_LENGTH=2,t.prototype._JPEG_ID_SIZE=2,t.prototype._JPEG_ID=65496,t.prototype._APP_MARKER_SIZE=2,t.prototype._APP0_MARKER=65504,t.prototype._APP1_MARKER=65505,t.prototype._APP15_MARKER=65519,t.prototype._APP_ID_OFFSET=4,t.prototype._BYTES_Exif=1165519206,t.prototype._TIFF_HEADER_OFFSET=10,t.prototype._BYTE_ORDER_BIG_ENDIAN=18761,t.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function t(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return t.prototype.load=function(n){return this.loadView(new DataView(n))},t.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},t.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},t.prototype._parseAppMarkers=function(n){var r,o,i;for(r=this._JPEG_ID_SIZE,i=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;i.push(r+=this._APP_MARKER_SIZE+o)}return i},t.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},t.prototype._isAppMarker=function(n,r){var o;return o=n.getUint16(r,!1),o>=this._APP0_MARKER&&o<=this._APP15_MARKER},t.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},t.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},t.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},t.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},t.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},t.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},t.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},t.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},t.prototype._readIfd=function(n,r){var o,i,s,a;for(o=this._getShortAt(r),r+=2,a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)i=this._readTag(n,r),this._tags[i.name]={value:i.value,description:i.description},a.push(r+=12);return a},t.prototype._readTag=function(n,r){var o,i,s,a,c,u,d;return o=this._getShortAt(r),c=this._getShortAt(r+2),i=this._getLongAt(r+4),this._typeSizes[c]*i<=4?u=this._getTagValue(r+8,c,i):(d=this._getLongAt(r+8),u=this._getTagValue(this._tiffHeaderOffset+d,c,i)),c===this._tagTypes.ASCII&&(u=this._splitNullSeparatedAsciiString(u)),this._tagNames[n][o]!=null?(this._tagNames[n][o].name!=null&&this._tagNames[n][o].description!=null?(a=this._tagNames[n][o].name,s=this._tagNames[n][o].description(u)):(a=this._tagNames[n][o],u instanceof Array?s=u.join(", "):s=u),{name:a,value:u,description:s}):{name:"undefined-"+o,value:u,description:u}},t.prototype._getTagValue=function(n,r,o){var i,s;return s=(function(){var a,c;for(c=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)i=this._getTagValueAt[r](n),n+=this._typeSizes[r],c.push(i);return c}).call(this),s.length===1?s=s[0]:r===this._tagTypes.ASCII&&(s=this._getAsciiValue(s)),s},t.prototype._getAsciiValue=function(n){var r;return function(){var o,i,s;for(s=[],o=0,i=n.length;o<i;o++)r=n[o],s.push(String.fromCharCode(r));return s}()},t.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},t.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},t.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},t.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},t.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},t.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},t.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},t.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},t.prototype._splitNullSeparatedAsciiString=function(n){var r,o,i,s,a;for(i=[],o=0,s=0,a=n.length;s<a;s++){if(r=n[s],r==="\0"){o++;continue}i[o]==null&&(i[o]=""),i[o]+=r}return i},t.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},t.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},t.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)switch(r=n[i],r){case 49:o+="Y";break;case 50:o+="Cb";break;case 51:o+="Cr";break;case 52:o+="R";break;case 53:o+="G";break;case 54:o+="B"}return o}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700 – 7100K)";case 13:return"Day white fluorescent (N 4600 – 5400K)";case 14:return"Cool white fluorescent (W 3900 – 4500K)";case 15:return"White fluorescent (WW 3200 – 3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,o;return n[0]===(r=n[1])&&r===2&&n[2]===(o=n[3])&&o===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(o){return function(){var i,s,a;for(a=[],i=0,s=2-(""+Math.floor(o)).length;0<=s?i<s:i>s;0<=s?++i:--i)a.push("0");return a}()+o},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},t.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},t.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},t.prototype.getAllTags=function(){return this._tags},t}()}).call(ys)})(Uje);var X9t=Uje.ExifReader,Q9t=function(e){var t=new X9t;t.load(e);var n=t.getAllTags(),r={};for(var o in n)r[J9t(o)]=n[o].description;return r};function J9t(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(t){return t.length==1?t.toLowerCase():t[0]==t[0].toUpperCase()?" "+t.toLowerCase():t[0]+" "+t[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const e7t=Pe(Q9t);var t7t=Jf,n7t=Xf,r7t=Qf;function o7t(e){return function(t,n,r){var o=Object(t);if(!n7t(t)){var i=t7t(n);t=r7t(t),n=function(a){return i(o[a],a,o)}}var s=e(t,n,r);return s>-1?o[i?t[s]:s]:void 0}}var i7t=o7t,s7t=i7t,a7t=E5e,l7t=s7t(a7t),c7t=l7t;const Wje=Pe(c7t);var u7t=Math.ceil,d7t=Math.max;function f7t(e,t,n,r){for(var o=-1,i=d7t(u7t((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++o]=e,e+=n;return s}var h7t=f7t,p7t=h7t,m7t=s8,qP=S5e;function g7t(e){return function(t,n,r){return r&&typeof r!="number"&&m7t(t,n,r)&&(n=r=void 0),t=qP(t),n===void 0?(n=t,t=0):n=qP(n),r=r===void 0?t<n?1:-1:qP(r),p7t(t,n,r,e)}}var v7t=g7t,y7t=v7t,b7t=y7t(),x7t=b7t;const m7=Pe(x7t);var Yje={exports:{}};(function(e){(function(t){var n={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"Ae",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"Oe",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"Ue",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"ae",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"oe",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"ue",ű:"u",ý:"y",þ:"th",ÿ:"y","ẞ":"SS",ا:"a",أ:"a",إ:"i",آ:"aa",ؤ:"u",ئ:"e",ء:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"dh",ط:"t",ظ:"z",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y",ى:"a",ة:"h",ﻻ:"la",ﻷ:"laa",ﻹ:"lai",ﻵ:"laa",گ:"g",چ:"ch",پ:"p",ژ:"zh",ک:"k",ی:"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",က:"k",ခ:"kh",ဂ:"g",ဃ:"ga",င:"ng",စ:"s",ဆ:"sa",ဇ:"z","စျ":"za",ည:"ny",ဋ:"t",ဌ:"ta",ဍ:"d",ဎ:"da",ဏ:"na",တ:"t",ထ:"ta",ဒ:"d",ဓ:"da",န:"n",ပ:"p",ဖ:"pa",ဗ:"b",ဘ:"ba",မ:"m",ယ:"y",ရ:"ya",လ:"l",ဝ:"w",သ:"th",ဟ:"h",ဠ:"la",အ:"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h",ဧ:"e","၏":"-e",ဣ:"i",ဤ:"-i",ဉ:"u",ဦ:"-u",ဩ:"aw","သြော":"aw",ဪ:"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ހ:"h",ށ:"sh",ނ:"n",ރ:"r",ބ:"b",ޅ:"lh",ކ:"k",އ:"a",ވ:"v",މ:"m",ފ:"f",ދ:"dh",ތ:"th",ލ:"l",ގ:"g",ޏ:"gn",ސ:"s",ޑ:"d",ޒ:"z",ޓ:"t",ޔ:"y",ޕ:"p",ޖ:"j",ޗ:"ch",ޘ:"tt",ޙ:"hh",ޚ:"kh",ޛ:"th",ޜ:"z",ޝ:"sh",ޞ:"s",ޟ:"d",ޠ:"t",ޡ:"z",ޢ:"a",ޣ:"gh",ޤ:"q",ޥ:"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",α:"a",β:"v",γ:"g",δ:"d",ε:"e",ζ:"z",η:"i",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"ks",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"o",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"i",ώ:"o",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"I",Θ:"TH",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"KS",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"O",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"I",Ώ:"O",Ϊ:"I",Ϋ:"Y",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"U",Ќ:"Kj",ќ:"kj",Љ:"Lj",љ:"lj",Њ:"Nj",њ:"nj",Тс:"Ts",тс:"ts",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",ă:"a",Ă:"A",ș:"s",Ș:"S",ț:"t",Ț:"T",ţ:"t",Ţ:"T",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"I",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",ђ:"dj",ј:"j",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Ћ:"C",Џ:"Dz",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",ả:"a",Ả:"A",ẳ:"a",Ẳ:"A",ẩ:"a",Ẩ:"A",đ:"d",Đ:"D",ẹ:"e",Ẹ:"E",ẽ:"e",Ẽ:"E",ẻ:"e",Ẻ:"E",ế:"e",Ế:"E",ề:"e",Ề:"E",ệ:"e",Ệ:"E",ễ:"e",Ễ:"E",ể:"e",Ể:"E",ỏ:"o",ọ:"o",Ọ:"o",ố:"o",Ố:"O",ồ:"o",Ồ:"O",ổ:"o",Ổ:"O",ộ:"o",Ộ:"O",ỗ:"o",Ỗ:"O",ơ:"o",Ơ:"O",ớ:"o",Ớ:"O",ờ:"o",Ờ:"O",ợ:"o",Ợ:"O",ỡ:"o",Ỡ:"O",Ở:"o",ở:"o",ị:"i",Ị:"I",ĩ:"i",Ĩ:"I",ỉ:"i",Ỉ:"i",ủ:"u",Ủ:"U",ụ:"u",Ụ:"U",ũ:"u",Ũ:"U",ư:"u",Ư:"U",ứ:"u",Ứ:"U",ừ:"u",Ừ:"U",ự:"u",Ự:"U",ữ:"u",Ữ:"U",ử:"u",Ử:"ư",ỷ:"y",Ỷ:"y",ỳ:"y",Ỳ:"Y",ỵ:"y",Ỵ:"Y",ỹ:"y",Ỹ:"Y",ạ:"a",Ạ:"A",ấ:"a",Ấ:"A",ầ:"a",Ầ:"A",ậ:"a",Ậ:"A",ẫ:"a",Ẫ:"A",ắ:"a",Ắ:"A",ằ:"a",Ằ:"A",ặ:"a",Ặ:"A",ẵ:"a",Ẵ:"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d",ƒ:"f","™":"(TM)","©":"(C)",œ:"oe",Œ:"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o",º:"o",ª:"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY",元:"CNY",円:"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN",лв:"BGN","៛":"KHR","₡":"CRC","₸":"KZT",ден:"MKD",zł:"PLN","₽":"RUB","₾":"GEL"},r=["်","ް"],o={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},i={en:{},az:{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},cs:{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},fi:{ä:"a",Ä:"A",ö:"o",Ö:"O"},hu:{ä:"a",Ä:"A",ö:"o",Ö:"O",ü:"u",Ü:"U",ű:"u",Ű:"U"},lt:{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U"},lv:{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Š:"S",Ū:"u",Ž:"Z"},pl:{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},sv:{ä:"a",Ä:"A",ö:"o",Ö:"O"},sk:{ä:"a",Ä:"A"},sr:{љ:"lj",њ:"nj",Љ:"Lj",Њ:"Nj",đ:"dj",Đ:"Dj"},tr:{Ü:"U",Ö:"O",ü:"u",ö:"o"}},s={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},a=[";","?",":","@","&","=","+","$",",","/"].join(""),c=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),d=function(g,y){var x="-",b="",w="",C=!0,_={},S,E,j,k,T,A,D,I,P,$,R,V,N,W,G="";if(typeof g!="string")return"";if(typeof y=="string"&&(x=y),D=s.en,I=i.en,typeof y=="object"){S=y.maintainCase||!1,_=y.custom&&typeof y.custom=="object"?y.custom:_,j=+y.truncate>1&&y.truncate||!1,k=y.uric||!1,T=y.uricNoSlash||!1,A=y.mark||!1,C=!(y.symbols===!1||y.lang===!1),x=y.separator||x,k&&(G+=a),T&&(G+=c),A&&(G+=u),D=y.lang&&s[y.lang]&&C?s[y.lang]:C?s.en:{},I=y.lang&&i[y.lang]?i[y.lang]:y.lang===!1||y.lang===!0?{}:i.en,y.titleCase&&typeof y.titleCase.length=="number"&&Array.prototype.toString.call(y.titleCase)?(y.titleCase.forEach(function(H){_[H+""]=H+""}),E=!0):E=!!y.titleCase,y.custom&&typeof y.custom.length=="number"&&Array.prototype.toString.call(y.custom)&&y.custom.forEach(function(H){_[H+""]=H+""}),Object.keys(_).forEach(function(H){var q;H.length>1?q=new RegExp("\\b"+p(H)+"\\b","gi"):q=new RegExp(p(H),"gi"),g=g.replace(q,_[H])});for(R in _)G+=R}for(G+=x,G=p(G),g=g.replace(/(^\s+|\s+$)/g,""),N=!1,W=!1,$=0,V=g.length;$<V;$++)R=g[$],m(R,_)?N=!1:I[R]?(R=N&&I[R].match(/[A-Za-z0-9]/)?" "+I[R]:I[R],N=!1):R in n?($+1<V&&r.indexOf(g[$+1])>=0?(w+=R,R=""):W===!0?(R=o[w]+n[R],w=""):R=N&&n[R].match(/[A-Za-z0-9]/)?" "+n[R]:n[R],N=!1,W=!1):R in o?(w+=R,R="",$===V-1&&(R=o[w]),W=!0):D[R]&&!(k&&a.indexOf(R)!==-1)&&!(T&&c.indexOf(R)!==-1)?(R=N||b.substr(-1).match(/[A-Za-z0-9]/)?x+D[R]:D[R],R+=g[$+1]!==void 0&&g[$+1].match(/[A-Za-z0-9]/)?x:"",N=!0):(W===!0?(R=o[w]+R,w="",W=!1):N&&(/[A-Za-z0-9]/.test(R)||b.substr(-1).match(/A-Za-z0-9]/))&&(R=" "+R),N=!1),b+=R.replace(new RegExp("[^\\w\\s"+G+"_-]","g"),x);return E&&(b=b.replace(/(\w)(\S*)/g,function(H,q,X){var B=q.toUpperCase()+(X!==null?X:"");return Object.keys(_).indexOf(B.toLowerCase())<0?B:B.toLowerCase()})),b=b.replace(/\s+/g,x).replace(new RegExp("\\"+x+"+","g"),x).replace(new RegExp("(^\\"+x+"+|\\"+x+"+$)","g"),""),j&&b.length>j&&(P=b.charAt(j)===x,b=b.slice(0,j),P||(b=b.slice(0,b.lastIndexOf(x)))),!S&&!E&&(b=b.toLowerCase()),b},f=function(g){return function(x){return d(x,g)}},p=function(g){return g.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(v,g){for(var y in g)if(g[y]===v)return!0};if(e.exports)e.exports=d,e.exports.createSlug=f;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=d,t.createSlug=f}catch{}})(ys)})(Yje);var w7t=Yje.exports,C7t=w7t;const qje=Pe(C7t);var _7t=P0,S7t=s8;function E7t(e){return _7t(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,s&&S7t(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}var k7t=E7t,j7t=R0,T7t=k7t,A7t=Qf,D7t=T7t(function(e,t,n,r){j7t(t,A7t(t),e,r)}),I7t=D7t;const P7t=Pe(I7t);var O7t=Fc;function R7t(e,t){return O7t(t,function(n){return e[n]})}var $7t=R7t,M7t=$7t,F7t=Qf;function L7t(e){return e==null?[]:M7t(e,F7t(e))}var Gje=L7t;const B7t=Pe(Gje);var Kp={};Object.defineProperty(Kp,"__esModule",{value:!0});Kp.SKIP=Zje;var Kje=Kp.reduce=Xje;Kp.withCustomPathSegment=Kp.SKIP_MARKER=void 0;function g7(e,t){return V7t(e)||z7t(e,t)||N7t()}function N7t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function z7t(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(c){o=!0,i=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}function V7t(e){if(Array.isArray(e))return e}function uS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uS=function(n){return typeof n}:uS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},uS(e)}function QT(e,t,n){return t}function H7t(e){return Array.isArray(e)?"array":e===null?"null":uS(e)}var v7={_:"SKIP_MARKER"};Kp.SKIP_MARKER=v7;function Zje(e){return[v7,e]}function y7(e,t,n,r){var o=t(e,n,r);return o===Zje?[!0,e]:Array.isArray(o)&&o[0]===v7?[!0,o[1]]:[!1,o]}function U7t(e,t,n,r){var o=y7(e,t,n,r),i=g7(o,2),s=i[1];return s}function W7t(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:QT,i=y7(e,t,n,r),s=g7(i,2),a=s[0],c=s[1];return a?c:Object.keys(n).reduce(function(u,d){return b7(u,t,n[d],r.concat(o(n[d],d,n)),o)},c)}function Y7t(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:QT,i=y7(e,t,n,r),s=g7(i,2),a=s[0],c=s[1];return a?c:n.reduce(function(u,d,f){return b7(u,t,d,r.concat(o(d,f,n)),o)},c)}function b7(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:QT,i=H7t(n);return i==="object"?W7t(e,t,n,r,o):i==="array"?Y7t(e,t,n,r,o):U7t(e,t,n,r)}function Xje(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:QT;return b7(n,t,e,[],r)}var q7t=function(t){return function(n,r,o){return Xje(n,r,o,t)}};Kp.withCustomPathSegment=q7t;function x7(e){return t=>fo(()=>{const n=new _r;return t.pipe(ICe(()=>n,{leading:!0,trailing:!0}),kCe((r,o)=>gCe(e(r,o),Il).pipe(jCe(()=>{n.next()}))))})}var G7t=Object.defineProperty,K7t=(e,t,n)=>t in e?G7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qQ=(e,t,n)=>(K7t(e,typeof t!="symbol"?t+"":t,n),n);function Z7t(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function X7t(e){const t=[];for(const n of e.split("."))n==="*"?t.push("[^.]+"):n==="**"?t.push(".*"):t.push(Z7t(n));return new RegExp("^".concat(t.join("."),"$"))}class Qje{constructor(t){qQ(this,"pattern"),qQ(this,"patternRe"),this.pattern=t,this.patternRe=X7t(t)}matches(t){return this.patternRe.test(t)}toJSON(){return this.pattern}}var Q7t=Object.defineProperty,J7t=(e,t,n)=>t in e?Q7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,U1=(e,t,n)=>(J7t(e,typeof t!="symbol"?t+"":t,n),n);class Xd{constructor(t){U1(this,"type","stream"),U1(this,"generator"),U1(this,"ticker"),U1(this,"isDone"),U1(this,"data"),this.generator=t,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const t=[];for await(const n of this)t.push(await n.get());return t}async*[Symbol.asyncIterator](){let t=0;for(;;){for(;t<this.data.length;t++)yield this.data[t];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let t;const n=()=>{this.ticker=new Promise(i=>{t=i})},r=()=>{t(),n()},o=async()=>{for await(const i of this.generator())this.data.push(i),r();this.isDone=!0,r()};return n(),o(),this.ticker}}const eBt=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function tBt(e){return eBt.test(e)?new Date(e):null}function nBt(e){const t=wh(e.getUTCFullYear(),4),n=wh(e.getUTCMonth()+1,2),r=wh(e.getUTCDate(),2),o=wh(e.getUTCHours(),2),i=wh(e.getUTCMinutes(),2),s=wh(e.getUTCSeconds(),2);let a="";const c=e.getMilliseconds();return c!=0&&(a=".".concat(wh(c,3))),"".concat(t,"-").concat(n,"-").concat(r,"T").concat(o,":").concat(i,":").concat(s).concat(a,"Z")}function wh(e,t){let n=e.toString();for(;n.length<t;)n="0".concat(n);return n}var rBt=Object.defineProperty,oBt=(e,t,n)=>t in e?rBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bM=(e,t,n)=>(oBt(e,typeof t!="symbol"?t+"":t,n),n);class hd{constructor(t,n){bM(this,"data"),bM(this,"type"),this.data=t,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(t){for(const n of t)yield or(n)}(this.data);throw new Error("Cannot iterate over: ".concat(this.type))}}const Me=new hd(null,"null"),Po=new hd(!0,"boolean"),so=new hd(!1,"boolean");class Xv{constructor(t){bM(this,"date"),this.date=t}static parseToValue(t){const n=tBt(t);return n?new hd(new Xv(n),"datetime"):Me}equals(t){return this.date.getTime()==t.date.getTime()}add(t){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+t*1e3),new Xv(n)}difference(t){return(this.date.getTime()-t.date.getTime())/1e3}compareTo(t){return this.date.getTime()-t.date.getTime()}toString(){return nBt(this.date)}toJSON(){return this.toString()}}function La(e){return Number.isFinite(e)?new hd(e,"number"):Me}function Ba(e){return new hd(e,"string")}function xM(e){return new hd(e,"datetime")}function iBt(e){return new hd(e,"path")}function sBt(e){return e&&typeof e.next=="function"}function or(e){return sBt(e)?new Xd(async function*(){for await(const t of e)yield or(t)}):e==null?Me:new hd(e,Qv(e))}function Qv(e){return e===null||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof Qje?"path":e instanceof Xv?"datetime":typeof e}function GP(e,t){return e.type==="string"&&t.type==="string"||e.type==="boolean"&&t.type==="boolean"||e.type==="null"&&t.type==="null"||e.type==="number"&&t.type==="number"?e.data===t.data:e.type==="datetime"&&t.type==="datetime"?e.data.equals(t.data):!1}const aBt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,lBt=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,Jje=/(\b\.+|\.+\b)/g,cBt=1024;function uBt(e,t){return e.length===0||t.length===0?!1:t.every(n=>n(e))}function eTe(e){return e.replace(Jje,"").match(aBt)||[]}function dBt(e){return tTe(e).map(n=>r=>r.some(o=>n.test(o)))}function tTe(e){return(e.replace(Jje,"").match(lBt)||[]).map(n=>new RegExp("^".concat(n.slice(0,cBt).replace(/\*/g,".*"),"$"),"i"))}async function Vk(e,t){if(e.type==="string")return t(e.data),!0;if(e.isArray()){let n=!0;for await(const r of e)r.type==="string"?t(r.data):n=!1;return n}return!1}const GQ={datetime:1,number:2,string:3,boolean:4};function op(e,t){const n=Qv(e),r=Qv(t);if(n!==r)return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function fBt(e,t){const n=Qv(e),r=Qv(t),o=GQ[n]||100,i=GQ[r]||100;if(o!==i)return o-i;let s=op(e,t);return s===null&&(s=0),s}const hBt={"==":function(t,n){return GP(t,n)?Po:so},"!=":function(t,n){return GP(t,n)?so:Po},">":function(t,n){if(t.type==="stream"||n.type==="stream")return Me;const r=op(t.data,n.data);return r===null?Me:r>0?Po:so},">=":function(t,n){if(t.type==="stream"||n.type==="stream")return Me;const r=op(t.data,n.data);return r===null?Me:r>=0?Po:so},"<":function(t,n){if(t.type==="stream"||n.type==="stream")return Me;const r=op(t.data,n.data);return r===null?Me:r<0?Po:so},"<=":function(t,n){if(t.type==="stream"||n.type==="stream")return Me;const r=op(t.data,n.data);return r===null?Me:r<=0?Po:so},in:async function(t,n){if(n.type==="path")return t.type!=="string"?Me:n.data.matches(t.data)?Po:so;if(n.isArray()){for await(const r of n)if(GP(t,r))return Po;return so}return Me},match:async function(t,n){let r=[],o=[];return await Vk(t,a=>{r=r.concat(eTe(a))}),await Vk(n,a=>{o=o.concat(dBt(a))})&&uBt(r,o)?Po:so},"+":function(t,n){return t.type==="datetime"&&n.type==="number"?xM(t.data.add(n.data)):t.type==="number"&&n.type==="number"?La(t.data+n.data):t.type==="string"&&n.type==="string"?Ba(t.data+n.data):t.type==="object"&&n.type==="object"?or({...t.data,...n.data}):t.type==="array"&&n.type==="array"?or(t.data.concat(n.data)):t.isArray()&&n.isArray()?new Xd(async function*(){for await(const r of t)yield r;for await(const r of n)yield r}):Me},"-":function(t,n){return t.type==="datetime"&&n.type==="number"?xM(t.data.add(-n.data)):t.type==="datetime"&&n.type==="datetime"?La(t.data.difference(n.data)):t.type==="number"&&n.type==="number"?La(t.data-n.data):Me},"*":D_((e,t)=>e*t),"/":D_((e,t)=>e/t),"%":D_((e,t)=>e%t),"**":D_((e,t)=>Math.pow(e,t))};function D_(e){return function(t,n){if(t.type==="number"&&n.type==="number"){const r=e(t.data,n.data);return La(r)}return Me}}var pBt=Object.defineProperty,mBt=(e,t,n)=>t in e?pBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zm=(e,t,n)=>(mBt(e,typeof t!="symbol"?t+"":t,n),n);class bx{constructor(t,n,r,o,i){Zm(this,"params"),Zm(this,"source"),Zm(this,"value"),Zm(this,"parent"),Zm(this,"context"),Zm(this,"isHidden",!1),this.params=t,this.source=n,this.value=r,this.context=o,this.parent=i}createNested(t){return this.isHidden?new bx(this.params,this.source,t,this.context,this.parent):new bx(this.params,this.source,t,this.context,this)}createHidden(t){const n=this.createNested(t);return n.isHidden=!0,n}}function w7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w7;const r=gBt[e.type];return r(e,t,n)}function KQ(e,t){return"then"in e?e.then(t):t(e)}const gBt={This(e,t){return t.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(e,t){return t.source},Parameter(e,t){let{name:n}=e;return or(t.params[n])},Context(e,t){let{key:n}=e;if(n==="before"||n==="after")return t.context[n]||Me;throw new Error("unknown context key: ".concat(n))},Parent(e,t){let{n}=e,r=t;for(let o=0;o<n;o++){if(!r.parent)return Me;r=r.parent}return r.value},OpCall(e,t,n){let{op:r,left:o,right:i}=e;const s=hBt[r];if(!s)throw new Error("Unknown operator: ".concat(r));const a=n(o,t),c=n(i,t);return"then"in a||"then"in c?(async()=>s(await a,await c))():s(a,c)},async Select(e,t,n){let{alternatives:r,fallback:o}=e;for(const i of r){const s=await n(i.condition,t);if(s.type==="boolean"&&s.data===!0)return n(i.value,t)}return o?n(o,t):Me},async InRange(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t),c=await n(o,t),u=await n(i,t),d=op(await a.get(),await c.get());if(d===null)return Me;const f=op(await a.get(),await u.get());return f===null?Me:s?d>=0&&f<=0?Po:so:d>=0&&f<0?Po:so},async Filter(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Xd(async function*(){for await(const s of i){const a=t.createNested(s),c=await n(o,a);c.type==="boolean"&&c.data===!0&&(yield s)}}):Me},async Projection(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);if(i.type!=="object")return Me;const s=t.createNested(i);return n(o,s)},FuncCall(e,t,n){let{func:r,args:o}=e;return r(o,t,n)},async PipeFuncCall(e,t,n){let{func:r,base:o,args:i}=e;const s=await n(o,t);return r(s,i,t,n)},async AccessAttribute(e,t,n){let{base:r,name:o}=e,i=t.value;return r&&(i=await n(r,t)),i.type==="object"&&i.data.hasOwnProperty(o)?or(i.data[o]):Me},async AccessElement(e,t,n){let{base:r,index:o}=e;const i=await n(r,t);if(!i.isArray())return Me;const s=await i.get(),a=o<0?o+s.length:o;return or(s[a])},async Slice(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t);if(!a.isArray())return Me;const c=await a.get();let u=o,d=i;return u<0&&(u=c.length+u),d<0&&(d=c.length+d),s&&d++,u<0&&(u=0),d<0&&(d=0),or(c.slice(u,d))},async Deref(e,t,n){let{base:r}=e;const o=await n(r,t);if(!t.source.isArray()||o.type!=="object")return Me;const i=o.data._ref;if(typeof i!="string")return Me;if(t.context.dereference)return or(await t.context.dereference({_ref:i}));for await(const s of t.source)if(s.type==="object"&&i===s.data._id)return s;return Me},Value(e){let{value:t}=e;return or(t)},Group(e,t,n){let{base:r}=e;return n(r,t)},async Object(e,t,n){let{attributes:r}=e;const o={};for(const i of r){const s=i.type;switch(i.type){case"ObjectAttributeValue":{const a=await n(i.value,t);o[i.name]=await a.get();break}case"ObjectConditionalSplat":{const a=await n(i.condition,t);if(a.type!=="boolean"||a.data===!1)continue;const c=await n(i.value,t);c.type==="object"&&Object.assign(o,c.data);break}case"ObjectSplat":{const a=await n(i.value,t);a.type==="object"&&Object.assign(o,a.data);break}default:throw new Error("Unknown node type: ".concat(s))}}return or(o)},Array(e,t,n){let{elements:r}=e;return new Xd(async function*(){for(const o of r){const i=await n(o.value,t);if(o.isSplat){if(i.isArray())for await(const s of i)yield s}else yield i}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!0||s.type==="boolean"&&s.data===!0?Po:i.type!=="boolean"||s.type!=="boolean"?Me:so},async And(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!1||s.type==="boolean"&&s.data===!1?so:i.type!=="boolean"||s.type!=="boolean"?Me:Po},async Not(e,t,n){let{base:r}=e;const o=await n(r,t);return o.type!=="boolean"?Me:o.data?so:Po},Neg(e,t,n){let{base:r}=e;return KQ(n(r,t),o=>o.type!=="number"?Me:La(-o.data))},Pos(e,t,n){let{base:r}=e;return KQ(n(r,t),o=>o.type!=="number"?Me:La(o.data))},Asc(){return Me},Desc(){return Me},async ArrayCoerce(e,t,n){let{base:r}=e;const o=await n(r,t);return o.isArray()?o:Me},async Map(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Xd(async function*(){for await(const s of i){const a=t.createHidden(s);yield await n(o,a)}}):Me},async FlatMap(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Xd(async function*(){for await(const s of i){const a=t.createHidden(s),c=await n(o,a);if(c.isArray())for await(const u of c)yield u;else yield c}}):Me}};function nTe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=or(t.root),r=or(t.dataset),o={...t.params},i=new bx(o,r,n,{timestamp:t.timestamp||new Date,identity:t.identity===void 0?"me":t.identity,sanity:t.sanity,after:t.after?or(t.after):null,before:t.before?or(t.before):null,dereference:t.dereference},null);return w7(e,i)}function _y(e){switch(e.type){case"Group":return _y(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return _y(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return _y(e.left)&&_y(e.right);default:return!1}default:return!1}}const vBt=new bx({},Me,Me,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function KP(e){return _y(e)?rTe(e):null}function rTe(e){const t=w7(e,vBt,rTe);if("then"in t)throw new Error("BUG: constant evaluate should never return a promise");return t}async function yBt(e){if(e.type==="object")return iTe(e.data);if(e.isArray()){const t=await oTe(e);if(t.length>0)return t.join(`

`)}return null}async function oTe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for await(const n of e)if(n.type==="object"){const r=iTe(n.data);r!==null&&t.push(r)}else n.isArray()&&await oTe(n,t);return t}function iTe(e){if(typeof e._type!="string")return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const r of t)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const ZQ=1.2;async function pg(e,t,n){if(e.type==="OpCall"&&e.op==="match")return bBt(e.left,e.right,t,n);if(e.type==="FuncCall"&&e.name==="boost"){const r=await pg(e.args[0],t,n),o=await n(e.args[1],t);return o.type==="number"&&r>0?r+o.data:0}switch(e.type){case"Or":{const r=await pg(e.left,t,n),o=await pg(e.right,t,n);return r+o}case"And":{const r=await pg(e.left,t,n),o=await pg(e.right,t,n);return r===0||o===0?0:r+o}default:{const r=await n(e,t);return r.type==="boolean"&&r.data===!0?1:0}}}async function bBt(e,t,n,r){const o=await r(e,n),i=await r(t,n);let s=[],a=[];if(await Vk(o,d=>{s=s.concat(eTe(d))}),!await Vk(i,d=>{a=a.concat(tTe(d))})||s.length===0||a.length===0)return 0;let u=0;for(const d of a){const f=s.reduce((p,m)=>p+(d.test(m)?1:0),0);u+=f*(ZQ+1)/(f+ZQ)}return u}function wM(e,t){switch(Qv(e)){case"array":for(const n of e)if(wM(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if(wM(n,t))return!0;break}return!1}function xBt(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}const $n={};$n.anywhere=async function(){throw new Error("not implemented")};$n.anywhere.arity=1;$n.coalesce=async function(t,n,r){for(const o of t){const i=await r(o,n);if(i.type!=="null")return i}return Me};$n.count=async function(t,n,r){const o=await r(t[0],n);if(!o.isArray())return Me;let i=0;for await(const s of o)i++;return La(i)};$n.count.arity=1;$n.dateTime=async function(t,n,r){const o=await r(t[0],n);return o.type==="datetime"?o:o.type!=="string"?Me:Xv.parseToValue(o.data)};$n.dateTime.arity=1;$n.defined=async function(t,n,r){return(await r(t[0],n)).type==="null"?so:Po};$n.defined.arity=1;$n.identity=async function(t,n){return Ba(n.context.identity)};$n.identity.arity=0;$n.length=async function(t,n,r){const o=await r(t[0],n);if(o.type==="string")return La(xBt(o.data));if(o.isArray()){let i=0;for await(const s of o)i++;return La(i)}return Me};$n.length.arity=1;$n.path=async function(t,n,r){const o=await r(t[0],n);return o.type!=="string"?Me:iBt(new Qje(o.data))};$n.path.arity=1;$n.string=async function(t,n,r){const o=await r(t[0],n);switch(o.type){case"number":case"string":case"boolean":case"datetime":return Ba("".concat(o.data));default:return Me}};$n.string.arity=1;$n.references=async function(t,n,r){const o=new Set;for(const s of t){const a=await r(s,n);if(a.type==="string")o.add(a.data);else if(a.isArray())for await(const c of a)c.type==="string"&&o.add(c.data)}if(o.size===0)return so;const i=await n.value.get();return wM(i,o)?Po:so};$n.references.arity=e=>e>=1;$n.round=async function(t,n,r){const o=await r(t[0],n);if(o.type!=="number")return Me;const i=o.data;let s=0;if(t.length===2){const a=await r(t[1],n);if(a.type!=="number"||a.data<0||!Number.isInteger(a.data))return Me;s=a.data}return s===0?i<0?La(-Math.round(-i)):La(Math.round(i)):La(Number(i.toFixed(s)))};$n.round.arity=e=>e>=1&&e<=2;$n.now=async function(t,n){return Ba(n.context.timestamp.toISOString())};$n.now.arity=0;$n.boost=async function(){throw new Error("unexpected boost call")};$n.boost.arity=2;const Hl={};Hl.lower=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Me:Ba(r.data.toLowerCase())};Hl.lower.arity=1;Hl.upper=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Me:Ba(r.data.toUpperCase())};Hl.upper.arity=1;Hl.split=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Me;const o=await n(e[1],t);return o.type!=="string"?Me:r.data.length===0?or([]):o.data.length===0?or(Array.from(r.data)):or(r.data.split(o.data))};Hl.split.arity=2;$n.lower=Hl.lower;$n.upper=Hl.upper;Hl.startsWith=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Me;const o=await n(e[1],t);return o.type!=="string"?Me:r.data.startsWith(o.data)?Po:so};Hl.startsWith.arity=2;const Tm={};Tm.join=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Me;const o=await n(e[1],t);if(o.type!=="string")return Me;let i="",s=!1;for await(const a of r){switch(s&&(i+=o.data),a.type){case"number":case"string":case"boolean":case"datetime":i+="".concat(a.data);break;default:return Me}s=!0}return or(i)};Tm.join.arity=2;Tm.compact=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Xd(async function*(){for await(const o of r)o.type!=="null"&&(yield o)}):Me};Tm.compact.arity=1;Tm.unique=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Xd(async function*(){const o=new Set;for await(const i of r)switch(i.type){case"number":case"string":case"boolean":case"datetime":o.has(i.data)||(o.add(i.data),yield i);break;default:yield i}}):Me};Tm.unique.arity=1;const C7={};C7.text=async function(e,t,n){const r=await n(e[0],t),o=await yBt(r);return o===null?Me:Ba(o)};C7.text.arity=1;const _7={};_7.projectId=async function(e,t){return t.context.sanity?Ba(t.context.sanity.projectId):Me};_7.dataset=async function(e,t){return t.context.sanity?Ba(t.context.sanity.dataset):Me};const Vw={};Vw.order=async function(t,n,r,o){if(await!0,!t.isArray())return Me;const i=[],s=[];let a=0;for(let d of n){let f="asc";d.type==="Desc"?(f="desc",d=d.base):d.type==="Asc"&&(d=d.base),i.push(d),s.push(f),a++}const c=[];let u=0;for await(const d of t){const f=r.createNested(d),p=[await d.get(),u];for(let m=0;m<a;m++){const v=await o(i[m],f);p.push(await v.get())}c.push(p),u++}return c.sort((d,f)=>{for(let p=0;p<a;p++){let m=fBt(d[p+2],f[p+2]);if(s[p]==="desc"&&(m=-m),m!==0)return m}return d[1]-f[1]}),or(c.map(d=>d[0]))};Vw.order.arity=e=>e>=1;Vw.score=async function(t,n,r,o){if(!t.isArray())return Me;const i=[],s=[];for await(const a of t){if(a.type!=="object"){i.push(await a.get());continue}const c=r.createNested(a);let u=typeof a.data._score=="number"?a.data._score:0;for(const f of n)u+=await pg(f,c,o);const d=Object.assign({},a.data,{_score:u});s.push(d)}return s.sort((a,c)=>c._score-a._score),or(s)};Vw.score.arity=e=>e>=1;const oh={};oh.operation=async function(e,t){const n=t.context.before!==null,r=t.context.after!==null;return n&&r?Ba("update"):r?Ba("create"):n?Ba("delete"):Me};oh.changedAny=()=>{throw new Error("not implemented")};oh.changedAny.arity=1;oh.changedAny.mode="delta";oh.changedOnly=()=>{throw new Error("not implemented")};oh.changedOnly.arity=1;oh.changedOnly.mode="delta";const Hw={};Hw.changedAny=()=>{throw new Error("not implemented")};Hw.changedAny.arity=3;Hw.changedOnly=()=>{throw new Error("not implemented")};Hw.changedOnly.arity=3;const pd={};pd.min=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Me;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Me;(o===void 0||i.data<o)&&(o=i.data)}return or(o)};pd.min.arity=1;pd.max=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Me;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Me;(o===void 0||i.data>o)&&(o=i.data)}return or(o)};pd.max.arity=1;pd.sum=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Me;let o=0;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Me;o+=i.data}return or(o)};pd.sum.arity=1;pd.avg=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Me;let o=0,i=0;for await(const s of r)if(s.type!=="null"){if(s.type!=="number")return Me;o+=s.data,i++}return i===0?Me:or(o/i)};pd.avg.arity=1;const S7={};S7.now=async function(t,n,r){return xM(new Xv(n.context.timestamp))};S7.now.arity=0;const wBt={global:$n,string:Hl,array:Tm,pt:C7,delta:oh,diff:Hw,sanity:_7,math:pd,dateTime:S7};var CBt=Object.defineProperty,_Bt=(e,t,n)=>t in e?CBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W1=(e,t,n)=>(_Bt(e,typeof t!="symbol"?t+"":t,n),n);class SBt{constructor(t,n,r){W1(this,"string"),W1(this,"marks"),W1(this,"index"),W1(this,"parseOptions"),W1(this,"allowBoost",!1),this.string=t,this.marks=n,this.index=0,this.parseOptions=r}hasMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.index+t<this.marks.length}getMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.marks[this.index+t]}shift(){this.index+=1}process(t){const n=this.marks[this.index];this.shift();const r=t[n.name];if(!r)throw new Error("Unknown handler: ".concat(n.name));return r.call(t,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const t=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(t.position,n.position)}slice(t){const n=this.marks[this.index].position;return this.string.slice(n,n+t)}}const EBt=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,ZP=/^\d+/,ip=/^[a-zA-Z_][a-zA-Z_0-9]*/,I_=1,P_=2,O_=3,to=4,Xm=4,R_=6,$_=6,M_=7,F_=7,L_=7,B_=8,kBt=10,jBt=10,TBt=8;function ABt(e){let t=0;t=tt(e,t);let n=jn(e,t,0);return n.type==="error"?n:(t=tt(e,n.position),t!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",position:t}):(delete n.position,delete n.failPosition,n))}function jn(e,t,n){let r=t,o=e[t],i;switch(o){case"+":{let u=jn(e,tt(e,t+1),kBt);if(u.type==="error")return u;i=[{name:"pos",position:r}].concat(u.marks),t=u.position;break}case"-":{let u=jn(e,tt(e,t+1),TBt);if(u.type==="error")return u;i=[{name:"neg",position:r}].concat(u.marks),t=u.position;break}case"(":{let u=jn(e,tt(e,t+1),0);if(u.type==="error")return u;switch(t=tt(e,u.position),e[t]){case",":{for(i=[{name:"tuple",position:r}].concat(u.marks),t=tt(e,t+1);;){if(u=jn(e,t,0),u.type==="error")return u;if(t=tt(e,u.position),e[t]!==",")break;t=tt(e,t+1)}if(e[t]!==")")return{type:"error",position:t};t++,i.push({name:"tuple_end",position:t});break}case")":{t++,i=[{name:"group",position:r}].concat(u.marks);break}default:return{type:"error",position:t}}break}case"!":{let u=jn(e,tt(e,t+1),jBt);if(u.type==="error")return u;i=[{name:"not",position:r}].concat(u.marks),t=u.position;break}case"{":{let u=CM(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"[":if(i=[{name:"array",position:t}],t=tt(e,t+1),e[t]!=="]")for(;;){e.slice(t,t+3)==="..."&&(i.push({name:"array_splat",position:t}),t=tt(e,t+3));let u=jn(e,t,0);if(u.type==="error")return u;if(i=i.concat(u.marks),t=u.position,t=tt(e,t),e[t]!==","||(t=tt(e,t+1),e[t]==="]"))break}if(e[t]==="]")t++,i.push({name:"array_end",position:t});else return{type:"error",position:t};break;case"'":case'"':{let u=DBt(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"^":{for(t++,i=[];e[t]==="."&&e[t+1]==="^";)i.push({name:"dblparent",position:r}),t+=2;i.push({name:"parent",position:r});break}case"@":i=[{name:"this",position:r}],t++;break;case"*":i=[{name:"everything",position:r}],t++;break;case"$":{let u=uc(e,t+1,ip);u&&(t+=1+u,i=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let u=uc(e,t,ZP);if(u){t+=u;let f="integer";if(e[t]==="."){let p=uc(e,t+1,ZP);p&&(f="float",t+=1+p)}if(e[t]==="e"||e[t]==="E"){f="sci",t++,(e[t]==="+"||e[t]==="-")&&t++;let p=uc(e,t,ZP);if(!p)return{type:"error",position:t};t+=p}i=[{name:f,position:r},{name:f+"_end",position:t}];break}let d=uc(e,t,ip);if(d){switch(t+=d,e[t]){case":":case"(":{let f=QQ(e,r,t);if(f.type==="error")return f;i=f.marks,t=f.position;break}default:i=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}break}}}if(!i)return{type:"error",position:t};let s=12,a;e:for(;;){let u=tt(e,t);if(u===e.length){t=u;break}if(a=XQ(e,u),a.type==="success"){for(i.unshift({name:"traverse",position:r});a.type==="success";)i=i.concat(a.marks),t=a.position,a=XQ(e,tt(e,t));i.push({name:"traversal_end",position:t});continue}switch(e[u]){case"=":{switch(e[u+1]){case">":{if(n>I_||s<=I_)break e;let p=jn(e,tt(e,u+2),I_);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pair",position:r}),t=p.position,s=I_;break}case"=":{if(n>to||s<=to)break e;let p=jn(e,tt(e,u+2),to+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(p.marks),t=p.position,s=to;break}default:break e}break}case"+":{if(n>R_||s<R_)break e;let f=jn(e,tt(e,u+1),R_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"add",position:r}),t=f.position,s=R_;break}case"-":{if(n>$_||s<$_)break e;let f=jn(e,tt(e,u+1),$_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"sub",position:r}),t=f.position,s=$_;break}case"*":{if(e[u+1]==="*"){if(n>B_||s<=B_)break e;let p=jn(e,tt(e,u+2),B_);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pow",position:r}),t=p.position,s=B_;break}if(n>M_||s<M_)break e;let f=jn(e,tt(e,u+1),M_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mul",position:r}),t=f.position,s=M_;break}case"/":{if(n>F_||s<F_)break e;let f=jn(e,tt(e,u+1),F_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"div",position:r}),t=f.position,s=F_;break}case"%":{if(n>L_||s<L_)break e;let f=jn(e,tt(e,u+1),L_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mod",position:r}),t=f.position,s=L_;break}case"<":case">":{if(n>to||s<=to)break e;let f=u+1;e[f]==="="&&f++;let p=jn(e,tt(e,f),to+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:f}),i=i.concat(p.marks),t=p.position,s=to;break}case"|":{if(e[u+1]==="|"){if(n>P_||s<P_)break e;let f=jn(e,tt(e,u+2),P_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"or",position:r}),t=f.position,s=P_}else{if(n>11||s<11)break e;let f=tt(e,u+1),p=uc(e,f,ip);if(!p)return{type:"error",position:f};if(t=f+p,e[t]==="("||e[t]===":"){let m=QQ(e,f,t);if(m.type==="error")return m;i=i.concat(m.marks),i.unshift({name:"pipecall",position:r}),t=m.position,s=11}}break}case"&":{if(e[u+1]!="&"||n>O_||s<O_)break e;let f=jn(e,tt(e,u+2),O_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"and",position:r}),t=f.position,s=O_;break}case"!":{if(e[u+1]!=="="||n>to||s<=to)break e;let f=jn(e,tt(e,u+2),to+1);if(f.type==="error")return f;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(f.marks),t=f.position,s=to;break}case"d":{if(e.slice(u,u+4)!=="desc"||n>Xm||s<Xm)break e;i.unshift({name:"desc",position:r}),t=u+4,s=Xm;break}case"a":{if(e.slice(u,u+3)!=="asc"||n>Xm||s<Xm)break e;i.unshift({name:"asc",position:r}),t=u+3,s=Xm;break}default:switch(IBt(e,u,ip)){case"in":{if(n>to||s<=to)break e;t=tt(e,u+2);let p=!1;e[t]==="("&&(p=!0,t=tt(e,t+1));let m=t,v=jn(e,t,to+1);if(v.type==="error")return v;if(t=tt(e,v.position),e[t]==="."&&e[t+1]==="."){let g="inc_range";e[t+2]==="."?(g="exc_range",t=tt(e,t+3)):t=tt(e,t+2);let y=jn(e,t,to+1);if(y.type==="error")return y;i.unshift({name:"in_range",position:r}),i=i.concat({name:g,position:m},v.marks,y.marks),t=y.position}else i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(v.marks);if(p){if(t=tt(e,t),e[t]!==")")return{type:"error",position:t};t++}s=to;break}case"match":{if(n>to||s<=to)break e;let p=jn(e,tt(e,u+5),to+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+5}),i=i.concat(p.marks),t=p.position,s=4;break}default:break e}}}let c=(a==null?void 0:a.type)==="error"&&a.position;return{type:"success",marks:i,position:t,failPosition:c}}function XQ(e,t){let n=t;switch(e[t]){case".":{t=tt(e,t+1);let s=t,a=uc(e,t,ip);return a?(t+=a,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:s},{name:"ident_end",position:t}],position:t}):{type:"error",position:t}}case"-":if(e[t+1]!==">")return{type:"error",position:t};let r=[{name:"deref",position:n}];t+=2;let o=tt(e,t),i=uc(e,o,ip);return i&&(t=o+i,r.push({name:"deref_attr",position:o},{name:"ident",position:o},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=tt(e,t+1),e[t]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let s=t,a=jn(e,t,0);if(a.type==="error")return a;if(t=tt(e,a.position),e[t]==="."&&e[t+1]==="."){let c="inc_range";e[t+2]==="."?(c="exc_range",t+=3):t+=2,t=tt(e,t);let u=jn(e,t,0);return u.type==="error"?u:(t=tt(e,u.position),e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"slice",position:n},{name:c,position:s}].concat(a.marks,u.marks),position:t+1})}return e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(a.marks),position:t+1}}case"|":{if(t=tt(e,t+1),e[t]==="{"){let s=CM(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}break}case"{":{let s=CM(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}}return{type:"error",position:t}}function QQ(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),e[n]===":"&&e[n+1]===":"){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=tt(e,n+2);let i=uc(e,n,ip);if(!i)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+i}),n=tt(e,n+i),e[n]!=="(")return{type:"error",position:n};n++,n=tt(e,n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=tt(e,n+1);let o=n;if(e[n]!==")")for(;;){let i=jn(e,n,0);if(i.type==="error")return i;if(r=r.concat(i.marks),o=i.position,n=tt(e,i.position),e[n]!==","||(n=tt(e,n+1),e[n]===")"))break}return e[n]!==")"?{type:"error",position:n}:(r.push({name:"func_args_end",position:o}),{type:"success",marks:r,position:n+1})}function CM(e,t){let n=[{name:"object",position:t}];for(t=tt(e,t+1);e[t]!=="}";){let r=t;if(e.slice(t,t+3)==="...")if(t=tt(e,t+3),e[t]!=="}"&&e[t]!==","){let o=jn(e,t,0);if(o.type==="error")return o;n.push({name:"object_splat",position:r}),n=n.concat(o.marks),t=o.position}else n.push({name:"object_splat_this",position:r});else{let o=jn(e,t,0);if(o.type==="error")return o;let i=tt(e,o.position);if(o.marks[0].name==="str"&&e[i]===":"){let s=jn(e,tt(e,i+1),0);if(s.type==="error")return s;n.push({name:"object_pair",position:r}),n=n.concat(o.marks,s.marks),t=s.position}else n=n.concat({name:"object_expr",position:t},o.marks),t=o.position}if(t=tt(e,t),e[t]!==",")break;t=tt(e,t+1)}return e[t]!=="}"?{type:"error",position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function DBt(e,t){let n=e[t];t=t+1;const r=[{name:"str",position:t}];e:for(;;t++){if(t>e.length)return{type:"error",position:t};switch(e[t]){case n:{r.push({name:"str_end",position:t}),t++;break e}case"\\":r.push({name:"str_pause",position:t}),e[t+1]==="u"?e[t+2]==="{"?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function tt(e,t){return t+uc(e,t,EBt)}function uc(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function IBt(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function Oa(e,t){return n=>t(e(n))}function _M(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function PBt(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function dS(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Oa(e,t.build)};case"a-b":return{type:"a-b",build:Oa(e,t.build)};case"b-b":return{type:"a-a",build:Oa(e,_M(t.build))};case"b-a":return{type:"a-a",build:Oa(e,PBt(t.build))};default:throw new Error("unknown type: ".concat(t.type))}}function XP(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:Oa(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:Oa(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function OBt(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:Oa(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:Oa(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function RBt(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Oa(_M(e),t.build)};case"a-b":return{type:"a-b",build:Oa(_M(e),t.build)};case"b-a":return{type:"b-a",build:Oa(e,t.build)};case"b-b":return{type:"b-b",build:Oa(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}var $Bt=Object.defineProperty,MBt=(e,t,n)=>t in e?$Bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SM=(e,t,n)=>(MBt(e,typeof t!="symbol"?t+"":t,n),n);const FBt={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function LBt(e){const t=parseInt(e,16);return String.fromCharCode(t)}class Vi extends Error{constructor(){super(...arguments),SM(this,"name","GroqQueryError")}}const ut={group(e){return{type:"Group",base:e.process(ut)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(e){return{type:"Parent",n:e.process(ut).n+1}},traverse(e){const t=e.process(ut),n=[];for(;e.getMark().name!=="traversal_end";)n.push(e.process(sTe));e.shift();let r=null;for(let o=n.length-1;o>=0;o--)r=n[o](r);if((t.type==="Everything"||t.type==="Array"||t.type==="PipeFuncCall")&&(r=dS(o=>o,r)),r===null)throw new Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){const t=e.processString();return t==="null"?{type:"Value",value:null}:t==="true"?{type:"Value",value:!0}:t==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg(e){return{type:"Neg",base:e.process(ut)}},pos(e){return{type:"Pos",base:e.process(ut)}},add(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"+",left:t,right:n}},sub(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"-",left:t,right:n}},mul(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"*",left:t,right:n}},div(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"/",left:t,right:n}},mod(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"%",left:t,right:n}},pow(e){const t=e.process(ut),n=e.process(ut);return{type:"OpCall",op:"**",left:t,right:n}},comp(e){const t=e.process(ut),n=e.processString(),r=e.process(ut);return{type:"OpCall",op:n,left:t,right:r}},in_range(e){const t=e.process(ut),n=e.getMark().name==="inc_range";e.shift();const r=e.process(ut),o=e.process(ut);return{type:"InRange",base:t,left:r,right:o,isInclusive:n}},str(e){let t="";e:for(;e.hasMark();){const n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break e;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{const r=e.slice(1);e.shift(),t+=FBt[r];break}case"unicode_hex":e.shift(),t+=LBt(e.processStringEnd());break;default:throw new Error("unexpected mark: ".concat(n.name))}}return{type:"Value",value:t}},integer(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},float(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},sci(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},object(e){const t=[];for(;e.getMark().name!=="object_end";)t.push(e.process(BBt));return e.shift(),{type:"Object",attributes:t}},array(e){const t=[];for(;e.getMark().name!=="array_end";){let n=!1;e.getMark().name==="array_splat"&&(n=!0,e.shift());const r=e.process(ut);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){const t=[];for(;e.getMark().name!=="tuple_end";)t.push(e.process(ut));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";e.getMark().name==="namespace"&&(e.shift(),t=e.processString());const n=e.processString();if(t==="global"&&n==="select"){const s={type:"Select",alternatives:[]};for(;e.getMark().name!=="func_args_end";)if(e.getMark().name==="pair"){if(s.fallback)throw new Vi("unexpected argument to select()");e.shift();const a=e.process(ut),c=e.process(ut);s.alternatives.push({type:"SelectAlternative",condition:a,value:c})}else{if(s.fallback)throw new Vi("unexpected argument to select()");const a=e.process(ut);s.fallback=a}return e.shift(),s}const r=[];for(;e.getMark().name!=="func_args_end";)NBt(t,n,r.length)?(e.process(EM),r.push({type:"Selector"})):r.push(e.process(ut));if(e.shift(),t==="global"&&(n==="before"||n==="after")&&e.parseOptions.mode==="delta")return{type:"Context",key:n};if(t==="global"&&n==="boost"&&!e.allowBoost)throw new Vi("unexpected boost");const o=wBt[t];if(!o)throw new Vi("Undefined namespace: ".concat(t));const i=o[n];if(!i)throw new Vi("Undefined function: ".concat(n));if(i.arity!==void 0&&JQ(n,i.arity,r.length),i.mode!==void 0&&i.mode!==e.parseOptions.mode)throw new Vi("Undefined function: ".concat(n));return{type:"FuncCall",func:i,namespace:t,name:n,args:r}},pipecall(e){const t=e.process(ut);e.shift();let n="global";if(e.getMark().name==="namespace"&&(e.shift(),n=e.processString()),n!=="global")throw new Vi("Undefined namespace: ".concat(n));const r=e.processString(),o=[],i=e.allowBoost;for(r==="score"&&(e.allowBoost=!0);;){const a=e.getMark().name;if(a==="func_args_end")break;if(r==="order"){if(a==="asc"){e.shift(),o.push({type:"Asc",base:e.process(ut)});continue}else if(a==="desc"){e.shift(),o.push({type:"Desc",base:e.process(ut)});continue}}o.push(e.process(ut))}e.shift(),e.allowBoost=i;const s=Vw[r];if(!s)throw new Vi("Undefined pipe function: ".concat(r));return s.arity&&JQ(r,s.arity,o.length),{type:"PipeFuncCall",func:s,base:t,name:r,args:o}},pair(e){throw new Vi("unexpected =>")},and(e){const t=e.process(ut),n=e.process(ut);return{type:"And",left:t,right:n}},or(e){const t=e.process(ut),n=e.process(ut);return{type:"Or",left:t,right:n}},not(e){return{type:"Not",base:e.process(ut)}},asc(e){throw new Vi("unexpected asc")},desc(e){throw new Vi("unexpected desc")},param(e){const t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},BBt={object_expr(e){if(e.getMark().name==="pair"){e.shift();const n=e.process(ut),r=e.process(ut);return{type:"ObjectConditionalSplat",condition:n,value:r}}const t=e.process(ut);return{type:"ObjectAttributeValue",name:aTe(t),value:t}},object_pair(e){const t=e.process(ut);if(t.type!=="Value")throw new Error("name must be string");const n=e.process(ut);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat(e){return{type:"ObjectSplat",value:e.process(ut)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},sTe={square_bracket(e){const t=e.process(ut),n=KP(t);return n&&n.type==="number"?r=>OBt(o=>({type:"AccessElement",base:o,index:n.data}),r):n&&n.type==="string"?r=>XP(o=>({type:"AccessAttribute",base:o,name:n.data}),r):r=>dS(o=>({type:"Filter",base:o,expr:t}),r)},slice(e){const t=e.getMark().name==="inc_range";e.shift();const n=e.process(ut),r=e.process(ut),o=KP(n),i=KP(r);if(!o||!i||o.type!=="number"||i.type!=="number")throw new Vi("slicing must use constant numbers");return s=>dS(a=>({type:"Slice",base:a,left:o.data,right:i.data,isInclusive:t}),s)},projection(e){const t=e.process(ut);return n=>RBt(r=>({type:"Projection",base:r,expr:t}),n)},attr_access(e){const t=e.processString();return n=>XP(r=>({type:"AccessAttribute",base:r,name:t}),n)},deref(e){let t=null;e.getMark().name==="deref_attr"&&(e.shift(),t=e.processString());const n=r=>t?{type:"AccessAttribute",base:r,name:t}:r;return r=>XP(o=>n({type:"Deref",base:o}),r)},array_postfix(e){return t=>dS(n=>({type:"ArrayCoerce",base:n}),t)}},EM={group(e){return e.process(EM),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(e){throw new Error("Invalid selector syntax")},traverse(e){for(e.process(EM);e.getMark().name!=="traversal_end";)e.process(sTe);return e.shift(),null},this_attr(e){return e.processString(),null},neg(e){throw new Error("Invalid selector syntax")},pos(e){throw new Error("Invalid selector syntax")},add(e){throw new Error("Invalid selector syntax")},sub(e){throw new Error("Invalid selector syntax")},mul(e){throw new Error("Invalid selector syntax")},div(e){throw new Error("Invalid selector syntax")},mod(e){throw new Error("Invalid selector syntax")},pow(e){throw new Error("Invalid selector syntax")},comp(e){throw new Error("Invalid selector syntax")},in_range(e){throw new Error("Invalid selector syntax")},str(e){throw new Error("Invalid selector syntax")},integer(e){throw new Error("Invalid selector syntax")},float(e){throw new Error("Invalid selector syntax")},sci(e){throw new Error("Invalid selector syntax")},object(e){throw new Error("Invalid selector syntax")},array(e){throw new Error("Invalid selector syntax")},tuple(e){throw new Error("Invalid selector syntax")},func_call(e,t){const n=ut.func_call(e,t);if(n.name==="anywhere"&&n.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(e){throw new Error("Invalid selector syntax")},pair(e){throw new Error("Invalid selector syntax")},and(e){throw new Error("Invalid selector syntax")},or(e){throw new Error("Invalid selector syntax")},not(e){throw new Error("Invalid selector syntax")},asc(e){throw new Error("Invalid selector syntax")},desc(e){throw new Error("Invalid selector syntax")},param(e){throw new Error("Invalid selector syntax")}};function aTe(e){if(e.type==="AccessAttribute"&&!e.base)return e.name;if(e.type==="Deref"||e.type==="Map"||e.type==="Projection"||e.type==="Slice"||e.type==="Filter"||e.type==="AccessElement"||e.type==="ArrayCoerce")return aTe(e.base);throw new Vi("Cannot determine property key for type: ".concat(e.type))}function JQ(e,t,n){if(typeof t=="number"){if(n!==t)throw new Vi("Incorrect number of arguments to function ".concat(e,"(). Expected ").concat(t,", got ").concat(n,"."))}else if(t&&!t(n))throw new Vi("Incorrect number of arguments to function ".concat(e,"()."))}function NBt(e,t,n){const r=["changedAny","changedOnly"];return e=="diff"&&n==2&&r.includes(t)}class zBt extends Error{constructor(t){super("Syntax error in GROQ query at position ".concat(t)),SM(this,"position"),SM(this,"name","GroqSyntaxError"),this.position=t}}function lTe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=ABt(e);if(n.type==="error")throw new zBt(n.position);return new SBt(e,n.marks,t).process(ut)}function VBt(e,t=ftt){return n=>{const r=n;let o=null,i=null;const s=new _r,a=s.pipe(na((c,u)=>c+u,0),it(c=>c===0?No(e,t).pipe(bn(()=>{o&&(o.unsubscribe(),o=null),i&&(i.unsubscribe(),i=null)})):!o&&c>0?No(0,t).pipe(bn(()=>{o||(o=r.connect())})):V6));return ent(()=>(i||(i=a.subscribe()),s.next(1),{unsubscribe:()=>s.next(-1)}),()=>n)}}var HBt=Object.defineProperty,UBt=(e,t,n)=>t in e?HBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qm=(e,t,n)=>(UBt(e,typeof t!="symbol"?t+"":t,n),n);const WBt=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class cTe{constructor(t,n,r){Qm(this,"model"),Qm(this,"root"),Qm(this,"patch"),Qm(this,"i"),Qm(this,"inputStack"),Qm(this,"outputStack"),this.model=t,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=WBt[n];if(!r)throw new Error("Unknown opcode: ".concat(n));let o="process".concat(r);this[o].apply(this)}let t=this.outputStack.pop();return this.finalizeOutput(t)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(t,n){return t.keys||(t.keys=this.model.objectGetKeys(t.value).sort()),t.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyArray(t.value)),t.writeValue}outputObject(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyObject(t.value)),t.writeValue}outputString(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyString(t.value)),t.writeValue}finalizeOutput(t){return t.writeValue?this.model.finalize(t.writeValue):t.value}processValue(){let t=this.model.wrap(this.read());this.outputStack.push({value:t})}processCopy(){let t=this.inputEntry();this.outputStack.push({value:t.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let t=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let o=this.outputObject();this.model.objectSetField(o,t,r)}processReturnIntoObjectSameKey(){let t=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),o=this.outputObject();this.model.objectSetField(o,t.key,r)}processPushField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.model.objectGetField(n.value,r);this.inputStack.push({value:o,key:r})}processPushElement(){let t=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,t);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.outputObject();this.model.objectDeleteField(o,r)}processArrayAppendValue(){let t=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,t)}processArrayAppendSlice(){let t=this.read(),n=this.read(),r=this.outputArray(),o=this.inputEntry().value;this.model.arrayAppendSlice(r,o,t,n)}processStringAppendString(){let t=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,t)}processStringAppendSlice(){let t=this.read(),n=this.read(),r=this.outputString(),o=this.inputEntry().value;this.model.stringAppendSlice(r,o,t,n)}}function Uw(e){return e>>16?4:e>>11?3:e>>7?2:1}function kM(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n),o=Uw(r);o==4&&n++,t+=o}return t}function eJ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=n,o=0;for(o=n;r<t;o++){let i=e.codePointAt(o),s=Uw(i);s===4&&o++,r+=s}return o}function YBt(e,t){let n=Math.min(e.length,t.length),r=0;for(let o=0;o<n;){let i=e.codePointAt(o),s=t.codePointAt(o);if(i!==s)return r;let a=Uw(i);r+=a,o+=a===4?2:1}return r}function qBt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Math.min(e.length,t.length)-n,o=0;for(let i=0;i<r;){let s=e.codePointAt(e.length-1-i),a=t.codePointAt(t.length-1-i);if(s!==a)return o;let c=Uw(s);o+=c,i+=c===4?2:1}return o}var GBt=Object.defineProperty,KBt=(e,t,n)=>t in e?GBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZBt=(e,t,n)=>(KBt(e,typeof t!="symbol"?t+"":t,n),n);class jM{constructor(t){ZBt(this,"meta"),this.meta=t}wrap(t){return this.wrapWithMeta(t,this.meta,this.meta)}wrapWithMeta(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.meta;return{data:t,startMeta:n,endMeta:r}}asObject(t){if(!t.content){let n={};for(let[r,o]of Object.entries(t.data))n[r]=this.wrapWithMeta(o,t.startMeta);t.content={type:"object",fields:n}}return t.content}asArray(t){if(!t.content){let n=t.data.map(o=>this.wrapWithMeta(o,t.startMeta)),r=n.map(()=>this.meta);t.content={type:"array",elements:n,metas:r}}return t.content}asString(t){if(!t.content){let n=t.data,r={value:n,utf8size:kM(n),uses:[],startMeta:t.startMeta,endMeta:t.endMeta};t.content=this.stringFromParts([r])}return t.content}stringFromParts(t){let n={type:"string",parts:t};for(let r of t)r.uses.push(n);return n}objectGetKeys(t){return t.content?Object.keys(t.content.fields):Object.keys(t.data)}objectGetField(t,n){return this.asObject(t).fields[n]}arrayGetElement(t,n){return this.asArray(t).elements[n]}finalize(t){return this.updateEndMeta(t),{content:t,startMeta:this.meta,endMeta:this.meta}}markChanged(t){return this.wrap(fu(t))}updateEndMeta(t){if(t.type=="string")for(let n of t.parts)n.endMeta=this.meta;else if(t.type==="array")for(let n of t.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(t.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(t){if(t){let n=this.asString(t);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(t){let n={type:"object",fields:{}};if(t){let r=this.asObject(t);Object.assign(n.fields,r.fields)}return n}copyArray(t){let n=t?this.asArray(t):null,r=n?n.elements:[],o=n?n.metas:[];return{type:"array",elements:r,metas:o}}objectSetField(t,n,r){t.fields[n]=r}objectDeleteField(t,n){delete t.fields[n]}arrayAppendValue(t,n){t.elements.push(n),t.metas.push(this.meta)}arrayAppendSlice(t,n,r,o){let i=this.asArray(n),s=i.elements.length===r;if(t.elements.push(...i.elements.slice(r,o)),s)t.metas.push(...i.metas.slice(r,o));else for(let a=r;a<o;a++)t.metas.push(this.meta)}stringAppendValue(t,n){let r=this.asString(n);for(let o of r.parts)this.stringAppendPart(t,o)}stringAppendPart(t,n){t.parts.push(n),n.uses.push(t)}resolveStringPart(t,n,r){if(r===0)return n;for(let o=n;o<t.parts.length;o++){let i=t.parts[o];if(r===i.utf8size)return o+1;if(r<i.utf8size)return this.splitString(i,r),o+1;r-=i.utf8size}throw new Error("splitting string out of bounds")}splitString(t,n){let r,o,i=n,s=t.utf8size-i;if(t.utf8size!==t.value.length){let c=0;for(n=0;c<i;n++){let u=t.value.codePointAt(n),d=Uw(u);d===4&&n++,c+=d}}r=t.value.slice(0,n),o=t.value.slice(n);let a={value:o,utf8size:s,uses:t.uses.slice(),startMeta:t.startMeta,endMeta:t.endMeta};t.value=r,t.utf8size=i;for(let c of t.uses){let u=c.parts.indexOf(t);if(u===-1)throw new Error("bug: mismatch between string parts and use.");c.parts.splice(u+1,0,a)}}stringAppendSlice(t,n,r,o){let i=this.asString(n),s=this.resolveStringPart(i,0,r),a=this.resolveStringPart(i,s,o-r);for(let c=s;c<a;c++){let u=i.parts[c];this.stringAppendPart(t,u)}}}function XBt(e,t){return{data:e,startMeta:t,endMeta:t}}function fu(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(r=>r.value).join("");break;case"array":t=n.elements.map(r=>fu(r));break;case"object":{t={};for(let[r,o]of Object.entries(n.fields))t[r]=fu(o)}}return e.data=t,t}function TM(e){return e.content?e.content.type:Array.isArray(e.data)?"array":e.data===null?"null":typeof e.data}function AM(e,t){let n=TM(e),r=TM(t);if(n!==r)return t;let o=new jM(e.endMeta),i=new jM(t.endMeta);switch(n){case"object":{let s=o.asObject(e),a=i.asObject(t),c=0,u=Object.keys(s.fields).length,d=Object.keys(a.fields).length;for(let[p,m]of Object.entries(a.fields)){let v=s.fields[p];v&&(a.fields[p]=AM(v,m),a.fields[p]===v&&c++)}return u===d&&u===c?e:t}case"array":{let s=o.asArray(e),a=i.asArray(t);if(s.elements.length!==a.elements.length)break;let c=0;for(let u=0;u<a.elements.length;u++)a.elements[u]=AM(s.elements[u],a.elements[u]),a.elements[u]!==s.elements[u]&&c++;return c===0?e:t}case"null":case"boolean":case"number":{if(fu(e)===fu(t))return e;break}case"string":{let s=fu(e),a=fu(t);if(s===a)return e;let c=i.copyString(null),u=YBt(s,a),d=qBt(s,a,u),f=kM(a),p=kM(s);0<u&&i.stringAppendSlice(c,e,0,u),u<f-d&&i.stringAppendSlice(c,t,u,f-d),p-d<p&&i.stringAppendSlice(c,e,p-d,p);let m=i.finalize(c);if(fu(m)!==a)throw new Error("incorrect string rebase");return m}}return t}function QBt(e,t,n){let r=new jM(n);return new cTe(r,e,t).process()}var al=Object.freeze({__proto__:null,applyPatch:QBt,getType:TM,rebaseValue:AM,unwrap:fu,wrap:XBt});class JBt{wrap(t){return t}finalize(t){return Array.isArray(t)?t:t.data}markChanged(t){return t}objectGetKeys(t){return Object.keys(t)}objectGetField(t,n){return t[n]}arrayGetElement(t,n){return t[n]}copyObject(t){let n={type:"object",data:{}};if(t!==null)for(let[r,o]of Object.entries(t))n.data[r]=o;return n}copyArray(t){return t===null?[]:t.slice()}copyString(t){return{type:"string",data:t===null?"":t}}objectSetField(t,n,r){t.data[n]=r}objectDeleteField(t,n){delete t.data[n]}arrayAppendValue(t,n){t.push(n)}arrayAppendSlice(t,n,r,o){t.push(...n.slice(r,o))}stringAppendSlice(t,n,r,o){const i=n,s=eJ(i,r),a=eJ(i,o,s);t.data+=i.slice(s,a)}stringAppendValue(t,n){t.data+=n}}function DM(e,t){let n=e;return new cTe(new JBt,n,t).process()}function ih(e,t,n){return delete e[t],e[t]=n,n}function eNt(e,t){const n=tNt(e,t);return nNt(n,e,t)}function tNt(e,t){const n=e.length,r=t.length;let o=0,i=0;const s=new Array(n+1);for(o=0;o<n+1;o++)for(s[o]=[r+1],i=0;i<r+1;i++)s[o][i]=0;for(o=1;o<n+1;o++)for(i=1;i<r+1;i++)e[o-1]===t[i-1]?s[o][i]=s[o-1][i-1]+1:s[o][i]=Math.max(s[o-1][i],s[o][i-1]);return s}function nNt(e,t,n){let r=t.length,o=n.length;const i={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&o!==0;)if(t[r-1]===n[o-1])i.sequence.unshift(t[r-1]),i.prevIndices.unshift(r-1),i.nextIndices.unshift(o-1),--r,--o;else{const a=e[r][o-1],c=e[r-1][o];a>c?--o:--r}return i}function rNt(e,t,n){if(e===t){const s=e.value,a=t.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:s,toValue:a,get items(){const c=tJ(e,t);if(!c)throw new Error("invariant broken: equivalent input, but diff detected");return ih(this,"items",c)}}}const r=rJ(e),o=rJ(t);if(r&&o)return iNt(e,r,t,o);const i=tJ(e,t);return i?E7(e,t,i,!1):oNt(e,t)}function E7(e,t,n,r){const o=e.value,i=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:o,toValue:i,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:i,items:n}}function tJ(e,t,n){if(e.length!==t.length)return;const r=[];for(let o=0;o<e.length;o++){const i=JT(e.at(o),t.at(o));if(i.isChanged)return;r.push({fromIndex:o,toIndex:o,hasMoved:!1,diff:i,annotation:t.annotationAt(o)})}return r}function oNt(e,t,n){const r=[];for(let o=0;o<t.length;o++){const i=t.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Dm(i,void 0),annotation:i.annotation})}for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Am(i,void 0),annotation:i.annotation})}return E7(e,t,r,!0)}function iNt(e,t,n,r,o){const i=[];let s=!1;function a(u,d,f,p){nJ(t.index,u,d),nJ(r.index,u,f);const m=e.at(d),v=n.at(f),g=JT(m,v);i.push({fromIndex:d,toIndex:f,hasMoved:p,diff:g,annotation:n.annotationAt(f)}),(g.isChanged||d!==f)&&(s=!0)}const c=eNt(t.keys,r.keys);for(let u=0;u<t.keys.length;u++){const d=t.keys[u],f=c.prevIndices.indexOf(u);if(f!==-1){a(d,u,c.nextIndices[f],!1);continue}const p=r.index.get(d),m=p&&p.find(g=>!c.nextIndices.includes(g));if(m!==void 0){a(d,u,m,!0);continue}const v=e.at(u);i.push({fromIndex:u,toIndex:void 0,hasMoved:!1,diff:Am(v,void 0),annotation:e.annotationAt(u)}),s=!0}for(const u of r.index.values()){for(const d of u){const f=n.at(d);i.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:Dm(f,void 0),annotation:n.annotationAt(d)})}s=!0}return i.sort(sNt),E7(e,n,i,s)}function sNt(e,t){if(e.toIndex!==void 0&&t.toIndex!==void 0)return e.toIndex-t.toIndex;if(e.fromIndex!==void 0&&t.fromIndex!==void 0)return e.fromIndex-t.fromIndex;if(e.fromIndex!==void 0&&t.toIndex!==void 0)return-1;if(e.toIndex!==void 0&&t.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function nJ(e,t,n){const r=e.get(t);aNt(r,n),r.length===0&&e.delete(t)}function aNt(e,t){const n=e.indexOf(t);if(n===-1)throw new Error("value not found");e.splice(n,1)}function rJ(e){const t=new Map,n=[],r=e.length;for(let o=0;o<r;o++){const i=e.at(o);let s=null;switch(i.type){case"string":s="s".concat(i.value);break;case"number":s=i.value;break;case"boolean":s=i.value;break;case"null":s="n";break;case"object":{const c=i.get("_key");if(c&&c.type==="string"&&(s="k".concat(c.value),t.has(s)))return}break}if(s===null)return;n.push(s);let a=t.get(s);a||(a=[],t.set(s,a)),a.push(o)}return{keys:n,index:t}}function lNt(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Am(i,void 0),annotation:e.annotationAt(o)})}return ih(this,"items",r)}}}function cNt(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Dm(i,void 0),annotation:e.annotationAt(o)})}return ih(this,"items",r)}}}function uNt(e,t,n){const r=e.value,o=t.value;return r===o?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:o,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation,get segments(){const i=dNt(e,t);return ih(this,"segments",i)}}}function dNt(e,t){const n=[],r=l9(Pw(e.value,t.value));let o=0,i=0;for(const[s,a]of r)switch(s){case jt:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Tn:for(const c of e.sliceAnnotation(o,o+a.length))n.push({type:"stringSegment",action:"removed",text:c.text,annotation:c.annotation});o+=a.length;break;case Gn:for(const c of t.sliceAnnotation(i,i+a.length))n.push({type:"stringSegment",action:"added",text:c.text,annotation:c.annotation});i+=a.length;break;default:throw new Error('Unhandled diff-match-patch operation "'.concat(s,'"'))}return n}function fNt(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"removed",...o}));return ih(this,"segments",r)}}}function hNt(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"added",...o}));return ih(this,"segments",r)}}}function pNt(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:Am(e,void 0),toType:t.type,toValue:t.value,toDiff:Dm(t,void 0),annotation:t.annotation}}const oJ=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function mNt(e,t,n){const r={};let o=!1;for(const a of e.keys){if(oJ.has(a))continue;const c=e.get(a),u=t.get(a);if(u){const d=JT(c,u);r[a]=d,d.isChanged&&(o=!0)}else r[a]=Am(c,void 0),o=!0}for(const a of t.keys){if(oJ.has(a)||e.get(a))continue;const c=t.get(a);r[a]=Dm(c,void 0),o=!0}const i=e.value,s=t.value;return o?{type:"object",action:"changed",isChanged:!0,fromValue:i,toValue:s,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:i,toValue:s,fields:r}}function gNt(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Am(i,void 0)}return ih(this,"fields",r)}}}function vNt(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Dm(i,void 0)}return ih(this,"fields",r)}}}function yNt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function bNt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function JT(e,t){return e.type!==t.type?e.type==="null"?Dm(t,null):t.type==="null"?Am(e,null):pNt(e,t):xNt(e.type,e,t)}function xNt(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return bNt(t,n);case"number":return yNt(t,n);case"string":return uNt(t,n);case"array":return rNt(t,n);case"object":return mNt(t,n);default:throw new Error('Unhandled diff type "'.concat(e,'"'))}}function Am(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return fNt(e,t);case"array":return lNt(e,t);case"object":return gNt(e,t);default:throw new Error("Unhandled diff type")}}function Dm(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return hNt(e,t);case"array":return cNt(e,t);case"object":return vNt(e,t);default:throw new Error("Unhandled diff type")}}class wNt{constructor(t,n){this.type="array",this.elements=[],this.annotation=n,this.value=t,this.length=t.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=k7(this.value[t],this.annotation))}annotationAt(){return this.annotation}}class CNt{constructor(t,n){this.type="object",this.fields={},this.value=t,this.annotation=n,this.keys=Object.keys(t)}get(t){const n=this.fields[t];if(n)return n;if(!this.value.hasOwnProperty(t))return;const r=this.value[t];return this.fields[t]=k7(r,this.annotation)}}let _Nt=class{constructor(t,n){this.type="string",this.value=t,this.annotation=n}sliceAnnotation(t,n){return[{text:this.value.slice(t,n),annotation:this.annotation}]}};class QP{constructor(t,n,r){this.type=t,this.value=n,this.annotation=r}}function k7(e,t){if(Array.isArray(e))return new wNt(e,t);if(e===null)return new QP("null",e,t);const n=typeof e;switch(n){case"number":return new QP(n,e,t);case"boolean":return new QP(n,e,t);case"object":return new CNt(e,t);case"string":return new _Nt(e,t);default:throw new Error("cannot wrap value of type: ".concat(n))}}var uTe={exports:{}},dTe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww=h;function SNt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ENt=typeof Object.is=="function"?Object.is:SNt,kNt=Ww.useSyncExternalStore,jNt=Ww.useRef,TNt=Ww.useEffect,ANt=Ww.useMemo,DNt=Ww.useDebugValue;dTe.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=jNt(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=ANt(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),o!==void 0&&s.hasValue){var v=s.value;if(o(v,m))return f=v}return f=m}if(v=f,ENt(d,m))return v;var g=r(m);return o!==void 0&&o(v,g)?v:(d=m,f=g)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,o]);var a=kNt(e,i[0],i[1]);return TNt(function(){s.hasValue=!0,s.value=a},[a]),DNt(a),a};uTe.exports=dTe;var j7=uTe.exports,INt=Math.floor,PNt=Math.random;function ONt(e,t){return e+INt(PNt()*(t-e+1))}var RNt=ONt,$Nt=RNt;function MNt(e){var t=e.length;return t?e[$Nt(0,t-1)]:void 0}var fTe=MNt,FNt=fTe,LNt=Gje;function BNt(e){return FNt(LNt(e))}var NNt=BNt,zNt=fTe,VNt=NNt,HNt=Jr;function UNt(e){var t=HNt(e)?zNt:VNt;return t(e)}var WNt=UNt;const YNt=Pe(WNt);var qNt=function(){function e(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=XNt(r),this._batchScheduleFn=QNt(r),this._cacheKeyFn=JNt(r),this._cacheMap=ezt(r),this._batch=null,this.name=tzt(r)}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var o=KNt(this),i=this._cacheMap,s=this._cacheKeyFn(r);if(i){var a=i.get(s);if(a){var c=o.cacheHits||(o.cacheHits=[]);return new Promise(function(d){c.push(function(){d(a)})})}}o.keys.push(r);var u=new Promise(function(d,f){o.callbacks.push({resolve:d,reject:f})});return i&&i.set(s,u),u},t.loadMany=function(r){if(!hTe(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var o=[],i=0;i<r.length;i++)o.push(this.load(r[i]).catch(function(s){return s}));return Promise.all(o)},t.clear=function(r){var o=this._cacheMap;if(o){var i=this._cacheKeyFn(r);o.delete(i)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,o){var i=this._cacheMap;if(i){var s=this._cacheKeyFn(r);if(i.get(s)===void 0){var a;o instanceof Error?(a=Promise.reject(o),a.catch(function(){})):a=Promise.resolve(o),i.set(s,a)}}return this},e}(),GNt=typeof process=="object"&&typeof process.nextTick=="function"?function(e){JP||(JP=Promise.resolve()),JP.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},JP;function KNt(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){ZNt(e,n)}),n}function ZNt(e,t){if(t.hasDispatched=!0,t.keys.length===0){IM(t);return}var n;try{n=e._batchLoadFn(t.keys)}catch(r){return eO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!n||typeof n.then!="function")return eO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!hTe(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));IM(t);for(var o=0;o<t.callbacks.length;o++){var i=r[o];i instanceof Error?t.callbacks[o].reject(i):t.callbacks[o].resolve(i)}}).catch(function(r){eO(e,t,r)})}function eO(e,t,n){IM(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function IM(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function XNt(e){var t=!e||e.batch!==!1;if(!t)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function QNt(e){var t=e&&e.batchScheduleFn;if(t===void 0)return GNt;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function JNt(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(n){return n};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function ezt(e){var t=!e||e.cache!==!1;if(!t)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],o=r.filter(function(i){return n&&typeof n[i]!="function"});if(o.length!==0)throw new TypeError("Custom cacheMap missing methods: "+o.join(", "))}return n}function tzt(e){return e&&e.name?e.name:null}function hTe(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var nzt=qNt;const rzt=Pe(nzt);var eA={exports:{}},Sy={exports:{}};(function(){var e,t,n,r,o,i;typeof performance<"u"&&performance!==null&&performance.now?Sy.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Sy.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var s;return s=t(),s[0]*1e9+s[1]},r=e(),i=process.uptime()*1e9,o=r-i):Date.now?(Sy.exports=function(){return Date.now()-n},n=Date.now()):(Sy.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(ys);var ozt=Sy.exports,izt=ozt,ku=typeof window>"u"?ys:window,N_=["moz","webkit"],gv="AnimationFrame",Jv=ku["request"+gv],xx=ku["cancel"+gv]||ku["cancelRequest"+gv];for(var Y1=0;!Jv&&Y1<N_.length;Y1++)Jv=ku[N_[Y1]+"Request"+gv],xx=ku[N_[Y1]+"Cancel"+gv]||ku[N_[Y1]+"CancelRequest"+gv];if(!Jv||!xx){var tO=0,iJ=0,Ch=[],szt=1e3/60;Jv=function(e){if(Ch.length===0){var t=izt(),n=Math.max(0,szt-(t-tO));tO=n+t,setTimeout(function(){var r=Ch.slice(0);Ch.length=0;for(var o=0;o<r.length;o++)if(!r[o].cancelled)try{r[o].callback(tO)}catch(i){setTimeout(function(){throw i},0)}},Math.round(n))}return Ch.push({handle:++iJ,callback:e,cancelled:!1}),iJ},xx=function(e){for(var t=0;t<Ch.length;t++)Ch[t].handle===e&&(Ch[t].cancelled=!0)}}eA.exports=function(e){return Jv.call(ku,e)};eA.exports.cancel=function(){xx.apply(ku,arguments)};eA.exports.polyfill=function(e){e||(e=ku),e.requestAnimationFrame=Jv,e.cancelAnimationFrame=xx};var azt=eA.exports;const lzt=Pe(azt);function hb(e,t,n){return Math.min(Math.max(e,n),t)}class czt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var Ey=czt;function pTe(e){if(typeof e!="string")throw new Ey(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=vzt.test(e)?fzt(e):e;const n=hzt.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(wx(a,2),16)),parseInt(wx(s[3]||"f",2),16)/255]}const r=pzt.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const o=mzt.exec(t);if(o){const s=Array.from(o).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const i=gzt.exec(t);if(i){const[s,a,c,u]=Array.from(i).slice(1).map(parseFloat);if(hb(0,100,a)!==a)throw new Ey(e);if(hb(0,100,c)!==c)throw new Ey(e);return[...yzt(s,a,c),Number.isNaN(u)?1:u]}throw new Ey(e)}function uzt(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const sJ=e=>parseInt(e.replace(/_/g,""),36),dzt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=sJ(t.substring(0,3)),r=sJ(t.substring(3)).toString(16);let o="";for(let i=0;i<6-r.length;i++)o+="0";return e[n]=`${o}${r}`,e},{});function fzt(e){const t=e.toLowerCase().trim(),n=dzt[uzt(t)];if(!n)throw new Ey(e);return`#${n}`}const wx=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),hzt=new RegExp(`^#${wx("([a-f0-9])",3)}([a-f0-9])?$`,"i"),pzt=new RegExp(`^#${wx("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),mzt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${wx(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),gzt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,vzt=/^[a-z]+$/i,aJ=e=>Math.round(e*255),yzt=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(aJ);const o=(e%360+360)%360/60,i=(1-Math.abs(2*r-1))*(t/100),s=i*(1-Math.abs(o%2-1));let a=0,c=0,u=0;o>=0&&o<1?(a=i,c=s):o>=1&&o<2?(a=s,c=i):o>=2&&o<3?(c=i,u=s):o>=3&&o<4?(c=s,u=i):o>=4&&o<5?(a=s,u=i):o>=5&&o<6&&(a=i,u=s);const d=r-i/2,f=a+d,p=c+d,m=u+d;return[f,p,m].map(aJ)};function bzt(e){const[t,n,r,o]=pTe(e).map((f,p)=>p===3?f:f/255),i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;if(i===s)return[0,0,a,o];const c=i-s,u=a>.5?c/(2-i-s):c/(i+s);return[60*(t===i?(n-r)/c+(n<r?6:0):n===i?(r-t)/c+2:(t-n)/c+4),u,a,o]}function xzt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${hb(0,100,t*100).toFixed()}%, ${hb(0,100,n*100).toFixed()}%, ${parseFloat(hb(0,1,r).toFixed(3))})`}function mTe(e,t){const[n,r,o,i]=bzt(e);return xzt(n,r,o-t,i)}function PM(e){if(e==="transparent")return 0;function t(i){const s=i/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const[n,r,o]=pTe(e);return .2126*t(n)+.7152*t(r)+.0722*t(o)}function wzt(e,t){const n=PM(e),r=PM(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const Czt={decorative:1.5,readable:3,aa:4.5,aaa:7};function lJ(e,t="aa",n="#fff"){return wzt(e,n)<Czt[t]}function _zt(e,t){return mTe(e,-t)}function Szt(e){return PM(e)>.179}function Ezt(e){return Szt(e)?"#000":"#fff"}var kzt=WCe,jzt=bw,Tzt=Zj,Azt=Jr,Dzt=Xf,Izt=Xj,Pzt=Jj,Ozt=t8,Rzt="[object Map]",$zt="[object Set]",Mzt=Object.prototype,Fzt=Mzt.hasOwnProperty;function Lzt(e){if(e==null)return!0;if(Dzt(e)&&(Azt(e)||typeof e=="string"||typeof e.splice=="function"||Izt(e)||Ozt(e)||Tzt(e)))return!e.length;var t=jzt(e);if(t==Rzt||t==$zt)return!e.size;if(Pzt(e))return!kzt(e).length;for(var n in e)if(Fzt.call(e,n))return!1;return!0}var Bzt=Lzt;const Nzt=Pe(Bzt);var zzt=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),Vzt=()=>{try{return!!(zzt&&import.meta.webpackHot)}catch{return!1}};function Hzt(e){if(Vzt)return typeof import.meta.webpackHot>"u"?Wzt(e):Uzt(e)}function Uzt(e){h.useEffect(()=>{if(import.meta.webpackHot){const t=n=>n==="idle"?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(t)}}},[e])}function Wzt(e){h.useEffect(()=>{},[e])}var Yzt=T7;T7.displayName="bash";T7.aliases=["shell"];function T7(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},o={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:o},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:o},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:o.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:o.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=o.variable[1].inside,a=0;a<i.length;a++)s[i[a]]=t.languages.bash[i[a]];t.languages.shell=t.languages.bash})(e)}const qzt=Pe(Yzt);var Gzt=A7;A7.displayName="json";A7.aliases=["webmanifest"];function A7(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const Kzt=Pe(Gzt);var Zzt=D7;D7.displayName="jsx";D7.aliases=[];function D7(e){(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,o=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(u,d){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return o}).replace(/<SPREAD>/g,function(){return i}),RegExp(u,d)}i=s(i).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var a=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(a).join(""):""},c=function(u){for(var d=[],f=0;f<u.length;f++){var p=u[f],m=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===a(p.content[0].content[1])&&d.pop():p.content[p.content.length-1].content==="/>"||d.push({tagName:a(p.content[0].content[1]),openedBraces:0}):d.length>0&&p.type==="punctuation"&&p.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&p.type==="punctuation"&&p.content==="}"?d[d.length-1].openedBraces--:m=!0),(m||typeof p=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var v=a(p);f<u.length-1&&(typeof u[f+1]=="string"||u[f+1].type==="plain-text")&&(v+=a(u[f+1]),u.splice(f+1,1)),f>0&&(typeof u[f-1]=="string"||u[f-1].type==="plain-text")&&(v=a(u[f-1])+v,u.splice(f-1,1),f--),u[f]=new t.Token("plain-text",v,null,v)}p.content&&typeof p.content!="string"&&c(p.content)}};t.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||c(u.tokens)})})(e)}const Xzt=Pe(Zzt);var Qzt=I7;I7.displayName="typescript";I7.aliases=["ts"];function I7(e){(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}const Jzt=Pe(Qzt);var yc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yc||(yc={}));var Hk=function(e){return e},cJ="beforeunload",eVt="popstate";function tVt(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,o=r.history;function i(){var E=r.location,j=E.pathname,k=E.search,T=E.hash,A=o.state||{};return[A.idx,Hk({pathname:j,search:k,hash:T,state:A.usr||null,key:A.key||"default"})]}var s=null;function a(){if(s)m.call(s),s=null;else{var E=yc.Pop,j=i(),k=j[0],T=j[1];if(m.length){if(k!=null){var A=d-k;A&&(s={action:E,location:T,retry:function(){_(A*-1)}},_(A))}}else b(E)}}r.addEventListener(eVt,a);var c=yc.Pop,u=i(),d=u[0],f=u[1],p=Uk(),m=Uk();d==null&&(d=0,o.replaceState(Vu({},o.state,{idx:d}),""));function v(E){return typeof E=="string"?E:gTe(E)}function g(E,j){return j===void 0&&(j=null),Hk(Vu({pathname:f.pathname,hash:"",search:""},typeof E=="string"?RM(E):E,{state:j,key:OM()}))}function y(E,j){return[{usr:E.state,key:E.key,idx:j},v(E)]}function x(E,j,k){return!m.length||(m.call({action:E,location:j,retry:k}),!1)}function b(E){c=E;var j=i();d=j[0],f=j[1],p.call({action:c,location:f})}function w(E,j){var k=yc.Push,T=g(E,j);function A(){w(E,j)}if(x(k,T,A)){var D=y(T,d+1),I=D[0],P=D[1];try{o.pushState(I,"",P)}catch{r.location.assign(P)}b(k)}}function C(E,j){var k=yc.Replace,T=g(E,j);function A(){C(E,j)}if(x(k,T,A)){var D=y(T,d),I=D[0],P=D[1];o.replaceState(I,"",P),b(k)}}function _(E){o.go(E)}var S={get action(){return c},get location(){return f},createHref:v,push:w,replace:C,go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(j){return p.push(j)},block:function(j){var k=m.push(j);return m.length===1&&r.addEventListener(cJ,dJ),function(){k(),m.length||r.removeEventListener(cJ,dJ)}}};return S}function nVt(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,o=t.initialIndex,i=r.map(function(w){var C=Hk(Vu({pathname:"/",search:"",hash:"",state:null,key:OM()},typeof w=="string"?RM(w):w));return C}),s=uJ(o??i.length-1,0,i.length-1),a=yc.Pop,c=i[s],u=Uk(),d=Uk();function f(w){return typeof w=="string"?w:gTe(w)}function p(w,C){return C===void 0&&(C=null),Hk(Vu({pathname:c.pathname,search:"",hash:""},typeof w=="string"?RM(w):w,{state:C,key:OM()}))}function m(w,C,_){return!d.length||(d.call({action:w,location:C,retry:_}),!1)}function v(w,C){a=w,c=C,u.call({action:a,location:c})}function g(w,C){var _=yc.Push,S=p(w,C);function E(){g(w,C)}m(_,S,E)&&(s+=1,i.splice(s,i.length,S),v(_,S))}function y(w,C){var _=yc.Replace,S=p(w,C);function E(){y(w,C)}m(_,S,E)&&(i[s]=S,v(_,S))}function x(w){var C=uJ(s+w,0,i.length-1),_=yc.Pop,S=i[C];function E(){x(w)}m(_,S,E)&&(s=C,v(_,S))}var b={get index(){return s},get action(){return a},get location(){return c},createHref:f,push:g,replace:y,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(C){return u.push(C)},block:function(C){return d.push(C)}};return b}function uJ(e,t,n){return Math.min(Math.max(e,t),n)}function dJ(e){e.preventDefault(),e.returnValue=""}function Uk(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function OM(){return Math.random().toString(36).substr(2,8)}function gTe(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,o=r===void 0?"":r,i=e.hash,s=i===void 0?"":i;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function RM(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var rVt=Lc,vTe=/[\\^$.*+?()[\]{}|]/g,oVt=RegExp(vTe.source);function iVt(e){return e=rVt(e),e&&oVt.test(e)?e.replace(vTe,"\\$&"):e}var sVt=iVt;const P7=Pe(sVt);var yTe,fJ=hc;yTe=fJ.createRoot,fJ.hydrateRoot;h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("path",{d:"M32 0L0 32H32V0Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M32 32H0L32 64V32Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M64 32H32V64L64 32Z",fill:pe.purple[300].hex}),l.jsx("path",{d:"M112 0L80 32H112V0Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M112 0H80V32L112 0Z",fill:pe.purple[300].hex}),l.jsx("path",{d:"M112 32H80L112 64V32Z",fill:pe.yellow[200].hex}),l.jsx("path",{d:"M144 64L112 32V64H144Z",fill:pe.blue[300].hex}),l.jsx("path",{d:"M80 32V64H112L80 32Z",fill:pe.orange[400].hex}),l.jsx("path",{d:"M112 0V32H144L112 0Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M192 0L160 32H192V0Z",fill:pe.yellow[200].hex}),l.jsx("path",{d:"M192 32H160L192 64V32Z",fill:pe.orange[400].hex}),l.jsx("path",{d:"M224 32H192V64L224 32Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M192 0V32H224L192 0Z",fill:pe.blue[300].hex}),l.jsx("path",{d:"M272 0L240 32H272V0Z",fill:pe.purple[300].hex}),l.jsx("path",{d:"M304 32L272 64H304V32Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M272 32H240L272 64V32Z",fill:pe.blue[300].hex}),l.jsx("path",{d:"M304 32H272V64L304 32Z",fill:pe.yellow[200].hex}),l.jsx("path",{d:"M272 0V32H304L272 0Z",fill:pe.green[300].hex})]})});h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:pe.green[950].hex}),l.jsx("rect",{y:"32",width:"64",height:"64",fill:pe.green[800].hex}),l.jsx("path",{d:"M64 32L32 64H64V32Z",fill:pe.magenta[400].hex}),l.jsx("path",{d:"M64 64H32L64 96V64Z",fill:pe.green[300].hex}),l.jsx("path",{d:"M96 64H64V96L96 64Z",fill:pe.purple[300].hex})]})});const aVt={light:[pe.red[200].hex,pe.red[300].hex,pe.red[500].hex],dark:[pe.gray[500].hex,pe.gray[300].hex,_a.hex]},lVt=h.forwardRef(function(t,n){const{dark:r,...o}=t,i=aVt[r?"dark":"light"];return l.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:i[1]}),l.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:i[2]}),l.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:i[1]}),l.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:i[1]}),l.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:i[0]}),l.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:i[2]}),l.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:i[2]}),l.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:i[1]}),l.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:i[2]}),l.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:i[1]}),l.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:i[0]}),l.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:i[1]}),l.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:i[2]}),l.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:i[2]}),l.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:i[1]}),l.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:i[1]})]})}),cVt={bg1:pe.red[500].hex,bg2:pe.red[200].hex,fg:_a.hex},uVt=h.forwardRef(function(t,n){const{color:r=cVt,...o}=t;return l.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:r.bg1}),l.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:r.fg}),l.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:r.bg2}),l.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:r.bg2})]})});var U0={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bTe=h;function kt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var us=Object.prototype.hasOwnProperty,dVt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hJ={},pJ={};function xTe(e){return us.call(pJ,e)?!0:us.call(hJ,e)?!1:dVt.test(e)?pJ[e]=!0:(hJ[e]=!0,!1)}function os(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){oi[e]=new os(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];oi[t]=new os(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){oi[e]=new os(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){oi[e]=new os(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){oi[e]=new os(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){oi[e]=new os(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){oi[e]=new os(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){oi[e]=new os(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){oi[e]=new os(e,5,!1,e.toLowerCase(),null,!1,!1)});var O7=/[\-:]([a-z])/g;function R7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(O7,R7);oi[t]=new os(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(O7,R7);oi[t]=new os(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(O7,R7);oi[t]=new os(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){oi[e]=new os(e,1,!1,e.toLowerCase(),null,!1,!1)});oi.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){oi[e]=new os(e,1,!1,e.toLowerCase(),null,!0,!0)});var fS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fVt=["Webkit","ms","Moz","O"];Object.keys(fS).forEach(function(e){fVt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fS[t]=fS[e]})});var hVt=/["'&<>]/;function Yi(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=hVt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var pVt=/([A-Z])/g,mVt=/^ms-/,$M=Array.isArray;function Jc(e,t){return{insertionMode:e,selectedValue:t}}function gVt(e,t,n){switch(t){case"select":return Jc(1,n.value!=null?n.value:n.defaultValue);case"svg":return Jc(2,null);case"math":return Jc(3,null);case"foreignObject":return Jc(1,null);case"table":return Jc(4,null);case"thead":case"tbody":case"tfoot":return Jc(5,null);case"colgroup":return Jc(7,null);case"tr":return Jc(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Jc(1,null):e}var mJ=new Map;function wTe(e,t,n){if(typeof n!="object")throw Error(kt(62));t=!0;for(var r in n)if(us.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Yi(r);o=Yi((""+o).trim())}else{i=r;var s=mJ.get(i);s!==void 0||(s=Yi(i.replace(pVt,"-$1").toLowerCase().replace(mVt,"-ms-")),mJ.set(i,s)),i=s,o=typeof o=="number"?o===0||us.call(fS,r)?""+o:o+"px":Yi((""+o).trim())}t?(t=!1,e.push(' style="',i,":",o)):e.push(";",i,":",o)}}t||e.push('"')}function $s(e,t,n,r){switch(n){case"style":wTe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=oi.hasOwnProperty(n)?oi[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',Yi(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',Yi(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',Yi(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',Yi(r),'"')}}else if(xTe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',Yi(r),'"')}}}function hS(e,t,n){if(t!=null){if(n!=null)throw Error(kt(60));if(typeof t!="object"||!("__html"in t))throw Error(kt(61));t=t.__html,t!=null&&e.push(""+t)}}function vVt(e){var t="";return bTe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function nO(e,t,n,r){e.push(tc(n));var o=n=null,i;for(i in t)if(us.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:$s(e,r,i,s)}}return e.push(">"),hS(e,o,n),typeof n=="string"?(e.push(Yi(n)),null):n}var yVt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,gJ=new Map;function tc(e){var t=gJ.get(e);if(t===void 0){if(!yVt.test(e))throw Error(kt(65,e));t="<"+e,gJ.set(e,t)}return t}function bVt(e,t,n,r,o){switch(t){case"select":e.push(tc("select"));var i=null,s=null;for(d in n)if(us.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:$s(e,r,d,a)}}return e.push(">"),hS(e,s,i),i;case"option":s=o.selectedValue,e.push(tc("option"));var c=a=null,u=null,d=null;for(i in n)if(us.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":c=f;default:$s(e,r,i,f)}}if(s!=null)if(n=c!==null?""+c:vVt(a),$M(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),hS(e,d,a),a;case"textarea":e.push(tc("textarea")),d=s=i=null;for(a in n)if(us.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(kt(91));default:$s(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(">"),d!=null){if(i!=null)throw Error(kt(92));if($M(d)&&1<d.length)throw Error(kt(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i!==null&&e.push(Yi(""+i)),null;case"input":e.push(tc("input")),c=d=a=i=null;for(s in n)if(us.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(kt(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:$s(e,r,s,u)}return d!==null?$s(e,r,"checked",d):c!==null&&$s(e,r,"checked",c),i!==null?$s(e,r,"value",i):a!==null&&$s(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(tc("menuitem"));for(var p in n)if(us.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(kt(400));default:$s(e,r,p,i)}return e.push(">"),null;case"title":e.push(tc("title")),i=null;for(f in n)if(us.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(kt(434));default:$s(e,r,f,s)}return e.push(">"),i;case"listing":case"pre":e.push(tc(t)),s=i=null;for(c in n)if(us.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:$s(e,r,c,a)}if(e.push(">"),s!=null){if(i!=null)throw Error(kt(60));if(typeof s!="object"||!("__html"in s))throw Error(kt(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(tc(t));for(var m in n)if(us.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(kt(399,t));default:$s(e,r,m,i)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return nO(e,n,t,r);case"html":return o.insertionMode===0&&e.push("<!DOCTYPE html>"),nO(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return nO(e,n,t,r);e.push(tc(t)),s=i=null;for(u in n)if(us.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":wTe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:xTe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",u,'="',Yi(a),'"')}return e.push(">"),hS(e,s,i),i}}function vJ(e,t,n){if(e.push('<!--$?--><template id="'),n===null)throw Error(kt(395));return e.push(n),e.push('"></template>')}function xVt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=r.toString(16),e.push(t),e.push('">');default:throw Error(kt(397))}}function wVt(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(kt(397))}}var CVt=/[<\u2028\u2029]/g;function rO(e){return JSON.stringify(e).replace(CVt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function _Vt(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function yJ(e,t,n,r){return n.generateStaticMarkup?(e.push(Yi(t)),!1):(t===""?e=r:(r&&e.push("<!-- -->"),e.push(Yi(t)),e=!0),e)}var pb=Object.assign,SVt=Symbol.for("react.element"),CTe=Symbol.for("react.portal"),_Te=Symbol.for("react.fragment"),STe=Symbol.for("react.strict_mode"),ETe=Symbol.for("react.profiler"),kTe=Symbol.for("react.provider"),jTe=Symbol.for("react.context"),TTe=Symbol.for("react.forward_ref"),ATe=Symbol.for("react.suspense"),DTe=Symbol.for("react.suspense_list"),ITe=Symbol.for("react.memo"),$7=Symbol.for("react.lazy"),EVt=Symbol.for("react.scope"),kVt=Symbol.for("react.debug_trace_mode"),jVt=Symbol.for("react.legacy_hidden"),TVt=Symbol.for("react.default_value"),bJ=Symbol.iterator;function MM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _Te:return"Fragment";case CTe:return"Portal";case ETe:return"Profiler";case STe:return"StrictMode";case ATe:return"Suspense";case DTe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jTe:return(e.displayName||"Context")+".Consumer";case kTe:return(e._context.displayName||"Context")+".Provider";case TTe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ITe:return t=e.displayName||null,t!==null?t:MM(e.type)||"Memo";case $7:t=e._payload,e=e._init;try{return MM(e(t))}catch{}}return null}var PTe={};function xJ(e,t){if(e=e.contextTypes,!e)return PTe;var n={},r;for(r in e)n[r]=t[r];return n}var sp=null;function tA(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(kt(401))}else{if(n===null)throw Error(kt(401));tA(e,n)}t.context._currentValue2=t.value}}function OTe(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&OTe(e)}function RTe(e){var t=e.parent;t!==null&&RTe(t),e.context._currentValue2=e.value}function $Te(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(kt(402));e.depth===t.depth?tA(e,t):$Te(e,t)}function MTe(e,t){var n=t.parent;if(n===null)throw Error(kt(402));e.depth===n.depth?tA(e,n):MTe(e,n),t.context._currentValue2=t.value}function Wk(e){var t=sp;t!==e&&(t===null?RTe(e):e===null?OTe(t):t.depth===e.depth?tA(t,e):t.depth>e.depth?$Te(t,e):MTe(t,e),sp=e)}var wJ={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function CJ(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=wJ,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:pb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&wJ.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=pb({},i,a)):pb(i,a))}e.state=i}else i.queue=null}var AVt={id:1,overflow:""};function FM(e,t,n){var r=e.id;e=e.overflow;var o=32-pS(r)-1;r&=~(1<<o),n+=1;var i=32-pS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-pS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var pS=Math.clz32?Math.clz32:PVt,DVt=Math.log,IVt=Math.LN2;function PVt(e){return e>>>=0,e===0?32:31-(DVt(e)/IVt|0)|0}function OVt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var RVt=typeof Object.is=="function"?Object.is:OVt,qu=null,M7=null,mS=null,Vn=null,ky=!1,Yk=!1,Cx=0,Qd=null,nA=0;function Wh(){if(qu===null)throw Error(kt(321));return qu}function _J(){if(0<nA)throw Error(kt(312));return{memoizedState:null,queue:null,next:null}}function F7(){return Vn===null?mS===null?(ky=!1,mS=Vn=_J()):(ky=!0,Vn=mS):Vn.next===null?(ky=!1,Vn=Vn.next=_J()):(ky=!0,Vn=Vn.next),Vn}function L7(){M7=qu=null,Yk=!1,mS=null,nA=0,Vn=Qd=null}function FTe(e,t){return typeof t=="function"?t(e):t}function SJ(e,t,n){if(qu=Wh(),Vn=F7(),ky){var r=Vn.queue;if(t=r.dispatch,Qd!==null&&(n=Qd.get(r),n!==void 0)){Qd.delete(r),r=Vn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Vn.memoizedState=r,[r,t]}return[Vn.memoizedState,t]}return e=e===FTe?typeof t=="function"?t():t:n!==void 0?n(t):t,Vn.memoizedState=e,e=Vn.queue={last:null,dispatch:null},e=e.dispatch=$Vt.bind(null,qu,e),[Vn.memoizedState,e]}function EJ(e,t){if(qu=Wh(),Vn=F7(),t=t===void 0?null:t,Vn!==null){var n=Vn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!RVt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Vn.memoizedState=[e,t],e}function $Vt(e,t,n){if(25<=nA)throw Error(kt(301));if(e===qu)if(Yk=!0,e={action:n,next:null},Qd===null&&(Qd=new Map),n=Qd.get(t),n===void 0)Qd.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function MVt(){throw Error(kt(394))}function z_(){}var kJ={readContext:function(e){return e._currentValue2},useContext:function(e){return Wh(),e._currentValue2},useMemo:EJ,useReducer:SJ,useRef:function(e){qu=Wh(),Vn=F7();var t=Vn.memoizedState;return t===null?(e={current:e},Vn.memoizedState=e):t},useState:function(e){return SJ(FTe,e)},useInsertionEffect:z_,useLayoutEffect:function(){},useCallback:function(e,t){return EJ(function(){return e},t)},useImperativeHandle:z_,useEffect:z_,useDebugValue:z_,useDeferredValue:function(e){return Wh(),e},useTransition:function(){return Wh(),[!1,MVt]},useId:function(){var e=M7.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-pS(e)-1)).toString(32)+t;var n=gS;if(n===null)throw Error(kt(404));return t=Cx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Wh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(kt(407));return n()}},gS=null,oO=bTe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function FVt(e){return console.error(e),null}function jy(){}function LVt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?FVt:o,onAllReady:i===void 0?jy:i,onShellReady:s===void 0?jy:s,onShellError:a===void 0?jy:a,onFatalError:c===void 0?jy:c},n=qk(t,0,null,n,!1,!1),n.parentFlushed=!0,e=B7(t,e,null,n,d,PTe,null,AVt),u.push(e),t}function B7(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&NTe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function qk(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function _x(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Gk(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function jJ(e,t,n,r,o){for(qu={},M7=t,Cx=0,e=n(r,o);Yk;)Yk=!1,Cx=0,nA+=1,Vn=null,e=n(r,o);return L7(),e}function TJ(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(kt(108,MM(r)||"Unknown",a));r=pb({},s,n)}t.legacyContext=r,Ns(e,t,o),t.legacyContext=s}else Ns(e,t,o)}function AJ(e,t){if(e&&e.defaultProps){t=pb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function LM(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=xJ(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue2:o),CJ(i,n,r,o),TJ(e,t,i,n)}else{i=xJ(n,t.legacyContext),o=jJ(e,t,n,r,i);var s=Cx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)CJ(o,n,r,i),TJ(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=FM(r,1,0);try{Ns(e,t,o)}finally{t.treeContext=r}}else Ns(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=bVt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=gVt(s,n,r),BM(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}o.lastPushedText=!1}else{switch(n){case jVt:case kVt:case STe:case ETe:case _Te:Ns(e,t,r.children);return;case DTe:Ns(e,t,r.children);return;case EVt:throw Error(kt(343));case ATe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},c=qk(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=qk(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(BM(e,t,r),e.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,Kk(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=_x(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=B7(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case TTe:if(r=jJ(e,t,n.render,r,o),Cx!==0){n=t.treeContext,t.treeContext=FM(n,1,0);try{Ns(e,t,r)}finally{t.treeContext=n}}else Ns(e,t,r);return;case ITe:n=n.type,r=AJ(n,r),LM(e,t,n,r,o);return;case kTe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue2,n._currentValue2=r,s=sp,sp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Ns(e,t,o),e=sp,e===null)throw Error(kt(403));r=e.parentValue,e.context._currentValue2=r===TVt?e.context._defaultValue:r,e=sp=e.parent,t.context=e;return;case jTe:r=r.children,r=r(n._currentValue2),Ns(e,t,r);return;case $7:o=n._init,n=o(n._payload),r=AJ(n,r),LM(e,t,n,r,void 0);return}throw Error(kt(130,n==null?n:typeof n,""))}}function Ns(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case SVt:LM(e,t,n.type,n.props,n.ref);return;case CTe:throw Error(kt(257));case $7:var r=n._init;n=r(n._payload),Ns(e,t,n);return}if($M(n)){DJ(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=bJ&&n[bJ]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);DJ(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(kt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=yJ(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=yJ(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function DJ(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=FM(i,r,o);try{BM(e,t,n[o])}finally{t.treeContext=i}}}function BM(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Ns(e,t,n)}catch(c){if(L7(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=qk(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=B7(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,Wk(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,Wk(i),c}}function BVt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,BTe(this,t,e)}function LTe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(kt(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return LTe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function Kk(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&Kk(e,n)}else e.completedSegments.push(t)}function BTe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(kt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=jy,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&Kk(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(BVt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(Kk(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function NTe(e){if(e.status!==2){var t=sp,n=oO.current;oO.current=kJ;var r=gS;gS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){Wk(s.context);try{Ns(a,s,s.node),a.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),s.abortSet.delete(s),c.status=1,BTe(a,s.blockedBoundary,c)}catch(v){if(L7(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=v,p=_x(a,f);if(d===null?Gk(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&N7(e,e.destination)}catch(v){_x(e,v),Gk(e,v)}finally{gS=r,oO.current=n,n===kJ&&Wk(t)}}}function V_(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=r.toString(16),t.push(e),t.push('"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)t.push(r[i]);o=rA(e,t,o)}for(;i<r.length-1;i++)t.push(r[i]);return i<r.length&&(o=t.push(r[i])),o;default:throw Error(kt(390))}}function rA(e,t,n){var r=n.boundary;if(r===null)return V_(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||(r=r.errorDigest,t.push("<!--$!-->"),t.push("<template"),r&&(t.push(' data-dgst="'),r=Yi(r),t.push(r),t.push('"')),t.push("></template>")),V_(e,t,n),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;return o=o.boundaryPrefix+i.toString(16),r=r.id=o,vJ(t,e.responseState,r),V_(e,t,n),t.push("<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),vJ(t,e.responseState,r.id),V_(e,t,n),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(kt(391));return rA(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function IJ(e,t,n){return xVt(t,e.responseState,n.formatContext,n.id),rA(e,t,n),wVt(t,n.formatContext)}function PJ(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)zTe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(kt(395));return n=n.toString(16),t.push(r),t.push('","'),t.push(e.segmentPrefix),t.push(n),t.push('")<\/script>')}function zTe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(kt(392));return IJ(e,t,r)}return IJ(e,t,r),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),o=o.toString(16),t.push(o),t.push('","'),t.push(e.placeholderPrefix),t.push(o),t.push('")<\/script>')}function N7(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){rA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)t.push(r[n]);n<r.length&&t.push(r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,c=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(r.push(a.startInlineScript),a.sentClientRenderFunction?r.push('$RX("'):(a.sentClientRenderFunction=!0,r.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),c===null)throw Error(kt(395));if(r.push(c),r.push('"'),u||d||f){r.push(",");var p=rO(u||"");r.push(p)}if(d||f){r.push(",");var m=rO(d||"");r.push(m)}if(f){r.push(",");var v=rO(f);r.push(v)}if(!r.push(")<\/script>")){e.destination=null,i++,o.splice(0,i);return}}o.splice(0,i);var g=e.completedBoundaries;for(i=0;i<g.length;i++)if(!PJ(e,t,g[i])){e.destination=null,i++,g.splice(0,i);return}g.splice(0,i);var y=e.partialBoundaries;for(i=0;i<y.length;i++){var x=y[i];e:{o=e,s=t;var b=x.completedSegments;for(a=0;a<b.length;a++)if(!zTe(o,s,x,b[a])){a++,b.splice(0,a);var w=!1;break e}b.splice(0,a),w=!0}if(!w){e.destination=null,i++,y.splice(0,i);return}}y.splice(0,i);var C=e.completedBoundaries;for(i=0;i<C.length;i++)if(!PJ(e,t,C[i])){e.destination=null,i++,C.splice(0,i);return}C.splice(0,i)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function NVt(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return LTe(r,e,t)}),n.clear(),e.destination!==null&&N7(e,e.destination)}catch(r){_x(e,r),Gk(e,r)}}function zVt(){}function VTe(e,t,n,r){var o=!1,i=null,s="",a={push:function(u){return u!==null&&(s+=u),!0},destroy:function(u){o=!0,i=u}},c=!1;if(e=LVt(e,_Vt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,zVt,void 0,function(){c=!0},void 0,void 0),NTe(e),NVt(e,r),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{N7(e,a)}catch(u){_x(e,u),Gk(e,u)}}if(o)throw i;if(!c)throw Error(kt(426));return s}U0.renderToNodeStream=function(){throw Error(kt(207))};U0.renderToStaticMarkup=function(e,t){return VTe(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};U0.renderToStaticNodeStream=function(){throw Error(kt(208))};U0.renderToString=function(e,t){return VTe(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};U0.version="18.2.0";var z7={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HTe=h;function Ot(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zs=null,Vs=0;function Qe(e,t){if(t.length!==0)if(512<t.length)0<Vs&&(e.enqueue(new Uint8Array(zs.buffer,0,Vs)),zs=new Uint8Array(512),Vs=0),e.enqueue(t);else{var n=zs.length-Vs;n<t.length&&(n===0?e.enqueue(zs):(zs.set(t.subarray(0,n),Vs),e.enqueue(zs),t=t.subarray(n)),zs=new Uint8Array(512),Vs=0),zs.set(t,Vs),Vs+=t.length}}function ir(e,t){return Qe(e,t),!0}function OJ(e){zs&&0<Vs&&(e.enqueue(new Uint8Array(zs.buffer,0,Vs)),zs=null,Vs=0)}var UTe=new TextEncoder;function Mt(e){return UTe.encode(e)}function Fe(e){return UTe.encode(e)}function WTe(e,t){typeof e.error=="function"?e.error(t):e.close()}var ds=Object.prototype.hasOwnProperty,VVt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RJ={},$J={};function YTe(e){return ds.call($J,e)?!0:ds.call(RJ,e)?!1:VVt.test(e)?$J[e]=!0:(RJ[e]=!0,!1)}function is(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ii={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ii[e]=new is(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ii[t]=new is(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ii[e]=new is(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ii[e]=new is(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ii[e]=new is(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ii[e]=new is(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ii[e]=new is(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ii[e]=new is(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ii[e]=new is(e,5,!1,e.toLowerCase(),null,!1,!1)});var V7=/[\-:]([a-z])/g;function H7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(V7,H7);ii[t]=new is(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(V7,H7);ii[t]=new is(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(V7,H7);ii[t]=new is(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ii[e]=new is(e,1,!1,e.toLowerCase(),null,!1,!1)});ii.xlinkHref=new is("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ii[e]=new is(e,1,!1,e.toLowerCase(),null,!0,!0)});var vS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HVt=["Webkit","ms","Moz","O"];Object.keys(vS).forEach(function(e){HVt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vS[t]=vS[e]})});var UVt=/["'&<>]/;function Qo(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=UVt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var WVt=/([A-Z])/g,YVt=/^ms-/,NM=Array.isArray,qVt=Fe("<script>"),GVt=Fe("<\/script>"),KVt=Fe('<script src="'),ZVt=Fe('<script type="module" src="'),MJ=Fe('" async=""><\/script>'),XVt=/(<\/|<)(s)(cript)/gi;function QVt(e,t,n,r){return""+t+(n==="s"?"\\u0073":"\\u0053")+r}function JVt(e,t,n,r,o){e=e===void 0?"":e,t=t===void 0?qVt:Fe('<script nonce="'+Qo(t)+'">');var i=[];if(n!==void 0&&i.push(t,Mt((""+n).replace(XVt,QVt)),GVt),r!==void 0)for(n=0;n<r.length;n++)i.push(KVt,Mt(Qo(r[n])),MJ);if(o!==void 0)for(r=0;r<o.length;r++)i.push(ZVt,Mt(Qo(o[r])),MJ);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:Fe(e+"P:"),segmentPrefix:Fe(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function nc(e,t){return{insertionMode:e,selectedValue:t}}function eHt(e){return nc(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function tHt(e,t,n){switch(t){case"select":return nc(1,n.value!=null?n.value:n.defaultValue);case"svg":return nc(2,null);case"math":return nc(3,null);case"foreignObject":return nc(1,null);case"table":return nc(4,null);case"thead":case"tbody":case"tfoot":return nc(5,null);case"colgroup":return nc(7,null);case"tr":return nc(6,null)}return 4<=e.insertionMode||e.insertionMode===0?nc(1,null):e}var U7=Fe("<!-- -->");function FJ(e,t,n,r){return t===""?r:(r&&e.push(U7),e.push(Mt(Qo(t))),!0)}var LJ=new Map,nHt=Fe(' style="'),BJ=Fe(":"),rHt=Fe(";");function qTe(e,t,n){if(typeof n!="object")throw Error(Ot(62));t=!0;for(var r in n)if(ds.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Mt(Qo(r));o=Mt(Qo((""+o).trim()))}else{i=r;var s=LJ.get(i);s!==void 0||(s=Fe(Qo(i.replace(WVt,"-$1").toLowerCase().replace(YVt,"-ms-"))),LJ.set(i,s)),i=s,o=typeof o=="number"?o===0||ds.call(vS,r)?Mt(""+o):Mt(o+"px"):Mt(Qo((""+o).trim()))}t?(t=!1,e.push(nHt,i,BJ,o)):e.push(rHt,i,BJ,o)}}t||e.push(Yh)}var Ed=Fe(" "),mg=Fe('="'),Yh=Fe('"'),NJ=Fe('=""');function Ms(e,t,n,r){switch(n){case"style":qTe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ii.hasOwnProperty(n)?ii[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=Mt(t.attributeName),t.type){case 3:r&&e.push(Ed,n,NJ);break;case 4:r===!0?e.push(Ed,n,NJ):r!==!1&&e.push(Ed,n,mg,Mt(Qo(r)),Yh);break;case 5:isNaN(r)||e.push(Ed,n,mg,Mt(Qo(r)),Yh);break;case 6:!isNaN(r)&&1<=r&&e.push(Ed,n,mg,Mt(Qo(r)),Yh);break;default:t.sanitizeURL&&(r=""+r),e.push(Ed,n,mg,Mt(Qo(r)),Yh)}}else if(YTe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Ed,Mt(n),mg,Mt(Qo(r)),Yh)}}}var kd=Fe(">"),zJ=Fe("/>");function yS(e,t,n){if(t!=null){if(n!=null)throw Error(Ot(60));if(typeof t!="object"||!("__html"in t))throw Error(Ot(61));t=t.__html,t!=null&&e.push(Mt(""+t))}}function oHt(e){var t="";return HTe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var iO=Fe(' selected=""');function sO(e,t,n,r){e.push(rc(n));var o=n=null,i;for(i in t)if(ds.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:Ms(e,r,i,s)}}return e.push(kd),yS(e,o,n),typeof n=="string"?(e.push(Mt(Qo(n))),null):n}var aO=Fe(`
`),iHt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,VJ=new Map;function rc(e){var t=VJ.get(e);if(t===void 0){if(!iHt.test(e))throw Error(Ot(65,e));t=Fe("<"+e),VJ.set(e,t)}return t}var sHt=Fe("<!DOCTYPE html>");function aHt(e,t,n,r,o){switch(t){case"select":e.push(rc("select"));var i=null,s=null;for(d in n)if(ds.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:Ms(e,r,d,a)}}return e.push(kd),yS(e,s,i),i;case"option":s=o.selectedValue,e.push(rc("option"));var c=a=null,u=null,d=null;for(i in n)if(ds.call(n,i)){var f=n[i];if(f!=null)switch(i){case"children":a=f;break;case"selected":u=f;break;case"dangerouslySetInnerHTML":d=f;break;case"value":c=f;default:Ms(e,r,i,f)}}if(s!=null)if(n=c!==null?""+c:oHt(a),NM(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(iO);break}}else""+s===n&&e.push(iO);else u&&e.push(iO);return e.push(kd),yS(e,d,a),a;case"textarea":e.push(rc("textarea")),d=s=i=null;for(a in n)if(ds.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(Ot(91));default:Ms(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(kd),d!=null){if(i!=null)throw Error(Ot(92));if(NM(d)&&1<d.length)throw Error(Ot(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(aO),i!==null&&e.push(Mt(Qo(""+i))),null;case"input":e.push(rc("input")),c=d=a=i=null;for(s in n)if(ds.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:Ms(e,r,s,u)}return d!==null?Ms(e,r,"checked",d):c!==null&&Ms(e,r,"checked",c),i!==null?Ms(e,r,"value",i):a!==null&&Ms(e,r,"value",a),e.push(zJ),null;case"menuitem":e.push(rc("menuitem"));for(var p in n)if(ds.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(400));default:Ms(e,r,p,i)}return e.push(kd),null;case"title":e.push(rc("title")),i=null;for(f in n)if(ds.call(n,f)&&(s=n[f],s!=null))switch(f){case"children":i=s;break;case"dangerouslySetInnerHTML":throw Error(Ot(434));default:Ms(e,r,f,s)}return e.push(kd),i;case"listing":case"pre":e.push(rc(t)),s=i=null;for(c in n)if(ds.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:Ms(e,r,c,a)}if(e.push(kd),s!=null){if(i!=null)throw Error(Ot(60));if(typeof s!="object"||!("__html"in s))throw Error(Ot(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(aO,Mt(n)):e.push(Mt(""+n)))}return typeof i=="string"&&i[0]===`
`&&e.push(aO),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(rc(t));for(var m in n)if(ds.call(n,m)&&(i=n[m],i!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(Ot(399,t));default:Ms(e,r,m,i)}return e.push(zJ),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return sO(e,n,t,r);case"html":return o.insertionMode===0&&e.push(sHt),sO(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return sO(e,n,t,r);e.push(rc(t)),s=i=null;for(u in n)if(ds.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":qTe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:YTe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(Ed,Mt(u),mg,Mt(Qo(a)),Yh)}return e.push(kd),yS(e,s,i),i}}var lHt=Fe("</"),cHt=Fe(">"),uHt=Fe('<template id="'),dHt=Fe('"></template>'),fHt=Fe("<!--$-->"),hHt=Fe('<!--$?--><template id="'),pHt=Fe('"></template>'),mHt=Fe("<!--$!-->"),gHt=Fe("<!--/$-->"),vHt=Fe("<template"),yHt=Fe('"'),bHt=Fe(' data-dgst="');Fe(' data-msg="');Fe(' data-stck="');var xHt=Fe("></template>");function HJ(e,t,n){if(Qe(e,hHt),n===null)throw Error(Ot(395));return Qe(e,n),ir(e,pHt)}var wHt=Fe('<div hidden id="'),CHt=Fe('">'),_Ht=Fe("</div>"),SHt=Fe('<svg aria-hidden="true" style="display:none" id="'),EHt=Fe('">'),kHt=Fe("</svg>"),jHt=Fe('<math aria-hidden="true" style="display:none" id="'),THt=Fe('">'),AHt=Fe("</math>"),DHt=Fe('<table hidden id="'),IHt=Fe('">'),PHt=Fe("</table>"),OHt=Fe('<table hidden><tbody id="'),RHt=Fe('">'),$Ht=Fe("</tbody></table>"),MHt=Fe('<table hidden><tr id="'),FHt=Fe('">'),LHt=Fe("</tr></table>"),BHt=Fe('<table hidden><colgroup id="'),NHt=Fe('">'),zHt=Fe("</colgroup></table>");function VHt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return Qe(e,wHt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),ir(e,CHt);case 2:return Qe(e,SHt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),ir(e,EHt);case 3:return Qe(e,jHt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),ir(e,THt);case 4:return Qe(e,DHt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),ir(e,IHt);case 5:return Qe(e,OHt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),ir(e,RHt);case 6:return Qe(e,MHt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),ir(e,FHt);case 7:return Qe(e,BHt),Qe(e,t.segmentPrefix),Qe(e,Mt(r.toString(16))),ir(e,NHt);default:throw Error(Ot(397))}}function HHt(e,t){switch(t.insertionMode){case 0:case 1:return ir(e,_Ht);case 2:return ir(e,kHt);case 3:return ir(e,AHt);case 4:return ir(e,PHt);case 5:return ir(e,$Ht);case 6:return ir(e,LHt);case 7:return ir(e,zHt);default:throw Error(Ot(397))}}var UHt=Fe('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),WHt=Fe('$RS("'),YHt=Fe('","'),qHt=Fe('")<\/script>'),GHt=Fe('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),KHt=Fe('$RC("'),ZHt=Fe('","'),XHt=Fe('")<\/script>'),QHt=Fe('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),JHt=Fe('$RX("'),eUt=Fe('"'),tUt=Fe(")<\/script>"),lO=Fe(","),nUt=/[<\u2028\u2029]/g;function cO(e){return JSON.stringify(e).replace(nUt,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var mb=Object.assign,rUt=Symbol.for("react.element"),GTe=Symbol.for("react.portal"),KTe=Symbol.for("react.fragment"),ZTe=Symbol.for("react.strict_mode"),XTe=Symbol.for("react.profiler"),QTe=Symbol.for("react.provider"),JTe=Symbol.for("react.context"),eAe=Symbol.for("react.forward_ref"),tAe=Symbol.for("react.suspense"),nAe=Symbol.for("react.suspense_list"),rAe=Symbol.for("react.memo"),W7=Symbol.for("react.lazy"),oUt=Symbol.for("react.scope"),iUt=Symbol.for("react.debug_trace_mode"),sUt=Symbol.for("react.legacy_hidden"),aUt=Symbol.for("react.default_value"),UJ=Symbol.iterator;function zM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case KTe:return"Fragment";case GTe:return"Portal";case XTe:return"Profiler";case ZTe:return"StrictMode";case tAe:return"Suspense";case nAe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case JTe:return(e.displayName||"Context")+".Consumer";case QTe:return(e._context.displayName||"Context")+".Provider";case eAe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rAe:return t=e.displayName||null,t!==null?t:zM(e.type)||"Memo";case W7:t=e._payload,e=e._init;try{return zM(e(t))}catch{}}return null}var oAe={};function WJ(e,t){if(e=e.contextTypes,!e)return oAe;var n={},r;for(r in e)n[r]=t[r];return n}var ap=null;function oA(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Ot(401))}else{if(n===null)throw Error(Ot(401));oA(e,n)}t.context._currentValue=t.value}}function iAe(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&iAe(e)}function sAe(e){var t=e.parent;t!==null&&sAe(t),e.context._currentValue=e.value}function aAe(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Ot(402));e.depth===t.depth?oA(e,t):aAe(e,t)}function lAe(e,t){var n=t.parent;if(n===null)throw Error(Ot(402));e.depth===n.depth?oA(e,n):lAe(e,n),t.context._currentValue=t.value}function Zk(e){var t=ap;t!==e&&(t===null?sAe(e):e===null?iAe(t):t.depth===e.depth?oA(t,e):t.depth>e.depth?aAe(t,e):lAe(t,e),ap=e)}var YJ={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function qJ(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=YJ,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:mb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&YJ.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=mb({},i,a)):mb(i,a))}e.state=i}else i.queue=null}var lUt={id:1,overflow:""};function VM(e,t,n){var r=e.id;e=e.overflow;var o=32-bS(r)-1;r&=~(1<<o),n+=1;var i=32-bS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-bS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var bS=Math.clz32?Math.clz32:dUt,cUt=Math.log,uUt=Math.LN2;function dUt(e){return e>>>=0,e===0?32:31-(cUt(e)/uUt|0)|0}function fUt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hUt=typeof Object.is=="function"?Object.is:fUt,Gu=null,Y7=null,xS=null,Hn=null,Ty=!1,Xk=!1,Sx=0,Jd=null,iA=0;function qh(){if(Gu===null)throw Error(Ot(321));return Gu}function GJ(){if(0<iA)throw Error(Ot(312));return{memoizedState:null,queue:null,next:null}}function q7(){return Hn===null?xS===null?(Ty=!1,xS=Hn=GJ()):(Ty=!0,Hn=xS):Hn.next===null?(Ty=!1,Hn=Hn.next=GJ()):(Ty=!0,Hn=Hn.next),Hn}function G7(){Y7=Gu=null,Xk=!1,xS=null,iA=0,Hn=Jd=null}function cAe(e,t){return typeof t=="function"?t(e):t}function KJ(e,t,n){if(Gu=qh(),Hn=q7(),Ty){var r=Hn.queue;if(t=r.dispatch,Jd!==null&&(n=Jd.get(r),n!==void 0)){Jd.delete(r),r=Hn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Hn.memoizedState=r,[r,t]}return[Hn.memoizedState,t]}return e=e===cAe?typeof t=="function"?t():t:n!==void 0?n(t):t,Hn.memoizedState=e,e=Hn.queue={last:null,dispatch:null},e=e.dispatch=pUt.bind(null,Gu,e),[Hn.memoizedState,e]}function ZJ(e,t){if(Gu=qh(),Hn=q7(),t=t===void 0?null:t,Hn!==null){var n=Hn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!hUt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Hn.memoizedState=[e,t],e}function pUt(e,t,n){if(25<=iA)throw Error(Ot(301));if(e===Gu)if(Xk=!0,e={action:n,next:null},Jd===null&&(Jd=new Map),n=Jd.get(t),n===void 0)Jd.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function mUt(){throw Error(Ot(394))}function H_(){}var XJ={readContext:function(e){return e._currentValue},useContext:function(e){return qh(),e._currentValue},useMemo:ZJ,useReducer:KJ,useRef:function(e){Gu=qh(),Hn=q7();var t=Hn.memoizedState;return t===null?(e={current:e},Hn.memoizedState=e):t},useState:function(e){return KJ(cAe,e)},useInsertionEffect:H_,useLayoutEffect:function(){},useCallback:function(e,t){return ZJ(function(){return e},t)},useImperativeHandle:H_,useEffect:H_,useDebugValue:H_,useDeferredValue:function(e){return qh(),e},useTransition:function(){return qh(),[!1,mUt]},useId:function(){var e=Y7.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-bS(e)-1)).toString(32)+t;var n=wS;if(n===null)throw Error(Ot(404));return t=Sx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return qh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Ot(407));return n()}},wS=null,uO=HTe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function gUt(e){return console.error(e),null}function Ay(){}function vUt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?gUt:o,onAllReady:i===void 0?Ay:i,onShellReady:s===void 0?Ay:s,onShellError:a===void 0?Ay:a,onFatalError:c===void 0?Ay:c},n=Qk(t,0,null,n,!1,!1),n.parentFlushed=!0,e=K7(t,e,null,n,d,oAe,null,lUt),u.push(e),t}function K7(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&fAe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function Qk(e,t,n,r,o,i){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n,lastPushedText:o,textEmbedded:i}}function Ex(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Jk(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,WTe(e.destination,t)):(e.status=1,e.fatalError=t)}function QJ(e,t,n,r,o){for(Gu={},Y7=t,Sx=0,e=n(r,o);Xk;)Xk=!1,Sx=0,iA+=1,Hn=null,e=n(r,o);return G7(),e}function JJ(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Ot(108,zM(r)||"Unknown",a));r=mb({},s,n)}t.legacyContext=r,Hs(e,t,o),t.legacyContext=s}else Hs(e,t,o)}function eee(e,t){if(e&&e.defaultProps){t=mb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function HM(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=WJ(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue:o),qJ(i,n,r,o),JJ(e,t,i,n)}else{i=WJ(n,t.legacyContext),o=QJ(e,t,n,r,i);var s=Sx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)qJ(o,n,r,i),JJ(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=VM(r,1,0);try{Hs(e,t,o)}finally{t.treeContext=r}}else Hs(e,t,o)}else if(typeof n=="string"){switch(o=t.blockedSegment,i=aHt(o.chunks,n,r,e.responseState,o.formatContext),o.lastPushedText=!1,s=o.formatContext,o.formatContext=tHt(s,n,r),UM(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(lHt,Mt(n),cHt)}o.lastPushedText=!1}else{switch(n){case sUt:case iUt:case ZTe:case XTe:case KTe:Hs(e,t,r.children);return;case nAe:Hs(e,t,r.children);return;case oUt:throw Error(Ot(343));case tAe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s,errorDigest:null},c=Qk(e,o.chunks.length,a,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=Qk(e,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(UM(e,t,r),u.lastPushedText&&u.textEmbedded&&u.chunks.push(U7),u.status=1,e5(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,a.forceClientRender=!0,a.errorDigest=Ex(e,d)}finally{t.blockedBoundary=n,t.blockedSegment=o}t=K7(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case eAe:if(r=QJ(e,t,n.render,r,o),Sx!==0){n=t.treeContext,t.treeContext=VM(n,1,0);try{Hs(e,t,r)}finally{t.treeContext=n}}else Hs(e,t,r);return;case rAe:n=n.type,r=eee(n,r),HM(e,t,n,r,o);return;case QTe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue,n._currentValue=r,s=ap,ap=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Hs(e,t,o),e=ap,e===null)throw Error(Ot(403));r=e.parentValue,e.context._currentValue=r===aUt?e.context._defaultValue:r,e=ap=e.parent,t.context=e;return;case JTe:r=r.children,r=r(n._currentValue),Hs(e,t,r);return;case W7:o=n._init,n=o(n._payload),r=eee(n,r),HM(e,t,n,r,void 0);return}throw Error(Ot(130,n==null?n:typeof n,""))}}function Hs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case rUt:HM(e,t,n.type,n.props,n.ref);return;case GTe:throw Error(Ot(257));case W7:var r=n._init;n=r(n._payload),Hs(e,t,n);return}if(NM(n)){tee(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=UJ&&n[UJ]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);tee(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Ot(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(r=t.blockedSegment,r.lastPushedText=FJ(t.blockedSegment.chunks,n,e.responseState,r.lastPushedText)):typeof n=="number"&&(r=t.blockedSegment,r.lastPushedText=FJ(t.blockedSegment.chunks,""+n,e.responseState,r.lastPushedText))}function tee(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=VM(i,r,o);try{UM(e,t,n[o])}finally{t.treeContext=i}}}function UM(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Hs(e,t,n)}catch(c){if(G7(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=Qk(e,s.chunks.length,null,s.formatContext,s.lastPushedText,!0);s.children.push(a),s.lastPushedText=!1,e=K7(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,Zk(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,Zk(i),c}}function yUt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,dAe(this,t,e)}function uAe(e,t,n){var r=e.blockedBoundary;e.blockedSegment.status=3,r===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,e=n===void 0?Error(Ot(432)):n,r.errorDigest=t.onError(e),r.parentFlushed&&t.clientRenderedBoundaries.push(r)),r.fallbackAbortableTasks.forEach(function(o){return uAe(o,t,n)}),r.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(r=t.onAllReady,r()))}function e5(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&e5(e,n)}else e.completedSegments.push(t)}function dAe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Ot(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Ay,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&e5(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(yUt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(e5(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function fAe(e){if(e.status!==2){var t=ap,n=uO.current;uO.current=XJ;var r=wS;wS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){Zk(s.context);try{Hs(a,s,s.node),c.lastPushedText&&c.textEmbedded&&c.chunks.push(U7),s.abortSet.delete(s),c.status=1,dAe(a,s.blockedBoundary,c)}catch(v){if(G7(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=s.ping;v.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=v,p=Ex(a,f);if(d===null?Jk(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=p,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var m=a.onAllReady;m()}}}finally{}}}o.splice(0,i),e.destination!==null&&Z7(e,e.destination)}catch(v){Ex(e,v),Jk(e,v)}finally{wS=r,uO.current=n,n===XJ&&Zk(t)}}}function U_(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return n.lastPushedText=!1,n.textEmbedded=!1,e=e.responseState,Qe(t,uHt),Qe(t,e.placeholderPrefix),e=Mt(r.toString(16)),Qe(t,e),ir(t,dHt);case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)Qe(t,r[i]);o=sA(e,t,o)}for(;i<r.length-1;i++)Qe(t,r[i]);return i<r.length&&(o=ir(t,r[i])),o;default:throw Error(Ot(390))}}function sA(e,t,n){var r=n.boundary;if(r===null)return U_(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)r=r.errorDigest,ir(t,mHt),Qe(t,vHt),r&&(Qe(t,bHt),Qe(t,Mt(Qo(r))),Qe(t,yHt)),ir(t,xHt),U_(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;o=Fe(o.boundaryPrefix+i.toString(16)),r=r.id=o,HJ(t,e.responseState,r),U_(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),HJ(t,e.responseState,r.id),U_(e,t,n);else{if(ir(t,fHt),n=r.completedSegments,n.length!==1)throw Error(Ot(391));sA(e,t,n[0])}return ir(t,gHt)}function nee(e,t,n){return VHt(t,e.responseState,n.formatContext,n.id),sA(e,t,n),HHt(t,n.formatContext)}function ree(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)hAe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,Qe(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Qe(t,KHt):(e.sentCompleteBoundaryFunction=!0,Qe(t,GHt)),r===null)throw Error(Ot(395));return n=Mt(n.toString(16)),Qe(t,r),Qe(t,ZHt),Qe(t,e.segmentPrefix),Qe(t,n),ir(t,XHt)}function hAe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Ot(392));return nee(e,t,r)}return nee(e,t,r),e=e.responseState,Qe(t,e.startInlineScript),e.sentCompleteSegmentFunction?Qe(t,WHt):(e.sentCompleteSegmentFunction=!0,Qe(t,UHt)),Qe(t,e.segmentPrefix),o=Mt(o.toString(16)),Qe(t,o),Qe(t,YHt),Qe(t,e.placeholderPrefix),Qe(t,o),ir(t,qHt)}function Z7(e,t){zs=new Uint8Array(512),Vs=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){sA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)Qe(t,r[n]);n<r.length&&ir(t,r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){var s=o[i];r=t;var a=e.responseState,c=s.id,u=s.errorDigest,d=s.errorMessage,f=s.errorComponentStack;if(Qe(r,a.startInlineScript),a.sentClientRenderFunction?Qe(r,JHt):(a.sentClientRenderFunction=!0,Qe(r,QHt)),c===null)throw Error(Ot(395));Qe(r,c),Qe(r,eUt),(u||d||f)&&(Qe(r,lO),Qe(r,Mt(cO(u||"")))),(d||f)&&(Qe(r,lO),Qe(r,Mt(cO(d||"")))),f&&(Qe(r,lO),Qe(r,Mt(cO(f)))),ir(r,tUt)}o.splice(0,i);var p=e.completedBoundaries;for(i=0;i<p.length;i++)ree(e,t,p[i]);p.splice(0,i),OJ(t),zs=new Uint8Array(512),Vs=0;var m=e.partialBoundaries;for(i=0;i<m.length;i++){var v=m[i];e:{o=e,s=t;var g=v.completedSegments;for(a=0;a<g.length;a++)if(!hAe(o,s,v,g[a])){a++,g.splice(0,a);var y=!1;break e}g.splice(0,a),y=!0}if(!y){e.destination=null,i++,m.splice(0,i);return}}m.splice(0,i);var x=e.completedBoundaries;for(i=0;i<x.length;i++)ree(e,t,x[i]);x.splice(0,i)}finally{OJ(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function oee(e,t){try{var n=e.abortableTasks;n.forEach(function(r){return uAe(r,e,t)}),n.clear(),e.destination!==null&&Z7(e,e.destination)}catch(r){Ex(e,r),Jk(e,r)}}z7.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,i,s=new Promise(function(d,f){i=d,o=f}),a=vUt(e,JVt(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),eHt(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,function(){var d=new ReadableStream({type:"bytes",pull:function(f){if(a.status===1)a.status=2,WTe(f,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=f;try{Z7(a,f)}catch(p){Ex(a,p),Jk(a,p)}}},cancel:function(){oee(a)}},{highWaterMark:0});d.allReady=s,n(d)},function(d){s.catch(function(){}),r(d)},o);if(t&&t.signal){var c=t.signal,u=function(){oee(a,c.reason),c.removeEventListener("abort",u)};c.addEventListener("abort",u)}fAe(a)})};z7.version="18.2.0";var W0,pAe;W0=U0,pAe=z7;W0.version;var bUt=W0.renderToString;W0.renderToStaticMarkup;W0.renderToNodeStream;W0.renderToStaticNodeStream;pAe.renderToReadableStream;function xUt(e){return typeof e=="function"}function iee(e){return xUt(e)?e():e}const wUt=()=>{};function CUt(e){return function(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.is;const{add:i,update:s,remove:a}=ie.useContext(e),c=ie.useRef();ie.useLayoutEffect(()=>{if(n===null)return wUt;const u=iee(r);return i(n,u),c.current=u,()=>{a(n)}},[i,n,a,r]),ie.useLayoutEffect(()=>{const u=iee(r);typeof c.current<"u"&&!o(c.current,u)&&n!==null&&s(n,u),c.current=u})}}function _Ut(){const e=new Map,{publish:t,subscribe:n}=gF(),r=Kx(t,10,{trailing:!0}),o=()=>Array.from(e.entries());function i(c,u){e.has(c),e.set(c,u),r(o())}function s(c,u){e.has(c),e.set(c,u),r(o())}function a(c){e.has(c),e.delete(c),r(o())}return{add:i,remove:a,update:s,read:o,subscribe:n}}let e0=!1;const dO=e=>{e0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReporter('.concat(e,', ...)", is wrapped in a <Tracker> element'))),e0=!0};function SUt(){return e0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),e0=!0,[]}const EUt=()=>(e0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),e0=!0,()=>{}),kUt={add:dO,update:dO,remove:dO,subscribe:EUt,read:SUt};let jUt=0;const TUt=()=>++jUt;function mAe(){const e=ie.createContext(kUt);function t(){const o=ie.useContext(e),[i,s]=ie.useState(o.read());return ie.useLayoutEffect(()=>(s(o.read()),o.subscribe(s)),[o]),i}function n(o){const i=ie.useMemo(()=>_Ut(),[]);return l.jsx(e.Provider,{value:i,children:o.children})}const r=CUt(e);return{Tracker:n,useReportedValues:t,useReporter:r,useAutoIdReporter:function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.is;return r("element-".concat(ie.useRef(TUt()).current),o,i)}}}const Rs=4,AUt=16,see=8,pt=8,Ta=2,W_=4,_i=12,Jm=2,DUt=!1,IUt=!1,X7=mAe(),PUt=X7.Tracker,Q7=X7.useReportedValues,gAe=X7.useReporter,Im=h.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),OUt=e=>{const t=ie.useRef(null),{onSetFocus:n}=ie.useContext(Im),[r,o]=ie.useState(!1),i=ie.useCallback(()=>{o(!0)},[]),s=ie.useCallback(()=>{o(!1)},[]);gAe("change-".concat(Br(e.path)),()=>({element:t.current,path:e.path,isChanged:!0,hasFocus:!1,hasHover:r,hasRevertHover:e.hasHover}),mF);const a=h.useCallback(c=>{RUt(c,n,e.path)},[n,e.path]);return l.jsx("div",{ref:t,onClick:a,onMouseLeave:s,onMouseEnter:i,children:e.children})};function RUt(e,t,n){e.stopPropagation(),t(n)}function Mo(e){const t=h.useRef(e);return Ht(t.current,e)||(t.current=e),t.current}function sh(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(i){const s=Mo(i),a=go(()=>be(s).pipe(it(c=>Hr(be({type:"loading"}),e(c).pipe(ue(u=>({type:"value",value:u}))))),na((c,u)=>{let[d]=c;return u.type==="loading"?[d,!0]:[u.value,!1]},n),Qn((c,u)=>{let[d,f]=c,[p,m]=u;return!(d!==p||f!==m)}),ue(c=>({type:"tuple",tuple:c})),Pn(c=>be({type:"error",error:c}))),[s],r);if(a.type==="error")throw a.error;return a.tuple}}function mo(e){return e!=null}const $Ut="drafts",J7="".concat($Ut,".");function eB(e){return e.startsWith(J7)}function vAe(e){return{draftId:si(e),publishedId:On(e)}}function si(e){return eB(e)?e:J7+e}function On(e){return eB(e)?e.slice(J7.length):e}function aA(e){const t=e.reduce((n,r)=>{const o=On(r._id);let i=n.get(o);return i||(i={id:o,type:r._type,published:void 0,draft:void 0},n.set(o,i)),i[o===r._id?"published":"draft"]=r,n},new Map);return Array.from(t.values())}function MUt(e){return aA(e).map(t=>t.draft||t.published).filter(mo)}const FUt=Object.freeze({}),pn=Object.freeze([]);function LUt(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const BUt=LUt();function aee(e){return Array.isArray(e)}function wt(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function vv(e){return typeof e=="string"}const NUt=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:r_e,zUt=()=>{const e=gF(),t=new NUt(n=>e.publish(n));return{observe:(n,r,o)=>{const i=e.subscribe(s=>{const a=s.find(c=>c.target===n);a&&r(a)});return t.observe(n,o),()=>{i(),t.unobserve(n)}}}},VUt=zUt(),HUt=["sanity.imageAsset","sanity.fileAsset"];function UUt(e){return e.type==="document"&&HUt.includes(e.name)}function a$n(e){return e.type==="document"&&!UUt(e)}const WUt=["match","in","asc","desc","true","false","null"],YUt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,yAe=e=>!YUt.test(e)||WUt.includes(e),tB=e=>'["'.concat(e,'"]'),qUt=e=>"@".concat(tB(e)),GUt=e=>Array.isArray(e)&&e.length===0,KUt=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];if(GUt(r)){t+="[]";continue}if(typeof r=="number"){t+="[".concat(r,"]");continue}const o=n===0;yAe(r)?t=o?qUt(r):"".concat(t).concat(tB(r)):t=o?r:"".concat(t,".").concat(r)}return t},Zp=ZUt();function ZUt(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const XUt={isLoading:!0,value:void 0,error:null};function bAe(e,t){return go(()=>e.pipe(QUt()),[e],typeof t>"u"?XUt:{isLoading:!1,value:t,error:null})}function QUt(){return e=>e.pipe(ue(t=>({isLoading:!1,value:t,error:null})),Pn(t=>be({isLoading:!1,value:void 0,error:t})))}function JUt(e,t,n){return h.useMemo(()=>eT(e,t,n),[e,n,t])}function xAe(e,t){return e!==null&&e.roles.some(n=>n.name===t)}var lee=Object.freeze,eWt=Object.defineProperty,bu=(e,t)=>lee(eWt(e,"raw",{value:lee(t||e.slice())})),cee,uee,dee,fee,hee,pee,mee,gee,vee;const tWt=250,nWt=O.div(e=>{let{$changed:t,$disabled:n,$isReviewChangeOpen:r}=e;return n?he(cee||(cee=bu([`
        `,` {
          display: none;
        }
      `])),WM):he(fee||(fee=bu([`
      --change-bar-offset: 2px;

      display: flex;
      position: relative;

      @media (hover: hover) {
        &:hover {
          z-index: 10;
        }
      }

      /* hide when field is not changed */
      `,`

      /* hide hover effect when review changes is open */
      `,`
    `])),!t&&he(uee||(uee=bu([`
        `,` {
          opacity: 0;
          pointer-events: none;
        }
      `])),WM),r&&he(dee||(dee=bu([`
        `,` {
          opacity: 0;
        }
      `])),wAe))}),rWt=O.div(hee||(hee=bu([`
  flex-grow: 1;
  min-width: 0;
`]))),WM=O.div(pee||(pee=bu([`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: `,`;
`])),e=>{let{$zIndex:t}=e;return t}),oWt=O.div(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow,r=t.sanity.media[0];return he(mee||(mee=bu([`
    position: absolute;
    top: 0;
    left: var(--change-bar-offset);
    width: 2px;
    bottom: 0;
    background-color: `,`;
    border-radius: 1px;

    @media (min-width: `,`px) {
      display: unset;
    }
  `])),n,r)}),wAe=O.button(e=>{let{theme:t,$withHoverEffect:n}=e;const r=t.sanity.color.spot.yellow;return he(vee||(vee=bu([`
      appearance: none;
      border: 0;
      outline: 0;
      display: block;
      padding: 0;
      background: transparent;
      opacity: 0;
      position: absolute;
      height: 100%;
      cursor: pointer;
      pointer-events: all;
      left: calc(-0.25rem + var(--change-bar-offset));
      width: 1rem;
      transition: opacity `,`ms;

      &:focus {
        border: 0;
        outline: 0;
      }

      &:after {
        content: '';
        width: 16px;
        height: calc(100% + 14px);
        display: block;
        position: absolute;
        top: -7px;
        left: -3px;
        border-radius: 8px;
        background: `,`;
      }

      &:focus {
        border: 0;
        outline: 0;
      }

      `,`
    `])),tWt,r,n&&he(gee||(gee=bu([`
        @media (hover: hover) {
          &:hover {
            opacity: 0.2;
          }
        }
      `]))))});function iWt(e){const{children:t,disabled:n,isChanged:r,withHoverEffect:o=!0}=e,{onOpenReviewChanges:i,isReviewChangesOpen:s}=ie.useContext(Im),{zIndex:a}=ua(),c=h.useMemo(()=>n||!r?null:l.jsxs(WM,{"data-testid":"change-bar",$zIndex:a,children:[l.jsx(oWt,{"data-testid":"change-bar__marker"}),l.jsx(wAe,{"aria-label":"Review changes","data-testid":"change-bar__button",onClick:s?void 0:i,tabIndex:-1,type:"button",$withHoverEffect:o})]}),[n,r,a,s,i,o]);return l.jsxs(nWt,{"data-testid":"change-bar-wrapper",$changed:r,$disabled:n,$isReviewChangeOpen:s,children:[l.jsx(rWt,{"data-testid":"change-bar__field-wrapper",children:t}),c]})}const sWt=h.memo(function(t){const{children:n,disabled:r,hasFocus:o,isChanged:i,onMouseEnter:s,onMouseLeave:a,path:c=pn,withHoverEffect:u,...d}=t,f=ua(),[p,m]=h.useState(!1),v=h.useCallback(x=>{s==null||s(x),m(!0)},[s]),g=h.useCallback(x=>{a==null||a(x),m(!1)},[a]),y=h.useRef(null);return gAe(r?null:"field-".concat(Br(c)),()=>({element:y.current,path:c,isChanged:i,hasFocus:o,hasHover:p,zIndex:f.zIndex}),mF),l.jsx("div",{...d,ref:y,onMouseEnter:v,onMouseLeave:g,children:l.jsx(iWt,{isChanged:i,disabled:r,withHoverEffect:u,children:n})})});function ai(e){const{children:t,hasFocus:n,isChanged:r,path:o,withHoverEffect:i,...s}=e;return l.jsx(sWt,{...s,path:o,hasFocus:n,isChanged:r,withHoverEffect:i,children:t})}ie.createContext({path:[],fullPath:[],focusPath:[],isChanged:!1});const YM=ie.createContext(null);function aWt(e){const t=ie.useContext(YM);ie.useEffect(()=>t==null?void 0:t.subscribe(e),[e,t])}const yee=()=>{},lA=ie.forwardRef(function(t,n){const{as:r="div",onScroll:o,...i}=t,s=dr(n),a=h.useContext(YM),c=h.useMemo(()=>gF(),[]);return h.useEffect(()=>o?c.subscribe(o):yee,[c,o]),h.useEffect(()=>a?c.subscribe(a.publish):yee,[a,c]),h.useEffect(()=>{const u=f=>{c.publish(f)},d=s.current;if(d)return d.addEventListener("scroll",u,{passive:!0,capture:!0}),()=>{d.removeEventListener("scroll",u)}},[c,s]),l.jsx(YM.Provider,{value:c,children:ie.createElement(r,{ref:s,"data-testid":"scroll-container",...i})})});function lWt(e){let{onScroll:t,children:n}=e;return aWt(t),l.jsx(l.Fragment,{children:n})}function bee(e,t,n){const r=t.slice(t.indexOf("-")+1)||"[]",o=jl(r),i="".concat(e,"-").concat(Br(o));if(n.has(i))return n.get(i);let s;for(const[a,c]of n){if(!("path"in c)||!a.startsWith(e))continue;const u=n4e(o,c.path),d=c.path[c.path.length-1],f=u===c.path.length-1&&kl(d);if(u!==0&&!(u!==c.path.length&&!f)&&(s=c,u===o.length))break}return s}function cWt(e){return e[0]!=="changePanel"}function CAe(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function uWt(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&CAe(e)}const dWt=-15;function xee(e){let n=e.element;for(;!uWt(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+e.rect.top-e.bounds.top+dWt,left:0,behavior:"smooth"})}const wee=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let o=!1,i=e;for(;i&&i!==t&&t.contains(i);)o&&(n.top+=i.offsetTop,n.left+=i.offsetLeft),CAe(i)&&(n.top=i.offsetTop,n.height=i.offsetHeight,n.left=i.offsetLeft,n.width=i.offsetWidth,o=!0),r.top+=i.offsetTop-i.scrollTop,r.left+=i.offsetLeft-i.scrollLeft,i=i.offsetParent;return{rect:r,bounds:n}};function Y_(e,t,n){return["M ".concat(e-W_," ").concat(t-W_*n," "),"L ".concat(e," ").concat(t),"L ".concat(e+W_," ").concat(t-W_*n)].join("")}function fO(e,t){return"M".concat(e," ").concat(t)}function no(e,t){return"L".concat(e," ").concat(t)}function fWt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.join(t)}function as(e,t,n,r){return"Q".concat(e," ").concat(t," ").concat(n," ").concat(r)}function hWt(e){const{from:t,to:n}=e,{left:r,top:o}=t,{left:i,top:s}=n,a=[],c=Math.min(Rs,Math.abs(o-s)/2);return t.isAbove?a.push(fO(r+pt,o-_i+Ta),no(r+pt,o-Rs),as(r+pt,o,r+pt+Rs,o)):t.isBelow?a.push(fO(r+pt,o+_i-Ta),no(r+pt,o+Rs),as(r+pt,o,r+pt+Rs,o)):a.push(fO(r,o)),n.isAbove?o<n.bounds.top?a.push(no(n.bounds.left-8-c,o),as(n.bounds.left-8,o,n.bounds.left-8,o+c),no(n.bounds.left-8,s-c),as(n.bounds.left-8,s,n.bounds.left-8+c,s),no(n.bounds.left+pt-Rs,s),as(n.bounds.left+pt,s,n.bounds.left+pt,s-Rs),no(n.bounds.left+pt,s-_i+Ta)):a.push(no(n.bounds.left+pt-Rs,o),as(n.bounds.left+pt,o,n.bounds.left+pt,o-Rs),no(n.bounds.left+pt,s-_i+Ta)):n.isBelow?o>n.bounds.top+n.bounds.height?a.push(no(n.bounds.left-pt-c,o),as(n.bounds.left-pt,o,n.bounds.left-pt,o-c),no(n.bounds.left-pt,s+c),as(n.bounds.left-pt,s,n.bounds.left-pt+c,s),no(n.bounds.left+pt-Rs,s),as(n.bounds.left+pt,s,n.bounds.left+pt,s+Rs),no(n.bounds.left+pt,s+_i-Ta)):a.push(no(n.bounds.left+pt-Rs,o),as(n.bounds.left+pt,o,n.bounds.left+pt,o+Rs),no(n.bounds.left+pt,s+_i-Ta)):o<s?a.push(no(n.bounds.left+pt-c,o),as(n.bounds.left+pt,o,n.bounds.left+pt,o+c),no(n.bounds.left+pt,s-c),as(n.bounds.left+pt,s,n.bounds.left+pt+c,s),no(i,s)):a.push(no(n.bounds.left+pt-c,o),as(n.bounds.left+pt,o,n.bounds.left+pt,o-c),no(n.bounds.left+pt,s+c),as(n.bounds.left+pt,s,n.bounds.left+pt+c,s),no(i,s)),fWt(a)}function Cee(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+Ta,o=e.top>t.top+t.height-Ta;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+see,endY:e.top+e.height-see,isAbove:r,isBelow:o,outOfBounds:r||o}}function pWt(e){const t={top:e.from.bounds.top+_i,bottom:e.from.bounds.top+e.from.bounds.height-_i,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-_i*2},n=Cee(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+_i,bottom:e.to.bounds.top+e.to.bounds.height-_i,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-_i*2},o=Cee(e.to.rect,r),i=Math.max(o.startY,n.startY);return n.top=Math.min(i,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),o.top=Math.min(i,o.endY),o.top<t.top?o.top=Math.min(t.top,o.endY):o.top>t.bottom&&(o.top=Math.max(t.bottom,o.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),o.top=Math.min(Math.max(o.top,r.top),r.bottom),{from:n,to:o}}function mWt(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),o=Math.max(e.top,t.top),i=Math.max(0,e.height-(o-e.top)),s=Math.max(0,e.width-(r-e.left));return l.jsx("rect",{...n,x:r,y:o,height:i,width:s})}var _ee=Object.freeze,gWt=Object.defineProperty,cA=(e,t)=>_ee(gWt(e,"raw",{value:_ee(t||e.slice())})),See,Eee,kee,jee;O.rect(See||(See=cA([`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`])));const q1=O.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return he(Eee||(Eee=cA([`
    fill: none;
    pointer-events: none;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke: `,`;
  `])),n)}),vWt=O.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return he(kee||(kee=cA([`
    fill: none;
    pointer-events: stroke;
    stroke: `,`;
    cursor: pointer;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0;

    &:hover {
      opacity: 0.2;
    }
  `])),n)}),yWt=O(mWt)(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return he(jee||(jee=cA([`
    stroke: none;
    pointer-events: none;
    fill: `,`;
  `])),n)}),bWt=h.memo(function(t){let{from:n,to:r}=t;const o=pWt({from:n,to:r});if(o.from.outOfBounds&&o.to.outOfBounds)return null;const i=hWt(o);return l.jsxs(l.Fragment,{children:[l.jsx(vWt,{d:i,strokeWidth:AUt}),l.jsx(q1,{d:i,strokeWidth:Jm}),l.jsx(yWt,{top:r.rect.top,left:r.rect.left,height:r.rect.height,width:Jm,bounds:r.bounds}),o.from.isAbove&&l.jsx(q1,{d:Y_(o.from.left+pt,o.from.bounds.top-_i+Ta,-1),strokeWidth:Jm}),o.from.isBelow&&l.jsx(q1,{d:Y_(o.from.left+pt,o.from.bounds.top+o.from.bounds.height+_i-Ta,1),strokeWidth:Jm}),o.to.isAbove&&l.jsx(q1,{d:Y_(o.to.bounds.left+pt,o.to.bounds.top-_i+Ta,-1),strokeWidth:Jm}),o.to.isBelow&&l.jsx(q1,{d:Y_(o.to.bounds.left+pt,o.to.bounds.top+o.to.bounds.height+_i-Ta,1),strokeWidth:Jm}),DUt]})});function xWt(e,t){h.useEffect(()=>VUt.observe(e,t),[e,t])}var Tee=Object.freeze,wWt=Object.defineProperty,CWt=(e,t)=>Tee(wWt(e,"raw",{value:Tee(t||e.slice())})),Aee;const _Wt=O.svg(Aee||(Aee=CWt([`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`])));function Dee(e,t,n,r){const o=[],i=[];for(const u of e){if(!cWt(u)||!u[1].isChanged)continue;const[d,f]=u;if(d===t){o.push(u);continue}if(f.hasHover){o.push(u);continue}if(f.hasFocus){i.push(u);continue}}const s=o.length>0;return{connectors:(s?o:i).map(u=>{let[d]=u;const f=bee("field",d,n),p=bee("change",d,n);return!f||!p?null:{field:{id:d,...f},change:{id:d,...p}}}).filter(mo).map(u=>{let{field:d,change:f}=u;return{hasHover:d.hasHover||f.hasHover,hasFocus:d.hasFocus,hasRevertHover:f.hasRevertHover,field:{...d,...wee(d.element,r)},change:{...f,...wee(f.element,r)}}}),isHoverConnector:s}}function SWt(e){const{rootElement:t,onSetFocus:n}=e,[r,o]=ie.useState(null),i=Q7(),s=h.useMemo(()=>new Map(i),[i]),[{connectors:a},c]=h.useState(()=>Dee(i,r,s,t)),u=h.useMemo(()=>Cm(a,f=>0-f.field.path.length).slice(0,1),[a]),d=h.useCallback(()=>{c(Dee(i,r,s,t))},[s,i,r,t]);return xWt(t,d),l.jsx(lWt,{onScroll:d,children:l.jsx(_Wt,{style:{zIndex:u[0]&&u[0].field.zIndex},children:u.map(f=>{let{field:p,change:m}=f;return m?l.jsx(EWt,{field:p,change:m,onSetFocus:n,setHovered:o},p.id):null})})})}function EWt(e){const{change:t,field:n,onSetFocus:r,setHovered:o}=e,i=h.useCallback(()=>{xee(n),xee(t),r(n.path)},[n,t,r]),s=h.useCallback(()=>o(n.id),[n,o]),a=h.useCallback(()=>o(null),[o]),c=h.useMemo(()=>({rect:{left:n.rect.left+2,top:n.rect.top,height:n.rect.height,width:n.rect.width},bounds:n.bounds}),[n.bounds,n.rect]),u=h.useMemo(()=>({rect:t.rect,bounds:t.bounds}),[t.bounds,t.rect]);return l.jsxs(l.Fragment,{children:[l.jsx("g",{onClick:i,onMouseEnter:s,onMouseLeave:a,children:l.jsx(bWt,{from:c,to:u})}),IUt]})}function kWt(e){let{children:t,className:n,isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i,...s}=e;const[a,c]=ie.useState(),u=h.useMemo(()=>({isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i}),[r,o,i]);return l.jsx(Im.Provider,{value:u,children:l.jsx(PUt,{children:l.jsxs(lA,{...s,ref:c,className:n,children:[t,a&&l.jsx(SWt,{rootElement:a,onSetFocus:i})]})})})}const jWt=kWt;function TWt(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function nB(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&TWt(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Iee=Object.freeze,AWt=Object.defineProperty,uA=(e,t)=>Iee(AWt(e,"raw",{value:Iee(t||e.slice())})),Pee,Oee,Ree,$ee;const DWt="data-active",hO="a,button",IWt=O.div(e=>{let{theme:t,offset:n}=e;return he(Pee||(Pee=uA([`
    bottom: `,`px;
    border-radius: `,`;
    left: `,`px;
    pointer-events: none;
    position: absolute;
    right: `,`px;
    top: `,`px;
    z-index: 2;

    `,`:focus-visible & {
      box-shadow: `,`;
    }
  `])),-n,ye(t.sanity.radius[1]),-n,-n,-n,_Ae,nB({base:t.sanity.color.base,focusRing:t.sanity.focusRing}))}),PWt=O.div(Oee||(Oee=uA([`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`]))),_Ae=O(M)(Ree||(Ree=uA([`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`]))),OWt=O(M).attrs(e=>{let{$height:t}=e;return{style:{height:"".concat(t,"px")}}})($ee||($ee=uA([`
  position: relative;
  width: 100%;
`]))),ah=h.forwardRef(function(t,n){let{activeItemDataAttr:r=DWt,ariaLabel:o,ariaMultiselectable:i=!1,autoFocus:s,canReceiveFocus:a,fixedHeight:c,focusRingOffset:u=0,getItemDisabled:d,getItemKey:f,getItemSelected:p,initialIndex:m,initialScrollAlign:v="start",inputElement:g,itemHeight:y,items:x,onEndReached:b,onEndReachedIndexOffset:w=0,onlyShowSelectionWhenActive:C,overscan:_,renderItem:S,wrapAround:E=!0,...j}=t;const k=h.useRef(!1),T=h.useRef(h.useId()),A=h.useRef(m??0),[D,I]=h.useState(null),[P,$]=h.useState(!1),[R,V]=h.useState(null),[N,W]=h.useState(null),G=h.useCallback(we=>{if(!b)return;const[We]=[...we.getVirtualItems()].reverse();if(!We)return;We.index>=x.length-w-1&&k.current&&b()},[b,x.length,w]),H=S_e({count:x.length,getItemKey:f,getScrollElement:()=>N,estimateSize:()=>y,onChange:G,overscan:_}),q=h.useMemo(()=>{let we=-1;return x.reduce((We,ze,Ze)=>{var Ct,ke;const Ne=(Ct=d==null?void 0:d(Ze))!=null?Ct:!1,dt=(ke=p==null?void 0:p(Ze))!=null?ke:!1;return Ne||(we+=1),We[Ze]={activeIndex:Ne?null:we,disabled:Ne,selected:dt},We},[])},[d,p,x]),X=h.useMemo(()=>q.filter(we=>!we.disabled).length,[q]),B=h.useCallback(we=>R==null?void 0:R.setAttribute("data-enabled",(!we).toString()),[R]),Y=h.useCallback(we=>"".concat(T.current,"-item-").concat(we),[]),z=h.useCallback(()=>"".concat(T.current,"-children"),[]),Z=h.useCallback(()=>{const we=[g,N].some(ze=>document.activeElement===ze);if(C&&!we&&!P)return;const We=Array.from((D==null?void 0:D.children)||[]);We==null||We.forEach(ze=>{var Ze,Ct,ke;const Ne=Number((Ze=ze.dataset)==null?void 0:Ze.index),dt=(Ct=q[Ne])==null?void 0:Ct.activeIndex;(ke=ze.querySelector(hO))==null||ke.toggleAttribute(r,dt===A.current)})},[r,D==null?void 0:D.children,P,g,q,C,N]),Q=h.useCallback(()=>{const we=Array.from((D==null?void 0:D.children)||[]);we==null||we.forEach(We=>{var ze;(ze=We.querySelector(hO))==null||ze.toggleAttribute(r,!1)})},[r,D==null?void 0:D.children]),ne=h.useMemo(()=>eT(Z,200),[Z]),K=h.useCallback(()=>{const we=A==null?void 0:A.current;x.length>0?(g==null||g.setAttribute("aria-activedescendant",Y(we)),N==null||N.setAttribute("aria-activedescendant",Y(we))):(g==null||g.removeAttribute("aria-activedescendant"),N==null||N.removeAttribute("aria-activedescendant"))},[Y,g,x.length,N]),J=h.useCallback(()=>{var we,We;const ze=D==null?void 0:D.parentElement;if(D&&ze){const Ze=ze.getBoundingClientRect().top-D.getBoundingClientRect().top;return(We=(we=H.getVirtualItemForOffset(Ze))==null?void 0:we.index)!=null?We:-1}return-1},[D,H]),re=h.useCallback(we=>{let{index:We,scrollAlign:ze,scrollIntoView:Ze=!0}=we;if(A.current=We,K(),Z(),Ze){const Ct=q.findIndex(ke=>ke.activeIndex===We);Ct>-1&&H.scrollToIndex(Ct,ze?{align:ze}:{})}},[K,q,Z,H]),fe=h.useCallback(we=>{let We=-1;const ze=X-1;if(we==="next"){const Ze=E?0:ze;We=A.current<X-1?A.current+1:Ze}if(we==="previous"){const Ze=E?ze:0;We=A.current>0?A.current-1:Ze}re({index:We,scrollIntoView:!0}),B(!1)},[X,B,re,E]),le=h.useCallback(we=>{switch(we){case"input":g==null||g.focus();break;case"list":N==null||N.focus();break}},[g,N]),ge=h.useCallback(()=>{g==null||g.focus()},[g]),xe=h.useCallback(()=>{N==null||N.focus()},[N]),ce=h.useCallback(we=>()=>{re({index:we,scrollIntoView:!1})},[re]),ve=h.useCallback(()=>{Z()},[Z]),$e=h.useCallback(we=>We=>{const ze=Array.from((D==null?void 0:D.children)||[]);if(ze.length&&(We.key==="ArrowDown"&&(We.preventDefault(),le(we),fe("next")),We.key==="ArrowUp"&&(We.preventDefault(),le(we),fe("previous")),We.key==="Enter")){We.preventDefault(),le(we);const Ze=ze.find(Ct=>Number(Ct.dataset.index)===q.findIndex(ke=>ke.activeIndex===A.current));if(Ze){const Ct=Ze==null?void 0:Ze.querySelector(hO);Ct==null||Ct.click()}}},[D==null?void 0:D.children,le,q,fe]),Ae=h.useCallback(we=>$e("input")(we),[$e]),st=h.useCallback(we=>$e("list")(we),[$e]),et=h.useCallback(()=>{C&&(Z(),$(!0))},[C,Z]),lt=h.useCallback(()=>{C&&(Q(),$(!1))},[Q,C]);h.useImperativeHandle(n,()=>({focusInputElement(){ge()},focusListElement(){xe()},getTopIndex(){return J()},scrollToIndex(we){re({index:we}),B(!0)}}),[B,ge,xe,J,re]),h.useEffect(()=>{typeof m<"u"&&!k.current&&re({index:m,scrollAlign:v,scrollIntoView:!0}),k.current=!0},[m,v,C,re]),h.useEffect(()=>{function we(){B(!0)}return N==null||N.addEventListener("mousemove",we),N==null||N.addEventListener("wheel",we,{passive:!0}),()=>{N==null||N.removeEventListener("mousemove",we),N==null||N.removeEventListener("wheel",we)}},[B,N]),h.useEffect(()=>(g==null||g.addEventListener("focus",ve),g==null||g.addEventListener("keydown",Ae),N==null||N.addEventListener("focus",ve),N==null||N.addEventListener("keydown",st),()=>{g==null||g.removeEventListener("focus",ve),g==null||g.removeEventListener("keydown",Ae),N==null||N.removeEventListener("focus",ve),N==null||N.removeEventListener("keydown",st)}),[a,ve,$e,Ae,st,Q,g,Z,N]),h.useEffect(()=>{K()},[K,x]),h.useEffect(()=>{const we=new MutationObserver(ne);return D&&we.observe(D,{childList:!0,subtree:!0}),()=>{we.disconnect()}},[D,ne]),h.useEffect(()=>{g==null||g.setAttribute("aria-autocomplete","list"),g==null||g.setAttribute("aria-expanded","true"),g==null||g.setAttribute("aria-controls",z()),g==null||g.setAttribute("role","combobox")},[z,g]),h.useEffect(()=>{s&&le(s)},[s,a,xe,ge,le]);const Oe=a?0:-1;return l.jsxs(_Ae,{id:z(),onMouseEnter:et,onMouseLeave:lt,ref:W,sizing:"border",tabIndex:Oe,...j,children:[a&&l.jsx(IWt,{offset:u}),l.jsx(PWt,{"aria-hidden":"true","data-enabled":!0,ref:V}),H&&l.jsx(OWt,{forwardedAs:"ul",$height:H.getTotalSize(),"aria-label":o,"aria-multiselectable":i,flex:1,ref:I,role:"listbox",children:H.getVirtualItems().map(we=>{const We=we.index,{activeIndex:ze,disabled:Ze,selected:Ct}=q[We],ke=S(x[We],{activeIndex:ze,disabled:Ze,selected:Ct,virtualIndex:We}),Ne=h.cloneElement(ke,{tabIndex:-1}),dt=typeof ze=="number"&&!Ze?{"aria-posinset":ze+1,...i?{"aria-selected":Ct.toString()}:{},"aria-setsize":X,id:Y(ze),role:"option",onMouseEnter:ce(ze)}:{};return l.jsx(oe,{as:"li","data-index":We,ref:c?void 0:H.measureElement,style:{flex:1,...c?{height:"".concat(we.size,"px")}:{},left:0,position:"absolute",top:0,transform:"translateY(".concat(we.start,"px)"),width:"100%"},tabIndex:-1,...dt,children:Ne},we.key)})})]})}),Mee=new WeakMap;let RWt=0;function Fee(e){const t=Mee.get(e);if(t)return t;const n="".concat(e.name||e.displayName||"<anonymous>","-").concat(RWt++);return Mee.set(e,n),n}function $Wt(e){const t=h.useRef(void 0);return zu(e,t.current)||(t.current=e),[t.current]}function MWt(e,t){h.useEffect(e,$Wt(t))}const FWt=h.memo(function(t){const{hook:n,args:r,id:o,onNext:i,onReset:s,onRequestUpdate:a}=t,c=n({...r,onComplete:()=>{s(o)}});return MWt(()=>(i(o,c),a(),()=>{i(o,null),a()}),c),null},(e,t)=>e.args===t.args),LWt=e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-t)}})},1)},BWt=e=>clearTimeout(e),NWt=typeof requestIdleCallback>"u"?LWt:requestIdleCallback,zWt=typeof cancelIdleCallback>"u"?BWt:cancelIdleCallback,VWt={trailing:!0};function SAe(e){const{hooks:t,args:n,children:r,onReset:o}=e,i=h.useRef({}),[s,a]=h.useState(0),[c,u]=h.useState({}),d=h.useRef(null),f=h.useCallback(()=>{d.current&&zWt(d.current),d.current=NWt(()=>{d.current=null,a(x=>x+1)})},[]),p=JUt(f,60,VWt),m=h.useCallback((x,b)=>{if(b===null)delete i.current[x];else{const w=i.current[x];i.current[x]={...w,value:b}}},[]),v=h.useCallback(x=>{u(b=>({...b,[x]:(b[x]||0)+1})),o&&o()},[o]),g=h.useMemo(()=>t.map(x=>Fee(x)),[t]),y=h.useMemo(()=>g.map(x=>{var b;return(b=i.current[x])==null?void 0:b.value}).filter(mo),[g,s]);return l.jsxs(l.Fragment,{children:[t.map(x=>{const b=Fee(x),w=c[b]||0;return l.jsx(FWt,{hook:x,id:b,args:n,onNext:m,onRequestUpdate:p,onReset:v},"".concat(b,"-").concat(w))}),r({states:y})]})}function rB(e){let{makePlatformAware:t=!0,keys:n=[],...r}=e;const o=t?n.map(HWt):n;return l.jsx(D6,{...r,keys:o})}const Lee=typeof navigator>"u"||typeof navigator.platform!="string"?!1:/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function HWt(e){const t=e.toLowerCase();return t==="alt"&&Lee?Bee(e,"option"):t==="option"&&!Lee?Bee(e,"alt"):e}function Bee(e,t){const n=e.length;return t.replace(/./g,(r,o)=>o<n&&e[o]===e[o].toUpperCase()?r.toUpperCase():r)}function Ic(e){const{currentUser:t,title:n="Insufficient permissions",operationLabel:r="access this feature"}=e,o=(t==null?void 0:t.roles)||[],i=o.length!==1;return l.jsxs(M,{padding:2,children:[l.jsxs(Gt,{space:2,children:[l.jsx(L,{size:1,children:l.jsx(Sf,{})}),l.jsx(L,{weight:"semibold",children:n})]}),l.jsx(Gt,{marginTop:4,children:l.jsx(L,{size:1,children:o.length===0?l.jsxs(l.Fragment,{children:["You have no role that grants you permission to ",r]}):l.jsxs(l.Fragment,{children:["Your role",i&&"s"," ",UWt(o.map(s=>l.jsx("code",{children:s.title},s.name)),l.jsx(l.Fragment,{children:", "}))," ","do",i||"es"," not have permissions to ",r]})})})]})}function UWt(e,t){return e.reduce((n,r)=>n===null?[r]:[...n,t,r],null)}const WWt=O(Qr)(e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return vt(r,e.$width,o=>({width:o==="auto"?"none":ye(n[o]),maxWidth:"100%"}))}),YWt=ie.forwardRef(function(t,n){const{width:r,...o}=t,i=Ce(r);return l.jsx(WWt,{...o,"data-ui":"PopoverContainer",$width:i,ref:n})});var Nee=Object.freeze,qWt=Object.defineProperty,EAe=(e,t)=>Nee(qWt(e,"raw",{value:Nee(t||e.slice())})),zee,Vee;const GWt=O(en)(()=>he(zee||(zee=EAe([`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `])))),KWt=O(ts)(e=>{const t=e.theme.sanity.radius[3];return he(Vee||(Vee=EAe([`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
  `])),t,t)});function ZWt(e){const{children:t,header:n,onClose:r,referenceElement:o,containerRef:i,width:s}=e,a=h.useCallback(()=>{r(),o==null||o.focus()},[r,o]),c=l.jsx(YWt,{width:s,children:l.jsx(eh,{autoFocus:!0,children:l.jsxs(oe,{ref:i,children:[l.jsx(KWt,{children:l.jsx(M,{padding:2,paddingLeft:3,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(L,{textOverflow:"ellipsis",weight:"semibold",children:n})}),l.jsx(se,{icon:Ti,mode:"bleed",onClick:a})]})})}),t]})})});return l.jsx(GWt,{portal:!0,constrainSize:!0,content:c,open:!0,referenceElement:o})}var Hee=Object.freeze,XWt=Object.defineProperty,QWt=(e,t)=>Hee(XWt(e,"raw",{value:Hee(t||e.slice())})),Uee;const JWt=O(ee)(()=>he(Uee||(Uee=QWt([`
    /* this is a hack to avoid layout jumps while previews are loading
    there's probably better ways of solving this */
    min-height: 35px;

    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `])))),kAe=h.createContext({selected:!1});function eYt(){const e=h.useContext(kAe);if(!e)throw new Error("PreviewCard: missing context value");return e}const wp=h.forwardRef(function(t,n){const{children:r,selected:o,as:i,...s}=t;return l.jsx(JWt,{"data-ui":"PreviewCard",...s,forwardedAs:i,ref:n,selected:o,children:l.jsx(kAe.Provider,{value:{selected:o},children:r})})}),Qi={block:{width:33,height:33},blockImage:{width:600,height:400},default:{width:35,height:35},detail:{width:75,height:75},inline:{width:15,height:15},media:{width:160,height:160}},tYt={block:31,blockImage:45,default:33,detail:45,inline:15,media:45};var Wee=Object.freeze,nYt=Object.defineProperty,rYt=(e,t)=>Wee(nYt(e,"raw",{value:Wee(t||e.slice())})),Yee;const jAe=O.span(e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:o}=e,i=t.width||0,s=t.width||0,a=tYt[n];return he(Yee||(Yee=rYt([`
    position: relative;
    width: `,`;
    height: `,`;
    min-width: `,`;
    border-radius: `,`;
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      display: block;
      flex: 1;
      font-size: calc(21 / 16 * 1em);
    }

    & [data-sanity-icon] {
      display: block;
      font-size: calc(`,` / 16 * 1em);
    }

    /*
      NOTE on why we can’t use the ":after" pseudo-element:
      The thing is we only want the shadow when then <MediaWrapper> contains
      something else than <svg> – icons should not have the shadow.
      This is why we use the "*:not(svg) + span" selector to target only that
      situation to render the shadow.
    */
    & *:not(svg) + span {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.2;
      border-radius: inherit;
    }
  `])),o?"100%":ye(i),o?"100%":ye(s),o?void 0:ye(i),c=>{let{theme:u}=c;return ye(u.sanity.radius[r])},a)});jAe.displayName="MediaWrapper";function Yw(e){const{border:t=!0,dimensions:n,layout:r,media:o,radius:i=1,responsive:s=!1,styles:a}=e;return l.jsxs(jAe,{$dimensions:n,$layout:r,$radius:i,$responsive:s,className:a==null?void 0:a.media,"data-testid":"Media",children:[oYt({dimensions:n,layout:r,media:o}),t&&l.jsx("span",{})]})}function oYt(e){const{dimensions:t,layout:n,media:r,styles:o}=e;return Xn.isValidElementType(r)?h.createElement(r,{dimensions:t,layout:n}):typeof r=="string"?l.jsx(L,{as:"span",className:o==null?void 0:o.mediaString,children:r}):h.isValidElement(r)?r:null}function iYt(e,t,n){return Xn.isValidElementType(e)?h.createElement(e,{layout:t,dimensions:n}):typeof e=="string"?l.jsx("div",{children:e}):e}function Fo(e,t,n){return typeof e=="string"?e:Xn.isValidElementType(e)?h.createElement(e,{layout:t}):e||n}var qee=Object.freeze,sYt=Object.defineProperty,oB=(e,t)=>qee(sYt(e,"raw",{value:qee(t||e.slice())})),Gee,Kee,Zee;const aYt={...Qi.default,aspect:1,fit:"crop",dpr:Sm()},Xee=O(U)(Gee||(Gee=oB([`
  height: `,`;
`])),ye(Qi.default.height)),lYt=O(Di).attrs({animated:!0,radius:1})(Kee||(Kee=oB([`
  max-width: `,`;
  width: 80%;
`])),ye(160)),cYt=O(Di).attrs({animated:!0,radius:1,size:1})(Zee||(Zee=oB([`
  max-width: `,`;
  width: 60%;
`])),ye(120));function TAe(e){const{title:t,subtitle:n,media:r,status:o,isPlaceholder:i,children:s,styles:a}=e,c=wmt(a==null?void 0:a.root,!!n&&(a==null?void 0:a.hasSubtitle)),u=o&&l.jsx(M,{className:a==null?void 0:a.status,"data-testid":"default-preview__status",paddingLeft:3,paddingRight:1,children:Fo(o,"default")});return i?l.jsxs(Xee,{align:"center",className:a==null?void 0:a.placeholder,"data-testid":"default-preview",children:[r!==!1&&l.jsx(_0,{animated:!0,marginRight:2,radius:2,style:Qi.default}),l.jsxs(oe,{"data-testid":"default-preview__heading",flex:1,paddingLeft:r===!1?1:2,paddingRight:o?0:1,space:2,children:[l.jsx(lYt,{}),l.jsx(cYt,{})]}),u]}):l.jsxs(Xee,{align:"center",className:c,"data-testid":"default-preview",children:[r!==!1&&r!==void 0&&l.jsx(Yw,{dimensions:aYt,layout:"default",media:r,styles:a}),l.jsxs(oe,{className:a==null?void 0:a.heading,"data-testid":"default-preview__header",flex:1,paddingLeft:r?2:1,paddingRight:o?0:1,space:2,children:[l.jsxs(L,{className:a==null?void 0:a.title,style:{color:"inherit"},textOverflow:"ellipsis",children:[t&&Fo(t,"default"),!t&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})]}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",className:a==null?void 0:a.subtitle,children:Fo(n,"default")}),s&&l.jsx("div",{className:a==null?void 0:a.children,children:s})]}),u]})}var Qee=Object.freeze,uYt=Object.defineProperty,Pm=(e,t)=>Qee(uYt(e,"raw",{value:Qee(t||e.slice())})),Jee,ete,tte,nte,rte,ote,ite;const ste=O(U).attrs({align:"center"})(Jee||(Jee=Pm([`
  height: `,`;
`])),ye(Qi.detail.height)),dYt=O(M)(ete||(ete=Pm([`
  white-space: nowrap;
`]))),fYt=O(_0).attrs({animated:!0,radius:2})(tte||(tte=Pm([`
  width: `,`;
  height: `,`;
`])),ye(Qi.detail.width),ye(Qi.detail.height)),hYt=O(Di).attrs({animated:!0,radius:1})(nte||(nte=Pm([`
  max-width: `,`; /* 80% of 200px */
  width: 80%;
`])),ye(160)),pYt=O(Di).attrs({animated:!0,radius:1,size:1})(rte||(rte=Pm([`
  max-width: `,`; /* 60% of 200px */
  width: 60%;
`])),ye(120)),mYt=O(Di).attrs({animated:!0,radius:1,size:1})(ote||(ote=Pm([`
  max-width: `,`; /* 90% of 200px */
  width: 90%;
`])),ye(180)),gYt=O(L)(e=>{let{theme:t}=e;const{fonts:n}=t.sanity,r=n.text.sizes[1],o=2,i=r.lineHeight*o;return he(ite||(ite=Pm([`
    & > span {
      max-height: `,`;

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: `,`;
      -webkit-box-orient: vertical;
    }
  `])),ye(i),o)}),vYt={...Qi.detail,fit:"crop",aspect:1,dpr:Sm()};function yYt(e){const{title:t,subtitle:n,description:r,mediaDimensions:o=vYt,media:i,status:s,children:a,isPlaceholder:c}=e,u=s&&l.jsx(dYt,{marginLeft:3,paddingRight:1,children:Fo(s,"detail")});return c?l.jsxs(ste,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(fYt,{"data-testid":"detail-preview__media"}),l.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(U,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(oe,{flex:1,space:2,children:[l.jsx(hYt,{}),l.jsx(pYt,{})]}),u]}),r&&l.jsx(M,{marginTop:3,children:l.jsx(mYt,{})})]})]}):l.jsxs(ste,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(Yw,{dimensions:o,layout:"detail",media:i}),l.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(U,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(oe,{flex:1,space:2,children:[l.jsxs(L,{textOverflow:"ellipsis",style:{color:"inherit"},children:[t&&Fo(t,"detail"),!t&&l.jsx(l.Fragment,{children:"Untitled"})]}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Fo(n,"detail")})]}),u]}),r&&l.jsx(M,{marginTop:3,children:l.jsx(gYt,{muted:!0,size:1,children:Fo(r,"detail")})})]}),a]})}var ate=Object.freeze,bYt=Object.defineProperty,iB=(e,t)=>ate(bYt(e,"raw",{value:ate(t||e.slice())})),lte,cte,ute;const ll=43,sB=3,xYt=O.svg(lte||(lte=iB([`
  width: `,`px;
  height: `,`px;
  transform: rotate(-90deg);
`])),ll,ll),wYt=O.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return he(cte||(cte=iB([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
  `])),pe.gray[n.dark?900:100].hex,sB)}),CYt=O.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return he(ute||(ute=iB([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
    transition: stroke-dashoffset 75ms;
  `])),pe.blue[n.dark?400:500].hex,sB)});function _Yt(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=ll/2-sB/2,o=2*Math.PI*r,i=(100-n)/100*o,s="".concat(ll/2," ").concat(ll/2," ").concat(ll," ").concat(ll);return l.jsxs(xYt,{viewBox:s,children:[l.jsx(wYt,{cx:ll,cy:ll,r}),l.jsx(CYt,{cx:ll,cy:ll,r,style:{strokeDasharray:o,strokeDashoffset:"".concat(i,"px")}})]})}var dte=Object.freeze,SYt=Object.defineProperty,AAe=(e,t)=>dte(SYt(e,"raw",{value:dte(t||e.slice())})),fte,hte;const EYt=.5,kYt=O(ee)(fte||(fte=AAe([`
  overflow: hidden;
  overflow: clip;
`]))),jYt=O(ee)(e=>{let{theme:t}=e;const{color:n}=t.sanity;return he(hte||(hte=AAe([`
    height: `,`rem;
    background: `,`;
    transition: transform 75ms;
  `])),EYt,pe.blue[n.dark?400:500].hex)});function TYt(e){const{value:t}=e;return l.jsx(kYt,{radius:5,children:l.jsx(jYt,{radius:5,style:{transform:"translate3d(".concat(t-100,"%, 0, 0)")}})})}var pte=Object.freeze,AYt=Object.defineProperty,qw=(e,t)=>pte(AYt(e,"raw",{value:pte(t||e.slice())})),mte,gte,vte,yte,bte;const DYt=O(M)(mte||(mte=qw([`
  position: relative;
`]))),IYt=O(U).attrs({align:"center",justify:"center"})(gte||(gte=qw([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`]))),PYt=O(_0).attrs({animated:!0,radius:2})(vte||(vte=qw([`
  width: 100%;
  height: 100%;
`]))),OYt=O(U).attrs({align:"center",justify:"center"})(yte||(yte=qw([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`]))),RYt=O(oe).attrs({padding:2,space:2})(bte||(bte=qw([`
  max-width: `,`;
`])),ye(200)),$Yt={...Qi.media,aspect:1,fit:"crop",dpr:Sm()};function MYt(e){const{media:t,mediaDimensions:n=$Yt,children:r,isPlaceholder:o,progress:i=-1,subtitle:s,title:a,withBorder:c=!0,withRadius:u=!0}=e,d=n.aspect||1,f=h.useMemo(()=>({paddingBottom:"".concat(100/d,"%")}),[d]),p=h.useMemo(()=>!a||!s?null:l.jsxs(RYt,{children:[a&&l.jsx(L,{align:"center",size:1,weight:"semibold",children:Fo(a,"media")}),s&&l.jsx(L,{align:"center",muted:!0,size:1,children:Fo(s,"media")})]}),[s,a]);return l.jsxs(DYt,{"data-testid":"media-preview",overflow:"hidden",flex:1,children:[l.jsx("div",{style:f}),l.jsx(at,{content:p,disabled:!p,placement:"top",portal:!0,children:l.jsxs(IYt,{children:[o?l.jsx(PYt,{}):l.jsx(Yw,{border:c,dimensions:n,layout:"media",media:t,radius:u?1:0,responsive:!0}),typeof i=="number"&&i>-1&&l.jsx(OYt,{children:l.jsx(_Yt,{value:i})})]})}),r]})}var xte=Object.freeze,FYt=Object.defineProperty,aB=(e,t)=>xte(FYt(e,"raw",{value:xte(t||e.slice())})),wte,Cte,_te;const LYt=O(U).attrs({align:"center"})(wte||(wte=aB([`
  box-shadow: 0 0 0 1px var(--card-border-color);
  height: `,`;
  white-space: nowrap;
  position: relative;
  z-index: 1;
`])),ye(Qi.block.height)),BYt=O(ee)(Cte||(Cte=aB([`
  position: relative;
  padding-bottom: `,`%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`])),e=>{let{$ratio:t}=e;return t}),NYt=O(M).attrs({overflow:"hidden"})(_te||(_te=aB([`
  border-radius: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.radius[1]}),zYt={...Qi.blockImage,fit:"fillmax",dpr:Sm()},VYt=e=>{const{height:t,width:n}=e;return!t||!n?1:t/n*100};function HYt(e){const{actions:t,title:n,subtitle:r,description:o,fallbackTitle:i="Untitled",mediaDimensions:s=zYt,media:a,children:c,status:u}=e;return l.jsxs(NYt,{children:[l.jsxs(oe,{children:[l.jsxs(LYt,{paddingLeft:2,paddingRight:1,paddingY:1,children:[l.jsxs(oe,{flex:1,space:2,children:[(n||i)&&l.jsx(L,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Fo(n,"block"):i}),r&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Fo(r,"block")})]}),l.jsxs(U,{gap:1,paddingLeft:1,children:[u&&l.jsx(M,{paddingX:2,paddingY:3,children:Fo(u,"block")}),t]})]}),l.jsx(BYt,{$ratio:VYt(s),__unstable_checkered:!0,display:"flex",sizing:"border",tone:"inherit",children:l.jsx(Yw,{border:!1,dimensions:s,layout:"blockImage",media:a,radius:0,responsive:!0})})]}),o&&l.jsx(M,{paddingX:2,paddingY:3,children:l.jsx(L,{muted:!0,size:1,children:Fo(o,"block")})}),c&&l.jsx("div",{children:c})]})}var Ste=Object.freeze,UYt=Object.defineProperty,WYt=(e,t)=>Ste(UYt(e,"raw",{value:Ste(t||e.slice())})),Ete;const YYt={...Qi.block,aspect:1,fit:"crop",dpr:Sm()},qYt=O(U).attrs({align:"center"})(Ete||(Ete=WYt([`
  min-height: `,`;
`])),ye(Qi.block.height));function GYt(e){const{actions:t,title:n,subtitle:r,description:o,mediaDimensions:i=YYt,media:s,status:a,children:c}=e;return l.jsxs(oe,{"data-testid":"block-preview",space:1,children:[l.jsxs(qYt,{"data-testid":"block-preview__header",children:[s&&l.jsx(Yw,{dimensions:i,layout:"block",media:s}),l.jsxs(M,{flex:1,paddingLeft:s?2:1,children:[l.jsx(L,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Fo(n,"block"):"Untitled"}),r&&l.jsx(M,{marginTop:2,children:l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Fo(r,"block")})}),o&&l.jsx(M,{marginTop:3,children:l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Fo(o,"block")})})]}),l.jsxs(U,{gap:1,paddingLeft:1,children:[a&&l.jsx(M,{paddingX:2,paddingY:3,children:Fo(a,"block")}),t]})]}),c&&l.jsx("div",{"data-testid":"block-preview__children",children:c})]})}var kte=Object.freeze,KYt=Object.defineProperty,lB=(e,t)=>kte(KYt(e,"raw",{value:kte(t||e.slice())})),jte,Tte,Ate;const ZYt=O.span(jte||(jte=lB([`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`]))),XYt=O.span(Tte||(Tte=lB([`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: `,`;
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: `,`;
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[1])},e=>{let{theme:t}=e;return ye(t.sanity.radius[1])}),QYt=O(L).attrs({forwardedAs:"span"})(e=>{let{theme:t}=e;const n=t.sanity.fonts.text,r=n.sizes[1];return he(Ate||(Ate=lB([`
    font-size: calc(`,` / 16 * 1em);
    font-weight: `,`;
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: `,`;
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `])),r.fontSize,n.weights.medium,r.lineHeight/r.fontSize)}),JYt={...Qi.inline,fit:"crop",aspect:1,dpr:Sm()};function eqt(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:o=JYt}=e;return l.jsxs(ZYt,{"data-testid":"inline-preview",children:[r&&l.jsxs(XYt,{"data-testid":"inline-preview-media",children:[iYt(r,"inline",o),l.jsx("span",{})]}),l.jsx(QYt,{"data-testid":"inline-preview-title",size:1,children:Fo(t,"inline",n)})]})}var Dte=Object.freeze,tqt=Object.defineProperty,dA=(e,t)=>Dte(tqt(e,"raw",{value:Dte(t||e.slice())})),Ite,Pte,Ote,Rte;({...Qi.default,dpr:Sm()});O(M)(Ite||(Ite=dA([`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`])));O(U).attrs({align:"center"})(Pte||(Pte=dA([`
  height: `,`;
`])),ye(Qi.default.height));O(Di).attrs({animated:!0,radius:1})(Ote||(Ote=dA([`
  max-width: `,`;
  width: 80%;
`])),ye(160));O(Di).attrs({animated:!0,radius:1,size:1})(Rte||(Rte=dA([`
  max-width: `,`;
  width: 60%;
`])),ye(120));const nqt=["aria-hidden","disabled","href"],rqt='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function oqt(e){return[...e.querySelectorAll(rqt)].filter(t=>!t.hasAttribute("disabled")&&t.getAttribute("aria-hidden")!=="true")}function DAe(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:o=["arrows"],pause:i=!1,rootElement:s}=e,[a,c]=h.useState(-1),[u,d]=h.useState([]),f=u.length,p=f-1,m=t==="horizontal"?"ArrowRight":"ArrowDown",v=t==="horizontal"?"ArrowLeft":"ArrowUp",g=h.useCallback(()=>{if(s){const b=oqt(s);d(b)}},[s]),y=h.useCallback(b=>{c(b)},[]),x=h.useCallback(b=>{if(i)return;const w=()=>{b.preventDefault(),c(_=>{const S=(_+p)%f;return!r&&S===p?_:S})},C=()=>{b.preventDefault(),c(_=>{const S=(_+1)%f;return!r&&S===0?_:S})};b.key==="Tab"&&o.includes("tab")&&(b.shiftKey?w():C()),o.includes("arrows")&&(b.key===v&&w(),b.key===m&&C())},[i,v,o,m,p,f,r]);h.useEffect(()=>{g()},[g,n,t]),h.useEffect(()=>{const b=new MutationObserver(g);return s&&b.observe(s,{childList:!0,subtree:!0,attributeFilter:nqt}),()=>{b.disconnect()}},[u,g,s]),h.useEffect(()=>{var b;u.forEach((w,C)=>{C===a?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>y(C),w.onblur=()=>y(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>y(C))}),a===-1&&u&&((b=u[n==="last"?p:0])==null||b.setAttribute("tabIndex","0"))},[u,a,y,n,p]),h.useEffect(()=>(s==null||s.addEventListener("keydown",x),()=>{s==null||s.removeEventListener("keydown",x)}),[x,s])}const iqt=O(M)({position:"relative"}),sqt=O.div({position:"absolute",top:-4,right:-4,width:6,height:6,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),lh=h.forwardRef(function(t,n){const{disabled:r,fontSize:o,hotkey:i,icon:s,label:a,mode:c="bleed",space:u=3,text:d,tone:f,tooltip:p,...m}=t,v=As(),g=f&&v.sanity.color.solid[f],y=h.useMemo(()=>({backgroundColor:g==null?void 0:g.enabled.bg}),[g]),x=!!r,b=typeof r=="object"?l.jsx(L,{size:1,children:r.reason}):l.jsxs(U,{align:"center",gap:2,style:{lineHeight:0},children:[l.jsx(L,{size:1,children:a}),i&&l.jsx(rB,{fontSize:0,keys:i,style:{margin:-4}})]});return l.jsx(at,{padding:2,placement:"bottom",...p,content:b,disabled:!a,portal:!0,children:l.jsx("div",{children:l.jsx(se,{"data-ui":"StatusButton",...m,"aria-label":a,disabled:x,mode:c,ref:n,children:l.jsxs(U,{gap:u,children:[l.jsxs(iqt,{children:[l.jsxs(L,{size:o,children:[h.isValidElement(s)&&s,Xn.isValidElementType(s)&&h.createElement(s)]}),f&&l.jsx(sqt,{style:y})]}),d&&l.jsx(M,{flex:1,children:l.jsx(L,{size:o,children:d})})]})})})})});var $te=Object.freeze,aqt=Object.defineProperty,lqt=(e,t)=>$te(aqt(e,"raw",{value:$te(t||e.slice())})),Mte;const cqt=O(L)(e=>{let{$tone:t,theme:n}=e;const r=n.sanity.color.muted[t];return he(Mte||(Mte=lqt([`
    &:not([data-muted]) {
      --card-fg-color: `,`;
    }

    &[data-dimmed] {
      opacity: 0.3;
    }
  `])),r?r.enabled.fg:void 0)}),lr=ie.forwardRef(function(t,n){const{tone:r,dimmed:o,muted:i,...s}=t;return l.jsx(cqt,{"data-ui":"TextWithTone","data-dimmed":o?"":void 0,"data-muted":i?"":void 0,$tone:r,muted:i,ref:n,...s})}),Gw=h.forwardRef(function(t,n){const{children:r,content:o,disabled:i,...s}=t;return l.jsx(at,{...s,content:o,disabled:i||!o,padding:2,ref:n,children:l.jsx("div",{children:r})})}),cB=h.forwardRef((e,t)=>{const{push:n}=Ho();return h.useImperativeHandle(t,()=>({push:n})),null});cB.displayName="ImperativeToast";const uqt={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},dqt=h.createContext(uqt);function IAe(){return h.useContext(dqt)}function Ku(e){let{children:t,zOffset:n}=e;const o=IAe()[n];return l.jsx(Bu,{zOffset:o,children:t})}function fqt(){const e=new WeakMap,t=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(u){const d=t.get(u);if(d)return d;const f=n();return t.set(u,f),f}function o(u){return Array.from(new Set(u)).map(d=>[r(d),d]).sort((d,f)=>{let[p]=d,[m]=f;return p.localeCompare(m,"en")}).map(d=>{let[,f]=d;return f})}function i(u,d){if(!u.length)return;const[f,...p]=u,m=d.get(f);if(m)return p.length?i(p,m.next):m.value}function s(u,d,f){if(!u.length)return;const[p,...m]=u,v=d.get(p)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(p,v),!m.length){v.value=f;return}s(m,v.next,f)}function a(u){return i(o(u),e)}function c(u,d){s(o(u),e,d)}return{get:a,set:c}}const PAe=h.createContext(null);function hqt(e){let{children:t}=e;const n=h.useMemo(()=>{const r=new Map,o={};return{get:i=>{let{namespace:s,dependencies:a}=i;const c=a.map(d=>d===null?o:d),u=r.get(s);return u==null?void 0:u.get(c)},set:i=>{let{namespace:s,dependencies:a,value:c}=i;const u=r.get(s)||fqt(),d=a.map(f=>f===null?o:f);r.set(s,u),u.set(d,c)}}},[]);return l.jsx(PAe.Provider,{value:n,children:t})}function md(){const e=h.useContext(PAe);if(!e)throw new Error("Could not find `cache` context");return e}class uB extends Error{constructor(t){let{projectId:n}=t;super("CorsOriginError"),this.projectId=n}}const dB=(()=>{const e="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),fB={};function OAe(e,t){dB?localStorage[e]=t:fB[e]=t}function pqt(e){return dB?localStorage[e]:fB[e]}function RAe(e){dB?localStorage.removeItem(e):delete fB[e]}function mqt(e){const t=typeof window>"u"?be():Ii(window,"storage"),n="__studio_local_storage_messaging_".concat(e),r=new _r,o=on(r,t.pipe(mt(s=>s.key===n),ue(s=>s.newValue),mt(mo),ue(s=>JSON.parse(s)))).pipe(jo(1));function i(s){try{OAe(n,JSON.stringify(s)),RAe(n),r.next(s)}catch{}}return{messages:o,broadcast:i}}const Fte=/sid=([^&]{20,})&?/;function gqt(){if(typeof window>"u"||typeof window.location!="object")return null;const e=window.location.hash,[,t]=e.match(Fte)||[];if(!t)return null;const n=e.replace(Fte,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let Lte=gqt();const vqt=()=>{const e=Lte;return e&&(Lte=null),e};var Bte=Object.freeze,yqt=Object.defineProperty,$Ae=(e,t)=>Bte(yqt(e,"raw",{value:Bte(t||e.slice())})),Nte,zte;const bqt=O.svg(e=>{let{theme:t}=e;const{fg:n}=t.sanity.color.base;return he(Nte||(Nte=$Ae([`
    fill: `,`;
  `])),n)}),xqt=O.img(zte||(zte=$Ae([`
  height: 19px;
  width: 19px;
  object-fit: contain;
`]))),wqt=()=>l.jsx(bqt,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:l.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),Cqt=()=>l.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[l.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),l.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),l.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),l.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function _qt(e){const{provider:t}=e;return t.logo?l.jsx(xqt,{src:t.logo,alt:"Logo for ".concat(t.name)}):void 0}const Sqt={google:Cqt,github:wqt};async function Eqt(e){let{client:t,mode:n,providers:r=[]}=e;if(n==="replace"&&Array.isArray(r))return r;const{providers:o}=await t.request({uri:"/auth/providers"});return typeof r=="function"?r(o):r.length===0?o:n==="replace"?r:o.filter(i=>r.some(s=>s.url!==i.url)).concat(r)}function Vte(e){let{loginMethod:t="dual",projectId:n,url:r,basePath:o}=e;const i=new URLSearchParams;return i.set("origin","".concat(window.location.origin).concat(o)),i.set("projectId",n),t==="token"?i.set("withSid","true"):i.set("type",t),"".concat(r,"?").concat(i)}function kqt(e){let{getClient:t,loginMethod:n,redirectOnSingle:r,...o}=e;const i=sh(t);function s(a){let{projectId:c,basePath:u}=a;const[d,f]=h.useState(null),[p,m]=h.useState(null);if(p)throw p;const[v]=i();h.useEffect(()=>{v&&Eqt({client:v,...o}).then(f).catch(m)},[v]);const g=r&&(d==null?void 0:d.length)===1&&(d==null?void 0:d[0])&&Vte({loginMethod:n,projectId:c,url:d[0].url,basePath:u}),y=!d||g;return h.useEffect(()=>{g&&(window.location.href=g)},[g]),y?l.jsxs(U,{align:"center",direction:"column",gap:4,justify:"center",padding:6,sizing:"border",children:[l.jsx(L,{muted:!0,children:"Loading…"}),l.jsx(fr,{muted:!0})]}):l.jsxs(oe,{space:4,children:[l.jsx(Vo,{align:"center",size:1,children:"Choose login provider"}),l.jsx(oe,{space:2,children:d.map((x,b)=>l.jsx(se,{as:"a",icon:Sqt[x.name]||l.jsx(_qt,{provider:x}),href:Vte({loginMethod:n,projectId:c,url:x.url,basePath:u}),mode:"ghost",text:x.title},"".concat(x.url,"_").concat(b)))})]})}return s}const hB=e=>{if(!e)throw new Error("Invalid project id");return"__studio_auth_token_".concat(e)},Hte=e=>{try{const t=pqt(hB(e));if(t){const{token:n}=JSON.parse(t);if(n&&typeof n=="string")return n}}catch(t){console.error(t)}return null},MAe=e=>{try{RAe(hB(e))}catch(t){console.error(t)}},jqt=e=>{let{token:t,projectId:n}=e;try{OAe(hB(n),JSON.stringify({token:t,time:new Date().toISOString()}))}catch(r){console.error(r)}},Ute=async(e,t)=>{var n;try{const r=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return MAe(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new uB({projectId:(n=e.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const i=new URL(r.request.url).host;throw new Error("Unknown network error attempting to reach ".concat(i))}throw r}};function Tqt(e){let{clientFactory:t,projectId:n,dataset:r,apiHost:o,loginMethod:i="dual",...s}=e;const{broadcast:a,messages:c}=mqt("dual_mode_auth_".concat(n)),u=t??rSe,d=c.pipe(ri(i==="dual"?Hte(n):null)),f={};o&&(f.apiHost=o);const p=d.pipe(ue(x=>u({projectId:n,dataset:r,apiVersion:"2021-06-07",useCdn:!1,...x&&{token:x},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...f})),it(x=>fo(async()=>{const b=await Ute(x,a);return{currentUser:b,client:x,authenticated:!!b}})),Qn((x,b)=>Ht(x.currentUser,b.currentUser)),jo(1));async function m(){const x=vqt();if(!x){a(i==="cookie"?null:Hte(n));return}const b=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});let w;if((i==="dual"||i==="cookie")&&(w=await Ute(b,a)),w||i==="cookie"){a(null);return}const C=await v(b,x);a(C??null)}async function v(x,b){const{token:w}=await x.request({method:"GET",uri:"/auth/fetch",query:{sid:b},tag:"auth.fetch-token"});return jqt({token:w,projectId:n}),w}async function g(){const x=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});MAe(n),await x.request({uri:"/auth/logout",method:"POST"}),a(null)}const y=kqt({...s,getClient:()=>p.pipe(ue(x=>x.client)),loginMethod:i});return{handleCallbackUrl:m,token:d,state:p,LoginComponent:y,logout:g}}function FAe(e){return typeof e!="object"||e===null?"".concat(e):JSON.stringify(Object.fromEntries(Object.entries(e).sort((t,n)=>{let[r]=t,[o]=n;return r.localeCompare(o,"en")}).map(t=>{let[n,r]=t;return[n,FAe(r)]})))}const Aqt=tT(Tqt,FAe);function Dqt(e){return wt(e)&&"state"in e&&wt(e.state)&&"subscribe"in e.state&&typeof e.state.subscribe=="function"}function LAe(e){if(e==="google")return"Google";if(e==="github")return"GitHub";if(e==="sanity")return"Sanity";if(e!=null&&e.startsWith("saml-"))return"SAML/SSO"}function Iqt(e){return t=>{let n=[];const r=Pn((o,i)=>(n.push(o),e(o,n.length,i).pipe(r)));return t.pipe(bn(()=>{n=[]}),r)}}const Wte=typeof window>"u"?be({}):Ii(window,"online"),Pqt=typeof window>"u"?be({}):Ii(window,"offline"),Oqt=e=>Math.pow(2,e)*100,Rqt={type:"connecting"},BAe=RCe(),$qt=BAe[0];BAe[1];const Mqt=e=>{let{error:t,isOffline:n,attemptNo:r,retryAt:o}=e;return{type:"error",error:t,attemptNo:r,isOffline:n,retryAt:o}};function Fqt(e){let{bifur:t}=e;return{connectionStatus$:on(t.heartbeats,Pqt.pipe(Np(Nu(new Error("The browser went offline"))))).pipe(ue(r=>({type:"connected",lastHeartbeat:r})),Iqt((r,o,i)=>{const s=Math.min(24e4,Oqt(o)),a=new Date(new Date().getTime()+s),c=No(a),u=!navigator.onLine,d=Mqt({error:r,retryAt:a,isOffline:u,attemptNo:o}),f=V6.pipe(Y6(u?Wte:on(c,Wte,$qt)));return Hr(be(d),f.pipe(Ei(1)),i)}),ri(Rqt))}}const Lqt=Jve(e=>{let{theme:t}=e;const{color:n,fonts:r}=t.sanity;return{html:{backgroundColor:n.base.bg},"#sanity":{fontFamily:r.text.family}}});function Yte(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(cT);if(t.length)throw new Error(`Invalid plugin configuration:
`.concat(t.map(n=>"	".concat(n)).join(`
`)))}function pB(e){if(typeof e=="function"){const t=e;return n=>{const r=t(n);return Yte(r),r}}return Yte(e),()=>e}const Bqt=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_fieldActions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_fieldActions` to be an array or a function, but received ".concat(typeof o))},Nqt=[];const yf=class NAe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.message=t,this.paths=n.paths||[],this.children=n.children,this.operation=n.operation}cloneWithMessage(t){return new NAe(t,{paths:this.paths,children:this.children,operation:this.operation})}};function zqt(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function mB(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(kl(n))return"".concat(t,'[_key=="').concat(n._key,'"]');throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function Vqt(e){return e!==null||e!==void 0}function gb(e,t,n){var r;if(!n)throw new Error("missing context");if(e===!0)return[];if(Array.isArray(e))return e.flatMap(i=>gb(i,t,n)).filter(Vqt);if(typeof e=="string")return gb(new yf(e),t,n);if(!(e instanceof yf)){if(typeof(e==null?void 0:e.message)!="string")throw new Error("".concat(mB(n.path),": Validator must return 'true' if valid or an error message as a string on errors"));return gb(new yf(e.message,e),t,n)}const o=[];return(r=e.paths)!=null&&r.length?o.concat(e.paths.map(i=>({path:(n.path||[]).concat(i),level:t||"error",item:e}))):[{level:t||"error",item:e,path:n.path||[]}]}const Hqt={}.toString,qte=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function Uqt(e){for(let t=0;t<qte.length;t++)if(qte[t]===e)return!0;return!1}function zAe(e){const t=Hqt.call(e).slice(8,-1);if(e==null)return t.toLowerCase();const n=e.constructor;return n&&!Uqt(n)?n.name:t}function kx(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!kx(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&typeof e=="object"&&typeof t=="object"){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<n.length;r++){const o=n[r];if(o!=="_key"&&!kx(e[o],t[o]))return!1}return!0}return!1}const Gte=5e3,Kte=e=>{var t;let n;return e.message?n=e.message:e.results.length===1?n=(t=e.results[0])==null?void 0:t.item.message:n="[".concat(e.results.map(r=>r.item.message).join(" - ".concat(e.operation," - ")),"]"),new yf(n,{children:e.results.length>1?e.results:void 0,operation:e.operation})},Om={type:(e,t,n)=>{const r=zAe(t);return r!==e&&r!=="undefined"?n||'Expected type "'.concat(e,'", got "').concat(r,'"'):!0},presence:(e,t,n)=>t===void 0&&e==="required"?n||"Value is required":!0,all:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length?Kte({message:n,results:i,operation:"AND"}):!0},either:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length<e.length?!0:Kte({message:n,results:i,operation:"OR"})},valid:(e,t,n)=>{const r=typeof t;if(r==="undefined")return!0;const o=(r==="number"||r==="string")&&"".concat(t),i=o&&o.length>30?"".concat(o.slice(0,30),"…"):o,s=o?'Value "'.concat(i,'" did not match any allowed values'):"Value did not match any allowed values";return e.some(a=>kx(a,t))?!0:n||s},custom:async(e,t,n,r)=>{const o=setTimeout(()=>{console.warn("Custom validator at ".concat(mB(r.path)," has taken more than ").concat(Gte,"ms to respond"))},Gte);let i;try{i=await e(t,r)}finally{clearTimeout(o)}return typeof i=="string"&&n||i}},Wqt={...Om,presence:(e,t,n)=>e==="required"&&typeof t!="boolean"?n||"Required":!0},Yqt=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,qqt={...Om,integer:(e,t,n)=>Number.isInteger(t)?!0:n||"Must be an integer",precision:(e,t,n)=>{if(t===void 0)return!0;const r=t.toString().match(Yqt);return Math.max((r[1]?r[1].length:0)-(r[2]?parseInt(r[2],10):0),0)>e?n||"Max precision is ".concat(e):!0},min:(e,t,n)=>t>=e?!0:n||"Must be greater than or equal ".concat(e),max:(e,t,n)=>t<=e?!0:n||"Must be less than or equal ".concat(e),greaterThan:(e,t,n)=>t>e?!0:n||"Must be greater than ".concat(e),lessThan:(e,t,n)=>t<e?!0:n||"Must be less than ".concat(e)},pO="http://sanity",Gqt=e=>/^\.*\//.test(e),Kqt=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Zqt={...Om,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must be at least ".concat(e," characters long"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must be at most ".concat(e," characters long"),length:(e,t,n)=>(t||"").length===e?!0:n||"Must be exactly ".concat(e," characters long"),uri:(e,t,n)=>{const r=t||"",{options:o}=e,{allowCredentials:i,relativeOnly:s}=o,a=o.allowRelative||s;let c;try{c=a?new URL(r,pO):new URL(r)}catch{return n||"Not a valid URL"}if(s&&c.origin!==pO)return n||"Only relative URLs are allowed";if(!a&&c.origin===pO&&Gqt(r))return n||"Relative URLs are not allowed";if(!i&&(c.username||c.password))return n||"Username/password not allowed";const u=c.protocol.replace(/:$/,"");return o.scheme.some(f=>f.test(u))?!0:n||"Does not match allowed protocols/schemes"},stringCasing:(e,t,n)=>{const r=t||"";return e==="uppercase"&&r!==r.toLocaleUpperCase()?n||"Must be all uppercase letters":e==="lowercase"&&r!==r.toLocaleLowerCase()?n||"Must be all lowercase letters":!0},presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,regex:(e,t,n)=>{const{pattern:r,name:o,invert:i}=e,s=o||'"'.concat(r.toString(),'"'),a=t||"";r.lastIndex=0;const c=r.test(a);if(!i&&!c||i&&c){const u=i?"Should not match ".concat(s,"-pattern"):"Does not match ".concat(s,"-pattern");return n||u}return!0},email:(e,t,n)=>{const r="".concat(t||"").trim();return!r||Kqt.test(r)?!0:n||"Must be a valid email address"}},Xqt={...Om,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must have at least ".concat(e," items"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must have at most ".concat(e," items"),length:(e,t,n)=>!t||t.length===e?!0:n||"Must have exactly ".concat(e," items"),presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,valid:(e,t,n)=>{if(typeof t==="undefined")return!0;const o=[];for(let i=0;i<t.length;i++){const s=t[i];if(e.some(c=>kx(c,s)))continue;const a=s&&s._key?{_key:s._key}:i;o.push([a])}return o.length===0?!0:new yf(n||"Value did not match any allowed values",{paths:o})},unique:(e,t,n)=>{const r=[];if(!t)return!0;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++){const a=t[i],c=t[s];kx(a,c)&&(r.indexOf(i)===-1&&r.push(i),r.indexOf(s)===-1&&r.push(s))}const o=r.map(i=>{const s=t[i];return[s&&s._key?{_key:s._key}:i]});return r.length>0?new yf(n||"Can't be a duplicate",{paths:o}):!0}},Qqt=["_key","_type","_weak"],Jqt={...Om,presence:(e,t,n)=>{if(e!=="required")return!0;const r=t&&Object.keys(t).filter(o=>!Qqt.includes(o));return t===void 0||r&&r.length===0?n||"Required":!0},reference:async(e,t,n,r)=>{if(!t)return!0;if(!td(t))return n||"Must be a reference to a document";const{type:o,getDocumentExists:i}=r;if(!o)throw new Error("`type` was not provided in validation context");if("weak"in o&&o.weak)return!0;if(!i)throw new Error("`getDocumentExists` was not provided in validation context");return await i({id:t._ref})?!0:"This reference must be published"},assetRequired:(e,t,n)=>{if(!t||!t.asset||!t.asset._ref){const r=e.assetType||"Asset";return n||"".concat(r," required")}return!0}};function Zte(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const eGt=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,Xte=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r="yyyy-MM-dd";return n&&n.dateFormat&&(r=n.dateFormat),e==="date"?Jo(new Date(t),r):(n&&n.timeFormat?r+=" ".concat(n.timeFormat):r+=" HH:mm",Jo(new Date(t),r))};function q_(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!e)return null;if(e==="now")return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error('Unable to parse "'.concat(e,'" to a date'));return r?null:n}const tGt={...Om,type:(e,t,n)=>!"".concat(t)||eGt.test(t)?!0:n||"Must be a valid ISO-8601 formatted date string",min:(e,t,n,r)=>{const o=q_(t);if(!o||!t||o>=q_(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=Zte(r.type.options)?r.type.options:{},s=Xte(r.type.name,e,i);return n||"Must be at or after ".concat(s)},max:(e,t,n,r)=>{const o=q_(t);if(!o||!t||o<=q_(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=Zte(r.type.options)?r.type.options:{},s=Xte(r.type.name,e,i);return n||"Must be at or before ".concat(s)}};var yo;const nGt={Boolean:Wqt,Number:qqt,String:Zqt,Array:Xqt,Object:Jqt,Date:tGt},VAe=e=>e&&e.type?VAe(e.type):e,rGt=e=>typeof e!="object"||!e?!1:e.type===qM.FIELD_REF,oGt=[],Qte=Symbol("FIELD_REF"),iGt=["Array","Boolean","Date","Number","Object","String"],qM=(yo=class{constructor(e){this._type=void 0,this._level=void 0,this._required=void 0,this._typeDef=void 0,this._message=void 0,this._rules=[],this._fieldRules=void 0,this.valueOfField=yo.valueOfField.bind(yo),this._typeDef=e,this.reset()}_mergeRequired(e){if(this._required==="required"||e._required==="required")return"required";if(this._required==="optional"||e._required==="optional")return"optional"}error(e){const t=this.clone();return t._level="error",t._message=e||void 0,t}warning(e){const t=this.clone();return t._level="warning",t._message=e||void 0,t}info(e){const t=this.clone();return t._level="info",t._message=e||void 0,t}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(e=>e.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const e=new yo;return e._type=this._type,e._message=this._message,e._required=this._required,e._rules=FSt(this._rules),e._level=this._level,e._fieldRules=this._fieldRules,e._typeDef=this._typeDef,e}cloneWithRules(e){const t=this.clone(),n=new Set;return e.forEach(r=>{r.flag==="type"&&(t._type=r.constraint),n.add(r.flag)}),t._rules=t._rules.filter(r=>{const o=["type","uri","email"].includes(r.flag),i=n.has(r.flag);return!(o&&i)}).concat(e),t}merge(e){if(this._type&&e._type&&this._type!==e._type)throw new Error("merge() failed: conflicting types");const t=this.cloneWithRules(e._rules);return t._type=this._type||e._type,t._message=this._message||e._message,t._required=this._mergeRequired(e),t._level=this._level==="error"?e._level:this._level,t}type(e){const t="".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1));if(!iGt.includes(t))throw new Error('Unknown type "'.concat(e,'"'));const n=this.cloneWithRules([{flag:"type",constraint:t}]);return n._type=t,n}all(e){return this.cloneWithRules([{flag:"all",constraint:e}])}either(e){return this.cloneWithRules([{flag:"either",constraint:e}])}optional(){const e=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return e._required="optional",e}required(){const e=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return e._required="required",e}custom(e){return this.cloneWithRules([{flag:"custom",constraint:e}])}min(e){return this.cloneWithRules([{flag:"min",constraint:e}])}max(e){return this.cloneWithRules([{flag:"max",constraint:e}])}length(e){return this.cloneWithRules([{flag:"length",constraint:e}])}valid(e){const t=Array.isArray(e)?e:[e];return this.cloneWithRules([{flag:"valid",constraint:t}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(e){return this.cloneWithRules([{flag:"precision",constraint:e}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(e){return this.cloneWithRules([{flag:"greaterThan",constraint:e}])}lessThan(e){return this.cloneWithRules([{flag:"lessThan",constraint:e}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(e,t,n){var r,o;const i=typeof t=="string"?t:(r=t==null?void 0:t.name)!=null?r:n==null?void 0:n.name,s=typeof t=="string"?!1:(o=t==null?void 0:t.invert)!=null?o:n==null?void 0:n.invert,a={pattern:e,name:i,invert:s||!1};return this.cloneWithRules([{flag:"regex",constraint:a}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(e){const t=(e==null?void 0:e.scheme)||["http","https"],n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("scheme must have at least 1 scheme specified");const r={options:{scheme:n.map(o=>{if(!(o instanceof RegExp)&&typeof o!="string")throw new Error("scheme must be a RegExp or a String");return typeof o=="string"?new RegExp("^".concat(zqt(o),"$")):o}),allowRelative:(e==null?void 0:e.allowRelative)||!1,relativeOnly:(e==null?void 0:e.relativeOnly)||!1,allowCredentials:(e==null?void 0:e.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(e){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const t=this.cloneWithRules([]);return t._fieldRules=e,t}assetRequired(){const e=VAe(this._typeDef);let t;return e&&["image","file"].includes(e.name)?t=e.name==="image"?"Image":"File":t="Asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:t}}])}async validate(e,t){if(!t)throw new Error("missing context");const n=e==null;if(n&&this._required==="optional")return oGt;const r=this._required===void 0&&n?this._rules.filter(s=>s.flag==="custom"):this._rules,o=this._type&&nGt[this._type]||Om;return(await Promise.all(r.map(async s=>{if(s.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const a=o[s.flag];if(!a){const d=this._type?'type "'.concat(this._type,'"'):"rule without declared type";throw new Error('Validator for flag "'.concat(s.flag,'" not found for ').concat(d))}let c="constraint"in s?s.constraint:null;rGt(c)&&(c=Un(t.parent,c.path));let u;try{u=await a(c,e,this._message,t)}catch(d){const f=new yf("".concat(mB(t.path),": Exception occurred while validating value: ").concat(d.message));return gb(f,"error",t)}return gb(u,this._level,t)}))).flat()}},yo.FIELD_REF=Qte,yo.array=e=>new yo(e).type("Array"),yo.object=e=>new yo(e).type("Object"),yo.string=e=>new yo(e).type("String"),yo.number=e=>new yo(e).type("Number"),yo.boolean=e=>new yo(e).type("Boolean"),yo.dateTime=e=>new yo(e).type("Date"),yo.valueOfField=e=>({type:Qte,path:e}),yo),sGt=function(t,n){const r=Date.now();return window.setTimeout(()=>{t({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-r)}})},0)},aGt=function(t){return window.clearTimeout(t)},t5=typeof window>"u"?void 0:window,lGt=(t5==null?void 0:t5.requestIdleCallback)||sGt,cGt=(t5==null?void 0:t5.cancelIdleCallback)||aGt,uGt=tT(fGt);function dGt(e){const t=e.indexOf("drafts.")===0;return{published:t?e.slice(7):e,draft:t?e:"drafts.".concat(e)}}function Jte(e){return e.reduce((t,n,r)=>{const o=typeof n=="number",i=kl(n),s=r===0?"":".",a=o||i?"[]":"".concat(s).concat(n);return"".concat(t).concat(a)},"")}const ene=(e,t)=>{const{getClient:n,document:r,path:o,type:i}=t,s=i==null?void 0:i.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!o)throw new Error("`path` was not provided in validation context.");const a=(s==null?void 0:s.disableArrayWarning)||!1,{published:c,draft:u}=dGt(r._id),d=r._type,f=Jte(o.concat("current"));!a&&f.includes("[]")&&uGt(Jte(o));const p=["_type == $docType","!(_id in [$draft, $published])","".concat(f," == $slug")].join(" && ");return n({apiVersion:"2022-09-09"}).fetch("!defined(*[".concat(p,"][0]._id)"),{docType:d,draft:u,published:c,slug:e},{tag:"validation.slug-is-unique"})};function fGt(e){console.warn(["Slug field at path ".concat(e," is within an array and cannot be automatically checked for uniqueness"),'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const hGt=async(e,t)=>{var n;if(!e)return!0;if(typeof e!="object")return"Slug must be an object";const r=e.current;if(!r)return"Slug must have a value";const o=(n=t==null?void 0:t.type)==null?void 0:n.options,i=(o==null?void 0:o.isUnique)||ene,s={...t,parent:t.parent,type:t.type,defaultIsUnique:ene};return await i(r,s)?!0:"Slug is already in use"},pGt={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},mGt=e=>e in pGt;function HAe(e,t){return e?t.has(e)?[]:(t.add(e),[...e.type?HAe(e.type,t):[],e]):[]}function gGt(e,t){let n=e;mGt(t.jsonType)&&(n=n.type(t.jsonType));const r=(t==null?void 0:t.options)&&typeof t.options=="object"&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(o=>vGt(o,t)))),t.name==="datetime"||t.name==="date"?n.type("Date"):t.name==="url"?n.uri():t.name==="slug"?n.custom(hGt):t.name==="reference"?n.reference():t.name==="email"?n.email():n}function UAe(e){return e?!("fields"in e)&&e.type?UAe(e.type):!("fields"in e)||!Array.isArray(e.fields)?!1:e.fields.some(t=>t.name==="value"):!1}function vGt(e,t){return t.jsonType==="object"&&UAe(t)||e.value===void 0?e:e.value}function jx(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap(r=>jx({...e,validation:r}));if(t instanceof qM)return[t];const n=Object.values(HAe(e,new Set).reduce((r,o)=>(r[o.name]=o,r),{})).reduce(gGt,new qM(e));return t?jx({...e,validation:t(n)}):[n]}const tne=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),yGt=e=>e!=null;function bGt(e,t){if(t.length===1)return t[0];const n=sF(e)&&e._type,r=e==null||!n&&zAe(e).toLowerCase();return r&&r!=="object"?t.find(o=>o.jsonType===r):t.find(o=>{var i;return((i=o.type)==null?void 0:i.name)===n})||t.find(o=>o.name===n)||t.find(o=>o.name==="object"&&r==="object")}const xGt=[];function wGt(e,t,n,r){const o=n.get(t._type);if(!o)return console.warn('Schema type for object type "%s" not found, skipping validation',t._type),be(xGt);const i={getClient:e,schema:n,parent:void 0,value:t,path:[],document:t,type:o,getDocumentExists:r==null?void 0:r.getDocumentExists};return GM(i).pipe(Pn(s=>(console.error(s),be([{type:"validation",level:"error",path:[],item:new yf(s==null?void 0:s.message)}]))))}function GM(e){let{value:t,type:n,path:r=[],parent:o,...i}=e;const s=jx(n),a=s.map(p=>fo(()=>p.validate(t,{...i,parent:o,path:r,type:n})));let c=[];const u=s.some(p=>p.isRequired());if((n==null?void 0:n.jsonType)==="object"&&(!!t||t==null&&u)){const p=n.fields.reduce((m,v)=>(m[v.name]=v.type,m),{});c=c.concat(s.map(m=>m._fieldRules).filter(yGt).flatMap(m=>Object.entries(m)).flatMap(m=>{let[v,g]=m;const y=p[v];return jx({...y,validation:g}).map(x=>{const b=tne(t)?t[v]:void 0;return fo(()=>x.validate(b,{...i,parent:t,path:r.concat(v),type:y}))})})),c=c.concat(n.fields.map(m=>GM({...i,parent:t,value:tne(t)?t[m.name]:void 0,path:r.concat(m.name),type:m.type})))}return(n==null?void 0:n.jsonType)==="array"&&Array.isArray(t)&&(c=c.concat(t.map((p,m)=>GM({...i,parent:t,value:p,path:r.concat(kl(p)?{_key:p._key}:m),type:bGt(p,n.of)})))),fo(()=>on([...a,...c])).pipe(ht(p=>Hr(CGt(),p),40),Nj(),wCe(),ue(Dn),ue(p=>s.some(m=>m._fieldRules)?Mf(p,m=>JSON.stringify(m)):p))}function CGt(e){return new gt(t=>{const n=lGt(()=>{t.complete()},e?{timeout:e}:void 0);return()=>cGt(n)})}function _Gt(e){return CS(e,new Set),e}function CS(e,t){if(!t.has(e)){if(t.add(e),e.validation=jx(e),"fields"in e)for(const n of e.fields)CS(n.type,t);if("of"in e)for(const n of e.of)CS(n,t);if(e.annotations)for(const n of e.annotations)CS(n,t)}}function SGt(e){return e.getTypeNames().forEach(n=>{const r=e.get(n);r&&_Gt(r)}),e}var EGt={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string"},{name:"source",title:"Source field",type:"string",hidden:!0}]},kGt={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},jGt={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},TGt={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},AGt={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},DGt={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||typeof e.path=="string"&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:"".concat(e.mimeType," (").concat((Number(e.size)/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},IGt={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},PGt={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},OGt={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},RGt={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata…",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},$Gt={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:"".concat(e.mimeType," (").concat((e.size/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]};const MGt=e=>e.severity==="error",FGt=[AGt,EGt,kGt,DGt,$Gt,jGt,TGt,RGt,OGt,IGt,PGt];function LGt(e){const t=TSt(e.types).getTypes(),n=T2t(t),r=n.some(i=>i.problems.some(MGt)),o=B8.compile({name:e.name,types:r?[]:[...e.types,...FGt].filter(Boolean)});return o._validation=n,SGt(o)}function Cp(e){return typeof e.title=="string"?e.title:e.type?Cp(e.type):e.name||e.jsonType}const an={apiVersion:"2022-09-09"};var nne=Object.freeze,BGt=Object.defineProperty,NGt=(e,t)=>nne(BGt(e,"raw",{value:nne(t||e.slice())})),rne;const zGt=O(ts)(rne||(rne=NGt([`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
`])));function VGt(){return l.jsx(zGt,{children:l.jsx(U,{height:"fill",align:"center",justify:"center",children:l.jsx(fr,{})})})}function HGt(e){const{text:t}=e;return l.jsxs(U,{direction:"row",justify:"center",align:"center",children:[l.jsx(fr,{}),l.jsx(M,{marginLeft:2,children:l.jsx(L,{children:t})})]})}const one={referringDocuments:[],isLoading:!0};function UGt(e){const t=el();return go(()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(ue(n=>({referringDocuments:n,isLoading:!1})),ri(one)),[t,e],one)}const WGt=()=>h.createElement(h.Fragment);function YGt(e,t){return n=>{let r=o=>h.createElement(e,o);for(const o of t){const i=r;r=s=>h.createElement(o,{...s,renderDefault:i})}return r({...n,renderDefault:WGt})}}function Ul(e){const{options:t}=Mn().__internal,{defaultComponent:n,pick:r}=e;return h.useMemo(()=>{const o=[...zA(t,[])];o.reverse();const s=o.map(a=>{let{config:c}=a;return r(c)}).filter(Boolean);return YGt(n,s)},[n,t,r])}function bc(e,t){return t.name===e||!!(t.type&&bc(e,t.type))}const qGt={default:TAe,media:MYt,detail:yYt,inline:eqt,block:GYt,blockImage:HYt};function GGt(){return l.jsx(Ef,{className:"sanity-studio__preview-fallback-icon"})}function ch(e){const{icon:t,layout:n,media:r,imageUrl:o,title:i,...s}=e,a=pr(an),c=h.useMemo(()=>vT(a),[a]),u=h.useCallback(v=>{const{dimensions:g}=v;return l.jsx("img",{alt:vv(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:c.image(r).width(g.width||100).height(g.height||100).fit(g.fit).dpr(g.dpr||1).url()||""})},[c,r,i]),d=h.useCallback(()=>h.createElement(t||GGt),[t]),f=h.useMemo(()=>t===!1?!1:Xn.isValidElementType(r)||h.isValidElement(r)?r:ib(r)?u:vv(o)?l.jsx("img",{src:o,alt:vv(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):d,[t,o,r,d,u,i]),p=h.useMemo(()=>({...s,media:f,title:i}),[f,s,i]),m=qGt[n||"default"];return h.createElement(m,p)}const KGt=typeof window>"u"?Zn:Ii(window,"resize").pipe(jo(1)),ZGt=typeof window>"u"?Zn:Ii(window,"scroll",{passive:!0,capture:!0}).pipe(jo(1)),XGt=typeof window>"u"?Zn:Ii(window,"orientationchange").pipe(jo(1)),WAe=150;function QGt(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const JGt=QGt()?eKt():tKt();function eKt(){const e=new _r,t=new IntersectionObserver(n=>{n.forEach(r=>{e.next(r)})},{threshold:0,rootMargin:"".concat(WAe,"px")});return function(r){return new gt(o=>(t.observe(r),o.next(),()=>t.unobserve(r))).pipe(ht(()=>e.asObservable()),mt(o=>o.target===r),ue(o=>({isIntersecting:o.isIntersecting})))}}function tKt(){function e(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function t(r,o,i){return r.left<=o.right+i&&r.right>=o.left-i&&r.top<=o.bottom+i&&r.bottom>=o.top-i}function n(r){return()=>t(r.getBoundingClientRect(),e(),WAe)}return function(o){const i=n(o);return on(be(i()),KGt,ZGt,XGt).pipe(ue(i),ue(s=>({isIntersecting:s})))}}const nKt=typeof window>"u"?Zn:Ii(document,"visibilitychange").pipe(jo(1));function rKt(e){const{element:t,hideDelay:n=0}=e,[r,o]=h.useState(!1);return h.useEffect(()=>{if(!t)return;const i=Hr(be(!document.hidden),nKt.pipe(ue(u=>{var d;return u.target instanceof Document?!((d=u==null?void 0:u.target)!=null&&d.hidden):!1}))).pipe(Qn()),s=JGt(t).pipe(ue(u=>u.isIntersecting)),c=i.pipe(it(u=>u?s:be(!1)),it(u=>u?be(!0):be(!1).pipe(SCe(n))),Qn()).subscribe(o);return()=>c.unsubscribe()},[t,n]),r}const oKt={isLoading:!0},iKt={isLoading:!1};function gB(e){const{enabled:t=!0,ordering:n,schemaType:r,value:o}=e||{},{observeForPreview:i}=Li();return go(()=>!t||!o||!r?be(iKt):i(o,r,{ordering:n}).pipe(ue(s=>({isLoading:!1,value:s.snapshot||void 0})),Pn(s=>be({isLoading:!1,error:s}))),[t,i,n,r,o],oKt)}function sKt(e){return aKt(e==null?void 0:e._upload)}function G1(e){return vv(e)?e:void 0}function aKt(e){var t,n;if(!wt(e))return;const r=typeof e.progress=="number"?e.progress:0,o=G1(e.initiated||e.createdAt),i=G1(e.updated||e.updatedAt),s=G1((t=e==null?void 0:e.file)==null?void 0:t.name),a=G1((n=e==null?void 0:e.file)==null?void 0:n.type),c=G1(e.previewImage);if(o&&i&&s&&a)return{progress:r,createdAt:o,updatedAt:i,file:{name:s,type:a},previewImage:c}}const lKt=1e3*2;function YAe(e){const{layout:t,value:n,component:r,style:o,schemaType:i,skipVisibilityCheck:s,...a}=e,[c,u]=h.useState(null),d=rKt({element:s?null:c,hideDelay:lKt}),f=gB({enabled:s||d,schemaType:i,value:n}),p=h.useMemo(()=>({...o,minWidth:(o==null?void 0:o.minWidth)||1,minHeight:(o==null?void 0:o.minHeight)||1}),[o]),m=h.useMemo(()=>sKt(n),[n]),v=h.useMemo(()=>{var g,y;return m!=null&&m.previewImage?l.jsx("img",{alt:"The image currently being uploaded",src:m.previewImage}):(g=f==null?void 0:f.value)!=null&&g.media?(y=f==null?void 0:f.value)==null?void 0:y.media:i.icon},[f,i,m]);return l.jsx("div",{ref:u,style:p,children:h.createElement(r,{...a,...(f==null?void 0:f.value)||{},media:v,error:f==null?void 0:f.error,isPlaceholder:f==null?void 0:f.isLoading,layout:t,schemaType:i})})}function vB(e){const t=e==null?void 0:e.select;if(t)return Object.values(t).map(n=>String(n).split("."))}const cKt=e=>e.liveEdit===!0;function fA(e,t,n,r){const o=cKt(t)?be({snapshot:null}):e.observeForPreview({_type:"reference",_ref:si(n)},t),i=e.observeForPreview({_type:"reference",_ref:On(n)},t);return Bo([o,i]).pipe(ue(s=>{let[a,c]=s;return{draft:a.snapshot?{title:r,...a.snapshot||{}}:null,isLoading:!1,published:c.snapshot?{title:r,...c.snapshot||{}}:null}}),ri({draft:null,isLoading:!0,published:null}))}const uKt=e=>({title:l.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:l.jsx("em",{children:e.title?"Missing document ID: ".concat(e._id):"Document ID: ".concat(e._id)}),media:()=>l.jsx(Fr,{})}),yB=e=>{let{value:t,draft:n,published:r}=e;const o=n||r;return o?P7t({},o,t,(i,s)=>typeof s>"u"?i:s):uKt(t)},qAe=["_id","_rev","_type"],dKt=[...qAe,"_key"],ine={available:!0,reason:"READABLE"},fKt={available:!1,reason:"PERMISSION_DENIED"},hKt={available:!1,reason:"NOT_FOUND"},pKt={title:"Invalid preview config",subtitle:"Check the error log in the console",media:l.jsx(Fr,{})};function mKt(e){return Array.isArray(e)&&(e.length===0||e.some(Vf))}function gKt(e){const t=Array.isArray(e)&&e.find(Vf);return!t||!t.children?"":t.children.filter(Ks).map(n=>n.text).join("")}function GAe(e){return Object.keys(e)}const vKt=["_id","_type","_upload","_createdAt","_updatedAt"],t0=[],KM=(()=>{let e={};return{add:(t,n,r)=>{e[t.name]||(e[t.name]=[]),e[t.name].push({error:r,type:t,value:n})},getAll(){return e},clear(){e={}}}})(),yKt=Kx(()=>{const e=KM.getAll(),n=Dn(Object.keys(e).map(r=>{const o=e[r];return Mf(o,i=>i.error.message)})).length;n!==0&&(console.groupCollapsed("%cHeads up! Got ".concat(n===1?"error":"".concat(n," errors")," while preparing data for preview. Click for details."),"color: #ff7e7c"),Object.keys(e).forEach(r=>{const o=e[r],i=o[0];console.group('Check the preview config for schema type "'.concat(r,'": %o'),i.type.preview),Mf(o,a=>a.error.message).forEach(a=>{var c;if(a.error.type==="returnValueError"){const u=typeof((c=a.type.preview)==null?void 0:c.prepare)=="function",{value:d,error:f}=a;console.log("Encountered an invalid ".concat(u?"return value when calling prepare(%o)":"value targeted by preview.select",":"),d),console.error(f)}if(a.error.type==="prepareError"){const{value:u,error:d}=a;console.log("Encountered an error when calling prepare(%o):",u),console.error(d)}}),console.groupEnd()}),console.groupEnd(),KM.clear())},1e3),K1=e=>t=>{const n=typeof t;return t===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?t0:[xB("returnValueError",new Error('The "'.concat(e,'" field should be a string, number, boolean, undefined or null, instead saw ').concat(bB(t))))]},bKt={media:()=>t0,title:K1("title"),subtitle:K1("subtitle"),description:K1("description"),imageUrl:K1("imageUrl"),date:K1("date")};function bB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(wt(e)){const n=Object.keys(e),r=n.length>3?"...":"",o="object with keys ";return"".concat(t?o:"","{").concat(n.slice(0,3).join(", ")).concat(r,"}")}if(Array.isArray(e)){const n=e.length>3?"...":"",r="array with ";return"".concat(t?r:"","[").concat(e.map(o=>bB(o,!1))).concat(n,"]")}return"the ".concat(typeof e," ").concat(e)}function xKt(e,t){if(typeof t>"u")return t0;const n=bKt[e];return n&&n(t)||t0}function xB(e,t){return Object.assign(t,{type:e})}function wKt(e){return!Er(e)||e===null?[xB("returnValueError",new Error("Invalid return value. Expected a plain object with at least a 'title' field, instead saw ".concat(bB(e))))]:Object.entries(e).reduce((t,n)=>{let[r,o]=n;return[...t,...xKt(r,o)]},t0)}function CKt(e){return{...e,errors:[...e.errors||[],...wKt(e.returnValue)]}}function _Kt(e){return GAe(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:mKt(r)?gKt(r):r}},{})}function ZM(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r;const o=(r=e.preview)==null?void 0:r.prepare;try{return{returnValue:o?o(t,n):_Kt(t),errors:t0}}catch(i){return{returnValue:null,errors:[xB("prepareError",i)]}}}function sne(e,t,n){return e.errors.forEach(r=>KM.add(t,n,r)),yKt(),pKt}function SKt(e){const t=e.options&&typeof e.options=="object"?e.options:!1;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function EKt(e){return SKt(e)?e.options.list.map(n=>cF(n)?n:{title:n,value:n}):void 0}function n5(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,o;const i=typeof((r=t.preview)==null?void 0:r.prepare)=="function",s=((o=t.preview)==null?void 0:o.select)||{},c=Object.keys(s).reduce((f,p)=>{var m;const v="fields"in t?t:null,g=s[p],y=(m=v==null?void 0:v.fields)==null?void 0:m.find(b=>b.name===g),x=y&&EKt(y.type);if(!i&&x){const b=x&&x.find(w=>w.value===Un(e,s[p]));f[p]=b?b.value:Un(e,s[p])}else f[p]=Un(e,s[p]);return f},{}),u=ZM(t,c,n);if(u.errors.length>0)return sne(u,t,c);const d=CKt(ZM(t,c,n));return d.errors.length>0?sne(d,t,c):{...Et(e,vKt),...u.returnValue}}function _S(e,t){let n,r={},o=0;return function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return new gt(d=>{clearTimeout(n),n=setTimeout(i,t);const f={args:c,observer:d,completed:!1},p=o++;return r[p]=f,()=>{f.completed=!0}})};function i(){const s=r;r={};const a=Object.keys(s).filter(u=>{const d=s[u];return d&&!d.completed});if(a.length===0)return;const c=a.map(u=>{const d=s[u];return d&&d.args}).filter(mo);e(c).subscribe({next(u){u.forEach((d,f)=>{const p=s[a[f]];p&&!p.completed&&p.observer.next(u[f])})},complete(){a.forEach(u=>{const d=s[u];d&&!d.completed&&d.observer.complete()})},error(u){a.forEach(d=>{const f=s[d];f&&!f.completed&&f.observer.error(u)})}})}}const kKt=11164;function jKt(e){let t=[],n=0;const r=[];for(const o of e)n+o.length+1>=kKt&&(r.push(t),t=[],n=0),n+=o.length+1,t.push(o);return r.includes(t)||r.push(t),r}function TKt(e,t){return e.push(...t),e}function KAe(e,t){function n(s){const a=si(s),c=On(s);return Bo([r(a),r(c)]).pipe(Qn(zu),ue(u=>{let[d,f]=u;return{draft:d,published:f}}))}function r(s){return t({_ref:s},[["_rev"]]).pipe(ue(a=>wt(a)&&!!("_rev"in a&&(a!=null&&a._rev))),Qn(),it(a=>a?be(ine):o(s)))}const o=_S(function(a){const c=[...new Set(Dn(a))];return Sr(jKt(c)).pipe(ht(i,10),xCe(TKt,[]),ue(u=>a.map(d=>{let[f]=d;return u[c.indexOf(f)]})))},1);function i(s){return fo(()=>{const a={uri:e.getDataUrl("doc",s.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(a).pipe(ue(c=>{const u=r9(c.omitted||[],d=>d.id);return s.map(d=>{const f=u[d];if(!f)return ine;if(f.reason==="existence")return hKt;if(f.reason==="permission")return fKt;throw new Error('Unexpected reason for omission: "'.concat(f.reason,'"'))})}))})}return{observeDocumentPairAvailability:n}}function ane(e,t,n){return{...e,[t]:n}}function AKt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t=>new gt(n=>t.subscribe(n)).pipe(it(n=>{const r=GAe(n).map(o=>{const i=n[o];return Att(i)?Sr(i).pipe(ue(s=>[o,s])):be([o,i])});return e.wait?Bo(r).pipe(ue(o=>o.reduce((i,s)=>{let[a,c]=s;return ane(i,a,c)},{}))):Sr(r).pipe(Nj(),na((o,i)=>{let[s,a]=i;return ane(o,s,a)},{}))}))}function DKt(e){return e.reduce((t,n)=>(t[n]=void 0,t),{})}function IKt(e,t){return t.filter(n=>!(n[0]in e))}function PKt(e){return td(e)?e._ref:"_id"in e?e._id:void 0}function XM(e,t,n,r){if(!e||typeof e!="object")return be(e);const o=PKt(e),i=o?{...e,_id:o}:{...e};i._type==="reference"&&(delete i._type,delete i._ref,delete i._weak,delete i._dataset,delete i._projectId,delete i._strengthenOnPublish);const s=IKt(i,t);if(o&&s.length>0){const u=ho(s.map(f=>f[0])),d=mve(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(o,u,d).pipe(it(f=>f===null?be(null):XM({...DKt(u),...td(e)?{...e,...d}:e,...f},t,n,d)))}const a={};t.forEach(u=>{const[d,...f]=u;a[d]||(a[d]=[]),a[d].push(f)});const c=Object.keys(a).reduce((u,d)=>{const f=a[d].filter(p=>p.length>0);return f.length===0?u[d]=wt(e)?e[d]:void 0:u[d]=XM(e[d],f,n,r),u},i);return be(c).pipe(AKt({wait:!0}))}function OKt(e){return e.map(t=>typeof t=="string"?t.split("."):t)}function RKt(e){const{observeFields:t}=e;return{observePaths(n,r,o){return XM(n,OKt(r),t,o)}}}function $Kt(e){return Er(e)}function MKt(e){return Er(e)}function FKt(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function r(o,i,s,a){if(lF(i)){if(!mve(o))return be({snapshot:void 0});const u={projectId:o._projectId,dataset:o._dataset};return t(o._ref,u).pipe(it(d=>{if(d){const f=i.to.find(p=>p.type===d);return r(o,f,{},u)}return be({snapshot:void 0})}))}if(Tu(i))return MKt(o)?t(o._ref).pipe(it(u=>{if(u){const d=i.to.find(f=>f.name===u);return r(o,d)}return be({snapshot:void 0})})):be({snapshot:void 0});const c=vB(i.preview);return c?n(o,c,a).pipe(ue(u=>({type:i,snapshot:u&&n5(u,i,s)}))):be({type:i,snapshot:o&&$Kt(o)?ZM(i,o,s).returnValue:null})}}function LKt(e,t){const{observeDocumentPairAvailability:n}=KAe(e,t),r=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:o};function o(i,s){const{draftId:a,publishedId:c}=vAe(i);return n(a).pipe(it(u=>{if(!u.draft.available&&!u.published.available)return be({id:c,type:null,draft:{availability:u.draft,snapshot:void 0},published:{availability:u.published,snapshot:void 0}});const d=[...s,...r];return Bo([t({_type:"reference",_ref:a},d),t({_type:"reference",_ref:c},d)]).pipe(ue(f=>{let[p,m]=f;const v=wt(p)&&"_type"in p&&p._type||wt(m)&&"_type"in m&&m._type||null;return{id:c,type:typeof v=="string"?v:null,draft:{availability:u.draft,snapshot:p},published:{availability:u.published,snapshot:m}}}))}))}}function BKt(e){return B7t(e.reduce((t,n,r)=>{let[o,i]=n;const s=Cm(i.join(","),p_e).join(".");t[s]||(t[s]={fields:i,ids:[],map:[]});const a=t[s].ids.length;return t[s].ids[a]=o,t[s].map[a]=r,t},{}))}function NKt(e){return JSON.stringify(e)}const zKt=e=>yAe(e)?'"'.concat(e,'": @').concat(tB(e)):e;function VKt(e){let{ids:t,fields:n}=e;const r=[...qAe,...n];return"*[_id in [".concat(t.map(NKt).join(","),"]][0...").concat(t.length,"]{").concat(r.map(zKt).join(","),"}")}function HKt(e){return"[".concat(e.map(VKt).join(","),"][0...").concat(e.length,"]")}function UKt(e,t){return e.reduce((n,r,o)=>(t[o].map.forEach((s,a)=>{const c=t[o].ids[a],u=r.find(d=>d._id===c);n[s]=u||null}),n),[])}function WKt(e){return(t,n)=>t===n?!0:!t||!n||typeof t!="object"||typeof n!="object"?!1:e.every(r=>t[r]===n[r])}const YKt=e=>e;function qKt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:YKt,n,r;for(let o=0;o<e.length;o++){if(o===0){n=t(e[o]);continue}if(r=t(e[o]),n!==r)return!1;n=r}return!0}function GKt(e){const{observePaths:t,versionedClient:n}=e;let r;const o=()=>{if(!r){const w=Sr(n.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(ra()),C=w.pipe(mt(S=>S.type==="welcome"),jo({refCount:!0,bufferSize:1}));C.subscribe();const _=w.pipe(mt(S=>S.type==="mutation"));r={welcome$:C,mutations$:_}}return r};function i(w){const C=o();return on(C.welcome$,C.mutations$.pipe(mt(_=>_.documentId===w)))}function s(w){return function(_){const S=BKt(_);return w.observable.fetch(HKt(S),{},{tag:"preview.document-paths"}).pipe(ue(E=>UKt(E,S)))}}const a=_S(s(n),100),c=_S(s(n),1e3);function u(w,C){return i(w).pipe(it(_=>_.type==="welcome"||_.visibility==="query"?a(w,C).pipe(ht(S=>Hr(be(S),S===void 0?c(w,C):[]))):c(w,C)))}const d={},f=tT(function(C){const _=n.withConfig(C),S=s(_);return _S(S,10)},w=>w.dataset+w.projectId),p=1e4,m=Ii(document,"visibilitychange").pipe(ri(0),ue(()=>document.visibilityState==="visible"),it(w=>w?No(0,p):Zn),ra());function v(w,C,_){return m.pipe(ri(0)).pipe(it(()=>f(_)(w,C)))}function g(w,C,_){let S=null;const E=on(fo(()=>S===null?Zn:be(S)),_?v(w,C,_):u(w,C)).pipe(bn(j=>S=j),jo({refCount:!0,bufferSize:1}));return{id:w,fields:C,changes$:E}}function y(w,C,_){const S=_?"".concat(_.projectId,":").concat(_.dataset,":").concat(w):"$current$-".concat(w);S in d||(d[S]=[]);const E=d[S];zp(C,Dn(E.map(T=>T.fields))).length>0&&E.push(g(w,C,_));const k=E.filter(T=>T.fields.some(A=>C.includes(A))).map(T=>T.changes$);return Bo(k).pipe(ue(T=>T.filter(Boolean)),mt(T=>qKt(T,A=>A._rev)),ue(T=>T.length===0?null:x(T,C)),Qn(WKt(C)))}return{observeFields:y};function x(w,C){return[...dKt,...C].reduce((_,S)=>{const E=b(w,S);return E!==void 0&&(_[S]=E),_},{})}function b(w,C){let _;return w.some(S=>C in S?(_=S[C],!0):!1),_}}function KKt(e){let{client:t}=e;const n=t.withConfig({apiVersion:"1"}),r=(d,f,p)=>i(d,f,p),{observeFields:o}=GKt({observePaths:r,versionedClient:n}),{observePaths:i}=RKt({observeFields:o});function s(d,f){return i({_type:"reference",_ref:d},["_type"],f).pipe(ue(p=>wt(p)&&typeof p._type=="string"?p._type:void 0),Qn())}const a=FKt({observeDocumentTypeFromId:s,observePaths:i}),{observeDocumentPairAvailability:c}=KAe(n,i),{observePathsDocumentPair:u}=LKt(n,i);return{observePaths:i,observeForPreview:a,observeDocumentTypeFromId:s,unstable_observeDocumentPairAvailability:c,unstable_observePathsDocumentPair:u}}const ZKt=e=>!!(e.type&&e.type.name==="document"),XKt=e=>e.name.startsWith("sanity."),QKt=e=>e.getTypeNames().map(t=>e.get(t)).filter(mo).filter(t=>ZKt(t)).filter(t=>!XKt(t)),JKt=(e,t)=>{const{phrases:n,words:r}=oZt(e),[o,i]=nZt(n,t),[s,a]=rZt(r,t);return[o+s,[a,i].join(", ")]},eZt=e=>typeof e=="string"?e:JSON.stringify(e);function tZt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=r9(e,o=>o.typeName);return t.map((o,i)=>{var s;const c=(s=r[o._type].paths||[])==null?void 0:s.map((d,f)=>{const p=eZt(o["w".concat(f)]);if(!p)return{path:d.path,score:0,why:"No match"};const[m,v]=JKt(n,p);return{path:d.path,score:m*d.weight,why:"".concat(v," (*").concat(d.weight,")")}}),u=c.reduce((d,f)=>d+f.score,0);return{hit:o,resultIndex:t.length-i,score:u,stories:c}})}function nZt(e,t){const n=t.toLowerCase().trim();let r=0,o=0;return e.forEach(i=>{n.includes(i)&&(r+=i.length/n.length,o+=i.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,"[Phrase] Matched ".concat(o," of ").concat(n.length," characters")]}function rZt(e,t){const n=ho(yT(bSe(lv(t)))),r=$E(e,n),o=NEe(n,e),i=r.length/o.length;return i===1?[1,"[Word] Exact match"]:[i/2,"[Word] Matched ".concat(r.length," of ").concat(o.length," terms: [").concat(r.join(", "),"]")]}function oZt(e){const t=ho(e.map(lv)),[n,r]=U8(t,o=>/^".*"$/.test(o));return{phrases:ho(n).map(lv).map(iZt),words:ho(r.map(lv))}}function iZt(e){return e.replace(/^"(.*)"$/,"$1")}const sZt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,aZt=/(^[.]+)|([.]+$)/;function lZt(e){return(e.match(sZt)||[]).map(t=>t.replace(aZt,""))}const cZt=4,uZt=1e3,dZt=hTt([Dn,NEe,yT]);function lne(e,t){let n=!1;return{specs:e.map(o=>({typeName:o.name,paths:o.__experimental_search.map(i=>{const s=i.path.map(a=>typeof a=="number"&&(n=!0,t)?[]:a);return{weight:i.weight,path:KUt(s),mapWith:i.mapWith}})})),hasIndexedPaths:n}}const ZAe=e=>{let{mapWith:t,path:n}=e;return t?"".concat(t,"(").concat(n,")"):n};function fZt(e,t){const n=dZt(t.map(o=>(o.paths||[]).map(i=>ZAe(i))));return e.map((o,i)=>n.map(s=>"".concat(s," match $t").concat(i))).filter(o=>o.length>0).map(o=>"(".concat(o.join(" || "),")"))}function hZt(e){const t=[],n=e.replace(/("[^"]*")/g,i=>bSe(i).length>1?(t.push(i),""):i),r=t.map(i=>TTt(lv(i))),o=ho(yT(lZt(lv(n))));return[...r,...o]}function pZt(e){function t(n){return n.mapWith?"".concat(n.mapWith,"(").concat(n.field,")"):n.field}return(e||[]).map(n=>[t(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function XAe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n,r;const{filter:o,params:i,tag:s}=t,{specs:a,hasIndexedPaths:c}=lne(e.types,!1),u=hZt(e.query),d=c?lne(e.types,!0).specs:a,f=["_type in $__types",t.includeDrafts===!1&&"!(_id in path('drafts.**'))",...fZt(u,d),o?"(".concat(o,")"):"",e.filter?"(".concat(e.filter,")"):""].filter(Boolean),p=a.map(S=>{const E='_type == "'.concat(S.typeName,'" => '),j="{ ".concat(S.paths.map((k,T)=>'"w'.concat(T,'": ').concat(ZAe(k)))," }");return"".concat(E).concat(j)}),m=pZt((t==null?void 0:t.sort)||[{field:"_id",direction:"asc"}]),v=["_type","_id"],g=p.length>0?"...select(".concat(p.join(`,
`),")"):"",y=v.join(", ")+(g?", ".concat(g):"");let x="*[".concat(f.join(" && "),"]")+"| order(".concat(m,")")+"[$__offset...$__limit]"+"{".concat(y,"}");if(t!=null&&t.__unstable_extendedProjection){const S=t==null?void 0:t.__unstable_extendedProjection,E=v.concat(S).join(", ");x=["*[".concat(f.join(" && "),"]{").concat(E,"}"),"order(".concat(m,")[$__offset...$__limit]{").concat(y,"}")].join("|")}const b=["findability-mvi:".concat(cZt)].concat((t==null?void 0:t.comments)||[]).map(S=>"// ".concat(S)).join(`
`),w=b?"".concat(b,`
`).concat(x):x,C=(n=t==null?void 0:t.offset)!=null?n:0,_=((r=t==null?void 0:t.limit)!=null?r:uZt)+C;return{query:w,params:{...mZt(u),__types:a.map(S=>S.typeName),__limit:_,__offset:C,...i||{}},options:{tag:s},searchSpec:a,terms:u}}const mZt=e=>{const t={};return e.reduce((n,r,o)=>(n["t".concat(o)]="".concat(r,"*"),n),t)};function gZt(e,t){return typeof e=="string"?{query:e,types:t}:e.types.length?e:{...e,types:t}}function wB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=gZt(o,e),{query:a,params:c,options:u,searchSpec:d,terms:f}=XAe(s,{...n,...i});return t.observable.fetch(a,c,u).pipe(n.unique?ue(MUt):bn(),ue(p=>tZt(d,p,f)),i!=null&&i.skipSortByScore?bn():ue(p=>Cm(p,m=>-m.score)))}}const vZt={available:!0,reason:"READABLE"},cne={available:!1,reason:"PERMISSION_DENIED"},une={available:!1,reason:"NOT_FOUND"};function QAe(e,t,n){const{publishedId:r,draftId:o}=vAe(t);return e.unstable_observeDocumentPairAvailability(t).pipe(it(s=>{if(!s.draft.available&&!s.published.available){const d=s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?cne:une;return be({id:t,type:void 0,availability:d,preview:{draft:void 0,published:void 0}})}const a={_type:"reference",_ref:o},c={_type:"reference",_ref:r};return Bo([e.observeDocumentTypeFromId(o),e.observeDocumentTypeFromId(r)]).pipe(ue(d=>{let[f,p]=d;return f||p})).pipe(it(d=>{if(!d)return be({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const f=n.to.find(y=>y.name===d);if(!f)return be({id:t,type:d,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const p=[...vB(f==null?void 0:f.preview)||[],["_updatedAt"],["_createdAt"]],m=e.observePaths(a,p).pipe(ue(y=>y?{_id:o,...n5(y,f)}:void 0),ri(void 0)),v=e.observePaths(c,p).pipe(ue(y=>y?{_id:r,...n5(y,f)}:void 0),ri(void 0));return Bo([m,v]).pipe(ue(y=>{let[x,b]=y;return{draft:x,published:b}})).pipe(ue(y=>{const x=s.draft.available||s.published.available?vZt:s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?cne:une;return{type:d,id:r,availability:x,preview:{draft:wt(y.draft)?y.draft:void 0,published:wt(y.published)?y.published:void 0}}}))}))}))}function yZt(e){return e.filter(t=>!t.draft||!t.published).map(t=>t.draft?t.id:si(t.id))}function bZt(e,t){return t.length===0?be([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function JAe(e,t,n,r){return wB(n.to,e,r)(t,{includeDrafts:!0}).pipe(ue(i=>i.map(s=>s.hit)),ue(aA),ue(i=>i.slice(0,100)),ht(i=>bZt(e,yZt(i)).pipe(ue(s=>i.map(a=>{const c=si(a.id);return{id:a.id,type:a.type,draft:a.draft||s.includes(c)?{_id:c,_type:a.type}:void 0,published:a.published||s.includes(a.id)?{_id:a.id,_type:a.type}:void 0}})))))}function xZt(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}}}const Xp=Symbol.for("sanity.patch");function Zi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Xp,type:"setIfMissing",path:t,value:e}}function ef(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return{patchType:Xp,type:"insert",path:n,position:t,items:e}}function xt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Xp,type:"set",path:t,value:e}}function nt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{patchType:Xp,type:"unset",path:e}}function wZt(e,t){return{...e,path:[t,...e.path]}}class ft{static from(t){return t instanceof ft?t:new ft(Array.isArray(t)?Dn(t):[t])}constructor(t){this.patches=t}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ft.from([...Dn(n),...this.patches])}append(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ft.from([...this.patches,...Dn(n)])}prefixAll(t){return ft.from(this.patches.map(n=>wZt(n,t)))}}var dne=Object.freeze,CZt=Object.defineProperty,_Zt=(e,t)=>dne(CZt(e,"raw",{value:dne(t||e.slice())})),fne;const SZt={warning:"caution",error:"critical"},EZt=O(M)(fne||(fne=_Zt([`
  border-top: 1px solid var(--card-border-color);
`])));function Hc(e){const{children:t,status:n="warning",suffix:r,title:o,...i}=e;return l.jsxs(ee,{radius:2,tone:SZt[n],...i,"data-ui":"Alert",children:[l.jsxs(U,{padding:4,children:[l.jsx(M,{children:l.jsxs(L,{size:1,children:[n==="warning"&&l.jsx(Fr,{}),n==="error"&&l.jsx(aa,{})]})}),l.jsxs(M,{flex:1,marginLeft:3,children:[l.jsx(L,{size:1,weight:"semibold",children:o}),t&&l.jsx(M,{marginTop:3,children:t})]})]}),r&&l.jsx(EZt,{children:r})]})}function CB(e,t){const n=h.useRef(t||null);return h.useEffect(()=>{n.current=e},[e]),n.current}function Fi(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zu;const r=CB(e);h.useEffect(()=>{n(r,e)||t(r,e)},[t,e,r,n])}function eDe(e,t){h.useEffect(()=>{const n=r=>{const o=r.target;if(o instanceof HTMLElement){if(e.some(i=>{var s;return(s=i.current)==null?void 0:s.contains(o)}))return;t(r)}};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])}const tDe=h.createContext(null);function li(){const e=h.useContext(tDe);if(!e)throw new Error("FormBuilder: missing context value");return e}const kZt={constrainSize:!0,portal:!0,fallbackPlacements:["top","bottom"]};function _B(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=h.useCallback(u=>{const d=o(u);i(d)},[o,i]),c=ie.useCallback(()=>{a(t.of[0])},[t,a]);return n?l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:"This field is read-only"})}),children:l.jsx(Jt,{children:l.jsx(se,{icon:ko,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(Jt,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(se,{icon:ko,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(tn,{button:l.jsx(se,{icon:ko,mode:"ghost",text:"Add item…"}),id:s||"",menu:l.jsx(Bt,{children:t.of.map((u,d)=>{var f,p;const m=Tu(u)&&(u.to||[]).length===1&&u.to[0].icon,v=u.icon||((f=u.type)==null?void 0:f.icon)||m;return l.jsx(Ve,{text:u.title||((p=u.type)==null?void 0:p.name),onClick:()=>a(u),icon:v},d)})}),popover:kZt}),r]})}var hne=Object.freeze,jZt=Object.defineProperty,TZt=(e,t)=>hne(jZt(e,"raw",{value:hne(t||e.slice())})),pne;const AZt=e=>e==="error"?l.jsx(aa,{}):e==="warning"?l.jsx(Fr,{}):l.jsx(lm,{}),DZt=O(L)(e=>{let{theme:t}=e;return he(pne||(pne=TZt([`
    &[data-info] {
      color: `,`;
    }

    &[data-warning] {
      color: `,`;
    }

    &[data-error] {
      color: `,`;
    }
  `])),t.sanity.color.muted.primary.enabled.fg,t.sanity.color.muted.caution.enabled.fg,t.sanity.color.muted.critical.enabled.fg)});function nDe(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:o}=li().__internal.components;return t.length===0&&n.length===0?null:l.jsxs(oe,{space:1,children:[n.length>0&&n.map((i,s)=>{let{message:a,level:c}=i;return l.jsxs(U,{children:[l.jsx(M,{marginRight:2,marginBottom:s+1===n.length?0:2,children:l.jsx(DZt,{size:1,"data-error":c==="error"?"":void 0,"data-warning":c==="warning"?"":void 0,"data-info":c==="info"?"":void 0,children:AZt(c)})}),l.jsx(M,{children:l.jsx(L,{size:1,children:a||"Error"})})]},"validationItem-".concat(s))}),t.length>0&&l.jsxs(M,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&l.jsx(o,{markers:t})]})]})}function IZt(){return l.jsxs(L,{size:1,children:["This is a example custom marker, please implement ",l.jsx("code",{children:"renderCustomMarkers"})," function."]})}const SB=ie.createContext(null),Kw=h.memo(function(t){const n=h.useRef(t);n.current=t;const r=h.useCallback(p=>{var m,v,g;return(g=(v=(m=n.current)==null?void 0:m.transformPatches)==null?void 0:v.call(m,p))!=null?g:[]},[n]),o=h.useCallback(p=>{n.current.onChange(p)},[]),i=h.useCallback(p=>{n.current.onPathFocus(p)},[]),s=h.useCallback(p=>{n.current.onPathBlur(p)},[]),a=h.useCallback(p=>{n.current.onPathOpen(p)},[]),c=h.useCallback((p,m)=>{n.current.onSetPathCollapsed(p,m)},[]),u=h.useCallback((p,m)=>{n.current.onSetFieldSetCollapsed(p,m)},[]),d=h.useCallback((p,m)=>{n.current.onFieldGroupSelect(p,m)},[]),f=h.useMemo(()=>({transformPatches:r,onChange:o,onPathFocus:i,onPathBlur:s,onPathOpen:a,onSetPathCollapsed:c,onSetFieldSetCollapsed:u,onFieldGroupSelect:d}),[o,d,s,i,a,u,c,r]);return l.jsx(SB.Provider,{value:f,children:t.children})});function ha(){const e=h.useContext(SB);if(!e)throw new Error("Form context not provided");return e}function EB(e,t){return QM(e,t,new WeakSet)}function QM(e,t,n){if(e===t)return e;if(n.has(t)||e==null||t==null||typeof e!==typeof t)return t;if(Array.isArray(t)){n.add(t);let i=e.length===t.length;const s=[];for(let a=0;a<t.length;a++){const c=QM(e[a],t[a],n);c!==e[a]&&(i=!1),s[a]=c}return i?e:s}if(typeof t=="object"){n.add(t);const i=Object.keys(t);let s=Object.keys(e).length===i.length;const a={};for(const c of i){const u=QM(e[c],t[c],n);u!==e[c]&&(s=!1),a[c]=u}return s?e:a}return t}const rDe=h.createContext([]);function PZt(e){return l.jsx(rDe.Provider,{value:e.presence,children:e.children})}function OZt(){const e=h.useContext(rDe);if(!e)throw new Error("Form context not provided");return e}function Y0(e,t){const n=OZt(),r=h.useRef(n),o=EB(r.current,n.filter(i=>wi(e,i.path)&&(t||!yn(e,i.path))));return r.current=o,o}const oDe=h.createContext([]);function RZt(e){return l.jsx(oDe.Provider,{value:e.validation,children:e.children})}function $Zt(){const e=h.useContext(oDe);if(!e)throw new Error("Form context not provided");return e}function kB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=$Zt();return h.useMemo(()=>n.filter(r=>wi(e,r.path)&&(t||!yn(e,r.path))).map(r=>({message:r.item.message,level:r.level,path:r.path})),[t,e,n])}function MZt(e){const{action:t}=e,n=h.useCallback(()=>{t.onAction()},[t]),r=typeof t.disabled=="object"&&l.jsx(L,{size:1,children:t.disabled.reason});return l.jsx(Gw,{content:r,placement:"left",children:l.jsx(Ve,{disabled:!!t.disabled,fontSize:1,icon:t.icon,iconRight:t.iconRight||(t.selected?Js:void 0),onClick:n,padding:3,pressed:t.selected,space:3,text:t.title,tone:t.tone})})}const FZt={placement:"right",fallbackPlacements:["top","bottom"]};function LZt(e){const{group:t}=e;return t.expanded?l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:2,paddingBottom:1,children:l.jsx(Vt,{muted:!0,size:0,children:t.title})}),t.children.map((n,r)=>{var o;return l.jsx(JM,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})]}):l.jsx(I6,{fontSize:1,icon:t.icon,padding:3,popover:FZt,space:3,text:t.title,tone:t.tone,children:t.children.map((n,r)=>{var o;return l.jsx(JM,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})})}function JM(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return t.type==="divider"?l.jsx(Pr,{}):t.type==="group"?l.jsxs(l.Fragment,{children:[!n&&l.jsx(Pr,{}),l.jsx(LZt,{group:t})]}):l.jsxs(l.Fragment,{children:[r&&l.jsx(Pr,{}),l.jsx(MZt,{action:t})]})}const iDe={placement:"top"};function mne(e){return"renderAsButton"in e&&e.renderAsButton}const BZt=h.memo(function(t){const{nodes:n,onMenuOpenChange:r}=t,[o,i]=h.useState(!1),s=h.useCallback(()=>{r(!0),i(!0)},[r]),a=h.useCallback(()=>{r(!1),i(!1)},[r]),c=h.useMemo(()=>n.filter(mne),[n]),u=h.useMemo(()=>n.filter(p=>!mne(p)),[n]),d=h.useMemo(()=>{const p=u.length;if(p===0||p>1)return u;const m=u[0];return m.type==="group"?[{...m,expanded:!0}]:u},[u]),f=h.useMemo(()=>[...d.length?[{type:"group",children:d,icon:To,title:"Field actions"}]:[],...c],[c,d]);return l.jsx(l.Fragment,{children:f.map((p,m)=>l.jsx(NZt,{node:p,onOpen:s,onClose:a,open:o},m))})}),NZt=h.memo(function(t){const{node:n,onOpen:r,onClose:o,open:i}=t;return n.type==="divider"?l.jsx(ee,{borderLeft:!0,flex:"none"}):n.type==="action"?l.jsx(lh,{fontSize:1,icon:n.icon,label:i?void 0:n.title,mode:"bleed",onClick:n.onAction,padding:2,tooltip:iDe}):l.jsx(VZt,{node:n,onOpen:r,onClose:o,open:i})}),zZt={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function VZt(e){const{node:t,onOpen:n,onClose:r,open:o}=e;return l.jsx(tn,{button:l.jsx(lh,{fontSize:1,icon:t.icon,label:o?void 0:t.title,mode:"bleed",padding:2,tooltip:iDe}),id:h.useId(),menu:l.jsx(Bt,{children:t.children.map((i,s)=>{var a;return l.jsx(JM,{action:i,isFirst:s===0,prevIsGroup:((a=t.children[s-1])==null?void 0:a.type)==="group"},s)})}),onOpen:n,onClose:r,popover:zZt})}function sDe(e){return e.filter(Boolean).filter(t=>"hidden"in t?t.hidden!==!0:!0).map(t=>t.type==="group"?{...t,children:sDe(t.children)}:t)}const Zw=h.memo(function(t){const{actions:n,documentId:r,documentType:o,onActions:i,path:s,schemaType:a}=t,c=n.length,u=h.useRef(c),[d,f]=h.useState(()=>Array.from(new Array(c))),p=h.useRef(d),m=h.useCallback((v,g)=>{f(y=>{const x=[...y];return x[v]=g,x})},[]);return h.useEffect(()=>{p.current!==d&&(p.current=d,i(sDe(d)))},[d,i]),h.useEffect(()=>{if(u.current!==c){const v=Array.from(new Array(c));for(let g=0;g<c;g++)v[g]=p.current[g];u.current=c,f(v),p.current=v}},[c]),l.jsx(l.Fragment,{children:n.map((v,g)=>l.jsx(HZt,{action:v,index:g,documentId:r,documentType:o,path:s,schemaType:a,setFieldAction:m},g))})}),HZt=h.memo(function(t){const{action:n,documentId:r,documentType:o,index:i,path:s,schemaType:a,setFieldAction:c}=t,u=Mo(n.useAction({documentId:r,documentType:o,path:s,schemaType:a}));return h.useEffect(()=>{c(i,u)},[i,u,c]),null}),aDe=h.createContext(null);function jB(){const e=h.useContext(aDe);if(!e)throw new Error("UserColorManager: missing context value");return e}function UZt(e){const t=jB();return go(e?t.listen(e):ptt(),[e],t.get(null))}const WZt="purple",YZt=["green","red","gray"],qZt=t0e.filter(e=>!YZt.includes(e)),lDe=e=>{const t=e==="dark";return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},GZt=e=>{const{background:t,border:n,text:r}=lDe(e);return qZt.reduce((o,i)=>(o[i]={name:i,background:pe[i][t].hex,border:pe[i][n].hex,text:pe[i][r].hex,tints:pe[i]},o),{})},KZt=e=>{const{background:t,border:n,text:r}=lDe(e);return{name:"gray",background:pe.gray[t].hex,border:pe.gray[n].hex,text:pe.gray[r].hex,tints:pe.gray}};function ZZt(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:o}=e,i=n||GZt(o),s=t||KZt(o),a=r||WZt;if(!i.hasOwnProperty(a))throw new Error("'colors' must contain 'currentUserColor' (".concat(a,")"));const c=Object.keys(i),u=new Map,d=new Map,f=c.reduce((k,T)=>(k[T]=0,k),{}),p=new Map;let m;return e!=null&&e.userStore&&e.userStore.me.subscribe(k=>E(k?k.id:null)),{get:v,listen:y};function v(k){return k?i[g(k)]:s}function g(k){if(k===m)return a;const T=p.get(k);if(T)return T;const A=d.get(k);if(A&&(f[A]===0||!C()))return x(k,A);const D=j(k);return f[D]===0?x(k,D):x(k,_(A))}function y(k){let T=u.get(k);if(T)return T;const A=g(k);return T=S(k,A),u.set(k,T),T}function x(k,T){return p.set(k,T),d.set(k,T),f[T]++,T}function b(k,T){p.delete(k),f[T]--}function w(){return c.find(k=>f[k]===0)}function C(){return!!w()}function _(k){let T=1/0,A=[];return c.forEach(D=>{const I=f[D];I===T?A.push(D):I<T&&(T=I,A=[D])}),k&&A.includes(k)?k:A[0]}function S(k,T){return new gt(A=>{const D=i[T];return A.next(D),()=>{u.delete(k),b(k,T)}}).pipe(jo({refCount:!0}))}function E(k){m=k,f[a]+=k?1:-1}function j(k){let T=0;for(let A=0;A<k.length;A++)T=(T<<5)-T+k.charCodeAt(A)|0;return c[Math.abs(T)%c.length]}}function XZt(e){let{children:t,manager:n}=e;const{scheme:r}=Wc(),o=h.useMemo(()=>n||ZZt({scheme:r}),[n,r]);return l.jsx(aDe.Provider,{value:o,children:t})}const QZt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,JZt=/_key\s*==\s*['"](.*)['"]/;function xn(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Rr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function El(e,t){const n=t[0];if(!n)return e;const r=t.slice(1);if(wl(n))return El(Array.isArray(e)?e[n]:void 0,r);if(Rr(n))return El(Array.isArray(e)?e.find(o=>o._key===n._key):void 0,r);if(typeof n=="string")return El(wt(e)?e[n]:void 0,r);throw new Error("Unknown segment type ".concat(JSON.stringify(n)))}function eXt(e,t){return typeof t!="number"&&!Rr(t)?-1:typeof t=="number"?t:e.findIndex(n=>kl(n)&&n._key===t._key)}function tXt(e){const t=e.match(QZt);if(!t)throw new Error("Invalid path string");return t.map(nXt)}function nXt(e){return wl(e)?rXt(e):Rr(e)?oXt(e):Ep(e)?iXt(e):e}function rXt(e){return Number(e.replace(/[^\d]/g,""))}function oXt(e){const t=e.match(JZt);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function iXt(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}function cDe(e,t){return e.length!==t.length?!1:e.every((n,r)=>{const o=t[r];return Rr(n)&&Rr(o)?n._key===o._key:wl(n)?Number(n)===Number(o):Ep(n)&&Ep(o)?n[0]===o[0]&&n[1]===o[1]:n===o})}function uDe(e){return kl(e)?e._key:void 0}function e4(e){const t=uDe(e);return t?{_key:t}:void 0}function sXt(e){return typeof e=="object"&&e!==null&&Object.keys(e).length<=0}function dDe(e,t){return e.get((t==null?void 0:t.author)||null)}function Xw(e,t){const n=Array.isArray(t)?t:tXt(t);return aXt(e,n)}function aXt(e,t){const n=t4(e,t);if(n&&n.action!=="unchanged")return n.annotation||void 0}function t4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.length===0)return e;const r=t[0],o=t.slice(1);if(Ep(r))throw new Error("Index tuples are not supported in diff paths");if(wl(r)||Rr(r)){const s=wl(r)?"at index ".concat(r):"with key ".concat(r._key);if(e.type!=="array"){"Failed to get item ".concat(s," at path ").concat(xn(n)," (not an array)");return}const a=e.items.find(wl(r)?c=>c.toIndex===r:c=>lXt(c,r));if(!a){"Failed to get item ".concat(s," at path ").concat(xn(n)," (item missing)");return}return t4(a.diff,o,n.concat(r))}if(e.type!=="object"){"Failed to get property ".concat(r," at path ").concat(xn(n)," (not an object)");return}const i=e.fields[r];if(typeof i>"u"){"Failed to get property ".concat(r," at path ").concat(xn(n)," (field did not exist)");return}return t4(i,o,n.concat(r))}function lXt(e,t){const n=e.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===t}function hA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t(e,n)){if(e.type==="array"){cXt(e,t,n);return}if(e.type==="object"){uXt(e,t,n);return}e.type==="string"&&dXt(e,t,n)}}function cXt(e,t,n){e.action!=="unchanged"&&e.items.forEach(r=>{var o;const i=r.diff.type==="object"&&((o=r.diff.toValue)==null?void 0:o._key),s=i?{_key:i}:fXt(r);hA(r.diff,t,n.concat(s))})}function uXt(e,t,n){e.action!=="unchanged"&&Object.keys(e.fields).forEach(r=>{const o=e.fields[r];hA(o,t,n.concat(r))})}function dXt(e,t,n){e.action!=="unchanged"&&e.segments.forEach(r=>{hA(r,t,n)})}function fXt(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function fDe(e){const t=jB();return dDe(t,e)}function n0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=jB(),r=h.useMemo(()=>Xw(e,t),[e,t]);return h.useMemo(()=>dDe(n,r),[r,n])}function Xi(e){if("diff"in e){const{diff:t,path:n=[],...r}=e,o=Xw(t,n);return l.jsx(gne,{...r,annotations:o?[o]:[]})}return l.jsx(gne,{...e})}function gne(e){const{annotations:t,children:n,description:r="Changed",...o}=e;if(!t)return n;const i=l.jsxs(oe,{padding:3,space:2,children:[l.jsx(Vt,{size:1,style:{textTransform:"uppercase"},children:r}),l.jsx(oe,{space:2,children:t.map((s,a)=>l.jsx(hXt,{annotation:s},a))})]});return l.jsx(Ku,{zOffset:"paneFooter",children:l.jsx(at,{content:i,portal:!0,...o,children:n})})}function hXt(e){let{annotation:t}=e;const{author:n,timestamp:r}=t,[o]=r1(n),i=fDe(t),s=Xo(r,{minimal:!0});return l.jsxs(Gt,{space:2,children:[l.jsxs(U,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[l.jsx(Ua,{user:n}),l.jsx(Gt,{paddingLeft:2,children:l.jsx(L,{muted:!0,size:1,style:{color:i.text},children:o?o.displayName:"Loading…"})})]}),l.jsx(L,{as:"time",muted:!0,size:1,dateTime:r,children:s})]})}var vne=Object.freeze,pXt=Object.defineProperty,mXt=(e,t)=>vne(pXt(e,"raw",{value:vne(t||e.slice())})),yne;const gXt=O(ee)(yne||(yne=mXt([`
  --diff-card-radius: `,`;
  --diff-card-bg-color: `,`;

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[2])},e=>{let{theme:t}=e;return t.sanity.color.card.enabled.bg}),vXt=[],ji=h.forwardRef(function(t,n){const{annotation:r,as:o="div",children:i,className:s,diff:a,disableHoverEffect:c,path:u=vXt,style:d={},tooltip:f,...p}=t,m=h.useMemo(()=>r||Xw(a,u),[r,a,u]),v=fDe(m),g=l.jsx(gXt,{...p,as:o,className:s,"data-hover":c||!m?void 0:"",ref:n,radius:1,style:{...d,backgroundColor:v.background,color:v.text},children:i});return f&&m?l.jsx(Xi,{annotations:[m],description:f&&typeof f=="object"&&f.description,children:g}):g});var bne=Object.freeze,yXt=Object.defineProperty,hDe=(e,t)=>bne(yXt(e,"raw",{value:bne(t||e.slice())})),xne,wne;const TB=O.div(xne||(xne=hDe([`
  border-radius: `,`;
  padding: `,`;
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[2])},e=>{let{theme:t}=e;return ye(t.sanity.space[1])}),r5=O(L)(wne||(wne=hDe([`
  &:not([hidden]) {
    color: inherit;
  }
`])));function bXt(e){const{change:t,segment:n}=e;if(typeof n=="string")return l.jsx(M,{children:l.jsx(L,{title:n,size:1,weight:"semibold",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:o,toIndex:i,annotation:s}=n,a=typeof o>"u",c=typeof i>"u";if(a)return l.jsx(xXt,{annotation:s,change:t,toIndex:i});if(c)return l.jsx(wXt,{annotation:s,fromIndex:o});if(r&&typeof i<"u"&&typeof o<"u")return l.jsx(CXt,{annotation:s,fromIndex:o,toIndex:i});const u=(i||0)+1;return l.jsx(M,{padding:1,children:l.jsxs(L,{size:1,weight:"semibold",children:["#",u]})})}function xXt(e){const{annotation:t,change:n,toIndex:r=0}=e,o=r+1,i="Added in position ".concat(o),s=l.jsxs(l.Fragment,{children:["#",o]}),c=(n!=null&&n.diff?Xw(n.diff,[]):void 0)||t;return c?l.jsx(ji,{annotation:c,tooltip:{description:i},as:TB,children:l.jsx(r5,{size:1,weight:"semibold",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):l.jsx(L,{size:1,weight:"semibold",children:s})}function wXt(e){const{annotation:t,fromIndex:n=0}=e,r=n+1,o="Removed from position ".concat(r);return l.jsx(ji,{annotation:t||null,as:TB,tooltip:{description:o},children:l.jsxs(r5,{size:1,weight:"semibold",forwardedAs:"del",children:["#",r]})})}function CXt(e){const{annotation:t,fromIndex:n,toIndex:r}=e,o=r-n,i=o<0?"↑":"↓",s=Math.abs(o),a="Moved ".concat(s," position").concat(s===1?"":"s"," ").concat(o<0?"up":"down");return l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:1,children:l.jsxs(r5,{size:1,weight:"semibold",children:["#",r+1]})}),l.jsx(ji,{annotation:t,as:TB,tooltip:{description:a},children:l.jsxs(r5,{size:1,weight:"semibold",children:[i,Math.abs(o)]})})]})}function pDe(e){const{change:t,titlePath:n}=e;return l.jsx(A6,{maxLength:4,separator:l.jsx(L,{muted:!0,size:1,children:l.jsx(Rc,{})}),children:n.map((r,o)=>typeof r=="string"||!t||t.showIndex?l.jsx(bXt,{change:t,segment:r},o):null)})}function _Xt(e){return wt(e)&&typeof(e==null?void 0:e.then)=="function"}function SXt(e,t,n){const{currentUser:r,document:o,parent:i,value:s}=n,a=h.useRef(!1);return h.useMemo(()=>{let c=!1;if(typeof e=="boolean"||e===void 0)return e||!1;try{c=e({document:o,parent:i,value:s,currentUser:r})}catch(u){return console.error("An error occurred while running the callback from `".concat(t,"`: ").concat(u.message)),!1}return _Xt(c)&&!a.current?(console.warn("The `".concat(t,"` option is either a promise or a promise returning function. Async callbacks for `").concat(t,"` option is not currently supported.")),!1):(typeof c>"u"&&console.warn("The `".concat(t,"` option is or returned `undefined`. `").concat(t,"` should return a boolean.")),c)},[e,o,i,s,r,t])}const n4=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:o,value:i}=e,s=Mo(i),a=Uo();return SXt(t,n,{currentUser:a,document:r,parent:o,value:s})},Zu=h.createContext({path:[]});function r4(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(!(e===null||r==="undefined")){if(r!==n)return{message:"Value is ".concat(r,", expected ").concat(n),value:e};if(EXt(t)&&kXt(e))for(const o of t.fields){const i=r4(e[o.name],o.type);if(i)return i}}}function EXt(e){return e.jsonType==="object"}function kXt(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function jXt(e){return sF(e)?e._type:AXt(e)}function TXt(e,t){return e.action==="added"?{toType:Z1(t,e.toValue)}:e.action==="changed"?{fromType:Z1(t,e.fromValue),toType:Z1(t,e.toValue)}:e.action==="removed"?{fromType:Z1(t,e.fromValue)}:{toType:Z1(t,e.toValue)}}function Z1(e,t){const n=jXt(t),r=e.of.find(o=>o.name===n);return r||(e.of.length===1?e.of[0]:void 0)}function AXt(e){return Array.isArray(e)?"array":e===null?"null":typeof e}const q0=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],pA="",G0=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],DXt="↲",o5=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],IXt=" ",mDe="⁠";function PXt(e){return e.of.some(vDe)}const OXt=G0.map(e=>e[0]).concat(q0.map(e=>e[0])),RXt=G0.map(e=>e[1]).concat(q0.map(e=>e[1])),gDe=OXt.concat(RXt).concat(o5).concat(pA).concat(mDe),Cne=new RegExp("".concat(gDe.join("|")),"g"),$Xt=new RegExp("".concat(gDe.join("|"),`|
`),"g");function vDe(e){return e.jsonType==="object"&&e.name==="block"}function MXt(e){return Vf(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function _ne(e,t){return e.fields.children.items.filter(r=>r.diff.isChanged&&(r.diff.toValue===t||r.diff.fromValue===t)).map(r=>r.diff).map(r=>r)[0]}function o4(e,t){const n=e.find(o=>o.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(o=>o.name===t._type)||void 0}function AB(e){return e.decorators?$0(e.decorators,["value"],["asc"]):[]}function yDe(e,t){return AB(t).some(n=>n.value===e)}function Sne(e,t,n,r,o){return t?t.children.map(i=>{var s;let a=Ks(i)?(s=i.text)==null?void 0:s.replace(Cne,""):"";if(Ks(i)){const c=DB(e,i),u=c==null?void 0:c.fields.text;u&&u.toValue===i.text&&u.type==="string"&&u.action!=="unchanged"&&(a=u.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(Cne,"")).join(mDe)),i.marks&&i.marks.forEach(d=>{!!n[d]?a="".concat(n[d][0]).concat(a).concat(n[d][1]):r[d]&&(a="".concat(r[d][0]).concat(a).concat(r[d][1]))})}else a=o[i._key];return"".concat(pA).concat(a)}).join(""):""}function FXt(e,t){const n=e.action==="removed"?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const o={},i={},s={},a=o4(t.fields,{_key:"bogus",_type:"span"});a&&AB(a).forEach((g,y)=>{i[g.value]=G0[y]}),wDe(r.origin).forEach((g,y)=>{o[g._key]=q0[y]}),bDe(r.origin).forEach((g,y)=>{s[g._key]=o5[y]});const d=Sne(r.origin,r.fromValue,i,o,s),f=Sne(r.origin,r.toValue,i,o,s),p={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:f,marks:[]}]},m={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:d,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:p,fromValue:m,toValue:p,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:d,toValue:f,segments:LXt(d,f).map(g=>({...g,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:m.children[0],toValue:p.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:m.children,toValue:p.children}}}}throw new Error("Can not display this diff")}function LXt(e,t){const n=[],r=c9(Pw(e,t));let o=0,i=0;for(const[s,a]of r)switch(s){case jt:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Tn:n.push({type:"stringSegment",action:"removed",text:e.substring(o,o+a.length),annotation:null}),o+=a.length;break;case Gn:n.push({type:"stringSegment",action:"added",text:t.substring(i,i+a.length),annotation:null}),i+=a.length;break}return Dn(n.map(s=>{const a=[];if(s.text.length>1){const c=[...s.text.matchAll($Xt)];let u=-1;c.forEach(d=>{const f=d.index||0;f>u&&(a.push({...s,text:s.text.substring(u+1,f)}),a.push({...s,text:d[0]})),d===c[c.length-1]&&a.push({...s,text:s.text.substring(f+1)}),u=f}),c.length===0&&a.push(s)}else a.push(s);return a}))}function bDe(e){const t=[...e.toValue?e.toValue.children.filter(r=>r._type!=="span"):[]];return(e.fromValue?e.fromValue.children.filter(r=>r._type!=="span"):[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),$0(t,["_key"],["asc"])}function DB(e,t){const n=e.fields.children&&e.fields.children.action!=="unchanged"&&e.fields.children.type==="array"&&e.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===t._key:(r.diff.toValue&&r.diff.toValue._key)===t._key));if(n)return n.diff}function BXt(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&e.fields.markDefs.type==="array"&&((n=e.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===t||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===t)))==null?void 0:n.diff)||void 0}function xDe(e){return e&&Ht(Object.keys(e),["_key","_type"])||!1}function NXt(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function wDe(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),$0(t,["_key"],["asc"])}const zXt=[];function VXt(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:n==null?void 0:n.background,children:[l.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof t>"u"&&l.jsx("path",{d:"M4.07996 8.5H12.92",stroke:n==null?void 0:n.text,strokeWidth:"2"}),t&&l.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:n==null?void 0:n.text,strokeWidth:"2"})]})}function HXt(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{width:"38",height:"22",rx:"11",fill:t?n==null?void 0:n.border:n==null?void 0:n.background}),typeof t>"u"&&l.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),t&&l.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof t=="boolean"&&!t&&l.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const UXt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o}=t,{title:i,options:s}=n,a=(s==null?void 0:s.layout)==="checkbox"?VXt:HXt,c=n0(t,[]),u=o!=null;return l.jsxs(U,{align:"center",children:[l.jsx(Xi,{diff:t,children:l.jsxs(U,{align:"center",children:[l.jsx(a,{checked:r,color:c}),u&&l.jsxs(l.Fragment,{children:[l.jsx(M,{marginX:2,children:l.jsx(FB,{})}),l.jsx(a,{checked:o,color:c})]})]})}),u&&i&&l.jsx(M,{marginLeft:2,children:l.jsx(L,{size:1,weight:"semibold",children:i})})]})};var Ene=Object.freeze,WXt=Object.defineProperty,YXt=(e,t)=>Ene(WXt(e,"raw",{value:Ene(t||e.slice())})),kne;const qXt="YYYY-MM-DD",GXt="HH:mm",KXt=O.div(kne||(kne=YXt([`
  display: inline-block;
  word-wrap: break-word;
`]))),ZXt=function(t){let{value:n,schemaType:r}=t;return l.jsx(M,{as:KXt,paddingX:2,paddingY:1,children:XXt(n,r)})};function XXt(e,t){const{options:n,name:r}=t,o=(n==null?void 0:n.dateFormat)||qXt,i=(n==null?void 0:n.timeFormat)||GXt;return OT(new Date(e),r==="date"?o:"".concat(o," ").concat(i))}const jne=e=>{let{diff:t,schemaType:n}=e;return l.jsx(Qw,{align:"center",diff:t,layout:"grid",previewComponent:ZXt,schemaType:n})},CDe=h.createContext(null);function mA(){const e=h.useContext(CDe);if(!e)throw new Error("DocumentChange: missing context value");return e}function Tne(e){const[t,n]=h.useState(void 0),r=pr(an);return h.useEffect(()=>{if(!e)return;const o=r.observable.getDocument(e).subscribe(n);return()=>{o.unsubscribe()}},[r,e]),e?t:void 0}function QXt(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}var Ane=Object.freeze,JXt=Object.defineProperty,eQt=(e,t)=>Ane(JXt(e,"raw",{value:Ane(t||e.slice())})),Dne;const tQt=O.div(Dne||(Dne=eQt([`
  `,`
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`])),e=>{let{theme:t}=e;return`
    --size-diff-positive: `.concat(t.sanity.color.solid.positive.enabled.bg,`;
    --size-diff-negative: `).concat(t.sanity.color.solid.critical.enabled.bg,`;
  `)}),nQt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o,fields:i}=t,s=r==null?void 0:r.asset,a=o==null?void 0:o.asset,c=Tne(s==null?void 0:s._ref),u=Tne(a==null?void 0:a._ref),d=Object.entries(i).filter(S=>{let[E,j]=S;return j.isChanged&&E!=="_type"}).map(S=>{let[E]=S;return E}),f=d.includes("asset"),p=n.fields.filter(S=>S.name!=="asset"&&d.includes(S.name)).map(S=>S.name),m=(c==null?void 0:c.size)&&c.size/1e3/1e3,v=(u==null?void 0:u.size)&&u.size/1e3/1e3,g=QXt(m,v),y=m?m.toFixed(2):void 0,x=v?v.toFixed(2):void 0,b=h.useMemo(()=>({display:"block",flex:1}),[]),w=c&&l.jsx(ji,{as:"del",diff:t,path:"asset._ref",style:b,children:l.jsx(c4,{title:c.originalFilename||"Untitled",icon:Ef,children:l.jsx(L,{size:0,style:{color:"inherit"},children:"".concat(y,"MB")})})}),C=u&&l.jsx(ji,{as:"ins",diff:t,path:"asset._ref",style:b,children:l.jsx(c4,{title:u.originalFilename||"Untitled",icon:Ef,children:l.jsxs(U,{align:"center",children:[l.jsx(L,{size:0,style:{color:"inherit"},children:"".concat(x,"MB")}),g!==0&&l.jsx(ee,{radius:2,padding:1,as:tQt,marginLeft:2,children:l.jsxs(L,{size:0,"data-number":g>0?"positive":"negative",children:[g>0&&"+",g,"%"]})})]})})}),_=l.jsxs(l.Fragment,{children:[w&&!C&&l.jsx(Xi,{diff:t,path:"asset._ref",description:"Removed",children:w}),w&&C&&l.jsx(Xi,{diff:t,path:"asset._ref",children:l.jsx(LB,{from:w,layout:"grid",to:C})}),!w&&C&&l.jsx(Xi,{diff:t,path:"asset._ref",description:"Added",children:C})]});return l.jsxs(l.Fragment,{children:[f&&_,p.length>0&&l.jsx(M,{marginTop:f?4:3,children:l.jsx(Jw,{diff:t,schemaType:n,fields:p})})]})};function Ine(e,t){const n=(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(r=>parseInt(r,16)).concat(t);return"rgba(".concat(n.join(", "),")")}function rQt(e){let t=0;if(e.length==0)return t.toString();for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t.toString()}function oQt(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function iQt(e){const{crop:t,diff:n,hash:r,hotspot:o,width:i=100,height:s=100,...a}=e,c=n0(n,"crop"),u=n0(n,"hotspot");return l.jsxs("svg",{...a,fill:"none",width:i,height:s,viewBox:"0 0 ".concat(i," ").concat(s),children:[l.jsx("defs",{children:t&&o&&l.jsxs("mask",{id:"mask-hotspot-".concat(r),children:[l.jsx("rect",{x:0,y:0,width:i,height:s,fill:"#fff"}),l.jsx(Pne,{hotspot:o,fill:"#000",offset:1,width:i,height:s,stroke:"#000",strokeWidth:3})]})}),t&&l.jsx(Xi,{diff:n,path:"crop",description:"Crop changed",children:l.jsx("g",{children:l.jsx(sQt,{crop:t,fill:Ine(c.border,.25),mask:o?"url(#mask-hotspot-".concat(r,")"):void 0,stroke:c.border,strokeWidth:1,width:i,height:s})})}),o&&l.jsx(Xi,{diff:n,path:"hotspot",description:"Hotspot changed",children:l.jsx("g",{children:l.jsx(Pne,{hotspot:o,fill:Ine(u.border,.25),stroke:u.border,strokeWidth:1,width:i,height:s})})})]})}function sQt(e){let{crop:t,width:n,height:r,...o}=e;const i={x:t.left*n,y:t.top*r,width:(1-t.right-t.left)*n,height:(1-t.bottom-t.top)*r};return l.jsx("rect",{...o,...i,style:{vectorEffect:"non-scaling-stroke"}})}function Pne(e){let{hotspot:t,offset:n=0,width:r,height:o,...i}=e;const s={cx:t.x*r,cy:t.y*o,rx:t.width/2*r+n,ry:t.height/2*o+n};return l.jsx("ellipse",{...i,...s,style:{vectorEffect:"non-scaling-stroke"}})}var One=Object.freeze,aQt=Object.defineProperty,IB=(e,t)=>One(aQt(e,"raw",{value:One(t||e.slice())})),Rne,$ne,Mne;const lQt=["originalFilename"],Fne=()=>l.jsx(ee,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:l.jsx(U,{align:"center",justify:"center",height:"fill",children:l.jsx(L,{size:1,muted:!0,children:"(no image)"})})}),cQt=O.div(Rne||(Rne=IB([`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: `,`;
  background-image: linear-gradient(45deg, `,` 25%, transparent 25%),
    linear-gradient(-45deg, `,` 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, `,` 75%),
    linear-gradient(-45deg, transparent 75%, `,` 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`])),pe.gray[100].hex,pe.gray[50].hex,pe.gray[50].hex,pe.gray[50].hex,pe.gray[50].hex),uQt=O.img($ne||($ne=IB([`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`]))),dQt=O.div(Mne||(Mne=IB([`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`])));function mO(e){var t,n,r,o;const{id:i,action:s,diff:a,hotspot:c,crop:u,is:d}=e,f=pr(an),[p,m]=ie.useState(),{value:v}=sxn(i,lQt),g=tjt(i),y=h.useMemo(()=>vT(f),[f]),x=v===null,b=v&&v.originalFilename||"Untitled",w=y.image(i).height(190).dpr(oQt()).fit("max"),C=((n=(t=a.fromValue)==null?void 0:t.asset)==null?void 0:n._ref)!==((o=(r=a.toValue)==null?void 0:r.asset)==null?void 0:o._ref),_=s==="changed"?void 0:s;return l.jsxs(U,{direction:"column",height:"fill",flex:1,children:[l.jsx(M,{flex:1,padding:2,paddingBottom:0,children:l.jsxs(U,{as:cQt,direction:"column","data-changed":d==="from"&&C?"":void 0,"data-error":p?"":void 0,children:[!x&&!p&&l.jsx(uQt,{src:w.toString()||"",alt:b,"data-action":_,onError:m,width:g.width,height:g.height}),(x||p)&&l.jsx(M,{paddingY:5,children:l.jsx(L,{size:1,muted:!0,align:"center",children:x?"Image is deleted":"Error loading image"})}),l.jsx(dQt,{children:l.jsx(iQt,{crop:u&&!z5t(u)?u:void 0,diff:a,hash:rQt("".concat(w.toString()||"","-").concat(d)),hotspot:c&&!V5t(c)?c:void 0,width:g.width,height:g.height})})]})}),l.jsx(c4,{title:b,icon:Tl,markRemoved:C&&d==="from",children:_?l.jsx("div",{children:_}):l.jsxs("div",{children:[g.width," × ",g.height]})})]})}const fQt=["crop","hotspot"],hQt=["asset",...fQt],gO={flex:1},pQt=e=>{let{diff:t,schemaType:n}=e;var r,o;const{fromValue:i,toValue:s,fields:a,isChanged:c}=t,u=(r=i==null?void 0:i.asset)==null?void 0:r._ref,d=(o=s==null?void 0:s.asset)==null?void 0:o._ref,f=Xw(t,["asset","_ref"]),p=Object.keys(a).filter(j=>a[j].isChanged&&j!=="_type"),m=n.fields.filter(j=>!hQt.includes(j.name)&&p.includes(j.name)).map(j=>j.name);let v="changed";!u&&d?v="added":!d&&u&&(v="removed");const g=p.includes("asset"),y=p.includes("crop"),x=p.includes("hotspot"),b=y||x,w=g||b,C=b&&!g,_=i&&u?l.jsx(ji,{annotation:f,style:gO,children:l.jsx(mO,{is:"from",id:u,diff:t,action:v,hotspot:C&&x?i.hotspot:void 0,crop:C&&y?i.crop:void 0})}):l.jsx(Fne,{}),S=s&&d?l.jsx(ji,{annotation:f,style:gO,children:l.jsx(mO,{is:"to",id:d,diff:t,hotspot:C&&x?s.hotspot:void 0,crop:C&&y?s.crop:void 0})}):l.jsx(Fne,{});if(!_&&!S)return l.jsx(ee,{padding:4,radius:2,tone:"transparent",children:l.jsx(L,{muted:!0,size:1,align:"center",children:"Image not set"})});if(!c)return d?l.jsx(ji,{annotation:f,style:gO,children:l.jsx(mO,{id:d,is:"to",diff:t})}):null;const E=l.jsx(LB,{align:"center",from:_,layout:"grid",to:S});return l.jsxs(l.Fragment,{children:[w&&(g?l.jsx(Xi,{annotations:f?[f]:[],description:"".concat(v[0].toUpperCase()).concat(v.slice(1)),children:E}):E),m.length>0&&l.jsx(M,{marginTop:w?4:3,children:l.jsx(Jw,{diff:t,schemaType:n,fields:m})})]})};var Lne=Object.freeze,mQt=Object.defineProperty,gQt=(e,t)=>Lne(mQt(e,"raw",{value:Lne(t||e.slice())})),Bne;const vQt=O.div(Bne||(Bne=gQt([`
  display: inline-block;
  word-break: break-all;
`]))),yQt=e=>{const{value:t}=e;return l.jsx(M,{as:vQt,paddingX:2,paddingY:1,children:t})},bQt=e=>{let{diff:t,schemaType:n}=e;return l.jsx(Qw,{diff:t,schemaType:n,previewComponent:yQt,layout:"inline"})};var Nne=Object.freeze,xQt=Object.defineProperty,wQt=(e,t)=>Nne(xQt(e,"raw",{value:Nne(t||e.slice())})),zne;const CQt=O.blockquote(zne||(zne=wQt([`
  margin: 0;
`])));function _Qt(e){let{children:t}=e;return l.jsx("div",{children:l.jsx(CQt,{children:t})})}var Vne=Object.freeze,SQt=Object.defineProperty,EQt=(e,t)=>Vne(SQt(e,"raw",{value:Vne(t||e.slice())})),Hne;const kQt={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},jQt=O(Vo)(Hne||(Hne=EQt([`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`])));function TQt(e){let{style:t,children:n}=e;return l.jsx(jQt,{size:kQt[t],children:n})}var Une=Object.freeze,AQt=Object.defineProperty,DQt=(e,t)=>Une(AQt(e,"raw",{value:Une(t||e.slice())})),Wne;const IQt=O.div(Wne||(Wne=DQt([`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`])));function PQt(e){let{children:t}=e;return l.jsx(IQt,{children:t})}const OQt=[];function RQt(e){var t,n,r;const{diff:o,block:i,children:s}=e,a=n0(o,OQt),{path:c}=h.useContext(Zu),{onSetFocus:u}=h.useContext(Im),d=o.action==="removed";let f=s;const p=h.useCallback(v=>{v.stopPropagation(),d||u(c)},[c,d,u]);i.style==="blockquote"?f=l.jsx(_Qt,{children:f}):i.style&&MXt(i)?f=l.jsx(TQt,{style:i.style,children:f}):f=l.jsx(PQt,{children:f});let m;if(o.origin.action==="changed"&&o.origin.fields.style&&o.origin.fields.style.action==="changed"&&o.origin.fields.style.annotation){m=(n=(t=o==null?void 0:o.origin)==null?void 0:t.fromValue)==null?void 0:n.style;const v=a?{background:a.background,color:a.text}:{};f=l.jsx(ee,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:l.jsxs(oe,{space:2,children:[l.jsx(Xi,{annotations:[(r=o.origin.fields.style)==null?void 0:r.annotation],diff:o.origin.fields.style,children:l.jsxs(L,{size:0,children:["Changed block style from '",m,"' to '",i.style,"'"]})}),l.jsx(M,{style:v,children:f})]})})}return l.jsx("div",{onClick:p,"data-diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:f})}var Yne=Object.freeze,$Qt=Object.defineProperty,gA=(e,t)=>Yne($Qt(e,"raw",{value:Yne(t||e.slice())})),qne,Gne,Kne,Zne;const K0=O(M)(qne||(qne=gA([`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`]))),_De=O(L)(Gne||(Gne=gA([`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`]))),PB=O(M)(Kne||(Kne=gA([`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    `,` [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`])),K0),SDe=O(M)(Zne||(Zne=gA([`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`])));var Xne=Object.freeze,MQt=Object.defineProperty,FQt=(e,t)=>Xne(MQt(e,"raw",{value:Xne(t||e.slice())})),Qne;const i4=O.div(Qne||(Qne=FQt([`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover `,` {
    opacity: 1;
  }
`])),PB);function LQt(e){let{children:t,diff:n,object:r,schemaType:o,path:i,...s}=e;return o?n&&n.action!=="unchanged"?l.jsx(BQt,{...s,diff:n,object:r,schemaType:o,path:i,children:t}):l.jsx(i4,{children:t}):l.jsx(i4,{...s,children:"Unknown schema type"})}function BQt(e){let{diff:t,children:n,object:r,schemaType:o,path:i,...s}=e;const{onSetFocus:a}=h.useContext(Im),{path:c}=h.useContext(Zu),[u,d]=h.useState(null),f=n0(t,[]),p=h.useMemo(()=>f?{background:f.background,color:f.text}:{},[f]),m=t.action==="removed",[v,g]=h.useState(!1),y=r&&xDe(r),x=h.useMemo(()=>[i[0]].concat(["markDefs",{_key:r._key}]),[r._key,i]),b=h.useMemo(()=>c.slice(0,c.findIndex(I=>Rr(I)&&I._key===r._key)),[c,r._key]),w=h.useMemo(()=>b.concat(i),[i,b]),C=h.useMemo(()=>b.concat(x),[x,b]),_="field-".concat(Br(C)),S=Q7(),E=h.useMemo(()=>S.filter(I=>{let[P]=I;return P.startsWith(_)}).length>0,[_,S]);h.useEffect(()=>{!v&&E&&(g(!0),a(C))},[E,C,a,v]);const j=h.useCallback(I=>{I.stopPropagation(),g(!0),m||(I.preventDefault(),a(w),setTimeout(()=>a(C),10))},[w,m,C,a]),k=h.useCallback(()=>{E||g(!1)},[E]);ur(k,[u]);const T=t.action!=="unchanged"&&t.annotation||null,A=h.useMemo(()=>T?[T]:[],[T]),D=l.jsx(Zu.Provider,{value:{path:C},children:l.jsx(SDe,{padding:3,children:l.jsxs("div",{children:[y&&l.jsxs(Vt,{size:1,muted:!0,children:["Empty ",o.title]}),!y&&l.jsx(Jw,{diff:t,schemaType:o})]})})});return l.jsx(i4,{...s,onClick:j,style:p,"data-changed":"","data-removed":t.action==="removed"?"":void 0,children:l.jsx(en,{content:D,open:v,ref:d,portal:!0,children:l.jsx(PB,{paddingLeft:1,children:l.jsx(Xi,{annotations:A,description:"".concat(t.action," annotation"),children:l.jsxs(K0,{style:{display:"inline-flex"},children:[l.jsx("span",{children:n}),l.jsx(U,{align:"center",paddingX:1,children:l.jsx(_De,{size:0,children:l.jsx(Za,{})})})]})})})})})}var Jne=Object.freeze,NQt=Object.defineProperty,zQt=(e,t)=>Jne(NQt(e,"raw",{value:Jne(t||e.slice())})),ere;const VQt=O.span(ere||(ere=zQt([`
  display: inline;
  `,`
`])),e=>{let{theme:t,decoration:n}=e;switch(n){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: `.concat(t.sanity.fonts.code.family,`;
          background: `).concat(t.sanity.color.muted.default.enabled.bg,`;
        `);default:return""}});function HQt(e){let{mark:t,children:n}=e;return l.jsx(VQt,{decoration:t,children:n})}var tre=Object.freeze,UQt=Object.defineProperty,WQt=(e,t)=>tre(UQt(e,"raw",{value:tre(t||e.slice())})),nre;const s4=O(ee)(nre||(nre=WQt([`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    `,` {
      display: inline-flex;
    }
  }
`])),K0);function YQt(e){let{diff:t,object:n,schemaType:r,...o}=e;return r?t?l.jsx(qQt,{...o,diff:t,object:n,schemaType:r}):l.jsx(s4,{children:l.jsx(iC,{schemaType:r,value:n,layout:"inline"})}):l.jsxs(s4,{...o,border:!0,radius:1,children:["Unknown schema type: ",n._type]})}function qQt(e){let{diff:t,object:n,path:r,schemaType:o,...i}=e;const{path:s}=h.useContext(Zu),{onSetFocus:a}=h.useContext(Im),c=n0(t,[]),u=h.useMemo(()=>c?{background:c.background,color:c.text}:{},[c]),[d,f]=h.useState(!1),p=n&&xDe(n),m=t.action==="removed",g=s.slice(0,s.findIndex(k=>Rr(k)&&k._key===n._key)).concat(r),y="field-".concat(Br(g)),b=Q7().filter(k=>{let[T]=k;return T.startsWith(y)}).length>0,w=s.slice(0,-1).concat(r).concat([Dve]);h.useEffect(()=>{b&&(f(!0),a(w))},[w,b,a]);const C=h.useCallback(k=>{if(k.stopPropagation(),f(!0),!m){a(w);return}k.preventDefault()},[w,m,a]),_=h.useCallback(()=>{f(!1)},[]),S=l.jsx(Zu.Provider,{value:{path:g},children:l.jsx(GQt,{diff:t,emptyObject:p,onClose:_,schemaType:o})}),E=t.action!=="unchanged"&&t.annotation||null,j=E?[E]:[];return l.jsx(s4,{...i,onClick:C,style:u,"data-removed":t.action==="removed"?"":void 0,border:!0,radius:2,children:l.jsx(en,{content:S,open:d,portal:!0,children:l.jsx(PB,{children:l.jsx(Xi,{annotations:j,description:"".concat(t.action," inline object"),children:l.jsxs(K0,{children:[l.jsx(iC,{schemaType:o,value:n,layout:"inline"}),l.jsx(U,{align:"center",paddingX:1,children:l.jsx(_De,{size:0,children:l.jsx(Za,{})})})]})})})})})}function GQt(e){let{diff:t,emptyObject:n,onClose:r,schemaType:o}=e;const[i,s]=h.useState(null),a=h.useCallback(()=>{r()},[r]);return ur(a,[i]),l.jsxs(SDe,{ref:s,padding:3,children:[n&&l.jsxs(Vt,{size:1,muted:!0,children:["Empty ",o.title]}),!n&&l.jsx(Jw,{diff:t,schemaType:o})]})}function KQt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const a=t||n;return a&&a.action!=="unchanged"&&i.action!=="unchanged"?l.jsx(ZQt,{...s,childDiff:n,diff:t,segment:i,path:o,children:r}):l.jsx(K0,{children:r})}function ZQt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const{onSetFocus:a}=ie.useContext(Im),{path:c}=ie.useContext(Zu),u=h.useMemo(()=>o.slice(-2,1)[0],[o]),d=t&&t.action==="removed",p=c.slice(0,c.findIndex(b=>Rr(b)&&Rr(u)&&b._key===u._key)).concat(o),m=h.useCallback(b=>{b.stopPropagation(),d||(b.preventDefault(),a(p))},[p,d,a]),g=t&&t.segments.find(b=>b.text===i.text)||t||n,y=g&&g.action!=="unchanged"&&g.annotation||null,x=y&&i.action!=="unchanged"?l.jsx(ji,{annotation:y,as:i.action==="removed"?"del":"ins",tooltip:{description:"".concat(un(i.action)," text")},children:r}):null;return l.jsx(K0,{...s,onClick:m,"data-changed":"",children:l.jsx("span",{children:l.jsx(l.Fragment,{children:x||r})})})}const OB=G0.map(e=>e[0]),RB=G0.map(e=>e[1]),SS=q0.map(e=>e[0]),a4=q0.map(e=>e[1]),XQt=OB.concat(SS),EDe=RB.concat(a4),QQt=OB.concat(RB),JQt=new RegExp("".concat(QQt.concat(EDe).join("|")),"g");function eJt(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,o=h.useMemo(()=>t.origin.toValue?bDe(t.origin):[],[t.origin]),i=h.useCallback(s=>{const a=o4(n.fields,s);let c=[];if(a){c=AB(a);const u=t.fields.children,d=u.items[0].diff&&u.items[0].diff.type==="object"&&u.items[0].diff.fields.text.type==="string"&&u.items[0].diff.fields.text.segments||[],f=[],p={};if(rJt(r,t)&&(t.origin.action==="added"||t.origin.action==="removed")){const b=_ne(t.origin,r.children[0])||t.origin;if(b&&b.action!=="unchanged")return l.jsx(ji,{annotation:b.annotation,as:b.action==="removed"?"del":"ins",tooltip:{description:"".concat(un(b.action)," empty text")},children:l.jsx("span",{children:DXt})},"empty-block-".concat(r._key))}let m=-1,v=-1;const g=[];let y;const x=wDe(t.origin);return d.forEach(b=>{var w,C,_;v++;const S=o5.includes(b.text),E=XQt.includes(b.text),j=EDe.includes(b.text),k=b.text===pA,T=b.action==="removed";if(k)T||m++;else if(E||j){if(E&&SS.includes(b.text)){const A=x[SS.indexOf(b.text)];A&&g.push({mark:A._key,symbols:[b.text,a4[SS.indexOf(b.text)]],object:A})}j&&a4.includes(b.text)&&(y=g.pop())}else if(S){const A=o5.findIndex(P=>P===b.text),D=(w=o[A])==null?void 0:w._key,I=o[A];if(D){const P=o4(n.fields,I),$=_ne(t.origin,I);f.push(l.jsx(YQt,{object:I,path:[{_key:r._key},"children",{_key:I._key}],diff:$,schemaType:P},"inline-object-".concat(I._key)))}}else if(b.text){const A=()=>{var R;return(R=t.origin.fromValue)==null?void 0:R.children.find(V=>V.text&&V.text.match(NXt(b.text)))},D=r.children[m]||A(),I=D&&DB(t.origin,D);if(!D)throw new Error("Could not find child");const P=(C=I==null?void 0:I.fields)!=null&&C.text?(_=I==null?void 0:I.fields)==null?void 0:_.text:void 0,$=l.jsx(KQt,{diff:P,path:[{_key:r._key},"children",{_key:D._key}],childDiff:I,segment:b,children:tJt({diff:t,child:D,decoratorTypes:c,seg:b,segIndex:v,spanSchemaType:a})},"text-".concat(D._key,"-").concat(v));if(g.length>0&&g.forEach(R=>{p[R.mark]=p[R.mark]||[],p[R.mark].push($)}),y){const R="annotation-".concat(y.object._key),V=f[f.length-1];if(V&&V.key!==R){const N=BXt(t.origin,y.mark),W=y&&a.annotations&&a.annotations.find(G=>y&&y.object&&G.name===y.object._type);f.push(l.jsx(LQt,{object:y.object,diff:N,path:[{_key:r._key},"children",{_key:D._key}],schemaType:W,children:l.jsx(l.Fragment,{children:p[y.mark]})},R))}y=void 0}g.length===0&&f.push($)}}),ie.createElement("div",{key:r._key},...f)}throw new Error("'span' schemaType not found")},[r,t,o,n]);return l.jsx(RQt,{block:t.displayValue,diff:t,children:l.jsx(l.Fragment,{children:(t.displayValue.children||[]).map(s=>i(s))})})}function tJt(e){let{diff:t,child:n,decoratorTypes:r,seg:o,segIndex:i,spanSchemaType:s}=e;if(o.text===`
`)return l.jsx("br",{});let a=l.jsx("span",{children:o.text.replace(/ /g,IXt)},"text-".concat(i));const c=n&&DB(t.origin,n),u=Ks(n)?n.marks||[]:[];return c&&(a=nJt({activeMarks:u,decoratorTypes:r,diff:t,children:a,seg:o,segIndex:i,spanDiff:c,spanSchemaType:s})),u&&u.length>0&&u.forEach(d=>{yDe(d,s)&&(a=l.jsx(HQt,{mark:d,children:a},"decorator-".concat(d,"-").concat(n._key,"-").concat(i)))}),a}function nJt(e){let{activeMarks:t,decoratorTypes:n,diff:r,children:o,seg:i,segIndex:s,spanDiff:a,spanSchemaType:c}=e;var u;let d=l.jsx("span",{children:o},"text-segment-".concat(s));const f=r.origin.fromValue&&r.fromValue&&r.fromValue.children[0].text||"",p=a&&a.action!=="unchanged"&&a.annotation||void 0,m=(u=a==null?void 0:a.fields)==null?void 0:u.marks,v=m&&m.action!=="unchanged"&&m.annotation||p;let g=[];const x=f.split(pA).filter(S=>!!S).join(""),b=x.substring(0,x.indexOf(i.text)+i.text.length),w=b.substring(0,b.indexOf(i.text)),C=[];return[...w.matchAll(JQt)].forEach(S=>{var E;const j=S[0],k=G0.concat(q0).find(T=>T.indexOf(j)>-1);if(k){const T=j===k[0],A=((E=n[T?OB.indexOf(j):RB.indexOf(j)])==null?void 0:E.value)||j;w.lastIndexOf(j)>w.lastIndexOf(k[1])&&C.push(A)}}),g=KLt(t,ho(C)),v&&g.length>0&&g.some(S=>yDe(S,c))&&(d=l.jsx(ji,{annotation:v,as:"ins",tooltip:{description:"Changed formatting"},children:d},"diffcard-annotation-".concat(s,"-").concat(g.join("-")))),d}function rJt(e,t){return e.children.length===1&&e.children[0]._type==="span"&&typeof e.children[0].text=="string"&&e.children[0].text===""&&t.origin.action!=="unchanged"}const oJt=e=>{const{diff:t,schemaType:n}=e,r=h.useMemo(()=>FXt(t,n),[t,n]);return l.jsx("div",{"data-diff-action":t.action,children:l.jsx(eJt,{diff:r,schemaType:n})})};var rre=Object.freeze,iJt=Object.defineProperty,sJt=(e,t)=>rre(iJt(e,"raw",{value:rre(t||e.slice())})),ore;const aJt=O.div(ore||(ore=sJt([`
  word-wrap: break-word;
`]))),lJt=e=>{let{value:t,schemaType:n}=e;return l.jsx(M,{as:aJt,padding:2,children:l.jsx(iC,{schemaType:n,value:t,layout:"default"})})},cJt=e=>{let{diff:t,schemaType:n}=e;return l.jsx(Qw,{align:"center",diff:t,layout:"grid",path:"_ref",previewComponent:lJt,schemaType:n})};var ire=Object.freeze,uJt=Object.defineProperty,dJt=(e,t)=>ire(uJt(e,"raw",{value:ire(t||e.slice())})),sre;const fJt=O.div(sre||(sre=dJt([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`]))),hJt=e=>{const{value:t}=e;return l.jsx(M,{as:fJt,paddingX:2,paddingY:1,children:t})};var are=Object.freeze,pJt=Object.defineProperty,mJt=(e,t)=>are(pJt(e,"raw",{value:are(t||e.slice())})),lre;const gJt=O.div(lre||(lre=mJt([`
  white-space: pre-wrap;
  word-wrap: break-word;
`]))),vJt=e=>{let{diff:t,schemaType:n}=e;const{options:r}=n;return r!=null&&r.list?l.jsx(Qw,{diff:t,previewComponent:hJt,schemaType:n}):l.jsx(gJt,{children:l.jsx(cen,{diff:t})})},cre={block:oJt,boolean:{component:UXt,showHeader:!1},date:jne,datetime:jne,file:nQt,image:pQt,number:bQt,reference:cJt,string:vJt};function kDe(e,t){var n;let r=e;for(;r;){const s=((n=r==null?void 0:r.components)==null?void 0:n.diff)||yJt(r,t)||cre[r.name];if(s)return s;r=r.type}const i=["date","datetime"].includes(e.name)?e.name:e.jsonType;return cre[i]}function yJt(e,t){const n=zXt;let r;for(const o of n){if(typeof o!="function"){console.error("Diff component resolver is not a function: ",o);continue}if(r=o({schemaType:e,parentSchemaType:t}),r)return r}}function bJt(e){const t=ure(e.fromValue),n=ure(e.toValue);return!t&&n?"Added":!n&&t?"Removed":"Changed"}function jDe(e){return e.type==="field"}function ure(e){return e!==null&&typeof e<"u"&&e!==""}function $B(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!kDe(e,o.parentSchema)){if(e.jsonType==="object"&&t.type==="object")return TDe(e,t,n,r,o);if(e.jsonType==="array"&&t.type==="array")return CJt(e,t,n,r)}return ADe(e,t,n,r,o)}function TDe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=[],s={...o,parentSchema:e},a=e.fieldsets||e.fields.map(c=>({single:!0,field:c}));for(const c of a)c.single?i.push(...xJt(c.field,t,n,r,s)):i.push(...wJt(c,t,n,r,s));return i.length<2?i:[{type:"group",key:xn(n)||"root",path:n,titlePath:r,changes:MB(i,r.length),schemaType:e}]}function xJt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fieldFilter:i,...s}=o,a=t.fields[e.name];if(!a||!a.isChanged||i&&!i.includes(e.name))return[];const c=n.concat([e.name]),u=r.concat([e.type.title||e.name]);return $B(e.type,a,c,u,s)}function wJt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fields:i,name:s,title:a,readOnly:c,hidden:u}=e,{fieldFilter:d,...f}=o,p=u,m=c,v=r.concat([a||s]),g=[];for(const y of i){const x=t.fields[y.name];if(!x||!x.isChanged||d&&!d.includes(y.name))continue;const b=n.concat([y.name]),w=v.concat([y.type.title||y.name]);g.push(...$B({readOnly:m,hidden:p,...y.type},x,b,w,f))}return g.length<2?g:[{type:"group",key:xn(n)||"root",fieldsetName:s,path:n,titlePath:v,changes:MB(g,v.length),readOnly:m,hidden:p}]}function CJt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const o=t.items.filter(c=>c.hasMoved&&c.fromIndex!==c.toIndex||c.diff.action!=="unchanged");if(o.length===0)return[];const i=PXt(e),s=[],a=o.reduce((c,u)=>{const d=TXt(u.diff,e),f=d.toType||d.fromType;if(!f)return console.warn("Could not determine schema type for item at %s",xn(n)),c;const p=e4(u.diff.fromValue)||e4(u.diff.toValue)||t.items.indexOf(u),m=n.concat(p),v={itemDiff:u,parentDiff:t,parentSchema:e},g=r.concat({hasMoved:u.hasMoved,toIndex:u.toIndex,fromIndex:u.fromIndex,annotation:u.diff.action==="unchanged"?u.annotation:u.diff.annotation}),y=b=>(b.type==="field"&&cDe(m,b.path)&&(b.itemDiff=u),b),x=$B(f,u.diff,m,g,v).map(y);return i&&x.filter(jDe).forEach((b,w,C)=>{b.showHeader=C.length===1,b.showIndex=u.fromIndex!==u.toIndex&&u.hasMoved}),x.length===0?c.push(...ADe(f,u.diff,m,g,v)):c.push(...x),c},s);return a.length>1?[{type:"group",key:xn(n)||"root",path:n,titlePath:r,changes:MB(a,r.length),schemaType:e}]:a}function ADe(e,t,n,r){let{itemDiff:o,parentDiff:i,parentSchema:s}=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fromValue:a,toValue:c,type:u}=t;if(u==="array"&&dre(a)&&dre(c))return[];let d;typeof a<"u"&&(d=r4(a,e)),!d&&typeof c<"u"&&(d=r4(c,e));let f=!0,p;const m=kDe(e,s);return m&&typeof m=="function"?p=m:m&&(p=m.component,f=typeof m.showHeader>"u"?f:m.showHeader),[{type:"field",diff:t,path:n,error:d,itemDiff:o,parentDiff:i,titlePath:r,schemaType:e,showHeader:f,showIndex:!0,key:xn(n)||"root",diffComponent:d?void 0:p,parentSchema:s}]}function MB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return e.map(n=>(n.titlePath=n.titlePath.slice(t),n))}function dre(e){return Array.isArray(e)&&e.length===0||e===null||typeof e>"u"}const fre=e=>e.type==="field"&&e.diff.action==="added",DDe=e=>{if(e.type!=="group")return[e];const t=[];return e.changes.forEach(n=>{t.push(...DDe(n))}),t},IDe=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},_Jt=(e,t)=>{const n=e[t],r=uDe(n);return r?{_key:r}:Array.isArray(e)?parseInt(t,10):t},SJt={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function vA(e,t,n){if(!t)return;const r=[];if(e.type==="group"){const o=DDe(e),i=o.filter(fre);o.filter(s=>!fre(s)).forEach(s=>vA(s,t,n)),r.push(...hre(t,i.map(s=>s.path).reverse()))}else e.diff.action==="added"?r.push(...hre(t,[e.path])):e.type==="field"&&e.itemDiff&&e.parentDiff&&e.parentDiff.type==="array"&&e.itemDiff.hasMoved?r.push(...kJt(e.itemDiff,e.parentDiff,e.path)):r.push(...jJt(e.diff,t,e.path));n.patch.execute(r)}function EJt(e,t,n){const r=e.toValue;return PDe(r,t,n)}function hre(e,t){const n=[];for(let r=0;r<t.length;r++)n.some(i=>IDe(t[r],i))||n.push(EJt(e,t[r],t));return[{unset:[...new Set(n.map(xn))]}]}function PDe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(t.length<=0){if(!r)throw new Error("Root has no ancestor");return r}const o=t.slice(0,-1),i=El(e,o),s=[o,...n.filter(a=>!IDe(a,o))];return ODe(i,o,n)?PDe(e,o,s,r):t}function kJt(e,t,n){const r=n.slice(0,-1),{parentValue:o,fromIndex:i,fromValue:s}=DJt(t,e);let a;if(i===0)a={before:xn([...r,0])};else{const c=i-1,d=e4(o[c])||c;a={after:xn([...r,d])}}return[{unset:[xn(n)]},{insert:{...a,items:[s]}}]}function jJt(e,t,n){const r=YT(e.toValue,e.fromValue,SJt,n),o=r.filter(d=>d.op==="insert").map(d=>{let{after:f,items:p}=d;return{insert:{after:xn(f),items:p}}}),i=r.filter(d=>d.op==="unset").reduce((d,f)=>d.concat(xn(f.path)),[]),s=new Set,a=[];let c=!1;const u=r.filter(d=>d.op==="set").reduce((d,f)=>(c=!0,a.push(...TJt(f.path,t,s)),d[xn(f.path)]=f.value,d),{});return[...a,...o,...i.length>0?[{unset:i}]:[],...c?[{set:u}]:[]]}function TJt(e,t,n){const r=t.fromValue,o=t.toValue,i=[];for(let s=1;s<=e.length;s++){const a=e.slice(0,s),c=xn(a);if(n.has(c))continue;const u=e[s],d=Rr(u)||wl(u),f=El(r,a),p=pre(f);if(d&&Array.isArray(f)&&!El(o,e.slice(0,s+1))){const m=eXt(f,u),v=f[m-1],g=El(r,a.concat(u)),y=kl(v)?{_key:v._key}:m-1,x=xn(a.concat(m<1?0:y));i.push({setIfMissing:{[c]:[]}}),i.push({insert:{after:x,items:[pre(g)]}}),s++;continue}typeof p>"u"||(n.add(c),i.push({setIfMissing:{[c]:p}}))}return i}function AJt(e,t,n){if(!wt(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||r==="_type"||r==="_key")continue;const o=[...t,_Jt(e,r)];if(!ODe(e[r],o,n))return!1}return!0}function ODe(e,t,n){const r=n==null?void 0:n.some(i=>xn(i)===xn(t)),o=Array.isArray(e)&&e.length<=0;return r||e===void 0||e===null||o||sXt(e)||AJt(e,t,n)}function pre(e){if(Array.isArray(e))return[];if(typeof e!="object"||e===null)return;const t={};return kl(e)&&(t._key=e._key),sF(e)&&(t._type=e._type),t}function DJt(e,t){if(e.fromValue&&typeof t.fromIndex=="number"){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error("Failed to find item at index ".concat(t.fromIndex))}const Uc=!1;class IJt extends ie.Component{constructor(){super(...arguments),this.state={}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t){console.error("Error rendering diff component: "),console.error(t)}render(){const{error:t}=this.state;return t?l.jsx(ee,{padding:3,radius:2,tone:"critical",children:l.jsxs(U,{children:[l.jsx(L,{size:1,children:l.jsx(aa,{})}),l.jsxs(M,{paddingLeft:3,children:[l.jsx(L,{as:"h3",size:1,weight:"medium",children:"Rendering the changes to this field caused an error"}),Uc]})]})}):this.props.children}}const PJt={down:n0e,right:r0e};function FB(e){const{direction:t="right",...n}=e,r=PJt[t];return l.jsx(L,{muted:!0,size:1,...n,children:h.createElement(r)})}var mre=Object.freeze,OJt=Object.defineProperty,RDe=(e,t)=>mre(OJt(e,"raw",{value:mre(t||e.slice())})),gre,vre;const vO=O.pre(gre||(gre=RDe([`
  overflow-x: auto;
  position: relative;
`]))),RJt=O.div(vre||(vre=RDe([`
  position: absolute;
  top: 0;
  right: 0;
`])));function $Jt(e){const{children:t,as:n,change:r,...o}=e,i=h.useRef(!1),[s,a]=h.useState(!1),c=h.useCallback(()=>a(f=>!f),[a]),u=h.useCallback(()=>i.current=!0,[]),d=h.useCallback(()=>i.current=!1,[i]);return h.useEffect(()=>{function f(p){const{metaKey:m,key:v}=p;m&&v==="i"&&i.current&&c()}return window.addEventListener("keydown",f,!1),()=>window.removeEventListener("keydown",f,!1)},[c]),l.jsx(M,{as:n,onMouseEnter:u,onMouseLeave:d,...o,children:s?l.jsx(MJt,{change:r}):t})}const yO=e=>{let{title:t}=e;return l.jsx(M,{padding:3,display:"inline-block",as:RJt,children:l.jsx(Vt,{size:1,muted:!0,children:t})})};function MJt(e){let{change:t}=e;var n,r,o;return l.jsxs(oe,{space:3,children:[l.jsxs(ee,{padding:3,tone:"transparent",as:vO,radius:1,children:[l.jsx(yO,{title:"meta"}),l.jsx(ar,{language:"json",size:1,children:FJt({path:xn(t.path),fromIndex:(n=t.itemDiff)==null?void 0:n.fromIndex,toIndex:(r=t.itemDiff)==null?void 0:r.toIndex,hasMoved:(o=t.itemDiff)==null?void 0:o.hasMoved,action:t.diff.action,isChanged:t.diff.isChanged})})]}),l.jsxs(ee,{as:vO,tone:"critical",padding:3,radius:1,children:[l.jsx(yO,{title:"from"}),l.jsx(ar,{language:"json",size:1,children:yre(t.diff.fromValue)})]}),l.jsx(ee,{children:l.jsx(FB,{direction:"down",align:"center"})}),l.jsxs(ee,{as:vO,tone:"positive",padding:3,radius:1,children:[l.jsx(yO,{title:"to"}),l.jsx(ar,{language:"json",size:1,children:yre(t.diff.toValue)})]})]})}function yre(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function FJt(e){const t=[];return Object.entries(e).forEach(n=>{let[r,o]=n;typeof o<"u"&&o!==null&&t.push("".concat(r,": ").concat(o))}),t.join(`
`)}const LJt={flexShrink:0},BJt={alignItems:"stretch"},bre={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},LB=h.forwardRef(function(t,n){const{align:r="top",layout:o="inline",from:i,to:s,style:a,...c}=t,u=As(),d=o==="inline"?U:Jt,f=h.useMemo(()=>({...a,...o==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:"minmax(0, 1fr) ".concat(ye(u.sanity.space[5])," minmax(0, 1fr)")}}),[o,a,u]),p=o==="inline"?LJt:BJt;return l.jsxs(d,{...c,ref:n,style:f,"data-from-to-layout":!0,children:[i&&l.jsxs(l.Fragment,{children:[l.jsx(U,{align:bre[r],style:p,children:i}),l.jsx(U,{align:"center",justify:"center",padding:2,children:l.jsx(FB,{})})]}),l.jsx(U,{align:bre[r],style:p,children:s})]})}),bO={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function Qw(e){const{align:t,cardClassName:n,diff:r,layout:o,path:i,previewComponent:s,schemaType:a}=e,{action:c}=r,u=bJt(r);if(c==="unchanged")return l.jsx(ji,{className:n,style:bO,children:h.createElement(s,{schemaType:a,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&l.jsx(ji,{as:"del",className:n,diff:r,path:i,style:bO,children:h.createElement(s,{schemaType:a,value:r.fromValue})}),f=r.toValue!==void 0&&r.toValue!==null&&l.jsx(ji,{as:"ins",className:n,diff:r,path:i,style:bO,children:h.createElement(s,{schemaType:a,value:r.toValue})});return d&&!f?l.jsx(Xi,{description:u,diff:r,path:i,children:d}):!d&&f?l.jsx(Xi,{description:u,diff:r,path:i,children:f}):l.jsx(Xi,{description:u,diff:r,path:i,children:l.jsx(LB,{align:t,from:d,layout:o,to:f})})}const NJt=e=>{let{value:t,schemaType:n}=e;return l.jsx(M,{padding:2,children:l.jsx(iC,{schemaType:n,value:t,layout:"default"})})},zJt=e=>{const{diff:t,schemaType:n}=e;return l.jsx(Qw,{diff:t,schemaType:n,previewComponent:NJt,layout:"grid"})};var xre=Object.freeze,VJt=Object.defineProperty,HJt=(e,t)=>xre(VJt(e,"raw",{value:xre(t||e.slice())})),wre;const UJt=O(se)(wre||(wre=HJt([`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: `,`;
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),$De=h.forwardRef(function(t,n){const{selected:r,...o}=t;return l.jsx(UJt,{icon:$F,selected:r,text:"Revert changes",mode:"bleed",padding:1,fontSize:1,space:2,ref:n,...o})});function WJt(e){let{error:t}=e;return l.jsx(ee,{tone:"critical",padding:3,children:l.jsxs(U,{align:"flex-start",children:[l.jsx(M,{children:l.jsx(L,{children:l.jsx(aa,{})})}),l.jsx(M,{flex:1,paddingLeft:3,children:l.jsxs(L,{size:1,as:"p",children:["Value error: ",t.message]})})]})})}var Cre=Object.freeze,YJt=Object.defineProperty,BB=(e,t)=>Cre(YJt(e,"raw",{value:Cre(t||e.slice())})),_re,Sre,Ere;const qJt=O.div(_re||(_re=BB([`
  --field-change-error: `,`;
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),GJt=O.div(Sre||(Sre=BB([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ye(t.sanity.space[1])},e=>{let{theme:t}=e;return ye(t.sanity.space[2])}),KJt=O(en)(Ere||(Ere=BB([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function ZJt(e){var t;const{change:n,hidden:r,readOnly:o}=e,i=n.diffComponent||zJt,{documentId:s,schemaType:a,rootDiff:c,isComparingCurrent:u,FieldWrapper:d=ie.Fragment}=mA(),f=ql(s,a.name),[p,m]=h.useState(!1),[v,g]=h.useState(!1),[y,x]=h.useState(null),[b,w]=fh({id:s,type:a.name,permission:"update"}),C=h.useCallback(()=>{vA(n,c,f)},[n,c,f]),_=h.useCallback(()=>{m(!0)},[]),S=ie.useCallback(()=>{m(!1)},[]),E=h.useCallback(()=>{g(!0)},[]),j=h.useCallback(()=>{g(!1)},[]),k=h.useCallback(()=>m(!1),[]);ur(k,[y]);const A=((t=n.parentSchema)==null?void 0:t.jsonType)==="array"?n.path.slice(0,-1):n.path;return h.useMemo(()=>r?null:l.jsxs(oe,{space:1,as:qJt,children:[n.showHeader&&l.jsx(pDe,{change:n,titlePath:n.titlePath}),l.jsx(d,{path:A,hasHover:v,children:l.jsxs($Jt,{change:n,as:GJt,"data-revert-field-hover":v?"":void 0,"data-error":n.error?"":void 0,"data-revert-all-hover":!0,children:[n.error?l.jsx(WJt,{error:n.error}):l.jsx(IJt,{children:l.jsx(Zu.Provider,{value:{path:n.path},children:l.jsx(i,{diff:n.diff,schemaType:n.schemaType})})}),u&&!w&&(b==null?void 0:b.granted)&&l.jsx(KJt,{content:l.jsxs(M,{padding:3,sizing:"border",children:["Are you sure you want to revert the changes?",l.jsxs(Jt,{columns:2,gap:2,marginTop:2,children:[l.jsx(se,{mode:"ghost",onClick:S,children:l.jsx(L,{align:"center",children:"Cancel"})}),l.jsx(se,{tone:"critical",onClick:C,children:l.jsx(L,{align:"center",children:"Revert change"})})]})]}),open:p,portal:!0,placement:"left",ref:x,children:l.jsx(M,{flex:1,children:l.jsx($De,{onClick:_,onMouseEnter:E,onMouseLeave:j,selected:p,disabled:o,"data-testid":"single-change-revert-button-".concat(n==null?void 0:n.key)})})})]})})]}),[n,S,o,p,i,d,r,E,j,C,_,u,w,b,v,A])}function XJt(){const e=h.useRef(null),[t,n]=h.useState(!1);return h.useEffect(()=>{const r=e.current;if(!r)return()=>{};const o=()=>n(!0),i=()=>n(!1);return r.addEventListener("mouseover",o),r.addEventListener("mouseout",i),()=>{r.removeEventListener("mouseover",o),r.removeEventListener("mouseout",i)}},[]),[e,t]}var kre=Object.freeze,QJt=Object.defineProperty,NB=(e,t)=>kre(QJt(e,"raw",{value:kre(t||e.slice())})),jre,Tre,Are;const JJt=O.div(jre||(jre=NB([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),een=O.div(Tre||(Tre=NB([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ye(t.sanity.space[1])},e=>{let{theme:t}=e;return ye(t.sanity.space[2])}),ten=O(en)(Are||(Are=NB([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function nen(e){const{change:t,readOnly:n,hidden:r,...o}=e,{titlePath:i,changes:s,path:a}=t,{path:c}=h.useContext(Zu),{documentId:u,schemaType:d,FieldWrapper:f,rootDiff:p,isComparingCurrent:m}=mA(),v=s.every(I=>jDe(I)&&vDe(I.schemaType)),g=cDe(c,a),[y,x]=XJt(),b=ql(u,d.name),[w,C]=h.useState(!1),[_,S]=h.useState(null),[E,j]=fh({id:u,type:d.name,permission:"update"}),k=h.useCallback(()=>vA(t,p,b),[t,p,b]),T=h.useCallback(()=>{C(!0)},[]),A=h.useCallback(()=>{C(!1)},[]);ur(()=>C(!1),[_]);const D=h.useMemo(()=>r?null:l.jsxs(oe,{space:1,as:een,"data-revert-group-hover":x?"":void 0,"data-portable-text":v?"":void 0,children:[l.jsx(oe,{as:JJt,space:5,children:s.map(I=>l.jsx(MDe,{change:I,readOnly:n,hidden:r},I.key))}),m&&!j&&(E==null?void 0:E.granted)&&l.jsx(ten,{content:l.jsxs(M,{children:["Are you sure you want to revert the changes?",l.jsxs(Jt,{columns:2,gap:2,marginTop:2,children:[l.jsx(se,{mode:"ghost",onClick:A,children:l.jsx(L,{align:"center",children:"Cancel"})}),l.jsx(se,{tone:"critical",onClick:k,children:l.jsx(L,{align:"center",children:"Revert change"})})]})]}),portal:!0,padding:4,placement:"left",open:w,ref:S,children:l.jsx(M,{children:l.jsx($De,{onClick:T,ref:y,selected:w,disabled:n,"data-testid":"group-change-revert-button-".concat(t.fieldsetName)})})})]}),[s,A,w,n,t.fieldsetName,k,T,r,m,x,j,v,E,y]);return r?null:l.jsxs(oe,{space:1,...o,children:[l.jsx(pDe,{titlePath:i}),g||!f?D:l.jsx(f,{hasHover:x,path:t.path,children:D})]})}function MDe(e){var t,n;const{change:r,hidden:o,readOnly:i}=e,{value:s}=mA(),a=n4({document:s,checkProperty:o||((t=r.schemaType)==null?void 0:t.hidden),checkPropertyKey:"hidden",value:r.type==="field"?r.diff.toValue:void 0}),c=n4({document:s,checkProperty:i||((n=r.schemaType)==null?void 0:n.readOnly),checkPropertyKey:"readOnly",value:r.type==="field"?r.diff.toValue:void 0});return a?null:r.type==="field"?l.jsx(ZJt,{change:r,readOnly:c}):r.type==="group"?l.jsx(nen,{change:r,"data-testid":"group-change-".concat(r.fieldsetName),readOnly:c}):l.jsxs(L,{children:["Unknown change type: ",l.jsx("code",{children:r.type||"undefined"})]})}function l4(){return l.jsxs(oe,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",as:"h3",children:"There are no changes"}),l.jsx(L,{as:"p",size:1,muted:!0,children:"Edit the document or select an older version in the timeline to see a list of changes appear in this panel."})]})}var Dre=Object.freeze,ren=Object.defineProperty,FDe=(e,t)=>Dre(ren(e,"raw",{value:Dre(t||e.slice())})),Ire,Pre;const oen=O.div(Ire||(Ire=FDe([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),ien=O(en)(Pre||(Pre=FDe([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function Jw(e){let{diff:t,fields:n,schemaType:r}=e;const{documentId:o,isComparingCurrent:i,value:s}=mA(),a=ql(o,r.name),{path:c}=h.useContext(Zu),u=c.length===0,[d,f]=h.useState(!1),[p,m]=h.useState(!1),v=n4({document:s,value:void 0,checkProperty:r.readOnly,checkPropertyKey:"readOnly"});if(r.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[g,y]=fh({id:o,type:r.name,permission:"update"}),x=h.useMemo(()=>TDe(r,t,c,[],{fieldFilter:n}),[r,n,c,t]),b=h.useMemo(()=>n&&n.length===0?[]:sen(x),[x,n]),w=x[0],C=h.useCallback(()=>{vA(w,t,a),f(!1)},[w,t,a]),_=h.useCallback(()=>{f(!0)},[]),S=h.useCallback(()=>{m(!0)},[]),E=h.useCallback(()=>{m(!1)},[]),j=h.useCallback(()=>{f(!1)},[]),[k,T]=h.useState(null),A=h.useCallback(()=>f(!1),[]);if(ur(A,[k]),b.length===0)return u?l.jsx(l4,{}):null;const D=u&&b.length>1;return l.jsx(ee,{children:l.jsxs(oe,{space:5,children:[l.jsx(oe,{as:oen,space:5,children:b.map(I=>l.jsx("div",{children:l.jsx(MDe,{change:I,"data-revert-all-changes-hover":p?"":void 0,readOnly:v||(I==null?void 0:I.readOnly),hidden:I==null?void 0:I.hidden},I.key)},I.key))}),D&&i&&!y&&(g==null?void 0:g.granted)&&l.jsx(ien,{content:l.jsxs(M,{children:["Are you sure you want to revert all ",b.length," changes?",l.jsxs(Jt,{columns:2,gap:2,marginTop:2,children:[l.jsx(se,{mode:"ghost",text:"Cancel",onClick:j}),l.jsx(se,{tone:"critical",text:"Revert all",onClick:C})]})]}),open:d,padding:4,placement:"left",portal:!0,ref:T,children:l.jsx(oe,{children:l.jsx(se,{tone:"critical",mode:"ghost",text:"Revert all changes",icon:$F,onClick:_,onMouseEnter:S,onMouseLeave:E,disabled:v})})})]})})}function sen(e){return e.length===1&&e[0].type==="group"&&e[0].path.length===0?e[0].changes:e}var Ore=Object.freeze,aen=Object.defineProperty,LDe=(e,t)=>Ore(aen(e,"raw",{value:Ore(t||e.slice())})),Rre,$re;const Mre=O.span(Rre||(Rre=LDe([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[1])}),Fre=O(L)($re||($re=LDe([`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`])));function len(e){const{segment:t}=e,{text:n}=t;return t.action==="added"?l.jsx(ji,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:"Added"},as:Mre,children:l.jsx(Fre,{as:"ins",style:{textDecoration:"none"},children:n})}):t.action==="removed"?l.jsx(ji,{annotation:t.annotation,as:Mre,disableHoverEffect:!0,tooltip:{description:"Removed"},children:l.jsx(Fre,{as:"del",children:n})}):l.jsx(ee,{as:"span",radius:2,style:{display:"inline"},children:n})}function cen(e){const{diff:t}=e;return l.jsx(l.Fragment,{children:(t.segments||[]).map((n,r)=>l.jsx(len,{segment:n},r))})}var Lre=Object.freeze,uen=Object.defineProperty,den=(e,t)=>Lre(uen(e,"raw",{value:Lre(t||e.slice())})),Bre;const xO=O(L)(Bre||(Bre=den([`
  color: inherit;
`])));function c4(e){const{title:t,action:n,icon:r,children:o,markRemoved:i}=e;return l.jsxs(U,{padding:2,align:"center",children:[r&&l.jsx(M,{padding:2,children:l.jsx(xO,{size:4,forwardedAs:i?"del":"div",children:h.createElement(r)})}),l.jsxs(oe,{space:2,paddingLeft:2,children:[l.jsx(xO,{size:1,weight:"semibold",forwardedAs:i?"del":"h3",textOverflow:"ellipsis",children:t}),n&&l.jsx("div",{children:n}),l.jsx(xO,{size:0,textOverflow:"ellipsis",children:o})]})]})}var Nre=Object.freeze,fen=Object.defineProperty,hen=(e,t)=>Nre(fen(e,"raw",{value:Nre(t||e.slice())})),zre;O.div(zre||(zre=hen([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`])));const BDe=h.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}});function Vre(){return h.useContext(BDe)}const NDe=h.createContext({actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}});function eC(e){const{actions:t,children:n,path:r,focused:o}=e,{onMouseEnter:i,onMouseLeave:s}=Vre(),a=Vre().hoveredStack[0],c=Zp||(a?xn(r)===a:!1),u=h.useCallback(()=>{i(r)},[i,r]),d=h.useCallback(()=>{s(r)},[s,r]),f=h.useMemo(()=>({actions:t,focused:o,hovered:c,onMouseEnter:u,onMouseLeave:d}),[t,o,u,d,c]);return l.jsx(NDe.Provider,{value:f,children:n})}function zB(){return h.useContext(NDe)}function pen(e){const{children:t}=e,[n,r]=h.useState([]),o=h.useCallback(a=>{const c=xn(a);r(u=>u.includes(c)?u:[c,...u])},[]),i=h.useCallback(a=>{const c=xn(a);r(u=>u.includes(c)?u.filter(d=>d!==c):u)},[]),s=h.useMemo(()=>({hoveredStack:n,onMouseEnter:o,onMouseLeave:i}),[o,i,n]);return l.jsx(BDe.Provider,{value:s,children:t})}const men={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function gen(e){const{__internal_fieldActions:t=pn,__internal_patchChannel:n=men,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,file:c,filterField:u,focusPath:d,focused:f,groups:p,id:m,image:v,members:g,onChange:y,onFieldGroupSelect:x,onPathBlur:b,onPathFocus:w,onPathOpen:C,onSetFieldSetCollapsed:_,onSetPathCollapsed:S,presence:E,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:P,renderPreview:$,schemaType:R,unstable:V,validation:N,value:W}=e,G=h.useRef(W);h.useEffect(()=>{G.current=W},[W]);const H=h.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:_B,CustomMarkers:(V==null?void 0:V.CustomMarkers)||IZt,Markers:(V==null?void 0:V.Markers)||nDe},field:{actions:t},file:{assetSources:c.assetSources,directUploads:(c==null?void 0:c.directUploads)!==!1},filterField:u||(()=>!0),image:{assetSources:v.assetSources,directUploads:(v==null?void 0:v.directUploads)!==!1},getDocument:()=>G.current,onChange:y}),[t,c.assetSources,c==null?void 0:c.directUploads,u,v.assetSources,v==null?void 0:v.directUploads,y,n,V==null?void 0:V.CustomMarkers,V==null?void 0:V.Markers]),q=h.useMemo(()=>({__internal:H,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,focusPath:d,focused:f,groups:p,id:m,members:g,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:P,renderPreview:$,schemaType:R,value:W}),[H,r,o,s,a,W,d,f,p,m,g,j,k,T,A,D,I,P,$,R]);return l.jsx(tDe.Provider,{value:q,children:l.jsx(Kw,{onChange:y,onFieldGroupSelect:x,onPathBlur:b,onPathFocus:w,onPathOpen:C,onSetPathCollapsed:S,onSetFieldSetCollapsed:_,children:l.jsx(PZt,{presence:E,children:l.jsx(RZt,{validation:N,children:l.jsx(pen,{children:i})})})})})}function ven(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,focusPath:c,focused:u,groups:d,id:f,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:y,onFieldGroupSelect:x,onSetPathCollapsed:b,onSetFieldSetCollapsed:w,presence:C,readOnly:_,schemaType:S,validation:E,value:j}=e,{file:k,image:T}=Mn().form,A=rhn(),D=ohn(),I=VPe(),P=ihn(),$=shn(),R=ahn(),V=lhn(),N=h.useCallback(Y=>l.jsx(A,{...Y}),[A]),W=h.useCallback(Y=>l.jsx(D,{...Y}),[D]),G=h.useCallback(Y=>l.jsx(P,{...Y}),[P]),H=h.useCallback(Y=>l.jsx(YAe,{component:I,...Y}),[I]),q=h.useCallback(Y=>l.jsx($,{...Y}),[$]),X=h.useCallback(Y=>l.jsx(R,{...Y}),[R]),B=h.useCallback(Y=>l.jsx(V,{...Y}),[V]);return l.jsx(gen,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,file:k,focusPath:c,focused:u,groups:d,id:f,image:T,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:y,onFieldGroupSelect:x,onSetPathCollapsed:b,onSetFieldSetCollapsed:w,presence:C,readOnly:_,renderAnnotation:B,renderBlock:q,renderField:W,renderInlineBlock:X,renderInput:N,renderItem:G,renderPreview:H,schemaType:S,validation:E,value:j,children:i})}function yen(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetFieldSetCollapsed:x,onSetPathCollapsed:b,presence:w,readOnly:C,schemaType:_,validation:S,value:E}=e;return l.jsx(ven,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:y,onSetPathCollapsed:b,onSetFieldSetCollapsed:x,presence:w,validation:S,readOnly:C,schemaType:_,value:E,children:l.jsx(ben,{})})}function ben(){const{focusPath:e,focused:t,groups:n,id:r,members:o,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:c,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,value:v}=li(),{onChange:g,onFieldGroupSelect:y,onPathBlur:x,onPathFocus:b,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:_}=ha(),S=h.useCallback(N=>_([N],!0),[_]),E=h.useCallback(N=>_([N],!1),[_]),j=h.useCallback(()=>x(pn),[x]),k=h.useCallback(()=>b(pn),[b]),T=h.useCallback(N=>g(ft.from(N)),[g]),A=h.useRef(null),D=h.useCallback(N=>y(pn,N),[y]),I=h.useCallback(N=>w([N]),[w]),P=h.useCallback(()=>w([]),[w]),$=h.useCallback(N=>C([N],!0),[C]),R=h.useCallback(N=>C([N],!1),[C]),V={focusPath:e,elementProps:{ref:A,id:r,onBlur:j,onFocus:k,"aria-describedby":void 0},changed:o.some(N=>N.kind==="field"&&N.field.changed),focused:t,groups:n,id:r,level:0,members:o,onChange:T,onFieldClose:P,onFieldCollapse:S,onFieldSetCollapse:$,onFieldExpand:E,onFieldSetExpand:R,onPathFocus:b,onFieldOpen:I,onFieldGroupSelect:D,path:pn,presence:pn,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:c,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,validation:pn,value:v};return l.jsx(l.Fragment,{children:d(V)})}const zDe=h.createContext({});function VDe(){return h.useContext(zDe)}function xen(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}=e,s=h.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}),[n,r,o,i]);return l.jsx(zDe.Provider,{value:s,children:t})}h.createContext(null);function yA(e,t){return Fi(t,h.useCallback((n,r)=>{e.current&&!n&&r&&Yv(e.current,{scrollMode:"always"})},[e]))}function wen(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return O9(t),t}const Cen=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function Tx(e){const t=Cen();return wen(e).reduce((n,r)=>n+t[r],"").slice(0,e)}var Hre=Object.freeze,_en=Object.defineProperty,HDe=(e,t)=>Hre(_en(e,"raw",{value:Hre(t||e.slice())})),Ure,Wre;const Sen={portal:!0},Een=O(ee)(e=>{let{theme:t,$selected:n}=e;var r;const{color:o}=t.sanity;return he(Ure||(Ure=HDe([`
    --card-bg-color: inherit;
    --card-fg-color: inherit;
    --card-hairline-hard-color: `,`;
  `])),n?(r=o.selectable)==null?void 0:r.default.pressed.border:void 0)}),ken=O(M)(Wre||(Wre=HDe([`
  max-width: 150px;
`]))),Yre=e=>{if(e.length===1)return"".concat(e[0].user.displayName," is editing this document");if(e.length>1)return"".concat(e.length," people are editing this document right now")};function VB(e){const{presence:t}=e,{color:n}=e0e().sanity,r=n.dark?"light":"dark",{selected:o}=eYt(),i=h.useMemo(()=>Array.from(new Set(t.map(a=>a.user.id))).map(a=>t.find(c=>c.user.id===a)).filter(mo),[t]),s=h.useMemo(()=>l.jsx(ken,{padding:2,children:l.jsx(L,{align:"center",size:1,children:Yre(i)})}),[i]);return l.jsx(at,{content:s,...Sen,children:l.jsx(Een,{scheme:o?r:void 0,$selected:o,children:l.jsx(Pj,{maxLength:2,"aria-label":Yre(i),children:i.map(a=>l.jsx(Ua,{user:a.user},a.user.id))})})})}const jen=3,UDe=3,i5=-4,Ax=23,qre=4,Ten=[0,.25,.75,1],G_=23,Aen=8,Den=8,WDe=20,YDe=20,wO=!1,Ien=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function Pen(e){return-i5+(Ax+i5)*e}var Gre=Object.freeze,Oen=Object.defineProperty,qDe=(e,t)=>Gre(Oen(e,"raw",{value:Gre(t||e.slice())})),Kre,Zre;const GDe=O(U)(Kre||(Kre=qDe([`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`]))),Ren=O(U)(Zre||(Zre=qDe([`
  height: 23px;
  min-width: 23px;
  vertical-align: top;
`]))),$en=ie.createContext([]);function Men(e){const{children:t,items:n}=e,r=h.useMemo(()=>l.jsx(oe,{padding:1,sizing:"border",children:n.map(o=>l.jsxs(U,{align:"center",gap:2,padding:1,children:[l.jsx("div",{children:l.jsx(Ua,{user:o.user,status:"online"})}),l.jsx(L,{size:1,children:o.user.displayName})]},o.user.id))}),[n]);return l.jsx(at,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const{Tracker:Fen,useReporter:Len,useReportedValues:Ben}=mAe(),KDe=h.memo(function(t){let{presence:n,position:r="inside",animateArrowFrom:o="inside",maxAvatars:i=UDe,stack:s=!0}=t;const a=Mf(n||[],p=>p.user.id),c=Cm(a,p=>p.lastActiveAt),[u,d]=s?Ien(c,i):[[],c],f=[...d.reverse().map(p=>({key:p.user.id,element:l.jsx(Ua,{animateArrowFrom:o,position:r,status:"online",user:p.user})})),u.length>=2?{key:"counter",element:l.jsx(NR,{count:u.length})}:null].filter(Boolean);return l.jsxs(GDe,{children:[l.jsx("div",{}),l.jsx(Ren,{direction:"row-reverse",children:f.map((p,m)=>p&&l.jsx("div",{style:{position:"absolute",transform:"translate3d(".concat(-m*(Ax+i5),"px, 0px, 0px)"),transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-m},children:p.element},p.key))})]})});function Nen(e){const t=h.useContext($en),{presence:n=t,maxAvatars:r=UDe}=e,o=h.useRef(null);Len(h.useId(),()=>({presence:n,element:o.current,maxAvatars:r}));const i=h.useMemo(()=>Mf(n||[],s=>s.user.id),[n]);return l.jsx(Men,{items:i,children:l.jsx(GDe,{ref:o,style:{minHeight:Ax,minWidth:Ax}})})}const tC=Nen,zen=e=>{const t=new _r,n=new IntersectionObserver(r=>{r.forEach(o=>{t.next(o)})},e);return{observe:r=>new gt(o=>{const i=t.pipe(mt(s=>s.target===r)).subscribe(o);return n.observe(r),()=>{i.unsubscribe(),n.unobserve(r)}})}},HB=e=>{const{onIntersection:t,io:n,id:r,...o}=e,i=ie.useRef(null);return ie.useEffect(()=>{const s=i.current;if(!s)return;const a=n.observe(s).pipe(bn(c=>t(r,c))).subscribe();return()=>a.unsubscribe()},[n,r,t]),l.jsx("div",{ref:i,...o})};var Xre=Object.freeze,Ven=Object.defineProperty,Qp=(e,t)=>Xre(Ven(e,"raw",{value:Xre(t||e.slice())})),Qre,Jre,eoe,toe,noe,roe,ooe;const Hen=O.div(Qre||(Qre=Qp([`
  position: relative;
`]))),Uen=O.div(Jre||(Jre=Qp([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`]))),UB=he(eoe||(eoe=Qp([`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`]))),Wen=O(HB)(e=>{let{$debug:t,margins:n}=e;return he(toe||(toe=Qp([`
    `,`

    z-index: 100;
    position: sticky;
    height: 1px;
    top: `,`;
    background-color: `,`;
  `])),UB,n?"".concat(n[0]-1,"px"):void 0,t?"red":"none")}),Yen=O(HB)(e=>{let{$debug:t}=e;return he(roe||(roe=Qp([`
    `,`

    visibility: none;

    `,`
  `])),UB,t&&he(noe||(noe=Qp([`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `]))))}),qen=O(HB)(e=>{let{$debug:t}=e;return he(ooe||(ooe=Qp([`
    `,`

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: `,`;
  `])),UB,t?"blue":"transparent")}),Gen=e=>"".concat(e,"px"),Ken=e=>0-e,Zen=h.forwardRef(function(t,n){const{regions:r,render:o,children:i,margins:s}=t,a=h.useRef(null),c=h.useMemo(()=>s,[JSON.stringify(s)]),u=h.useMemo(()=>zen({rootMargin:c.map(Ken).map(Gen).join(" "),threshold:Ten}),[c]),[d,f]=h.useState({}),p=h.useCallback((y,x)=>{f(b=>({...b,[y]:x}))},[]),m=d["::top"],v=d["::bottom"],g=h.useMemo(()=>m&&v?r.filter(y=>{var x;return((x=y.presence)==null?void 0:x.length)>0}).map(y=>{const x=d[y.id];if(!x)return null;const{bottom:b,top:w}=x.boundingClientRect,C=x.boundingClientRect.top<m.boundingClientRect.bottom,_=x.boundingClientRect.top<v.boundingClientRect.top,S=x.isIntersecting?w-(x.intersectionRect.top-G_):C?-m.boundingClientRect.bottom:v.boundingClientRect.top,E=x.isIntersecting?-(b-(x.intersectionRect.bottom+G_)):_?v.boundingClientRect.top:-m.boundingClientRect.bottom,j=S<=Aen?"top":E<=Den?"bottom":"inside";return{distanceTop:S,distanceBottom:E,region:y,position:j}}).filter(Boolean):[],[v,d,r,m]);return l.jsxs(Hen,{ref:n,children:[l.jsx(Wen,{$debug:wO,io:u,id:"::top",onIntersection:p,margins:c}),l.jsx("div",{children:i}),l.jsx(Uen,{ref:a,children:a.current&&o(g,a.current.offsetWidth)}),r.map(y=>{const x=y.rect.width===0;return l.jsx(Yen,{$debug:wO,io:u,onIntersection:p,id:y.id,style:{width:x?1:y.rect.width,left:y.rect.left-(x?1:0),top:y.rect.top-G_,height:y.rect.height+G_*2}},y.id)}),l.jsx(qen,{$debug:wO,id:"::bottom",io:u,onIntersection:p})]})}),ZDe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},Xen=e=>e.top+e.height;function Qen(e){return e.map((t,n,r)=>{var o;const i=(o=r[n-1])==null?void 0:o.region.rect,s=i?Xen(i):0;return{...t,spacerHeight:t.region.rect.top-s}})}const K_=e=>$0(e,t=>t.region.rect.top),Jen=(e,t)=>e+t,ioe=e=>e.reduce(Jen,0);function etn(e){const t=Qen(K_(e)),n={top:[],inside:[],bottom:[],...s7(t,r=>r.position)};return{top:K_(n.top).map((r,o,i)=>({...r,indent:i.slice(o+1).reduce((s,a)=>s+a.region.rect.width,0)})),inside:K_(n.inside).map(r=>({...r,indent:0})),bottom:K_(n.bottom).map((r,o,i)=>({...r,indent:i.slice(0,o).reduce((s,a)=>s+a.region.rect.width,0)}))}}const soe=e=>{let{height:t,...n}=e;return l.jsx("div",{style:{height:Math.max(0,t),...n==null?void 0:n.style}})},ttn=[0,0,0,0],ntn=(e,t)=>{let n=e,r=-n.scrollTop,o=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,o+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:o}};function rtn(e,t){return{...ntn(e,t),width:e.offsetWidth,height:e.offsetHeight}}function otn(e,t){return e.map(n=>{let[r,o]=n;return{...o,id:r,rect:rtn(o.element,t)}})}function itn(e){const{children:t,margins:n=ttn}=e,r=Ben(),o=ie.useRef(null),i=ie.useMemo(()=>o.current?otn(r,o.current):u4,[r]),s=ie.useCallback((a,c)=>{const u=etn(a.filter(m=>m.region.presence.length>0)),d=ioe(u.top.map(m=>m.region.rect.height+m.spacerHeight)),f=ioe([...u.inside,...u.bottom].map(m=>m.region.rect.height+m.spacerHeight)),p=u.inside.reduce((m,v)=>{const{distanceTop:g,distanceBottom:y}=v,x=g<=WDe,b=y<=YDe;return{nearTop:m.nearTop+(x?v.region.presence.length:0),nearBottom:m.nearBottom+(b?v.region.presence.length:0)}},{nearTop:0,nearBottom:0});return l.jsxs(l.Fragment,{children:[l.jsx(aoe,{closeCount:p.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:u.top}),l.jsx(soe,{height:d}),l.jsx(stn,{containerWidth:c,regionsWithIntersectionDetails:u.inside}),l.jsx(soe,{height:f}),l.jsx(aoe,{closeCount:p.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:u.bottom})]})},[n]);return l.jsx(Zen,{ref:o,margins:n,regions:i,render:s,children:t})}const u4=[],aoe=h.memo(function(t){const{closeCount:n,margins:r,position:o,regionsWithIntersectionDetails:i}=t,s=o==="top"?1:-1,a=h.useMemo(()=>i.length?Dn(Cm(i,g=>g.region.rect.top*s).map(g=>g.region.presence||u4)):u4,[s,i]),[c,u,d,f]=r,p=(f||0)+(a.length>0?-n*(Ax+i5):0)-u,m=o==="top"?c:d,v=h.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...ZDe,transform:"translate3d(".concat(p,"px, 0px, 0px)"),top:qre+1+m,bottom:qre+1+m}),[p,m]);return l.jsx("div",{"data-dock":o,style:v,children:l.jsx(KDe,{position:o,maxAvatars:jen,presence:a})},"sticky-".concat(o))});function stn(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return l.jsx(l.Fragment,{children:t.map(r=>{const o=r.region.rect.left,{distanceTop:i,distanceBottom:s}=r,a=i<=WDe,c=s<=YDe,u=n-o-r.region.rect.width,{presence:d,maxAvatars:f}=r.region;return l.jsx(ie.Fragment,{children:l.jsx("div",{style:{zIndex:2,position:"absolute",...ZDe,left:o,transform:"translate3d(".concat(a||c?u:0,"px, 0px, 0px)"),height:r.region.rect.height,top:r.region.rect.top},children:l.jsx(ltn,{value:()=>"⤒".concat(i," | ").concat(s,"⤓"),children:l.jsx(KDe,{stack:!a&&!c,position:a?"top":c?"bottom":"inside",maxAvatars:f,presence:d})})})},r.region.id)})})}const atn=e=>e.children,ltn=atn,ctn=[0,0,0,0];function utn(e){let{children:t,margins:n}=e;return l.jsx(Fen,{children:l.jsx(itn,{margins:n||ctn,children:t})})}const nC=utn;var loe=Object.freeze,dtn=Object.defineProperty,Z0=(e,t)=>loe(dtn(e,"raw",{value:loe(t||e.slice())})),coe,uoe,doe,foe,hoe,poe;const ftn={open:500},htn=O(U)(coe||(coe=Z0([`
  /* Prevent buttons from taking up extra vertical space */
  line-height: 1;
  /* For floating actions menu */
  position: relative;
`]))),ptn=O(M)(e=>{let{theme:t,$right:n}=e;const{space:r}=t.sanity;return he(uoe||(uoe=Z0([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),n+r[1])}),mtn=O(M)(e=>{let{theme:t,$presenceMaxWidth:n}=e;const{space:r}=t.sanity;return he(doe||(doe=Z0([`
    max-width: calc(100% - `,`px);
    min-width: 75%;
  `])),n+r[1])}),gtn=O(M)(e=>{let{theme:t,$right:n,$fieldActionsVisible:r}=e;const{space:o}=t.sanity,i=r?n+o[1]:n;return he(foe||(foe=Z0([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),i)}),vtn=O(ee)(e=>{let{theme:t}=e;const n=t.sanity.space[1]/2;return he(hoe||(hoe=Z0([`
    align-items: center;
    bottom: 0;
    gap: `,`px;
    padding: `,`px;
    position: absolute;
    right: 0;

    @media (hover: hover) {
      // If hover is supported, we hide the floating card by default
      // and only show it when it has focus within or when the field is hovered or focused.
      opacity: 0;
      pointer-events: none;

      [data-ui='FieldActionsFlex'] {
        opacity: 0;
        width: 0;
      }

      &[data-actions-visible='false']:not(:focus-within) {
        // Remove the shadow when the field actions are not visible
        box-shadow: none;

        // Since the field actions always will be present in the DOM (to make them focusable) –
        // they will always affect the width of the floating card, even when they are not visible.
        // Therefore, we remove the background of the floating card when the field actions are not visible.
        background: transparent;
      }

      // Remove the shadow when the field has comments but no actions
      &[data-has-comments='true']:not([data-has-actions='true']) {
        box-shadow: none;
      }

      // Show the floating card when it has focus within (ie when field actions are focused).
      &:focus-within {
        opacity: 1;
        pointer-events: auto;
        width: max-content;

        [data-ui='FieldActionsFlex'] {
          opacity: 1;
          pointer-events: auto;
          width: max-content;
        }
      }
    }

    &[data-visible='true'] {
      opacity: 1;
      pointer-events: auto;
      width: max-content;
    }

    &[data-actions-visible='true'] {
      [data-ui='FieldActionsFlex'] {
        opacity: 1;
        pointer-events: auto;
        width: max-content;
      }
    }
  `])),n,n)}),ytn=O(U)(poe||(poe=Z0([`
  gap: inherit;
`]))),moe=4;function XDe(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:o,fieldFocused:i,fieldHovered:s,presence:a}=e,[c,u]=h.useState(!1),[d,f]=h.useState(null),[p,m]=h.useState(0),[v,g]=h.useState(null),[y,x]=h.useState(0),{hasComments:b=!1,button:w=null,isAddingComment:C=!1}=t||{},_=r&&r.length>0,S=i||s||c||C,E=(t==null?void 0:t.button)||_,j=S||b,k=h.useCallback(()=>{if(d){const{width:I}=d.getBoundingClientRect();m(I||0)}},[d]),T=h.useCallback(k,[k]),A=h.useCallback(k,[k]);h.useEffect(()=>{k()},[k,S]),h.useEffect(()=>{if(v){const{width:I}=v.getBoundingClientRect();x(I||0)}},[v]);const D=h.useMemo(()=>n?l.jsx(gtn,{$fieldActionsVisible:!!S,$right:p,ref:g,children:n}):null,[p,S,n]);return l.jsxs(htn,{align:"flex-end",children:[l.jsx(mtn,{flex:1,paddingY:2,$presenceMaxWidth:Pen(moe),children:o}),a&&a.length>0&&l.jsx(ptn,{flex:"none",paddingBottom:1,$right:p+y,children:l.jsx(tC,{maxAvatars:moe,presence:a})}),D,(E||b)&&l.jsx(Pwe,{delay:ftn,children:l.jsxs(vtn,{"data-actions-visible":S?"true":"false","data-has-actions":_?"true":"false","data-has-comments":b?"true":"false","data-visible":j?"true":"false",display:"flex",onBlurCapture:A,onFocusCapture:T,radius:2,ref:f,shadow:2,sizing:"border",children:[_&&l.jsx(ytn,{align:"center","data-ui":"FieldActionsFlex",children:l.jsx(BZt,{nodes:r,onMenuOpenChange:u})}),w]})})]})}function uh(e,t){if(!(!t||!e))return"desc_".concat(e)}var goe=Object.freeze,btn=Object.defineProperty,xtn=(e,t)=>goe(btn(e,"raw",{value:goe(t||e.slice())})),voe;const wtn=[],yv={error:pe.red[500].hex,warning:pe.yellow[500].hex,info:pe.blue[500].hex},bv={error:l.jsx(aa,{"data-testid":"input-validation-icon-error","aria-label":"Has error","aria-hidden":!0,role:"presentation"}),warning:l.jsx(Fr,{"data-testid":"input-validation-icon-warning","aria-label":"Has warning","aria-hidden":!0,role:"presentation"}),info:l.jsx(lm,{"data-testid":"input-validation-icon-info","aria-label":"Has information","aria-hidden":!0,role:"presentation"})},Ctn=O(oe)(voe||(voe=xtn([`
  max-width: 200px;
`])));function X0(e){const{validation:t=wtn,__unstable_showSummary:n,fontSize:r,placement:o="top"}=e,i=t.filter(m=>m.level==="error"),s=t.filter(m=>m.level==="warning"),a=t.filter(m=>m.level==="info"),c=i.length>0,u=s.length>0,d=a.length>0,f=h.useMemo(()=>{if(c)return bv.error;if(u)return bv.warning;if(d)return bv.info},[c,d,u]),p=h.useMemo(()=>{if(c)return yv.error;if(u)return yv.warning;if(d)return yv.info},[c,d,u]);return l.jsx(at,{content:l.jsxs(Ctn,{padding:3,space:3,children:[n&&l.jsx(Stn,{validation:t}),!n&&l.jsx(l.Fragment,{children:t.map((m,v)=>l.jsx(_tn,{validation:m},v))})]}),portal:!0,placement:o,fallbackPlacements:["bottom","right","left"],children:l.jsx("div",{children:l.jsx(L,{muted:!0,size:r,weight:"semibold",style:{color:p},children:f})})})}function _tn(e){const{validation:t}=e,n=h.useMemo(()=>{if(t.level==="error")return bv.error;if(t.level==="warning")return bv.warning;if(t.level==="info")return bv.info},[t]),r=h.useMemo(()=>{if(t.level==="error")return yv.error;if(t.level==="warning")return yv.warning;if(t.level==="info")return yv.info},[t]);return l.jsxs(U,{children:[l.jsx(M,{marginRight:2,children:l.jsx(L,{size:1,style:{color:r},children:n})}),l.jsx(M,{flex:1,children:l.jsx(L,{size:1,children:t.message})})]})}function Stn(e){let{validation:t}=e;const n=t.filter(m=>m.level==="error"),r=t.filter(m=>m.level==="warning"),o=n.length,i=r.length,s="error".concat(o===1?"":"s"),a="warning".concat(i===1?"":"s"),c=o&&"".concat(o," ").concat(s),u=i&&"".concat(i," ").concat(a),d=o>0,f=i>0,p=d&&f;return l.jsxs(L,{size:1,children:[c||"",p&&l.jsx(l.Fragment,{children:" and "}),u||""]})}const Etn=[],QDe=h.memo(function(t){const{description:n,inputId:r,title:o,validation:i=Etn}=t,s=i.length>0;return l.jsxs(oe,{space:2,children:[l.jsxs(U,{children:[l.jsx(L,{as:"label",htmlFor:r,weight:"semibold",size:1,children:o||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}),s&&l.jsx(M,{marginLeft:2,children:l.jsx(X0,{fontSize:1,validation:i})})]}),n&&l.jsx(L,{muted:!0,size:1,id:uh(r,n),children:n})]})}),yoe=[],Q0=h.memo(function(t){const{__unstable_headerActions:n=yoe,__unstable_presence:r=yoe,__internal_slot:o=null,__internal_comments:i,children:s,description:a,inputId:c,level:u,title:d,validation:f,...p}=t,{focused:m,hovered:v,onMouseEnter:g,onMouseLeave:y}=zB();return l.jsxs(oe,{...p,"data-level":u,onMouseEnter:g,onMouseLeave:y,space:1,children:[d&&l.jsx(XDe,{__internal_comments:i,__internal_slot:o,actions:n,fieldFocused:!!m,fieldHovered:v,presence:r,content:l.jsx(QDe,{description:a,inputId:c,title:d,validation:f})}),l.jsx("div",{children:s})]})});var boe=Object.freeze,ktn=Object.defineProperty,WB=(e,t)=>boe(ktn(e,"raw",{value:boe(t||e.slice())})),xoe,woe,Coe;const _oe=O.legend(xoe||(xoe=WB([`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`]))),jtn=O(U).attrs({forwardedAs:"button"})(e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:o}=t.sanity.color;return he(woe||(woe=WB([`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: `,`;
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `])),ye(r[1]),nB({base:o,focusRing:n}))}),Ttn=O(M)(Coe||(Coe=WB([`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`]))),Atn=h.memo(function(t){const{collapsed:n,collapsible:r,onClick:o,title:i}=t,s=l.jsx(L,{weight:"semibold",size:1,children:i||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})});return r?l.jsx(_oe,{children:l.jsxs(jtn,{type:"button",onClick:o,children:[l.jsx(Ttn,{children:l.jsx(L,{muted:!0,size:1,children:l.jsx(ej,{style:{transform:"rotate(".concat(n?"0":"90deg",") translate3d(0, 0, 0)")}})})}),s]})}):l.jsx(_oe,{children:s})});var Soe=Object.freeze,Dtn=Object.defineProperty,JDe=(e,t)=>Soe(Dtn(e,"raw",{value:Soe(t||e.slice())})),Eoe,koe;function Itn(e){return typeof e=="function"?e():e}const Ptn=O(M).attrs({forwardedAs:"fieldset"})(Eoe||(Eoe=JDe([`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`]))),Otn=O(M)(e=>{const{$borderLeft:t,theme:n}=e,{focusRing:r,radius:o}=n.sanity,{base:i}=n.sanity.color;return he(koe||(koe=JDe([`
    outline: none;
    border-left: `,`;
    border-radius: `,`;

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `])),t?"1px solid var(--card-border-color)":void 0,ye(o[1]),nB({base:i,focusRing:{...r,offset:2}}))}),CO=[],bA=h.forwardRef(function(t,n){const{__internal_comments:r,__internal_slot:o=null,__unstable_headerActions:i=CO,__unstable_presence:s=CO,children:a,collapsed:c,collapsible:u,columns:d,description:f,level:p=0,onCollapse:m,onExpand:v,onFocus:g,tabIndex:y,title:x,validation:b=CO,inputId:w,...C}=t,{focused:_,hovered:S,onMouseEnter:E,onMouseLeave:j}=zB(),k=b.length>0,T=dr(n),A=h.useCallback(P=>{T.current===P.target&&g&&g(P)},[T,g]),D=h.useCallback(()=>c?v==null?void 0:v():m==null?void 0:m(),[c,m,v]),I=h.useMemo(()=>c?null:l.jsx(Jt,{columns:d,gapX:4,gapY:5,children:Itn(a)}),[a,c,d]);return l.jsxs(Ptn,{"data-level":p,...C,onMouseEnter:E,onMouseLeave:j,children:[l.jsx(XDe,{__internal_comments:r,__internal_slot:o,actions:i,fieldFocused:!!_,fieldHovered:S,presence:s,content:l.jsxs(oe,{space:2,children:[l.jsxs(U,{children:[l.jsx(Atn,{collapsed:!!c,collapsible:u,onClick:u?D:void 0,title:x}),k&&l.jsx(M,{marginLeft:2,children:l.jsx(X0,{fontSize:1,validation:b})})]}),f&&l.jsx(L,{muted:!0,size:1,id:uh(w,f),children:f})]})}),l.jsx(Otn,{$borderLeft:p>0,hidden:c,marginTop:1,paddingLeft:p===0?0:3,onFocus:typeof y=="number"&&y>-1?A:void 0,ref:T,tabIndex:y,children:!c&&I})]})});var joe=Object.freeze,Rtn=Object.defineProperty,$tn=(e,t)=>joe(Rtn(e,"raw",{value:joe(t||e.slice())})),Toe;const Mtn=O.div(Toe||(Toe=$tn([`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`])));function Ftn(e){let{children:t,maxAvatars:n,position:r="bottom"}=e;return l.jsx(Mtn,{"data-max-avatars":n,"data-position":r,children:t})}var Aoe=Object.freeze,Ltn=Object.defineProperty,Btn=(e,t)=>Aoe(Ltn(e,"raw",{value:Aoe(t||e.slice())})),Doe;const Ntn=O(se)(Doe||(Doe=Btn([`
  cursor: `,`;
`])),e=>e.grid?"move":"ns-resize"),eIe=ie.createContext(null),tIe=function(t){const n=h.useContext(eIe),{listeners:r,attributes:o}=Pje({id:n});return l.jsx(Ntn,{icon:p0e,mode:"bleed","data-ui":"DragHandleButton",...o,...t,...r})};function ztn(e,t,n,r){const o={...e},i=r.y||0,s=r.x||0;return t.top+o.y<=n.top+i?o.y=n.top-t.top+i:t.bottom+o.y>=n.top+n.height-i&&(o.y=n.top+n.height-t.bottom-i),t.left+o.x<=n.left-s?o.x=n.left-t.left+s:t.right+o.x>=n.left+n.width+s&&(o.x=n.left+n.width-t.right+s),o}const Vtn=e=>t=>{let{containerNodeRect:n,draggingNodeRect:r,transform:o}=t;return!r||!n?o:ztn(o,r,n,e)};var Ioe=Object.freeze,Htn=Object.defineProperty,Poe=(e,t)=>Ioe(Htn(e,"raw",{value:Ioe(t||e.slice())})),Ooe,Roe;const YB="moving",nIe=O(M)(Roe||(Roe=Poe([`
  `,`
`])),e=>e.$moving&&he(Ooe||(Ooe=Poe([`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `])))),Utn={threshold:{x:0,y:.02}},Wtn={coordinateGetter:n9t},Ytn={duration:200,easing:"ease"};function qtn(e){return e==="x"?o9t:i9t}function Gtn(e){return e==="x"?H8t:W8t}const Ktn=h.memo(function(t){const{items:n,axis:r,onItemMove:o,onItemMoveStart:i,onItemMoveEnd:s,children:a,...c}=t,u=D6t(AQ(p7),AQ(f7,Wtn)),d=h.useCallback(p=>{var m,v,g,y;const{active:x,over:b}=p;x.id!==(b==null?void 0:b.id)&&(o==null||o({fromIndex:(v=(m=x.data.current)==null?void 0:m.sortable)==null?void 0:v.index,toIndex:(y=(g=b==null?void 0:b.data.current)==null?void 0:g.sortable)==null?void 0:y.index})),s==null||s()},[o,s]),f=h.useMemo(()=>[Vtn({y:4}),...r?[qtn(r)]:[]],[r]);return l.jsx(P8t,{sensors:u,autoScroll:Utn,modifiers:f,collisionDetection:P6t,onDragEnd:d,onDragStart:i,children:l.jsx(q8t,{items:n,strategy:r?Gtn(r):void 0,children:l.jsx(Jt,{...c,children:a})})})}),Ztn=h.forwardRef(function(t,n){const{id:r,children:o,disableTransition:i}=t,{setNodeRef:s,transform:a,transition:c,active:u}=Pje({id:r,transition:i?null:Ytn}),d=r===(u==null?void 0:u.id),f=h.useMemo(()=>({transform:vx.Translate.toString(a),transition:c,pointerEvents:u?"none":void 0}),[a,c,u]),p=h.useCallback(m=>{s(m),typeof n=="function"?n(m):n&&(n.current=m)},[n,s]);return l.jsx(nIe,{ref:p,style:f,$moving:d,className:d?YB:"","data-index":t["data-index"],children:o})});function qB(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:o,...i}=e,s=h.useCallback(a=>{t==null||t(a)},[t]);return o?l.jsx(Ktn,{onItemMove:s,onItemMoveStart:r,onItemMoveEnd:n,...i}):l.jsx(Jt,{...i})}const GB=h.forwardRef(function(t,n){const{sortable:r,...o}=t;return l.jsx(eIe.Provider,{value:t.id,children:r?l.jsx(Ztn,{ref:n,...o}):l.jsx(nIe,{ref:n,...o})})});var $oe=Object.freeze,Xtn=Object.defineProperty,Qtn=(e,t)=>$oe(Xtn(e,"raw",{value:$oe(t||e.slice())})),Moe;const Jtn=O(ee)(Moe||(Moe=Qtn([`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .`,` & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`])),YB);function xA(e){const{validation:t,selected:n,tone:r,presence:o,focused:i,children:s,dragHandle:a,menu:c,footer:u}=e,d=h.useRef(null);return Fi(i,(f,p)=>{var m;!f&&p&&((m=d.current)==null||m.focus())}),l.jsx(Jtn,{ref:d,selected:n,"aria-selected":n,radius:2,padding:1,tone:r,children:l.jsxs(oe,{space:1,children:[l.jsxs(U,{align:"center",children:[a&&l.jsx(M,{marginRight:1,paddingY:1,children:l.jsx(tIe,{paddingX:1,paddingY:3})}),l.jsx(M,{flex:1,children:s}),(o||t||c)&&l.jsxs(U,{align:"center",marginLeft:1,children:[o&&l.jsx(M,{marginLeft:1,children:o}),t&&l.jsx(M,{marginLeft:1,children:t}),c]})]}),u]})})}var Foe=Object.freeze,enn=Object.defineProperty,wA=(e,t)=>Foe(enn(e,"raw",{value:Foe(t||e.slice())})),Loe,Boe,Noe,zoe;const tnn=O.button(Loe||(Loe=wA([`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`]))),nnn=O(ej)(Boe||(Boe=wA([`
  transform: `,`;
`])),e=>e.open?"rotate(90deg)":""),rnn=O(U)(Noe||(Noe=wA([`
  cursor: default;
`]))),onn=O(M)(zoe||(zoe=wA([`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`])));function Rm(e){const{children:t,open:n,icon:r,title:o="Details",...i}=e,[s,a]=h.useState(n||!1),c=h.useCallback(()=>a(u=>!u),[]);return h.useEffect(()=>a(n||!1),[n]),l.jsxs(M,{...i,children:[l.jsx(tnn,{type:"button",onClick:c,children:l.jsx(rnn,{align:"center",children:l.jsxs(Gt,{children:[l.jsx(onn,{"data-open":s?"":void 0,children:l.jsx(L,{size:1,children:l.jsx(nnn,{open:s})})}),r&&l.jsx(M,{marginLeft:1,children:r}),l.jsx(M,{flex:1,marginLeft:1,children:l.jsx(L,{size:1,weight:"medium",children:o})})]})})}),l.jsx(M,{hidden:!s,marginTop:3,children:t})]})}const inn={warning:"caution",error:"critical",info:"positive"},snn={warning:l.jsx(Fr,{}),error:l.jsx(aa,{}),info:l.jsx(lm,{})};function bf(e){const{children:t,status:n="warning",title:r,...o}=e;return l.jsx(ee,{radius:2,tone:inn[n],...o,"data-ui":"Alert",children:l.jsx(U,{padding:1,children:t&&l.jsx(M,{flex:1,children:l.jsx(Rm,{icon:snn[n],title:r,children:l.jsx(M,{marginLeft:3,marginTop:3,children:t})})})})})}function KB(e){if(Ya(e))return e.name==="object"?{}:{_type:e.name};if(Ll(e))return[];if(e.jsonType==="string")return"";if(e.jsonType==="number")return 0;if(e.jsonType==="boolean")return!1}function J0(e){if(!Ya(e))throw new Error('Invalid item type: "'.concat(e.type,'". Default array input can only contain objects (for now)'));return{...KB(e),_key:Fw(12)}}const ann={portal:!0,tone:"default",placement:"left",constrainSize:!0},CA=h.memo(function(t){const{types:n,onInsert:r}=t;return l.jsxs(l.Fragment,{children:[l.jsx(Voe,{pos:"before",types:n,onInsert:r,text:"Add item before",icon:b0e}),l.jsx(Voe,{pos:"after",types:n,onInsert:r,text:"Add item after",icon:x0e})]})});function Voe(e){const{types:t,onInsert:n,pos:r,text:o,icon:i}=e;return(t==null?void 0:t.length)===1?l.jsx(Ve,{text:o,icon:i,onClick:()=>n(r,t[0])},r):l.jsx(I6,{text:o,popover:ann,children:t==null?void 0:t.map(s=>l.jsx(Ve,{icon:s.icon,text:s.title,onClick:()=>n(r,s)},s.name))},r)}const rIe=()=>{},_O={isLoading:!0,result:void 0,error:void 0,retry:rIe},lnn={isLoading:!1,result:void 0,error:void 0,retry:rIe};function _A(e,t){const n=h.useMemo(()=>new _r,[]),r=h.useMemo(()=>n.asObservable(),[n]),o=h.useCallback(()=>{n.next({type:"retry"})},[n]),i=go(()=>Hr(be(null),r).pipe(ue(()=>e),a$(a=>a?t(a).pipe(ue(c=>({isLoading:!1,result:c,error:void 0,retry:o})),ri(_O),Pn(c=>(console.error(c),be({isLoading:!1,result:void 0,error:c,retry:o})))):be(lnn))),[t,e,r,o],_O),s=CB(e,e);return e&&s!==e?_O:i}function oIe(e){var t,n,r,o,i,s;const{id:a,layout:c,preview:u,refType:d,renderPreview:f,showTypeLabel:p}=e,m=b0(),v=uC(a),g=((t=u.draft)==null?void 0:t._id)||((n=u.published)==null?void 0:n._id)||a,y=h.useMemo(()=>({_id:g,_type:d.name}),[g,d.name]),x=h.useMemo(()=>({layout:c,schemaType:d,value:y}),[c,y,d]),b=Xo(((r=u.published)==null?void 0:r._updatedAt)||"",{minimal:!0,agoSuffix:!0}),w=Xo(((o=u.draft)==null?void 0:o._updatedAt)||"",{minimal:!0,agoSuffix:!0});return l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,children:f(x)}),l.jsx(M,{paddingLeft:3,children:l.jsxs(Gt,{space:3,children:[p&&l.jsx(Vt,{size:1,muted:!0,children:d.title}),v&&v.length>0&&l.jsx(VB,{presence:v}),l.jsxs(Gt,{space:4,children:[l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:(i=u.published)!=null&&i._updatedAt?"Published ".concat(b):"Not published"})}),children:l.jsx(lr,{tone:m.tone==="default"?"positive":"default",size:1,dimmed:!u.published,muted:!u.published,children:l.jsx(f0,{"aria-label":u.published?"Published":"Not published"})})})}),l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:(s=u.draft)!=null&&s._updatedAt?"Edited ".concat(w):"No unpublished edits"})}),children:l.jsx(lr,{tone:m.tone==="default"?"caution":"default",size:1,dimmed:!u.draft,muted:!u.draft,children:l.jsx(Du,{"aria-label":u.draft?"Edited":"No unpublished edits"})})})})]})]})})]})}function iIe(e){var t,n,r,o,i,s;const{referenceInfo:a,renderPreview:c,type:u,value:d,showTypeLabel:f}=e;if(a.isLoading||a.error)return l.jsx(ch,{isPlaceholder:!0});if(((t=a.result)==null?void 0:t.availability.reason)==="NOT_FOUND"&&d._strengthenOnPublish){const x=u.to.find(w=>{var C;return w.name===((C=d==null?void 0:d._strengthenOnPublish)==null?void 0:C.type)});if(!x)return l.jsx(Uoe,{documentId:d._ref,actualType:(n=d._strengthenOnPublish)==null?void 0:n.type,declaredTypes:u.to.map(w=>w.name)});const b=(r=d._strengthenOnPublish)!=null&&r.type?{_id:d._ref,_type:(o=d._strengthenOnPublish)==null?void 0:o.type}:d;return l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,children:c({layout:"default",schemaType:x,value:b,skipVisibilityCheck:!0})}),l.jsx(M,{children:l.jsx(Gt,{space:4,children:f&&l.jsx(Vt,{size:1,muted:!0,children:x.title})})})]})}const p=a.result.availability,m=p.reason==="NOT_FOUND",v=p.reason==="PERMISSION_DENIED";if(v||m)return l.jsxs(Gt,{space:2,children:[l.jsx(M,{padding:1,children:l.jsx(U,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document unavailable"})})})}),v||m?l.jsx(M,{children:l.jsx(at,{portal:!0,content:m?l.jsxs(Hoe,{title:"Not found",icon:Av,children:["The referenced document does not exist",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d._ref}),")"]}):l.jsx(Hoe,{title:"Insufficient permissions",icon:Sf,children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(lr,{tone:"default",children:l.jsx(Av,{})})})}):null]});const g=(i=a.result)==null?void 0:i.type,y=u.to.find(x=>x.name===g);return y?l.jsx(oIe,{id:d._ref,layout:"default",preview:(s=a.result)==null?void 0:s.preview,refType:y,renderPreview:c,showTypeLabel:f}):l.jsx(Uoe,{documentId:d._ref,actualType:g||"<unknown>",declaredTypes:u.to.map(x=>x.name)})}function Hoe(e){const t=e.icon;return l.jsxs(U,{padding:3,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(t,{})})}),l.jsxs(M,{flex:1,marginLeft:3,children:[l.jsx(L,{size:1,weight:"semibold",children:e.title}),l.jsx(M,{marginTop:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function Uoe(e){return l.jsxs(U,{align:"center",justify:"flex-start",children:[l.jsx(M,{padding:1,children:l.jsx(U,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document of invalid type"})})})}),l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsxs(oe,{space:3,padding:3,children:[l.jsxs(L,{size:1,children:["Referenced document (",l.jsx("code",{children:e.documentId}),") is of type"," ",l.jsx("code",{children:e.actualType}),"."]}),l.jsxs(L,{size:1,children:["According to the schema, referenced documents can only be of type"," ",cnn(e.declaredTypes.map(t=>l.jsx("code",{children:t},t)),"or"),"."]})]}),children:l.jsx(M,{padding:2,children:l.jsx(lr,{tone:"default",children:l.jsx(Av,{})})})})})]})}const cnn=(e,t)=>e.length===1?e[0]:e.length===2?[e[0],l.jsxs(h.Fragment,{children:[" ",t," "]},"comma"),e[1]]:[...e.slice(0,-1).map((r,o)=>l.jsxs(h.Fragment,{children:[r,", "]},o)),l.jsxs(h.Fragment,{children:[t," ",e[e.length-1]]},"last")];var Woe=Object.freeze,unn=Object.defineProperty,dnn=(e,t)=>Woe(unn(e,"raw",{value:Woe(t||e.slice())})),Yoe;const fnn=O(ee)(Yoe||(Yoe=dnn([`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 35px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`]))),sIe=h.forwardRef(function(t,n){const{as:r,documentId:o,documentType:i,...s}=t,a=o&&i&&{"data-as":"a",forwardedAs:r,documentId:o,documentType:i};return l.jsx(fnn,{...s,...a,ref:n})}),aIe=h.createContext(null);function hnn(){const e=h.useContext(aIe);return e||{menuRef:{current:null},containerRef:{current:null}}}function pnn(e){const{menuRef:t,containerRef:n}=e;return l.jsx(aIe.Provider,{value:{menuRef:t,containerRef:n},children:e.children})}function mnn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const gnn={portal:!0,tone:"default"},vnn={position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.6};function ynn(e){var t,n,r,o,i,s,a,c,u,d,f;const{schemaType:p,parentSchemaType:m,path:v,readOnly:g,onRemove:y,value:x,open:b,onInsert:w,presence:C,validation:_,inputId:S,changed:E,focused:j,children:k,inputProps:{onChange:T,focusPath:A,onPathFocus:D,renderPreview:I,elementProps:P}}=e,$=!g&&((t=m.options)==null?void 0:t.sortable)!==!1,R=m.of,V=h.useRef(null),N=h.useRef(null),W=h.useRef(null),{EditReferenceLink:G,getReferenceInfo:H,selectedState:q,isCurrentDocumentLiveEdit:X}=fN({path:v,schemaType:p,value:x});yA(V,b),Fi(j,(ke,Ne)=>{var dt;!ke&&Ne&&V.current&&((dt=V.current)==null||dt.focus())});const B=e.validation.some(ke=>ke.level==="error"),Y=e.validation.some(ke=>ke.level==="warning"),z=x._resolvingInitialValue,Z=h.useCallback(()=>{w({items:[{...x,_key:Tx()}],position:"after"})},[w,x]),Q=h.useCallback((ke,Ne)=>{w({items:[{...J0(Ne),_key:Tx()}],position:ke})},[w]),ne=_A(x==null?void 0:x._ref,H),K=x._ref,J=((n=ne.result)==null?void 0:n.type)||((r=x==null?void 0:x._strengthenOnPublish)==null?void 0:r.type),re=K&&((s=(i=(o=ne.result)==null?void 0:o.preview)==null?void 0:i.published)==null?void 0:s._id),fe=h.useCallback(()=>{T([p.weak===!0?xt(!0,["_weak"]):nt(["_weak"]),nt(["_strengthenOnPublish"])])},[T,p.weak]),le=J?p.to.find(ke=>ke.name===J):void 0,ge=q==="pressed",xe=q==="selected",ce=mnn({readOnly:g,hasErrors:B,hasWarnings:Y}),ve=!K||A[0]==="_ref",$e=h.useMemo(()=>h.forwardRef(function(Ne,dt){return l.jsx(_m,{...Ne,intent:"edit",params:{id:x==null?void 0:x._ref,type:le==null?void 0:le.name},target:"_blank",rel:"noopener noreferrer",ref:dt})}),[le==null?void 0:le.name,x==null?void 0:x._ref]),Ae=h.useCallback(()=>{D(K&&ve?[]:["_ref"])},[K,ve,D]),st=h.useMemo(()=>g?null:l.jsx(M,{marginLeft:1,children:l.jsx(tn,{button:l.jsx(se,{paddingY:3,paddingX:2,mode:"bleed",icon:To}),id:"".concat(S,"-menuButton"),menu:l.jsxs(Bt,{ref:N,children:[!g&&l.jsxs(l.Fragment,{children:[l.jsx(Ve,{text:"Remove",tone:"critical",icon:po,onClick:y}),l.jsx(Ve,{text:K&&ve?"Cancel replace":"Replace",icon:K&&ve?Ti:h0,onClick:Ae}),l.jsx(Ve,{text:"Duplicate",icon:Au,onClick:Z}),l.jsx(CA,{onInsert:Q,types:R})]}),!g&&!ve&&K&&l.jsx(Pr,{}),!ve&&K&&l.jsx(Ve,{as:$e,"data-as":"a",text:"Open in new tab",icon:Uf})]}),popover:gnn})}),[g,S,y,K,ve,Ae,Z,Q,R,$e]),et=h.useCallback(()=>{T(p.weak===!0?xt(!0,["_weak"]):nt(["_weak"]))},[T,p]),lt=x!=null&&x._weak?"weak":"strong",Oe=p.weak===!0?"weak":"strong",we=K&&!ne.isLoading&&(x==null?void 0:x._strengthenOnPublish),We=!ne.isLoading&&((a=ne.result)==null?void 0:a.availability.available)&&K&&lt!==Oe&&!we,ze=((c=ne.result)==null?void 0:c.preview.draft)||((u=ne.result)==null?void 0:u.preview.published),Ze=l.jsxs(l.Fragment,{children:[X&&re&&x._strengthenOnPublish&&l.jsx(bf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(f=(d=ne.result)==null?void 0:d.preview.published)==null?void 0:f.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(se,{onClick:fe,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),We&&l.jsx(bf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:lt}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[Oe,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",ze!=null&&ze.title?l.jsxs(l.Fragment,{children:['"',ze==null?void 0:ze.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",ze!=null&&ze.title?l.jsxs(l.Fragment,{children:['"',ze==null?void 0:ze.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(se,{onClick:et,text:l.jsxs(l.Fragment,{children:["Convert to ",Oe," reference"]}),tone:"caution"})]})}),ne.error&&l.jsx(bf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",ne.error.message]}),l.jsx(se,{onClick:ne.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),Ct=l.jsx(pnn,{menuRef:N,containerRef:W,children:l.jsx(xA,{dragHandle:$,presence:!ve&&C.length>0&&l.jsx(tC,{presence:C,maxAvatars:1}),validation:!ve&&_.length>0&&l.jsx(X0,{validation:_}),menu:st,footer:ve?void 0:Ze,tone:ve?void 0:ce,focused:j,children:ve?l.jsx(M,{padding:1,ref:W,children:l.jsx(bA,{title:p.title,description:p.description,__unstable_presence:C,validation:_,inputId:S,children:k})}):l.jsxs(sIe,{as:G,tone:"inherit",radius:2,documentId:x==null?void 0:x._ref,documentType:le==null?void 0:le.name,disabled:z,paddingX:2,paddingY:1,__unstable_focusRing:!0,selected:xe,pressed:ge,"data-selected":xe?!0:void 0,"data-pressed":ge?!0:void 0,...P,children:[l.jsx(iIe,{value:x,referenceInfo:ne,renderPreview:I,type:p}),z&&l.jsx(ee,{style:vnn,tone:"transparent",radius:2,as:U,justify:"center",children:l.jsxs(U,{align:"center",justify:"center",padding:3,children:[l.jsx(M,{marginX:3,children:l.jsx(fr,{muted:!0})}),l.jsx(L,{children:"Resolving initial value…"})]})})]})})});return l.jsx(ai,{path:v,isChanged:E,hasFocus:!!j,children:l.jsx(M,{paddingX:1,children:Ct})})}function qoe(e){return Ya(e.schemaType)}function Goe(e){return Ll(e.schemaType)}function bnn(e){return e._key!==void 0}function ES(e){return bnn(e)?e:{...e,_key:Tx(12)}}const lIe=4;function Koe(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function xnn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lIe;const n=wnn(t);return function(){return Sr(n(e(...arguments)))}}function wnn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:lIe;const t=[],n=[],r=new _r;return o;function o(a){return new gt(c=>{if(t.length>=e)return i(a).pipe(ht(o)).subscribe(c);const u=a.subscribe(c);return t.push(u),()=>{Koe(t,u),Koe(n,a),u.unsubscribe(),s()}})}function i(a){return n.push(a),r.asObservable().pipe(TCe(c=>c===a))}function s(){for(;n.length>0&&t.length<e;)r.next(n.shift())}}const Cnn=4;function _nn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.metadata,i=r.storeOriginalFilename,{label:s,title:a,description:c,creditLine:u,source:d}=r;return Tnn(n).pipe(Pn(()=>be(null)),ht(f=>f?knn(e,"sanity.".concat(t,"Asset"),f):be(null)),ht(f=>f?be({type:"complete",id:f._id,asset:f}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:o,preserveFilename:i,label:s,title:a,description:c,creditLine:u,source:d}).pipe(ue(p=>p.type==="response"?{type:"complete",id:p.body.document._id,asset:p.body.document}:p))))}const cIe=xnn(_nn,Cnn),Snn=(e,t,n)=>cIe(e,"image",t,n),Enn=(e,t,n)=>cIe(e,"file",t,n);function uIe(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"])}function dIe(e,t){return uIe(e,t)}function fIe(e,t){return uIe(e,t)}function knn(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function jnn(e){return new gt(t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=r=>{t.error(r)},n.readAsArrayBuffer(e),()=>{n.abort()}})}function Tnn(e){return!window.crypto||!window.crypto.subtle||!window.FileReader?be(null):jnn(e).pipe(ht(t=>crypto.subtle.digest("SHA-1",t)),ue(Ann))}function Ann(e){return Array.prototype.map.call(new Uint8Array(e),t=>"00".concat(t.toString(16)).slice(-2)).join("")}function Dnn(e,t){return new gt(n=>{const r=new window.FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(t===void 0?e:e.slice(0,t)),()=>r.abort()})}const Inn=/(invalid image format)|(No exif data)/i,Pnn=128e3;function Onn(e){return Sr(Dnn(e,Pnn)).pipe(ue(t=>e7t(t)),Pn(t=>(Inn.test(t.message)||console.warn("Exif read failed, continuing anyway: ".concat(t.message)),be({}))))}function Zoe(e){return[5,6,7,8].indexOf(e)>-1}function Rnn(e,t){const n=t.x,r=t.y,o=(t.degrees||0)*(Math.PI/180);e==null||e.translate(n,r),e==null||e.rotate(o),e==null||e.translate(-n,-r)}function Xoe(e,t,n){const r=e.getContext("2d");r==null||r.translate(t?e.width:0,n?e.height:0),r==null||r.scale(t?-1:1,n?-1:1)}const $nn=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],Mnn=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],Fnn="top-left",Lnn=120;function Bnn(e,t){const n=$nn[t-1],r=e.height/e.width;e.width=Lnn/r,e.height=e.width*r;const o=document.createElement("canvas"),i=o.getContext("2d");if(Zoe(t)?(o.height=e.width,o.width=e.height):(o.width=e.width,o.height=e.height),n.op==="flip-x"&&Xoe(o,!0,!1),n.op==="flip-y"&&Xoe(o,!1,!0),n.degrees&&(Rnn(i,{degrees:n.degrees,x:o.width/2,y:o.height/2}),Zoe(t))){const s=o.width-o.height;i==null||i.translate(s/2,-s/2)}return i==null||i.drawImage(e,0,0,e.width,e.height),o}function Nnn(e,t){return new gt(n=>{const r=Mnn.indexOf(t)+1,o=Bnn(e,r);n.next(o.toDataURL("image/jpeg",.1)),n.complete()})}function znn(e){return new gt(t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error('Could not load image from url "'.concat(e,'". Image may be of an unsupported format')))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}})}function Vnn(e,t){return znn(window.URL.createObjectURL(e)).pipe(ht(n=>Nnn(n,t)))}const pl="_upload",Hnn=nt([pl]);function _p(){return{type:"uploadProgress",patches:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const hIe=_p([Hnn]);function pIe(e){const t=new Date().toISOString(),n={progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}};return _p([xt(n,[pl])])}function Unn(e,t,n){const r=Snn(e,t,n).pipe(mt(i=>i.stage!=="download"),ue(i=>({...i,progress:2+i.percent/100*98})),ue(i=>i.type==="complete"?_p([xt({_type:"reference",_ref:i.asset._id},["asset"]),xt(100,[pl,"progress"]),xt(new Date().toISOString(),[pl,"updatedAt"])]):_p([xt(i.percent,[pl,"progress"]),xt(new Date().toISOString(),[pl,"updatedAt"])]))),o=Onn(t).pipe(ht(i=>Vnn(t,i.orientation||Fnn)),Pn(i=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,i.message),be(null))),mt(Boolean),ue(i=>_p([xt(i,[pl,"previewImage"])])));return Hr(be(pIe(t)),on(r,o),be(hIe))}function mIe(e,t,n){const r=Enn(e,t,n).pipe(ue(o=>o.type==="complete"?_p([xt({_type:"reference",_ref:o.asset._id},["asset"]),xt(100,[pl,"progress"]),xt(new Date().toISOString(),[pl,"updated"])]):_p([xt(o.percent,[pl,"progress"]),xt(new Date().toISOString(),[pl,"updated"])])));return Hr(be(pIe(t)),r,be(hIe))}const Wnn={type:"image",accepts:"image/*",upload:(e,t,n,r)=>Unn(e,t,r)},Ynn={type:"file",accepts:"",upload:(e,t,n,r)=>mIe(e,t,r)},qnn={type:"string",accepts:"text/*",upload:(e,t,n,r)=>mIe(e,t,r).pipe(ue(o=>({type:"uploadProgress",patches:[xt(o)]})))},Gnn=[Wnn,qnn,Ynn].map((e,t)=>({...e,priority:t}));function d4(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(s=>{const a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?i===a.replace(/\/.*$/,""):o===a})}function ZB(e,t){return Gnn.find(n=>{var r;return bc(n.type,e)&&d4(t,n.accepts)&&d4(t,((r=e.options)==null?void 0:r.accept)||"")})||null}const Knn=["_key","_type","_weak"];function gIe(e){return Object.keys(e).every(t=>Knn.includes(t))}const Znn=(e,t)=>{const n=ks(t);return e.of.find(r=>r.name===n)};function Xnn(e,t){return Object.entries(e).map(n=>{let[r,o]=n;return xt(o,[...t,r])})}function vIe(e,t,n){return Sr(e).pipe(ht(r=>{const o={_key:r._key};return be(Znn(t,r)).pipe(ht(i=>i?be(i):Zn),ht(i=>!gIe(r)||!n?Zn:Hr(be({type:"patch",patches:[xt(!0,[o,"_resolvingInitialValue"])]}),fo(()=>n(i,r)).pipe(mt(mo),ue(s=>({type:"patch",patches:Xnn(s,[o])})),Pn(s=>be({type:"error",error:s,item:r,schemaType:i}))),be({type:"patch",patches:[nt([o,"_resolvingInitialValue"])]}))))}))}const Qoe="before",Joe="after";function Qnn(e,t,n){if(t!==Qoe&&t!==Joe)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(Qoe," or ").concat(Joe));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=eie(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,...eie(s)),d}function eie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const tie=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function Jnn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function ern(e,t){if(typeof t=="number")return t;const n=K9(e,t);return n===-1?!1:n}function trn(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!tie(t.value,"from")||!tie(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return Jnn(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=ern(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return Qnn(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=QB(n[i],{...t,path:o}),n}function nrn(e,t){const n=k5e(e);if(t.path.length===0){if(t.type==="set"){if(!Gx(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Pi(n,r):(n[r]=QB(n[r],{...t,path:o}),n)}const yIe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},rrn=Object.keys(yIe);function orn(e,t){if(!rrn.includes(t.type))throw new Error('Received patch of unsupported type "'.concat(t.type,'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return yIe[t.type](e,t.value)}const bIe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=qEe(KEe(t),e,{allowExceedingIndices:!0});return n}},irn=Object.keys(bIe);function srn(e,t){if(!irn.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return bIe[t.type](e,t.value)}function XB(e,t){return t.reduce(QB,e)}function arn(e,t){return Array.isArray(e)?trn(e,t):cT(e)?srn(e,t):Gx(e)?nrn(e,t):orn(e,t)}function QB(e,t){return arn(e,t)}function lrn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:o,onSetFieldSetCollapsed:i,onPathOpen:s,onFieldGroupSelect:a}=ha(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:y}}=li().__internal,x=h.useRef(),b=h.useRef({});Fi(c.field.focused,(J,re)=>{var fe;!J&&re&&((fe=x.current)==null||fe.focus())});const w=h.useCallback(J=>{J.currentTarget===J.target&&J.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),C=h.useCallback(J=>{J.currentTarget===J.target&&J.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),_=h.useRef(c.field.value);h.useEffect(()=>{_.current=c.field.value},[c.field.value]);const S=h.useCallback(J=>{const re=ft.from(J).patches;if(re.some(le=>le.type==="unset"&&le.path.length===1)&&(_.current=XB(_.current||[],re),Array.isArray(_.current)&&!_.current.length)){r(ft.from(nt([c.name])));return}r(ft.from(J).prepend(Zi([])).prefixAll(c.name))},[r,c.name,_]),E=NN(),j=Ho(),k=h.useCallback(()=>{o(c.field.path,!0)},[o,c.field.path]),T=h.useCallback(()=>{o(c.field.path,!1)},[o,c.field.path]),A=h.useCallback(J=>{o(c.field.path.concat({_key:J}),!0)},[o,c.field.path]),D=h.useCallback(J=>{o(c.field.path.concat({_key:J}),!1)},[o,c.field.path]),I=h.useCallback(J=>{s(J),o(J,!1)},[s,o]),P=h.useCallback(()=>{s(c.field.path),o(c.field.path,!0)},[s,c.field.path,o]),$=h.useCallback(J=>{if(J.items.length===0)throw new Error("Insert event should include at least one item");const re=J.items.map(xe=>ES(xe));S(ft.from([ef(re,J.position,[J.referenceItem])]));const fe=re[0]._key,le=[...c.field.path,{_key:fe}];n(le);const ge=J.open!==!1;J.skipInitialValue?ge&&I(le):vIe(re,c.field.schemaType,E).pipe(bn(xe=>{xe.type==="patch"?S(xe.patches):j.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(xe.schemaType.title,": ").concat(xe.error.message,"."),status:"error"})})).subscribe({complete:()=>{ge&&I(le)}})},[S,I,c.field.path,c.field.schemaType,n,E,j]),R=h.useCallback(J=>{const re=c.field.value,fe=re==null?void 0:re[J.fromIndex],le=re==null?void 0:re[J.toIndex];if(J.fromIndex!==J.toIndex){if(!(fe!=null&&fe._key)||!(le!=null&&le._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}S([nt([{_key:fe._key}]),ef([fe],J.fromIndex>J.toIndex?"before":"after",[{_key:le._key}])])}},[S,c.field.value]),V=h.useCallback(J=>{S([Zi([]),ef([ES(J)],"before",[0])])},[S]),N=h.useCallback(J=>{S([Zi([]),ef([ES(J)],"after",[-1])])},[S]),W=h.useCallback(J=>{b.current[J]&&(b.current[J].unsubscribe(),delete b.current[J]),S([nt([{_key:J}])])},[S]),G=h.useCallback(J=>{n(c.field.path.concat(J))},[c.field.path,n]),H=h.useMemo(()=>({onBlur:C,onFocus:w,id:c.field.id,ref:x,"aria-describedby":uh(c.field.id,c.field.schemaType.description)}),[C,w,c.field.id,c.field.schemaType.description]),q=pr(an),X=li(),B=X.__internal.image.directUploads,Y=X.__internal.file.directUploads,z=h.useCallback((J,re)=>bc("image",J)&&!B||bc("file",J)&&!Y?null:ZB(J,re),[Y,B]),Z=h.useCallback(J=>{let{file:re,schemaType:fe,uploader:le}=J;const ge=J0(fe),xe=ge._key;$({items:[ge],position:"after",referenceItem:-1,open:!1});const ce=le.upload(q,re,fe).pipe(ue(ve=>ft.from(ve.patches||[]).prefixAll({_key:xe})),bn(ve=>S(ve.patches)));b.current={...b.current,[xe]:ce.subscribe()}},[q,S,$]),Q=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,onItemExpand:D,onItemCollapse:A,onItemClose:P,onItemOpen:I,focusPath:c.field.focusPath,focused:c.field.focused,path:c.field.path,onChange:S,onInsert:$,onItemMove:R,onItemRemove:W,onItemAppend:N,onItemPrepend:V,onPathFocus:G,resolveInitialValue:E,onUpload:Z,resolveUploader:z,validation:c.field.validation,presence:c.field.presence,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderField:f,renderItem:v,renderPreview:g,elementProps:H}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.focusPath,c.field.focused,c.field.path,c.field.validation,c.field.presence,D,A,P,I,S,$,R,W,N,V,G,E,Z,z,u,d,p,m,f,v,g,H]),ne=h.useMemo(()=>m(Q),[Q,m]),K=h.useMemo(()=>({actions:y,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,changed:c.field.changed,onCollapse:k,onExpand:T,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:ne,inputProps:Q}),[y,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,k,T,ne,Q]);return l.jsx(Kw,{onFieldGroupSelect:a,onChange:S,onSetFieldSetCollapsed:i,onSetPathCollapsed:o,onPathOpen:s,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(K),[K,f])})}function xIe(e,t,n){return kp(e)&&typeof n=="string"&&Number(n)===t?n:String(t??"")}function crn(e){const{member:t,renderInput:n,renderField:r}=e,{field:{actions:o}}=li().__internal,i=h.useRef(),[s,a]=h.useState(),{onPathBlur:c,onPathFocus:u,onChange:d}=ha();h.useEffect(()=>{var C;t.field.focused&&((C=i.current)==null||C.focus())},[t.field.focused]);const f=h.useCallback(()=>{c(t.field.path)},[t.field.path,c]),p=h.useCallback(()=>{u(t.field.path)},[t.field.path,u]),m=h.useCallback(C=>{d(ft.from(C).prefixAll(t.name))},[d,t.name]),v=h.useCallback(C=>{let _=C.currentTarget.value;if(kp(t.field.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else Yx(t.field.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);kp(t.field.schemaType)&&a(S?void 0:C.currentTarget.value),d(ft.from(S?nt():xt(_)).prefixAll(t.name))},[t.name,t.field.schemaType,d]),g=h.useMemo(()=>t.field.validation.filter(C=>C.level==="error").map(C=>C.message).join(`
`),[t.field.validation])||void 0,y=h.useMemo(()=>({onBlur:f,onFocus:p,id:t.field.id,ref:i,onChange:v,value:xIe(t.field.schemaType,t.field.value,s),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":uh(t.field.id,t.field.schemaType.description)}),[f,p,v,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,s]),x=h.useMemo(()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:g,elementProps:y}),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,g,y]),b=h.useMemo(()=>n(x),[x,n]),w=h.useMemo(()=>({actions:o,changed:t.field.changed,children:b,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:x,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[o,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,b,x]);return l.jsx(l.Fragment,{children:r(w)})}const urn=function(t){const{onPathBlur:n,onPathFocus:r,onChange:o,onPathOpen:i,onSetPathCollapsed:s,onSetFieldSetCollapsed:a,onFieldGroupSelect:c}=ha(),{member:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:y}=t,{field:{actions:x}}=li().__internal,b=h.useRef(),w=h.useRef(u.field.value);h.useEffect(()=>{w.current=u.field.value},[u.field.value]),Fi(u.field.focused,(X,B)=>{var Y;!X&&B&&((Y=b.current)==null||Y.focus())});const C=h.useCallback(()=>{n(u.field.path)},[u.field.path,n]),_=h.useCallback(()=>{r(u.field.path)},[u.field.path,r]),S=h.useCallback(X=>{r(u.field.path.concat(X))},[u.field.path,r]),E=h.useCallback(X=>{if(!(u.field.path.length===0)){const Y=ft.from(X).patches;if(w.current=XB(w.current||{},Y),w.current&&dOt(w.current)){o(ft.from(nt([u.name])));return}}o(ft.from(X).prepend(Zi(KB(u.field.schemaType))).prefixAll(u.name))},[o,u,w]),j=h.useCallback(()=>{s(u.field.path,!0)},[s,u.field.path]),k=h.useCallback(()=>{s(u.field.path,!1)},[s,u.field.path]),T=h.useCallback(X=>{s(u.field.path.concat(X),!0)},[s,u.field.path]),A=h.useCallback(X=>{s(u.field.path.concat(X),!1)},[s,u.field.path]),D=h.useCallback(X=>{i(u.field.path.concat(X))},[i,u.field.path]),I=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),P=h.useCallback(X=>{a(u.field.path.concat(X),!1)},[a,u.field.path]),$=h.useCallback(X=>{a(u.field.path.concat(X),!0)},[a,u.field.path]),R=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),V=h.useCallback(()=>{i(u.field.path.slice(0,-1))},[i,u.field.path]),N=h.useCallback(X=>{c(u.field.path,X)},[c,u.field.path]),W=h.useMemo(()=>({onBlur:C,onFocus:_,id:u.field.id,ref:b,"aria-describedby":uh(u.field.id,u.field.schemaType.description)}),[C,_,u.field.id,u.field.schemaType.description]),G=h.useMemo(()=>({elementProps:W,level:u.field.level,members:u.field.members,value:u.field.value,readOnly:u.field.readOnly,validation:u.field.validation,presence:u.field.presence,schemaType:u.field.schemaType,changed:u.field.changed,id:u.field.id,onFieldGroupSelect:N,onFieldOpen:D,onFieldClose:I,onFieldCollapse:T,onFieldExpand:A,onFieldSetExpand:P,onFieldSetCollapse:$,onPathFocus:S,path:u.field.path,focusPath:u.field.focusPath,focused:u.field.focused,groups:u.field.groups,onChange:E,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:y}),[W,u.field.level,u.field.members,u.field.value,u.field.readOnly,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.field.focusPath,u.field.focused,u.field.groups,N,D,I,T,A,P,$,S,E,d,f,p,m,v,g,y]),H=h.useMemo(()=>v(G),[G,v]),q=h.useMemo(()=>({actions:x,name:u.name,index:u.index,level:u.field.level,value:u.field.value,validation:u.field.validation,presence:u.field.presence,title:u.field.schemaType.title,description:u.field.schemaType.description,collapsible:u.collapsible,collapsed:u.collapsed,onCollapse:j,onExpand:k,open:u.open,changed:u.field.changed,onOpen:R,onClose:V,schemaType:u.field.schemaType,inputId:u.field.id,path:u.field.path,children:H,inputProps:G}),[x,u.name,u.index,u.field.level,u.field.value,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.collapsible,u.collapsed,u.open,j,k,R,V,H,G]);return l.jsx(Kw,{onFieldGroupSelect:c,onChange:E,onSetFieldSetCollapsed:a,onPathOpen:i,onSetPathCollapsed:s,onPathBlur:n,onPathFocus:r,children:h.useMemo(()=>p(q),[q,p])})};function drn(e,t){return new gt(n=>{const r=new FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}})}function frn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function hrn(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function prn(e){return/^\d+$/.test(e)}function mrn(e,t){let n=!1,r=!1,o=!1;return t.forEach(i=>{Yx(i)&&(n=!0),gve(i)&&(o=!0),kp(i)&&(r=!0)}),n&&(e==="true"||e==="false")?e==="true":r&&prn(e)?Number(e):o?e:void 0}function grn(e){return{priority:0,accepts:"text/*",type:"string",upload(t,n){return drn(n,"utf-8").pipe(ue(r=>r==null?void 0:r.split(/[\n\r]/).map(o=>mrn(o,e)).filter(o=>o!==void 0)),mt(r=>Array.isArray(r)),ue(r=>({type:"uploadProgress",patches:[ef(r,"after",[-1])]})))}}}function vrn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:o,onSetPathCollapsed:i,onSetFieldSetCollapsed:s,onFieldGroupSelect:a}=ha(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:y}}=li().__internal,x=h.useRef(),b=h.useRef(),w=pr(an);Fi(c.field.focused,(B,Y)=>{var z;!B&&Y&&((z=x.current)==null||z.focus())});const C=h.useCallback(B=>{B.currentTarget===B.target&&B.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),_=h.useCallback(B=>{B.currentTarget===B.target&&B.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),S=h.useCallback(B=>{const Y=ft.from(B).patches;if(Y.some(Z=>Z.type==="unset"&&Z.path.length===1)){const Z=XB(c.field.value||[],Y);if(Array.isArray(Z)&&!Z.length){r(ft.from(nt([c.name])));return}}r(ft.from(B).prepend(Zi([])).prefixAll(c.name))},[r,c.name,c.field.value]),E=h.useCallback(B=>{i(c.field.path,B)},[i,c.field.path]),j=h.useCallback(()=>{i(c.field.path,!0)},[i,c.field.path]),k=h.useCallback(()=>{i(c.field.path,!1)},[i,c.field.path]),T=h.useCallback(B=>{S(B.length===0?nt():xt(B))},[S]),A=h.useCallback(B=>{const{value:Y=[]}=c.field;B.fromIndex!==B.toIndex&&T(frn(Y,B.fromIndex,B.toIndex))},[c.field,T]),D=h.useCallback(B=>{const{value:Y=[]}=c.field;T(Y.concat(B))},[c.field,T]),I=h.useCallback(B=>{const{value:Y=[]}=c.field;T([B].concat(Y||[]))},[c.field,T]),P=h.useCallback(B=>{const{value:Y=[]}=c.field,z=B.referenceIndex+(B.position==="before"?-1:0);T(hrn(z,Y,B.items))},[c.field,T]),$=h.useCallback(B=>{S(nt([B]))},[S]),R=h.useCallback(B=>{n(c.field.path.concat([B]))},[c.field.path,n]),V=h.useMemo(()=>({onBlur:_,onFocus:C,id:c.field.id,ref:x,"aria-describedby":uh(c.field.id,c.field.schemaType.description)}),[_,C,c.field.id,c.field.schemaType.description]),N=h.useMemo(()=>grn(c.field.schemaType.of),[c.field.schemaType.of]),W=h.useCallback((B,Y)=>d4(Y,"text/*")?N:null,[N]),G=h.useCallback(B=>{let{file:Y,schemaType:z,uploader:Z}=B;const Q=Z.upload(w,Y,z).pipe(ue(ne=>ft.from(ne.patches||[])),bn(ne=>S(ne.patches)));b.current&&b.current.unsubscribe(),b.current=Q.subscribe()},[w,S]),H=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,onSetCollapsed:E,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,elementProps:V,path:c.field.path,focusPath:c.field.focusPath,focused:c.field.focused,onChange:S,onInsert:P,onMoveItem:A,onItemRemove:$,onItemAppend:D,onItemPrepend:I,validation:c.field.validation,presence:c.field.presence,resolveUploader:W,onUpload:G,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderItem:v,onIndexFocus:R,renderPreview:g}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.focusPath,c.field.focused,c.field.validation,c.field.presence,E,V,S,P,A,$,D,I,W,G,u,d,p,m,v,R,g]),q=h.useMemo(()=>m(H),[H,m]),X=h.useMemo(()=>({actions:y,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,onExpand:k,changed:c.field.changed,onCollapse:j,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:q,inputProps:H}),[y,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,k,j,q,H]);return l.jsx(Kw,{onFieldGroupSelect:a,onChange:S,onPathOpen:o,onSetFieldSetCollapsed:s,onSetPathCollapsed:i,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(X),[X,f])})}function wIe(e){return Ya(e.field.schemaType)}function yrn(e){return Ll(e.field.schemaType)&&e.field.schemaType.of.every(t=>vve(t))}function JB(e){return Ll(e.field.schemaType)&&e.field.schemaType.of.every(t=>Ya(t))}const rC=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=t;return wIe(n)?l.jsx(urn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):yrn(n)?l.jsx(vrn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInput:a,renderInlineBlock:s,renderItem:c,renderPreview:u}):JB(n)?l.jsx(lrn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):l.jsx(crn,{member:n,renderField:i,renderInput:a})}),CIe=["yes","true","1"],_Ie=["false","no","false","0","null"],brn=CIe.concat(_Ie),Z_=()=>!0,xrn=e=>t=>t&&t[e],wrn=e=>t=>(t&&t._type)===e;function Crn(e){const t=new Date(e.getTime()+e.getTimezoneOffset()*60*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function _rn(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const SO={string:{number:{test:Number,convert:Number},boolean:{test:e=>brn.includes(e.toLowerCase()),convert:e=>CIe.includes(e.toLowerCase())||!_Ie.includes(e.toLowerCase())},richDate:{test:e=>Hu(e),convert:e=>({_type:"richDate",local:Crn(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:_rn(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:wrn("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:xrn("utc"),convert:e=>e.utc}},number:{string:{test:Z_,convert:String},boolean:{test:Z_,convert:Number}},boolean:{string:{test:Z_,convert:e=>e?"Yes":"No"},number:{test:Z_,convert:Number}}};function Srn(e){let{value:t,targetType:n,onChange:r}=e;const o=h.useMemo(()=>({...t,_type:n}),[n,t]),i=h.useCallback(()=>r(ft.from(Zi(n,["_type"])),o),[o,r,n]);return l.jsx(se,{onClick:i,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:n})]})})}function Ern(e){let{value:t,onChange:n,validTypes:r}=e;const o=h.useMemo(()=>({...t,_type:r[0]}),[r,t]),i=h.useCallback(()=>n(ft.from(nt()),o),[o,n]);return l.jsx(se,{onClick:i,tone:"critical",text:"Unset value"})}function krn(e){let{validTypes:t,value:n,onChange:r}=e;const o=En(),i=t.length===1,s=o.has(t[0]);return l.jsx(Hc,{status:"warning",title:l.jsxs(l.Fragment,{children:["Property value missing ",l.jsx("code",{children:"_type"})]}),children:l.jsx(Rm,{open:Uc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Encountered an object value without a ",l.jsx("code",{children:"_type"})," property."]}),i&&!s&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["Either remove the ",l.jsx("code",{children:"name"})," property of the object declaration, or set"," ",l.jsx("code",{children:"_type"})," property on items."]}),!i&&l.jsx(L,{as:"p",muted:!0,size:1,children:"The following types are valid here according to schema:"}),!i&&l.jsx(oe,{as:"ul",space:2,children:t.map(a=>l.jsx(L,{as:"li",muted:!0,size:1,children:l.jsx("code",{children:a})},a))}),l.jsxs(oe,{space:2,children:[l.jsxs(L,{as:"h4",weight:"semibold",size:1,children:["Current value (",l.jsx("code",{children:"object"}),"):"]}),l.jsx(ee,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:l.jsx(ar,{language:"json",children:JSON.stringify(n,null,2)})})]}),l.jsxs(Jt,{columns:[1,2,2],gap:1,children:[i&&l.jsx(Srn,{onChange:r,targetType:t[0],value:n}),l.jsx(Ern,{onChange:r,validTypes:t,value:n})]})]})})})}function jrn(e,t,n){return t in SO?Object.keys(SO[t]).filter(r=>n.includes(r)).map(r=>({from:t,to:r,...SO[t][r]})).filter(r=>r.test(e)):[]}const SIe=h.forwardRef((e,t)=>{const{value:n,actualType:r,validTypes:o,onChange:i}=e;h.useImperativeHandle(t,()=>({focus:()=>{}}));const s=h.useCallback(()=>{i(ft.from(nt()))},[i]),a=h.useCallback(d=>{i(ft.from(xt(d)))},[i]),c=h.useMemo(()=>jrn(n,r,o),[n,r,o]);if(Er(n)&&!("_type"in n))return l.jsx(krn,{value:n,validTypes:o,onChange:i});const u=l.jsx(oe,{padding:2,children:l.jsx(se,{onClick:s,tone:"critical",text:"Reset value"})});return l.jsxs(Hc,{status:"error",suffix:u,title:l.jsx(l.Fragment,{children:"Invalid property value"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"The property value is stored as a value type that does not match the expected type."}),l.jsx(Rm,{marginTop:4,open:Uc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(oe,{space:3,children:[o.length===1&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of this property must be of type ",l.jsx("code",{children:o[0]})," according to the schema."]}),o.length===1&&l.jsx(L,{as:"p",muted:!0,size:1,children:"Mismatching value types typically occur when the schema has recently been changed."}),o.length!==1&&l.jsx(L,{as:"p",muted:!0,size:1,children:"Only the following types are valid here according to schema:"}),o.length!==1&&l.jsx(oe,{as:"ul",space:2,children:o.map(d=>l.jsx(L,{as:"li",children:l.jsx("code",{children:d})},d))}),l.jsxs(oe,{marginTop:2,space:2,children:[l.jsxs(L,{size:1,weight:"semibold",children:["The current value (",l.jsx("code",{children:r}),")"]}),l.jsx(ee,{border:!0,padding:2,radius:2,tone:"inherit",children:l.jsx(ar,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),c.length>0&&l.jsx(oe,{space:1,children:c.map(d=>l.jsx(Trn,{converter:d,onConvert:a,value:n},"".concat(d.from,"-").concat(d.to)))})]})})]})});SIe.displayName="InvalidValueInput";function Trn(e){let{converter:t,onConvert:n,value:r}=e;const o=h.useCallback(()=>n(t.convert(r)),[t,n,r]);return l.jsx(se,{onClick:o,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:t.to})]})})}function Arn(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(ft.from((t.value||[]).map((o,i)=>Zi(Fw(),[i,"_key"]))))},[t.value,n]);return l.jsx(Q0,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Hc,{status:"warning",suffix:l.jsx(oe,{padding:2,children:l.jsx(se,{onClick:r,text:"Add missing keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Missing keys"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Some items in the list are missing their keys. This must be fixed in order to edit the list."}),l.jsx(Rm,{marginTop:4,open:Uc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property has not been included."]}),l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function Drn(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(ft.from((t.duplicates||[]).map(o=>{let[i,s]=o;return xt("".concat(s,"_deduped_").concat(i),[i,"_key"])})))},[t.duplicates,n]);return l.jsx(Q0,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Hc,{status:"warning",suffix:l.jsx(oe,{padding:2,children:l.jsx(se,{onClick:r,text:"Generate unique keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Non-unique keys"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Several items in this list share the same identifier (key). Every item must have an unique identifier."}),l.jsx(Rm,{marginTop:4,open:Uc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property of each elements has been generated non-uniquely."]}),l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function Irn(e){const{error:t,onChange:n}=e,r=()=>{const i=(t.value||[]).flatMap((s,a)=>Er(s)?[]:[a]).reverse().map(s=>nt([s]));n(ft.from(i))};return l.jsx(Q0,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(Hc,{status:"error",suffix:l.jsx(oe,{padding:2,children:l.jsx(se,{onClick:r,text:"Remove non-object values",tone:"critical"})}),title:l.jsx(l.Fragment,{children:"Invalid list values"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Some items in this list are not objects. This must be fixed in order to edit the list."}),l.jsx(Rm,{marginTop:4,open:Uc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsx(oe,{space:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list."})})})]})})}function SA(e){const{member:t}=e,{onChange:n}=ha(),r=h.useCallback(o=>{n(ft.from(o).prefixAll(t.fieldName))},[n,t.fieldName]);return t.error.type==="INCOMPATIBLE_TYPE"?l.jsx(SIe,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):t.error.type==="MISSING_KEYS"?l.jsx(Arn,{error:t.error,onChange:r}):t.error.type==="DUPLICATE_KEYS"?l.jsx(Drn,{error:t.error,onChange:r}):t.error.type==="MIXED_ARRAY"?l.jsx(Irn,{onChange:r,error:t.error}):l.jsxs(M,{children:["Unexpected error: ",e.member.error.type]})}const eN=h.memo(function(t){var n;const{member:r,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d}=t,{onSetFieldSetCollapsed:f}=ha(),p=h.useCallback(()=>{f(r.fieldSet.path,!0)},[r.fieldSet.path,f]),m=h.useCallback(()=>{f(r.fieldSet.path,!1)},[r.fieldSet.path,f]);return l.jsx(bA,{title:r.fieldSet.title||Em(r.fieldSet.name),description:r.fieldSet.description,level:r.fieldSet.level,collapsible:r.fieldSet.collapsible,collapsed:r.fieldSet.collapsed,onCollapse:p,onExpand:m,columns:(n=r==null?void 0:r.fieldSet)==null?void 0:n.columns,"data-testid":"fieldset-".concat(r.fieldSet.name),inputId:r.fieldSet.name,children:r.fieldSet.members.map(v=>v.kind==="error"?l.jsx(SA,{member:v},r.key):l.jsx(rC,{member:v,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d},v.key))})});function tN(e){const t=h.useRef(),{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=e,{onPathBlur:d,onPathFocus:f,onChange:p,onPathOpen:m,onSetPathCollapsed:v,onSetFieldSetCollapsed:g,onFieldGroupSelect:y}=ha(),x=NN();Fi(n.item.focused,(z,Z)=>{var Q;!z&&Z&&((Q=t.current)==null||Q.focus())});const b=h.useCallback(()=>{p(ft.from([nt([{_key:n.key}])]))},[n.key,p]),w=h.useCallback(z=>{m(z),v(z,!1)},[m,v]),C=Ho(),_=h.useCallback(z=>{if(z.items.length===0)throw new Error("Insert event should include at least one item");const Z=z.items.map(re=>ES(re));p(ft.from([ef(Z,z.position,[{_key:n.key}])]));const Q=Z[0]._key,K=[...n.item.path.slice(0,-1),{_key:Q}];f(K);const J=z.open!==!1;z.skipInitialValue?J&&w(K):vIe(Z,n.parentSchemaType,x).pipe(bn(re=>{re.type==="patch"?p(ft.from(re.patches)):C.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(re.schemaType.title,": ").concat(re.error.message,"."),status:"error"})})).subscribe({complete:()=>{J&&w(K)}})},[w,n.item.path,n.key,n.parentSchemaType,p,f,x,C]),S=h.useCallback(()=>{d(n.item.path)},[n.item.path,d]),E=h.useCallback(()=>{f(n.item.path)},[n.item.path,f]),j=h.useCallback(z=>{f(n.item.path.concat(z))},[n.item.path,f]),k=h.useCallback(z=>{p(ft.from(z).prepend(Zi(KB(n.item.schemaType))).prefixAll({_key:n.key}))},[p,n.item.schemaType,n.key]),T=h.useCallback(()=>{v(n.item.path,!0)},[v,n.item.path]),A=h.useCallback(()=>{v(n.item.path,!1)},[v,n.item.path]),D=h.useCallback(z=>{v(n.item.path.concat(z),!0)},[v,n.item.path]),I=h.useCallback(z=>{v(n.item.path.concat(z),!1)},[v,n.item.path]),P=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),$=h.useCallback(z=>{m(n.item.path.concat(z))},[m,n.item.path]),R=h.useCallback(z=>{g(n.item.path.concat(z),!1)},[g,n.item.path]),V=h.useCallback(z=>{g(n.item.path.concat(z),!0)},[g,n.item.path]),N=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),W=!n.item.value||gIe(n.item.value),G=h.useCallback(()=>{W&&b();const z=n.item.path.slice(0,-1);m(z),f(z)},[W,m,n.item.path,f,b]),H=h.useCallback(z=>{y(n.item.path,z)},[y,n.item.path]),q=h.useMemo(()=>({onBlur:S,onFocus:E,id:n.item.id,ref:t,"aria-describedby":uh(n.item.id,n.item.schemaType.description)}),[S,E,n.item.id,n.item.schemaType.description]),X=h.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:k,onFieldClose:P,onFieldCollapse:D,onFieldSetCollapse:V,onFieldExpand:I,onFieldSetExpand:R,onFieldGroupSelect:H,onPathFocus:j,onFieldOpen:$,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:q}),[q,k,P,D,V,I,R,j,$,H,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,o,i,s,a,c,u]),B=h.useMemo(()=>a(X),[X,a]),Y=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:_,onRemove:b,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:N,onClose:G,onExpand:A,onCollapse:T,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:E,onBlur:S,inputId:n.item.id,path:n.item.path,children:B,changed:n.item.changed,inputProps:X}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.parentSchemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.open,_,b,N,G,A,T,E,S,B,X]);return l.jsx(Kw,{onFieldGroupSelect:y,onChange:k,onPathOpen:m,onSetFieldSetCollapsed:g,onSetPathCollapsed:v,onPathBlur:d,onPathFocus:f,children:h.useMemo(()=>c(Y),[Y,c])})}function nN(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error('Unable to create value from type "'.concat(e.jsonType,'"'))}}function Prn(e){const t=h.useRef(),{member:n,renderItem:r,renderInput:o}=e,[i,s]=h.useState(),{onPathBlur:a,onPathFocus:c,onChange:u}=ha();Fi(n.item.focused,(C,_)=>{var S;!C&&_&&((S=t.current)==null||S.focus())});const d=h.useCallback(C=>{a(n.item.path)},[n.item.path,a]),f=h.useCallback(C=>{c(n.item.path)},[n.item.path,c]),p=h.useCallback(C=>{u(ft.from(C).prefixAll(n.index))},[u,n.index]),m=h.useCallback(C=>{let _=C.currentTarget.value;if(kp(n.item.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else Yx(n.item.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);kp(n.item.schemaType)&&s(S?void 0:C.currentTarget.value),p(xt(S?nN(n.item.schemaType):_))},[p,n.item.schemaType]),v=h.useMemo(()=>({onBlur:d,onFocus:f,id:n.item.id,ref:t,onChange:m,value:Orn(n.item.schemaType,n.item.value,i),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":uh(n.item.id,n.item.schemaType.description)}),[d,f,m,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,i]),g=h.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:p,validation:n.item.validation,presence:n.item.presence,elementProps:v}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,p,v]),y=h.useMemo(()=>o(g),[g,o]),x=h.useCallback(()=>{u(ft.from([nt([n.index])]))},[n.index,u]),b=h.useCallback(C=>{u(ft.from([ef(C.items,C.position,[n.index])]))},[n.index,u]),w=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:b,onRemove:x,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:f,onBlur:d,inputId:n.item.id,path:n.item.path,children:y}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,b,x,f,d,y]);return l.jsx(l.Fragment,{children:h.useMemo(()=>r(w),[w,r])})}function Orn(e,t,n){return Object.is(t,-0)?"":xIe(e,t,n)}var nie=Object.freeze,Rrn=Object.defineProperty,$rn=(e,t)=>nie(Rrn(e,"raw",{value:nie(t||e.slice())})),rie;const Mrn=O(ee)(rie||(rie=$rn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function EIe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ie.useState(!1),[a,c]=ie.useState(null);ur(()=>s(!1),[a]);const u=ie.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=ks(t);return l.jsx(en,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(Mrn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(oe,{space:4,children:[l.jsxs(L,{weight:"semibold",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]}),l.jsx(L,{size:1,weight:"semibold",children:"Why is this happening?"}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(K5,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(oe,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(ee,{padding:2,overflow:"auto",border:!0,children:l.jsx(ar,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(ee,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:3,children:l.jsx(L,{children:l.jsx(Cl,{})})}),l.jsx(M,{flex:1,children:l.jsxs(L,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Frn(e){const{member:t}=e;return t.error.type==="INVALID_ITEM_TYPE"?l.jsx(EIe,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})}const Lrn=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderInput:i,renderInlineBlock:s,renderField:a,renderItem:c,renderPreview:u}=t;return n.kind==="field"?l.jsx(rC,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):n.kind==="error"?l.jsx(SA,{member:n},n.key):n.kind==="fieldSet"?l.jsx(eN,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):(console.warn(new Error("Unhandled member kind ".concat(n.kind))),null)});function Brn(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:o,renderInlineBlock:i,renderField:s,renderItem:a,renderPreview:c}=e,u=h.useMemo(()=>t.map(d=>l.jsx(Lrn,{member:d,renderAnnotation:n,renderBlock:r,renderField:s,renderInlineBlock:i,renderInput:o,renderItem:a,renderPreview:c},d.key)),[t,n,r,s,i,o,a,c]);return l.jsx(l.Fragment,{children:u})}const X1=e=>{let{children:t}=e;return t};function Nrn(e){return"absolutePath"in e}const kIe=h.memo(function(t){const n=h.useMemo(()=>Nrn(t)?t.absolutePath:t.path.concat(t.relativePath),[t]),r=h.useCallback(()=>l.jsx(l.Fragment,{children:"Missing destination render function"}),[]);return l.jsx(zrn,{...t,absolutePath:n,destinationRenderAnnotation:t.renderAnnotation||r,destinationRenderBlock:t.renderBlock||r,destinationRenderField:t.renderField,destinationRenderInlineBlock:t.renderInlineBlock||r,destinationRenderInput:t.renderInput,destinationRenderItem:t.renderItem,destinationRenderPreview:t.renderPreview})}),zrn=h.memo(function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderInput:a,destinationRenderItem:c,destinationRenderPreview:u}=t,d=h.useCallback(y=>{if(yn(y.path,n)||wi(n,y.path))return a(y);if(!qoe(y)&&!Goe(y))throw new Error("Expected either object input props or array input props for: ".concat(JSON.stringify(y.path)));return l.jsx(e,{...y,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderInput:a,destinationRenderItem:c,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderPreview:u})},[n,r,o,i,s,a,c,u]),f=h.useCallback(y=>wi(n,y.path)&&(t.includeField||!yn(n,y.path))?i(y):X1(y),[n,i,t.includeField]),p=h.useCallback(y=>wi(n,y.path)&&(t.includeItem||!yn(n,y.path))?c(y):X1(y),[n,c,t.includeItem]),m=h.useCallback(y=>wi(n,y.path)&&(t.includeItem||!yn(n,y.path))?o(y):X1(y),[n,o,t.includeItem]),v=h.useCallback(y=>wi(n,y.path)&&(t.includeItem||!yn(n,y.path))?s(y):X1(y),[n,s,t.includeItem]),g=h.useCallback(y=>wi(n,y.path)&&(t.includeItem||!yn(n,y.path))?r(y):X1(y),[n,r,t.includeItem]);if(Goe(t)){const y=Ry(t.path,n),x=t.members.find(b=>b.kind=="item"&&Rr(y[0])&&b.key===y[0]._key);if(!x){const w=Ry(t.path,n)[0]._key;return l.jsxs("div",{children:["No array item with _key ",l.jsxs("code",{children:['"',w,'"']})," found at path ",JSON.stringify(t.path)]})}return x.kind==="error"?l.jsx(Frn,{member:x}):l.jsx(tN,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderField:f,renderInlineBlock:v,renderItem:p,renderPreview:u})}if(qoe(t)){const y=Ry(t.path,n),x=t.members.find(b=>b.kind=="field"&&y[0]===b.name);if(!x){const b=y[0];return l.jsxs("div",{children:["Field ",JSON.stringify(b)," not found among members – please verify that it's both defined in the schema and that it has not been conditionally hidden."]})}return l.jsx(rC,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderInlineBlock:v,renderField:f,renderItem:p,renderPreview:u})}throw new Error("FormInput can only be used with arrays or objects")}),jIe=h.createContext(null);function Vrn(){const e=h.useContext(jIe);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}function Dx(e){const{scrollElement:t,containerElement:n}=e;return l.jsx(jIe.Provider,{value:{scrollElement:t,containerElement:n},children:e.children})}const Hrn=[0,0,1,0];function TIe(e){const{children:t,header:n,id:r,legacy_referenceElement:o,onClose:i,type:s,width:a,autofocus:c}=e,[u,d]=h.useState(null),f=h.useRef(null),p=l.jsx(nC,{margins:Hrn,children:l.jsx(M,{ref:f,padding:4,children:t})});return s==="dialog"?l.jsx(Dx,{scrollElement:u,containerElement:f,children:l.jsx(Ri,{header:n,id:r||"",onClickOutside:i,onClose:i,width:a,contentRef:d,__unstable_autoFocus:c,children:p})}):l.jsx(ZWt,{header:n,onClose:i,referenceElement:o,width:a,containerRef:d,children:l.jsx(Dx,{scrollElement:u,containerElement:f,children:p})})}function Urn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Wrn={portal:!0,tone:"default"},Yrn={position:"absolute",top:0,left:0,bottom:0,right:0,opacity:.6},qrn={position:"relative"};function Grn(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:y,onClose:x,changed:b,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,E=c.of,j=h.useRef(null);yA(j,m),Fi(w,(q,X)=>{var B;!q&&X&&j.current&&((B=j.current)==null||B.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Tx()}],position:"after"})},[v,p]),A=h.useCallback((q,X)=>{v({items:[J0(X)],position:q})},[v]),D=Y0(u,!0),I=h.useMemo(()=>D.length===0?null:l.jsx(tC,{presence:D,maxAvatars:1}),[D]),P=kB(u,!0),$=h.useMemo(()=>P.length===0?null:l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(X0,{validation:P,__unstable_showSummary:!0})}),[P]),R=P.some(q=>q.level==="error"),V=P.some(q=>q.level==="warning"),N=h.useMemo(()=>d?null:l.jsx(tn,{button:l.jsx(se,{padding:2,mode:"bleed",icon:To}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Bt,{children:[l.jsx(Ve,{text:"Remove",tone:"critical",icon:po,onClick:f}),l.jsx(Ve,{text:"Duplicate",icon:Au,onClick:T}),l.jsx(CA,{types:E,onInsert:A})]}),popover:Wrn}),[T,A,f,E,e.inputId,d]),W=Urn({readOnly:d,hasErrors:R,hasWarnings:V}),G=l.jsx(xA,{menu:N,presence:I,validation:$,tone:W,focused:w,dragHandle:S,selected:m,children:l.jsxs(ee,{as:"button",type:"button",tone:"inherit",radius:2,disabled:k,padding:1,onClick:y,ref:j,onFocus:g,__unstable_focusRing:!0,style:qrn,children:[_({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),k&&l.jsx(ee,{style:Yrn,tone:"transparent",radius:2,as:U,justify:"center",children:l.jsxs(U,{align:"center",justify:"center",padding:3,children:[l.jsx(M,{marginX:3,children:l.jsx(fr,{muted:!0})}),l.jsx(L,{size:1,muted:!0,children:"Resolving initial value…"})]})})]})}),H=Cp(a);return l.jsxs(l.Fragment,{children:[l.jsx(ai,{path:u,isChanged:b,hasFocus:!!w,children:l.jsx(M,{paddingX:1,children:G})}),m&&l.jsx(TIe,{header:d?"View ".concat(H):"Edit ".concat(H),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}function Krn(e){var t;return(t=e.components)!=null&&t.item?e.components.item:Tu(e)?ynn:Grn}function EA(e){const t=Mo(e),{value:n}=li();return El(n,t)}function kA(){const e=EA(["_id"]);if(typeof e=="string")return On(e)}function Zrn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Xrn={portal:!0,tone:"default"};function Qrn(e){var t,n,r,o,i,s,a,c,u,d;const f=h.useRef(null),{schemaType:p,path:m,open:v,inputId:g,children:y,inputProps:x}=e,{readOnly:b,focused:w,renderPreview:C,onChange:_}=e.inputProps,[S,E]=h.useState([]),j=kA(),k=h.useCallback(()=>x.onChange(nt()),[x]),T=e.value,{EditReferenceLink:A,getReferenceInfo:D,selectedState:I,isCurrentDocumentLiveEdit:P}=fN({path:m,schemaType:p,value:T});yA(f,v),Fi(w,(ce,ve)=>{!ce&&ve&&f.current&&f.current.focus()});const $=e.validation.some(ce=>ce.level==="error"),R=e.validation.some(ce=>ce.level==="warning"),V=_A(T==null?void 0:T._ref,D),N=((t=V.result)==null?void 0:t.type)||((n=T==null?void 0:T._strengthenOnPublish)==null?void 0:n.type),W=N?p.to.find(ce=>ce.name===N):void 0,G=I==="pressed",H=I==="selected",q=T==null?void 0:T._ref,X=q&&((i=(o=(r=V.result)==null?void 0:r.preview)==null?void 0:o.published)==null?void 0:i._id),B=h.useCallback(()=>{_([p.weak===!0?xt(!0,["_weak"]):nt(["_weak"]),nt(["_strengthenOnPublish"])])},[_,p.weak]),Y=h.useCallback(()=>{_(p.weak===!0?xt(!0,["_weak"]):nt(["_weak"]))},[_,p]),z=h.useCallback(()=>{x.onPathFocus(["_ref"])},[x]),Z=T!=null&&T._weak?"weak":"strong",Q=p.weak===!0?"weak":"strong",ne=q&&!V.isLoading&&(T==null?void 0:T._strengthenOnPublish),K=!V.isLoading&&((s=V.result)==null?void 0:s.availability.available)&&q&&Z!==Q&&!ne,J=Zrn({readOnly:b,hasErrors:$,hasWarnings:R}),re=!(T!=null&&T._ref)||x.focusPath[0]==="_ref",fe=((a=V.result)==null?void 0:a.preview.draft)||((c=V.result)==null?void 0:c.preview.published),le=l.jsxs(l.Fragment,{children:[P&&X&&T._strengthenOnPublish&&l.jsx(bf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(d=(u=V.result)==null?void 0:u.preview.published)==null?void 0:d.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(se,{onClick:B,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),K&&l.jsx(bf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:Z}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[Q,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",fe!=null&&fe.title?l.jsxs(l.Fragment,{children:['"',fe==null?void 0:fe.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",fe!=null&&fe.title?l.jsxs(l.Fragment,{children:['"',fe==null?void 0:fe.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(se,{onClick:Y,text:l.jsxs(l.Fragment,{children:["Convert to ",Q," reference"]}),tone:"caution"})]})}),V.error&&l.jsx(bf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",V.error.message]}),l.jsx(se,{onClick:V.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),ge=h.useMemo(()=>h.forwardRef(function(ve,$e){return l.jsx(_m,{...ve,intent:"edit",params:{id:T==null?void 0:T._ref,type:W==null?void 0:W.name},target:"_blank",rel:"noopener noreferrer",ref:$e})}),[W==null?void 0:W.name,T==null?void 0:T._ref]),xe=h.useMemo(()=>b?null:l.jsx(M,{marginLeft:1,children:l.jsx(tn,{button:l.jsx(se,{paddingY:3,paddingX:2,mode:"bleed",icon:To}),id:"".concat(g,"-menuButton"),menu:l.jsxs(Bt,{children:[!b&&l.jsxs(l.Fragment,{children:[l.jsx(Ve,{text:"Clear",tone:"critical",icon:po,onClick:k}),l.jsx(Ve,{text:"Replace",icon:h0,onClick:z})]}),!b&&(T==null?void 0:T._ref)&&l.jsx(Pr,{}),(T==null?void 0:T._ref)&&l.jsx(Ve,{as:ge,"data-as":"a",text:"Open in new tab",icon:Uf})]}),popover:Xrn})}),[k,z,g,ge,b,T==null?void 0:T._ref]);return l.jsxs(l.Fragment,{children:[j&&e.actions&&e.actions.length>0&&l.jsx(Zw,{actions:e.actions,documentId:j,documentType:p.name,onActions:E,path:m,schemaType:p}),l.jsx(eC,{actions:S,focused:!!e.inputProps.focused,path:m,children:l.jsx(Q0,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:S,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,children:re?l.jsx(M,{children:y}):l.jsx(ee,{shadow:1,radius:1,padding:1,tone:J,children:l.jsxs(oe,{space:1,children:[l.jsxs(U,{gap:1,align:"center",children:[l.jsx(sIe,{__unstable_focusRing:!0,as:A,"data-pressed":G?!0:void 0,"data-selected":H?!0:void 0,documentId:T==null?void 0:T._ref,documentType:W==null?void 0:W.name,flex:1,paddingX:2,paddingY:1,pressed:G,radius:2,ref:f,selected:H,tone:"inherit",children:l.jsx(iIe,{value:T,referenceInfo:V,renderPreview:C,type:p})}),l.jsx(M,{children:xe})]}),le]})})})})]})}function AIe(e,t){return Un(e.options,t)}const oie=["array","file","image","reference","slug"],Jrn=["asset","crop","hotspot","_ref","_weak"],eon=["tags"],ton=["slug"];function rN(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);const n=e.type?rN(e.type,t):[];return[e,...n]}function non(e,t){return Ll(e)?oon(e,t):ron(e,t)}function ron(e,t){var n,r,o;const{type:i,options:s}=e,a=DIe(i,oie),c=(e==null?void 0:e.jsonType)==="object"?e.fields:void 0,u=(a==null?void 0:a.name)||"";if(ton.includes(u))return 0;const d=oie.includes(u),f=((n=c==null?void 0:c.filter(m=>!Jrn.includes(m.name)).length)!=null?n:0)>0,p=((o=(r=s==null?void 0:s.list)==null?void 0:r.length)!=null?o:0)>0;return f||p||!d?t:0}function oon(e,t){var n;const{options:r}=e,o=((n=(r==null?void 0:r.list)||[])==null?void 0:n.length)>0,i=eon.includes((r==null?void 0:r.layout)||"");return o&&!i?t:0}function DIe(e,t){if(e!=null&&e.name&&t.includes(e==null?void 0:e.name))return e;if(e)return DIe(e.type,t)}const s5=[];function ion(e){return l.jsx(ai,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function EO(e){const[t,n]=h.useState(s5),r=kA(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(Zw,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(eC,{actions:t,focused:o,path:e.path,children:l.jsx(Q0,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":"field-".concat(e.inputId),description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,children:l.jsx(ai,{hasFocus:o,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function son(e){const[t,n]=h.useState(s5),r=kA(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(Zw,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(eC,{actions:t,focused:o,path:e.path,children:l.jsx(bA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":"field-".concat(e.inputId),description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function aon(e){const[t,n]=h.useState(s5),r=kA(),o=!!e.inputProps.focused,i=e.inputProps.members.find(a=>a.kind==="field"&&a.name==="hotspot"),s=i!=null&&i.open?e.presence:e.presence.concat((i==null?void 0:i.field.presence)||s5);return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(Zw,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(eC,{actions:t,focused:o,path:e.path,children:l.jsx(bA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:s,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function lon(e){var t;if((t=e.components)!=null&&t.field)return e.components.field;if(Yx(e))return ion;const n=rN(e,new Set);return n.some(r=>r.name==="image"||r.name==="file")?aon:n.some(r=>lF(r))||n.some(r=>r.name==="slug")?EO:n.some(r=>Tu(r))?Qrn:e.jsonType!=="object"&&e.jsonType!=="array"?EO:son}function con(e){const{allowedDecorators:t,block:n,onChange:r}=e;let o;return i=>{o=Array.isArray(i)?i:[i],o=o.map(a=>fx(a,{allowedDecorators:t}));const s=[ef(o,"after",[{_key:n._key}])];return r(ft.from(s))}}function uon(e){const{allowedDecorators:t,block:n,onChange:r}=e;return o=>{const i=[xt(fx(o,{allowedDecorators:t}),[{_key:n._key}])];return r(ft.from(i))}}function don(e){const{block:t,onChange:n}=e;return()=>{const r=[nt([{_key:t._key}])];return n(ft.from(r))}}var iie=Object.freeze,fon=Object.defineProperty,hon=(e,t)=>iie(fon(e,"raw",{value:iie(t||e.slice())})),sie;const pon=O.div(sie||(sie=hon([`
  display: flex;
  pointer-events: all;
`])));function IIe(e){const t=vo(),{block:n,onChange:r,renderBlockActions:o}=e,i=h.useMemo(()=>t.schemaTypes.decorators.map(a=>a.value),[t]),s=h.useMemo(()=>{if(o){const a={block:n,value:Se.getValue(t),set:uon({allowedDecorators:i,block:n,onChange:r}),unset:don({block:n,onChange:r}),insert:con({allowedDecorators:i,block:n,onChange:r})};return o(a)}},[o,n,t,r,i]);return s?l.jsx(pon,{contentEditable:!1,children:s}):null}var aie=Object.freeze,mon=Object.defineProperty,gon=(e,t)=>aie(mon(e,"raw",{value:aie(t||e.slice())})),lie;const PIe=O.div(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=Dt(o.spot.yellow,.2);return he(lie||(lie=gon([`
    position: absolute;
    border-radius: `,`px;
    top: -`,`px;
    bottom: -`,`px;
    left: `,`px;
    right: 0;
    background-color: `,`;
  `])),n[3],r[2],r[1]+r[1],r[4]+r[1],i)});var cie=Object.freeze,von=Object.defineProperty,yon=(e,t)=>cie(von(e,"raw",{value:cie(t||e.slice())})),uie;const OIe=O(ai)(()=>he(uie||(uie=yon([`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `]))));function jA(e){return e.type?jA(e.type):e.name==="block"}function bon(e){return e.kind==="field"&&e.field.schemaType.jsonType==="array"}const xon=["@@_NONEXISTENT_PATH_@@"];function TA(e){const t=h.useRef(null),n=e!=null&&e.validation&&e.validation.length>0?e.validation:pn,r=kB((e==null?void 0:e.path)||xon),o=h.useMemo(()=>e!=null&&e.schemaType&&jA(e==null?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[i,s,a]=h.useMemo(()=>[o.filter(u=>u.level==="error").length>0,o.filter(u=>u.level==="warning").length>0,o.filter(u=>u.level==="info").length>0],[o]),c=EB(t.current,o);return t.current=c,h.useMemo(()=>({validation:c,hasError:i,hasWarning:s,hasInfo:a}),[c,i,s,a])}const RIe=h.createContext([]);function won(e){return l.jsx(RIe.Provider,{value:e.markers,children:e.children})}function AA(e){const t=h.useContext(RIe);if(!t)throw new Error("Form context not provided");return h.useMemo(()=>t.filter(r=>yn(r.path,e)),[t,e])}const oN=h.createContext([]);function Con(e){return l.jsx(oN.Provider,{value:e.memberItems,children:e.children})}function DA(e){const t=h.useContext(oN);if(!t)throw new Error("Form context not provided");return t.find(n=>n.key===e)}function _on(){const e=h.useContext(oN);if(!e)throw new Error("Form context not provided");return e}var die=Object.freeze,Son=Object.defineProperty,Xu=(e,t)=>die(Son(e,"raw",{value:die(t||e.slice())})),fie,hie,pie,mie,gie,vie,yie,bie,xie;const Eon=O(ee)(e=>{var t;const{color:n,radius:r,space:o}=e.theme.sanity,i=he(fie||(fie=Xu([`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -`,`px;
    bottom: -`,`px;
    left: -`,`px;
    right: -`,`px;
    border-radius: `,`px;
    mix-blend-mode: `,`;
  `])),o[1],o[1],o[1],o[1],r[2],n.dark?"screen":"multiply");return he(hie||(hie=Xu([`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: `,`px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      box-shadow: 0 0 0 1px `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      &:after {
        `,`
        background-color: `,`;
      }
    }

    &[data-warning] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),r[1],(t=n.selectable)==null?void 0:t.primary.selected.border,n.input.default.hovered.border,i,n.dark?pe.purple[950].hex:pe.purple[50].hex,i,n.muted.caution.hovered.bg,n.muted.caution.hovered.border,i,n.input.invalid.enabled.bg,n.input.invalid.hovered.border)}),kon=O(M)(pie||(pie=Xu([`
  display: block;
  width: 100%;
  user-select: none;
  pointer-events: all;
`]))),jon=O.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return he(gie||(gie=Xu([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`

      [data-dragged] & {
        visibility: hidden;
      }
    `])),r[2],r[1],!n&&he(mie||(mie=Xu([`
        display: none;
      `]))))}),Ton=O(U)(vie||(vie=Xu([`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`]))),Aon=O(M)(yie||(yie=Xu([`
  width: 25px;
  position: relative;

  [data-dragged] & {
    visibility: hidden;
  }
`]))),Don=O(U)(bie||(bie=Xu([`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`]))),Ion=O(M)(xie||(xie=Xu([`
  max-width: 250px;
`]))),Pon={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function Oon(e){const{children:t,focused:n,isOpen:r,onOpen:o,onRemove:i,readOnly:s,value:a}=e,c=h.useId(),u=h.useRef(null),d=h.useRef(!1),f=h.useMemo(()=>td(a)?h.forwardRef(function(v,g){return l.jsx(_m,{...v,intent:"edit",params:{id:a._ref},ref:g})}):void 0,[a]);h.useEffect(()=>{r&&(d.current=!1)},[r]),Ts(h.useCallback(m=>{n&&m.key==="Tab"&&u.current&&!d.current&&!r&&(m.preventDefault(),m.stopPropagation(),u.current.focus(),d.current=!0)},[n,r]));const p=h.useCallback(m=>{m.preventDefault(),m.stopPropagation(),i()},[i]);return l.jsxs(U,{children:[l.jsx(M,{flex:1,children:t}),l.jsx(M,{children:l.jsx(tn,{button:l.jsx(se,{"aria-label":"Open menu",fontSize:1,iconRight:To,mode:"bleed",paddingX:2,tabIndex:n?0:1}),ref:u,id:c,menu:l.jsx(Bt,{children:l.jsxs(l.Fragment,{children:["_ref"in a&&a._ref&&l.jsx(Ve,{as:f,"data-as":"a",icon:kf,text:"Open reference"}),s&&l.jsx(Ve,{icon:DF,onClick:o,text:"View"}),!s&&l.jsx(Ve,{icon:Du,onClick:o,text:"Edit"}),!s&&l.jsx(Ve,{icon:po,onClick:p,text:"Delete",tone:"critical"})]})}),popover:Pon})})]})}const $Ie=e=>Array.isArray(e)?e.flatMap($Ie):typeof e=="number"?[e]:e==="auto"?["auto"]:[],Ron=e=>e==="dialog"||e==="popover"?e:void 0;function $on(e){var t;const n=(t=e.options)==null?void 0:t.modal;return typeof n=="object"&&n!==null?{type:Ron(n.type),width:$Ie(n.width)}:void 0}function Mon(e){const{onClose:t,children:n,title:r,width:o=1,autoFocus:i}=e,s=h.useId(),[a,c]=h.useState(null),u=h.useRef(null);return l.jsx(Ri,{header:r,id:s,onClickOutside:t,onClose:t,portal:"default",width:o,contentRef:c,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:i,children:l.jsx(nC,{margins:[0,0,1,0],children:l.jsx(Dx,{scrollElement:a,containerElement:u,children:l.jsx(M,{padding:4,ref:u,children:n})})})})}var wie=Object.freeze,Fon=Object.defineProperty,iN=(e,t)=>wie(Fon(e,"raw",{value:wie(t||e.slice())})),Cie,_ie,Sie;const Lon=O(en)(Cie||(Cie=iN([`
  &[data-popper-reference-hidden='true'] {
    visibility: hidden;
    pointer-events: none;
  }

  & > div {
    overflow: hidden;
    overflow: clip;
  }
`]))),Bon=O(M)(_ie||(_ie=iN([`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`]))),Non=O(M)(Sie||(Sie=iN([`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`]))),zon=["top","bottom"];function Von(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:o=0}=e,[i,s]=h.useState(!1);return h.useEffect(()=>{s(!0)},[]),l.jsx(Lon,{content:l.jsx(Hon,{...e}),constrainSize:!0,"data-ui":"PopoverEditDialog",fallbackPlacements:zon,floatingBoundary:t,open:i,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:o})}function Hon(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:o,autoFocus:i}=e;Ts(h.useCallback(u=>{u.key==="Escape"&&t()},[t])),ur(t,r?[r]:[],n);const[s,a]=h.useState(null),c=h.useRef(null);return l.jsx(Dx,{scrollElement:s,containerElement:c,children:l.jsxs(U,{ref:c,direction:"column",height:"fill",children:[l.jsx(Non,{flex:"none",padding:1,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,padding:2,children:l.jsx(L,{weight:"semibold",children:o})}),l.jsx(se,{autoFocus:!!i,icon:Ti,mode:"bleed",onClick:t,padding:2})]})}),l.jsx(Bon,{flex:1,children:l.jsx(nC,{margins:[0,0,1,0],children:l.jsx(M,{padding:3,ref:a,children:e.children})})})]})})}function sN(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:o,referenceBoundary:i,referenceElement:s,schemaType:a}=e,c=h.useMemo(()=>$on(a),[a]),u=(c==null?void 0:c.type)||n,d=l.jsxs(l.Fragment,{children:["Edit ",a.title]}),f=h.useCallback(()=>{o()},[o]),p=c==null?void 0:c.width;return u==="popover"?l.jsx(Von,{autoFocus:t,floatingBoundary:r,onClose:f,referenceBoundary:i,referenceElement:s,title:d,width:p,children:e.children}):l.jsx(Mon,{onClose:f,title:d,width:p,autoFocus:t,children:e.children})}function Uon(e){var t;const{floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,relativePath:f,renderAnnotation:p,renderBlock:m,renderBlockActions:v,renderCustomMarkers:g,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:w,renderPreview:C,schemaType:_,selected:S,value:E}=e,{onChange:j}=ha(),{Markers:k}=li().__internal.components,[T,A]=h.useState(!1),D=AA(c),I=vo(),P=DA(xn(c)),$=h.useRef(!1),R=h.useMemo(()=>({anchor:{path:f,offset:0},focus:{path:f,offset:0}}),[f]),V=h.useCallback(()=>A(!0),[]),N=h.useCallback(()=>A(!1),[]),W=h.useCallback(()=>{P&&(Se.blur(I),s(P.node.path))},[I,P,s]),G=h.useCallback(()=>{i(),Se.select(I,R),Se.focus(I)},[i,I,R]),H=h.useCallback(()=>{if(!$.current)try{Se.delete(I,R,{mode:"blocks"})}catch(ve){console.error(ve)}finally{$.current=!0}},[I,R]);h.useEffect(()=>()=>{$.current&&Se.focus(I)},[I]);const q=h.useMemo(()=>o&&!v?{paddingX:5}:o&&v?{paddingLeft:5,paddingRight:2}:v?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,v]),{validation:X,hasError:B,hasWarning:Y,hasInfo:z}=TA(P==null?void 0:P.node),Z=I.schemaTypes.portableText,Q=D.length>0,ne=Y0(c,!0),K=h.useMemo(()=>ne.filter(ve=>yn(ve.path,c)),[c,ne]),J=B||Y||z||Q,re=h.useMemo(()=>J&&l.jsx(Ion,{padding:2,children:l.jsx(k,{markers:D,validation:X,renderCustomMarkers:g})})||null,[k,D,g,J,X]),fe=!!(P!=null&&P.member.open),le=P==null?void 0:P.input,ge=(P==null?void 0:P.node.path)||pn,xe=(t=P==null?void 0:P.elementRef)==null?void 0:t.current,ce=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:xe||null,children:le,focused:r,markers:D,onClose:G,onOpen:W,onPathFocus:a,onRemove:H,open:fe,parentSchemaType:Z,path:ge,presence:K,readOnly:!!u,renderAnnotation:p,renderBlock:m,renderDefault:MIe,renderField:y,renderInlineBlock:x,renderInput:b,renderItem:w,renderPreview:C,schemaType:_,selected:S,validation:X,value:E}),[n,xe,le,r,D,G,W,a,H,fe,Z,ge,K,u,d,p,m,y,x,b,w,C,_,S,X,E]);return h.useMemo(()=>l.jsx(M,{ref:P==null?void 0:P.elementRef,contentEditable:!1,children:l.jsx(U,{paddingBottom:1,marginY:3,style:void 0,children:l.jsxs(Ton,{flex:1,children:[l.jsx(at,{placement:"top",portal:"editor",disabled:!J,content:re,children:l.jsx(kon,{...q,children:m&&m(ce)})}),l.jsx(Aon,{marginRight:1,children:l.jsx(Don,{children:v&&E&&r&&!u&&l.jsx(IIe,{block:E,onChange:j,renderBlockActions:v})})}),o&&P&&l.jsx(jon,{$hasChanges:P.member.item.changed,onMouseOut:N,onMouseOver:V,children:l.jsx(OIe,{hasFocus:r,isChanged:P.member.item.changed,path:P.member.item.path,withHoverEffect:!1})}),T&&l.jsx(PIe,{})]})})}),[ce,r,N,V,q,o,P,j,u,m,v,T,re,J,E])}const MIe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,value:g,validation:y}=e,x=CMe(g),b=y.filter(E=>E.level==="error").length>0,w=y.filter(E=>E.level==="warning").length>0,C=s.length>0,_=v||i?"primary":"default",S=h.useCallback(E=>{E.preventDefault(),E.stopPropagation(),c()},[c]);return l.jsxs(l.Fragment,{children:[l.jsx(Eon,{"data-focused":i?"":void 0,"data-image-preview":x?"":void 0,"data-invalid":b?"":void 0,"data-markers":C?"":void 0,"data-read-only":f?"":void 0,"data-selected":v?"":void 0,"data-testid":"pte-block-object","data-warning":w?"":void 0,flex:1,onDoubleClick:S,padding:x?0:1,tone:_,children:p({actions:l.jsx(Oon,{isOpen:d,focused:i,onOpen:c,onRemove:u,readOnly:f,value:g}),layout:x?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:g})}),d&&l.jsx(sN,{floatingBoundary:t,defaultType:"dialog",onClose:a,autoFocus:i,schemaType:m,referenceBoundary:n,referenceElement:r,children:o})]})},Q1=[1,2,3,4,5,6,7,8,9],Eie=["●","○","■"],kie=["number","lower-alpha","lower-roman"],Won={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},Yon={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}};function Gh(e){return"list-level-".concat(e)}var jie=Object.freeze,qon=Object.defineProperty,Pc=(e,t)=>jie(qon(e,"raw",{value:jie(t||e.slice())})),Tie,Aie,Die,Iie,Pie,Oie,Rie,$ie,Mie,Fie;function Gon(e){var t;const{$level:n,theme:r}=e,{color:o,fonts:i,radius:s,space:a}=r.sanity,c=kie[(n-1)%kie.length],u=Eie[(n-1)%Eie.length];return he(Tie||(Tie=Pc([`
    --marker-bg-color: transparent;

    mix-blend-mode: `,`;
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -`,`px;
      bottom: -`,`px;
      left: -`,`px;
      right: -`,`px;
      border-radius: `,`px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
    }

    &[data-markers] {
      --marker-bg-color: `,`;
    }

    &[data-warning] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    &[data-error] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(`,`) '.';
        content: counter(`,", ",`) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '`,`';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: `,`;
      flex: 1;

      *::selection {
        background-color: `,`;
      }
    }
  `])),o.dark?"screen":"multiply",a[1],a[1],a[1],a[1],s[2],o.dark?pe.purple[950].hex:pe.purple[50].hex,o.muted.caution.enabled.border,o.muted.caution.hovered.bg,o.muted.critical.enabled.border,o.muted.critical.hovered.bg,Gh(n),Gh(n),c,u,i.text.family,(t=o.selectable)==null?void 0:t.primary.pressed.bg)}const Kon=O.div(Gon),Zon=O(M)(Aie||(Aie=Pc([`
  position: relative;
  display: flex;
`]))),Xon=O.div(Die||(Die=Pc([`
  user-select: none;
  white-space: nowrap;
`]))),Qon=O(M)(Iie||(Iie=Pc([`
  user-select: none;
`]))),Jon=O(M)(Pie||(Pie=Pc([`
  line-height: 0;
  width: 25px;
  position: relative;
`]))),ein=O(U)(e=>{let{theme:t}=e;const{fonts:n,space:r}=t.sanity,o=n.text.sizes[1],i=n.text.sizes[2],s=o.lineHeight-o.ascenderHeight-o.descenderHeight,a=i.lineHeight-i.ascenderHeight-i.descenderHeight,u=0-(s+r[2]+r[2]-a)/2;return he(Oie||(Oie=Pc([`
    user-select: none;
    position: absolute;
    right: 0;
    top: `,`px;
  `])),u)}),tin=O(M)(Rie||(Rie=Pc([`
  max-width: 250px;
`]))),nin=O(U)($ie||($ie=Pc([`
  position: relative;
  padding-left: `,`px;
`])),e=>{let{$level:t}=e;return t?t*32:0}),rin=O.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return he(Fie||(Fie=Pc([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`
    `])),r[2],r[1],!n&&he(Mie||(Mie=Pc([`
        display: none;
      `]))))});var Lie=Object.freeze,oin=Object.defineProperty,FIe=(e,t)=>Lie(oin(e,"raw",{value:Lie(t||e.slice())})),Bie,Nie;const gd=O.div(Bie||(Bie=FIe([`
  display: block;
`]))),aN=e=>{let{children:t,...n}=e;return l.jsx(L,{"data-testid":"text-style--normal",...n,children:l.jsx(gd,{children:t})})},LIe=e=>{let{children:t,...n}=e;return l.jsx(Vo,{as:"h1","data-testid":"text-style--h1",size:5,...n,children:l.jsx(gd,{children:t})})},BIe=e=>{let{children:t,...n}=e;return l.jsx(Vo,{as:"h2","data-testid":"text-style--h2",size:4,...n,children:l.jsx(gd,{children:t})})},NIe=e=>{let{children:t,...n}=e;return l.jsx(Vo,{as:"h3","data-testid":"text-style--h3",size:3,...n,children:l.jsx(gd,{children:t})})},zIe=e=>{let{children:t,...n}=e;return l.jsx(Vo,{as:"h4","data-testid":"text-style--h4",size:2,...n,children:l.jsx(gd,{children:t})})},VIe=e=>{let{children:t,...n}=e;return l.jsx(Vo,{as:"h5","data-testid":"text-style--h5",size:1,...n,children:l.jsx(gd,{children:t})})},HIe=e=>{let{children:t,...n}=e;return l.jsx(Vo,{as:"h6","data-testid":"text-style--h6",size:0,...n,children:l.jsx(gd,{children:t})})},iin=O.blockquote(Nie||(Nie=FIe([`
  position: relative;
  display: block;
  margin: 0;
  padding-left: `,`px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`])),e=>{let{theme:t}=e;return t.sanity.space[3]}),UIe=e=>{let{children:t,...n}=e;return l.jsx(iin,{"data-testid":"text-style--blockquote",...n,children:l.jsx(L,{as:"p",children:t})})},kO={normal:aN,h1:LIe,h2:BIe,h3:NIe,h4:zIe,h5:VIe,h6:HIe,blockquote:UIe};function sin(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,renderBlock:f,renderAnnotation:p,renderBlockActions:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:y,renderInput:x,renderItem:b,renderPreview:w,schemaType:C,selected:_,spellCheck:S,value:E}=e,{Markers:j}=li().__internal.components,[k,T]=h.useState(!1),A=AA(c),D=DA(xn(c)),I=vo(),{onChange:P}=ha(),$=Y0(c,!0),R=h.useMemo(()=>$.filter(le=>yn(le.path,c)||le.path.slice(-3)[1]==="children"&&le.path.length-c.length===2),[c,$]),V=h.useCallback(()=>T(!0),[]),N=h.useCallback(()=>T(!1),[]),{validation:W,hasError:G,hasWarning:H,hasInfo:q}=TA(D==null?void 0:D.node),X=!!v&&A.length>0,B=G||H||X||q,Y=h.useCallback(()=>{D&&s(D.node.path)},[s,D]),z=h.useCallback(()=>{const le={path:c.slice(-1),offset:0},ge={focus:le,anchor:le};Se.delete(I,ge,{mode:"blocks"}),Se.focus(I)},[c,I]),Z=h.useMemo(()=>l.jsxs(nin,{align:"flex-start",$level:E==null?void 0:E.level,children:[E.listItem&&l.jsx(Xon,{contentEditable:!1,children:l.jsx(L,{"data-list-prefix":"",children:l.jsx(gd,{})})}),l.jsx("div",{"data-text":"",style:void 0,children:t})]}),[E.listItem,E.level,t]),Q=h.useMemo(()=>o&&!m?{paddingX:5}:o&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,m]),ne=h.useMemo(()=>E.listItem?{paddingY:2}:Yon[E.style||"normal"]||{paddingY:2},[E]),K=!!(D!=null&&D.member.open),J=I.schemaTypes.portableText,re=h.useMemo(()=>{var le;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((le=D==null?void 0:D.elementRef)==null?void 0:le.current)||null,children:Z,focused:r,markers:A,onClose:i,onOpen:Y,onPathFocus:a,onRemove:z,open:K,parentSchemaType:J,path:(D==null?void 0:D.node.path)||pn,presence:R,readOnly:!!u,renderAnnotation:p,renderBlock:f,renderDefault:WIe,renderField:g,renderInput:x,renderInlineBlock:y,renderItem:b,renderPreview:w,schemaType:C,selected:_,validation:W,value:E}},[n,r,K,A,D==null?void 0:D.elementRef,D==null?void 0:D.node.path,i,Y,a,z,J,u,d,p,f,g,y,x,b,w,C,_,Z,R,W,E]),fe=h.useMemo(()=>B&&l.jsx(tin,{padding:2,children:l.jsx(j,{markers:A,renderCustomMarkers:v,validation:W})})||null,[j,A,v,B,W]);return h.useMemo(()=>l.jsx(M,{"data-testid":"text-block",...ne,style:void 0,ref:D==null?void 0:D.elementRef,children:l.jsx(Zon,{"data-testid":"text-block__wrapper",children:l.jsxs(U,{flex:1,...Q,children:[l.jsx(M,{flex:1,children:l.jsx(at,{content:fe,disabled:!B,placement:"top",portal:"editor",children:l.jsx(Kon,{$level:E.level||1,"data-error":G?"":void 0,"data-list-item":E.listItem,"data-markers":X?"":void 0,"data-read-only":u,"data-testid":"text-block__text","data-warning":H?"":void 0,spellCheck:S,children:f&&f(re)})})}),l.jsxs(Qon,{contentEditable:!1,children:[l.jsx(Jon,{marginRight:1,children:l.jsx(ein,{children:m&&r&&!u&&l.jsx(IIe,{onChange:P,block:E,renderBlockActions:m})})}),o&&D&&l.jsx(rin,{$hasChanges:D.member.item.changed,onMouseEnter:V,onMouseLeave:N,children:l.jsx(OIe,{hasFocus:r,isChanged:D.member.item.changed,path:D.member.item.path,withHoverEffect:!1})})]}),k&&l.jsx(PIe,{})]})})}),[re,r,V,N,G,X,H,Q,o,D,P,ne,u,f,m,k,S,fe,B,E])}const WIe=e=>l.jsx(l.Fragment,{children:e.children});var zie=Object.freeze,ain=Object.defineProperty,lin=(e,t)=>zie(ain(e,"raw",{value:zie(t||e.slice())})),Vie;const cin=O(en)(Vie||(Vie=lin([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),uin=["top","bottom"];function din(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:o,referenceBoundary:i,referenceElement:s,title:a,open:c}=e,{sanity:u}=As(),d=h.useRef(null),f=h.useRef(null),p=u.color.dark?"light":"dark";Ts(h.useCallback(g=>{g.key==="Escape"&&(g.preventDefault(),g.stopPropagation(),n())},[n]));const m=h.useCallback(g=>{var y;if(!((y=f.current)!=null&&y.disabled)){g.preventDefault(),g.stopPropagation();try{o(g)}catch(x){console.error(x)}finally{f.current&&(f.current.disabled=!0)}}},[o]),v=h.useMemo(()=>l.jsx(M,{padding:1,children:l.jsxs(Gt,{space:1,children:[l.jsx(M,{padding:2,children:l.jsx(L,{weight:"semibold",size:1,children:a})}),l.jsx(se,{icon:Du,mode:"bleed",onClick:r,padding:2,ref:d,alt:"Edit object"}),l.jsx(se,{ref:f,icon:po,mode:"bleed",padding:2,onClick:m,tone:"critical",alt:"Remove object"})]})}),[m,r,a]);return l.jsx(cin,{constrainSize:!0,content:v,fallbackPlacements:uin,floatingBoundary:t,open:c,placement:"top",portal:!0,referenceBoundary:i,referenceElement:s,scheme:p})}var Hie=Object.freeze,fin=Object.defineProperty,lN=(e,t)=>Hie(fin(e,"raw",{value:Hie(t||e.slice())})),Uie,Wie,Yie;const hin=O(ee)(gin),pin=O.span(Uie||(Uie=lN([`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`]))),min=O(M)(Wie||(Wie=lN([`
  max-width: 250px;
`])));function gin(e){let{theme:t}=e;var n,r,o;const{color:i,radius:s}=t.sanity;return he(Yie||(Yie=lN([`
    line-height: 0;
    border-radius: `,`px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px `,`;
      color: `,`;
    }

    &[data-selected] {
      background-color: `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      --card-bg-color: `,`;
    }

    &[data-warning] {
      --card-bg-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: `,`;
      --card-border-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),s[2],(n=i.selectable)==null?void 0:n.primary.selected.border,(r=i.selectable)==null?void 0:r.primary.pressed.fg,(o=i.selectable)==null?void 0:o.primary.pressed.bg,i.input.default.hovered.border,i.dark?pe.purple[950].hex:pe.purple[50].hex,i.muted.caution.hovered.bg,i.muted.caution.hovered.border,i.input.invalid.enabled.bg,i.input.invalid.enabled.border,i.input.invalid.hovered.border)}const vin=e=>{var t;const{floatingBoundary:n,focused:r,onItemClose:o,onItemOpen:i,onPathFocus:s,path:a,readOnly:c,referenceBoundary:u,relativePath:d,renderAnnotation:f,renderBlock:p,renderCustomMarkers:m,renderField:v,renderItem:g,renderInlineBlock:y,renderInput:x,renderPreview:b,schemaType:w,selected:C,value:_}=e,{Markers:S}=li().__internal.components,E=vo(),j=AA(a),k=DA(xn(a)),{validation:T,hasError:A,hasInfo:D,hasWarning:I}=TA(k==null?void 0:k.node),P=E.schemaTypes.block,$=j.length>0,R=h.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),V=h.useCallback(()=>{Se.delete(E,R,{mode:"children"}),Se.focus(E)},[R,E]),N=h.useCallback(()=>{k&&(Se.blur(E),i(k.node.path))},[E,i,k]),W=h.useCallback(()=>{o(),Se.select(E,R),Se.focus(E)},[o,E,R]),G=!!(k!=null&&k.member.open),H=k==null?void 0:k.input,q=(k==null?void 0:k.node.path)||pn,X=(t=k==null?void 0:k.elementRef)==null?void 0:t.current,B=Y0(a,!0),Y=h.useMemo(()=>B.filter(ne=>yn(ne.path,a)),[a,B]),z=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:u,__unstable_referenceElement:X,children:H,focused:r,onClose:W,onOpen:N,onPathFocus:s,onRemove:V,open:G,markers:j,member:k==null?void 0:k.member,parentSchemaType:P,path:q,presence:Y,readOnly:!!c,renderAnnotation:f,renderBlock:p,renderDefault:YIe,renderField:v,renderInlineBlock:y,renderInput:x,renderItem:g,renderPreview:b,schemaType:w,selected:C,value:_,validation:T}),[n,r,H,G,j,k==null?void 0:k.member,q,W,N,s,V,P,c,u,X,f,p,v,y,x,g,b,Y,w,C,T,_]),Z=A||I||D||$,Q=h.useMemo(()=>Z&&l.jsx(min,{padding:2,children:l.jsx(S,{markers:j,validation:T,renderCustomMarkers:m})})||null,[S,j,m,Z,T]);return h.useMemo(()=>l.jsx("span",{ref:k==null?void 0:k.elementRef,contentEditable:!1,children:l.jsx(at,{placement:"bottom",portal:"editor",disabled:!Z,content:Q,children:y&&l.jsx("span",{style:{position:"relative"},children:y(z)})})}),[z,k==null?void 0:k.elementRef,y,Q,Z])},YIe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,validation:g,value:y}=e,x=s.length>0,[b,w]=h.useState(!1),C=(m==null?void 0:m.title)||m.name,_=g.filter(T=>T.level==="error").length>0,S=g.filter(T=>T.level==="warning").length>0,E=h.useCallback(()=>{w(!1),c()},[c]);h.useEffect(()=>{w(d?!1:!!i)},[i,d]);const j=h.useMemo(()=>{if(_)return"critical";if(S)return"caution";if(v||i)return"primary"},[i,_,S,v]),k=h.useCallback(()=>{w(!1)},[]);return l.jsxs(l.Fragment,{children:[l.jsx(hin,{"data-focused":i||void 0,"data-invalid":_||void 0,"data-markers":x||void 0,"data-read-only":f||void 0,"data-selected":v||void 0,"data-warning":S||void 0,forwardedAs:"span",onClick:f?E:void 0,onDoubleClick:E,tone:j,children:l.jsx(pin,{children:p({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:y,fallbackTitle:"Click to edit"})})}),r&&l.jsx(din,{floatingBoundary:t,onClosePopover:k,onDelete:u,onEdit:E,open:b,referenceBoundary:n,referenceElement:r,title:C}),d&&l.jsx(sN,{defaultType:"popover",onClose:a,autoFocus:i,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};var qie=Object.freeze,yin=Object.defineProperty,bin=(e,t)=>qie(yin(e,"raw",{value:qie(t||e.slice())})),Gie;const xin=O(en)(Gie||(Gie=bin([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),win=["top","bottom"];function Cin(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:o,referenceBoundary:i,referenceElement:s,selected:a,title:c}=e,[u,d]=h.useState(!1),[f,p]=h.useState(null),m=h.useRef(null),{sanity:v}=As(),g=h.useRef(null),y=v.color.dark?"light":"dark",x=h.useMemo(()=>f?{getBoundingClientRect:()=>f}:null,[f]);Ts(h.useCallback(S=>{u&&S.key==="Escape"&&d(!1)},[u]));const b=h.useCallback(()=>{if(t){d(!1),p(null);return}const S=window.getSelection();if(!S||S.rangeCount===0)return;const E=S.getRangeAt(0);if(!(s==null?void 0:s.contains(E.commonAncestorContainer))){d(!1),p(null);return}const k=E==null?void 0:E.getBoundingClientRect();k&&(d(!0),p(k))},[t,s]);h.useEffect(()=>(document.addEventListener("selectionchange",b,{passive:!0}),()=>{document.removeEventListener("selectionchange",b)}),[b]);const w=h.useCallback(()=>{d(!1),r()},[r]);h.useEffect(()=>{!t&&a&&d(!0),t&&d(!1)},[t,a]);const C=h.useCallback(()=>{d(!1),o()},[o]),_=h.useCallback(()=>{m.current&&p(m.current.getBoundingClientRect())},[]);return h.useEffect(()=>{if(u)return i==null||i.addEventListener("scroll",_),()=>{i==null||i.removeEventListener("scroll",_)}},[u,i,_]),u?l.jsx(xin,{open:u,floatingBoundary:n,constrainSize:!0,content:l.jsx(M,{padding:1,"data-testid":"annotation-toolbar-popover",children:l.jsxs(Gt,{space:1,children:[l.jsx(M,{padding:2,children:l.jsx(L,{weight:"semibold",size:1,children:c})}),l.jsx(se,{icon:Du,mode:"bleed",onClick:w,padding:2,alt:"Edit annotation",tabIndex:0}),l.jsx(se,{icon:po,mode:"bleed",padding:2,onClick:C,tone:"critical",alt:"Remove annotation",tabIndex:0})]})}),fallbackPlacements:win,placement:"top",portal:!0,preventOverflow:!0,ref:g,referenceBoundary:i,referenceElement:x,scheme:y}):null}var Kie=Object.freeze,_in=Object.defineProperty,qIe=(e,t)=>Kie(_in(e,"raw",{value:Kie(t||e.slice())})),Zie,Xie;const Sin=O.span(e=>{var t,n,r,o;const{$toneKey:i="default",theme:s}=e;return he(Zie||(Zie=qIe([`
      text-decoration: none;
      display: inline;
      background-color: `,`;
      border-bottom: 1px dashed `,`;
      color: `,`;

      &[data-link] {
        border-bottom: 1px solid `,`;
      }

      &[data-custom-markers] {
        background-color: `,`;
      }

      &[data-warning] {
        background-color: `,`;
      }

      &[data-error] {
        background-color: `,`;
      }
    `])),(t=s.sanity.color.selectable)==null?void 0:t[i].enabled.bg,(n=s.sanity.color.selectable)==null?void 0:n[i].enabled.fg,(r=s.sanity.color.selectable)==null?void 0:r[i].enabled.fg,(o=s.sanity.color.selectable)==null?void 0:o[i].enabled.fg,s.sanity.color.dark?pe.purple[950].hex:pe.purple[50].hex,s.sanity.color.muted.caution.hovered.bg,s.sanity.color.muted.critical.hovered.bg)}),Ein=O(M).attrs({forwardedAs:"span"})(Xie||(Xie=qIe([`
  max-width: 250px;
`])));function kin(e){var t;const{children:n,editorNodeFocused:r,floatingBoundary:o,focused:i,onItemClose:s,onItemOpen:a,onPathFocus:c,path:u,readOnly:d,referenceBoundary:f,renderAnnotation:p,renderBlock:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:y,renderInput:x,renderItem:b,renderPreview:w,schemaType:C,selected:_,value:S}=e,{Markers:E=nDe}=li().__internal.components,j=vo(),k=h.useMemo(()=>u.slice(0,u.length-2).concat(["markDefs",{_key:S._key}]),[u,S._key]),[T,A]=h.useState(null),D=h.useMemo(()=>u.slice(u.length-3,u.length),[u]),I=DA(xn(k)),{validation:P}=TA(I==null?void 0:I.node),$=AA(u),R=h.useMemo(()=>l.jsx("span",{"data-annotation":"",children:n}),[n]),V=h.useCallback(()=>{I&&(Se.blur(j),c(I.node.focusPath),a(I.node.path))},[j,I,a,c]),N=h.useCallback(()=>{s();const K=Se.getSelection(j),J=(K==null?void 0:K.focus.path)&&yn(K.focus.path,D)&&K.focus.offset,re=(K==null?void 0:K.anchor.path)&&yn(K.anchor.path,D)&&K.anchor.offset;Se.select(j,{anchor:{path:D,offset:re||0},focus:{path:D,offset:J||0}}),Se.focus(j)},[j,D,s]),W=h.useCallback(()=>{Se.removeAnnotation(j,C),Se.focus(j)},[j,C]),G=h.useMemo(()=>P.length>0||$.length>0?l.jsx(at,{placement:"bottom",portal:"default",content:l.jsx(Ein,{padding:2,children:l.jsx(E,{markers:$,renderCustomMarkers:v,validation:P})}),children:R}):void 0,[E,$,v,R,P]),H=Y0(u,!0),q=h.useMemo(()=>H.filter(K=>yn(K.path,u)),[u,H]),X=!!(I!=null&&I.member.open),B=I==null?void 0:I.input,Y=(I==null?void 0:I.node.path)||pn,z=T,Z=h.useMemo(()=>({__unstable_floatingBoundary:o,__unstable_referenceBoundary:f,__unstable_referenceElement:z,__unstable_textElementFocus:r,children:B,focused:i,markers:$,onClose:N,onOpen:V,onPathFocus:c,onRemove:W,open:X,parentSchemaType:j.schemaTypes.block,path:Y,presence:q,readOnly:!!d,renderAnnotation:p,renderBlock:m,renderField:g,renderInlineBlock:y,renderInput:x,renderPreview:w,renderItem:b,renderDefault:f4,schemaType:C,selected:_,textElement:G||R,validation:P,value:S}),[j.schemaTypes.block,r,o,i,B,X,$,G,Y,N,V,c,W,d,f,z,p,m,g,y,x,b,w,q,C,_,R,P,S]),Q=(t=C.components)==null?void 0:t.annotation,ne=h.useCallback(K=>{I!=null&&I.elementRef&&(I.elementRef.current=K),A(K)},[I]);return h.useMemo(()=>l.jsx("span",{ref:ne,style:void 0,children:Q?l.jsx(Q,{...Z}):l.jsx(f4,{...Z})}),[Q,Z,ne])}const f4=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,selected:p,schemaType:m,textElement:v,validation:g}=e,y=m.name==="link",x=g.filter(_=>_.level==="error").length>0,b=g.filter(_=>_.level==="warning").length>0,w=s.length>0,C=h.useMemo(()=>x?"critical":b?"caution":y?"primary":"default",[y,x,b]);return l.jsxs(Sin,{$toneKey:C,"data-link":y?"":void 0,"data-error":x?"":void 0,"data-warning":b?"":void 0,"data-markers":w||void 0,onClick:f?c:void 0,children:[v,l.jsx(Cin,{annotationOpen:d,floatingBoundary:t,onOpen:c,onRemove:u,referenceBoundary:n,referenceElement:r,selected:p,title:m.title||m.name}),d&&l.jsx(sN,{defaultType:"popover",floatingBoundary:t,onClose:a,autoFocus:i,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};function jin(e){var t;return(t=e.components)!=null&&t.block?e.components.block:jA(e)?WIe:MIe}function Tin(e){var t;return(t=e.components)!=null&&t.inlineBlock?e.components.inlineBlock:YIe}function Ain(e){var t;return(t=e.components)!=null&&t.annotation?e.components.annotation:f4}const Din=/^\d+$/;function Iin(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function Pin(e){const[t,n]=e.split("==");return{[t]:Iin(n)}}function Oin(e){return Din.test(e)?Number(e):e}function Rin(e){return e.split(/[[.\]]/g).filter(Boolean).map(t=>t.includes("==")?Pin(t):Oin(t))}function eg(e){return Rin(e)}class l$n extends ie.Component{constructor(){super(...arguments),this.state={focusPath:[]},this.handleFocus=t=>{this.setState({focusPath:t})},this.handleBlur=()=>{}}render(){return this.props.children({onBlur:this.handleBlur,onFocus:this.handleFocus,focusPath:this.state.focusPath})}}function r0(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:o}=e,i=t==null?void 0:t._ref,s=go(()=>r(i),[i,r]);return l.jsx(l.Fragment,{children:i&&s?n(s):o})}function $in(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):GIe(Array.from(e.items||[])).then(Dn)}function Min(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):GIe(n).then(Dn)}function Qie(e){return e===null?[]:[e]}function GIe(e){return Promise.all(e.map(t=>{if(t.kind==="file"&&t.webkitGetAsEntry){let n;try{n=t.webkitGetAsEntry()}catch{return Qie(t.getAsFile())}return n?n.isDirectory?KIe(n):Qie(t.getAsFile()):[]}if(t.kind==="file"){const n=t.getAsFile();return Promise.resolve(n?[n]:[])}return t.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",t.kind),Promise.resolve([]))}))}function KIe(e){if(e.isFile)return new Promise((t,n)=>e.file(t,n)).then(t=>[t]);if(e.isDirectory){const t=e.createReader();return new Promise((n,r)=>t.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(KIe)).then(Dn))}return Promise.resolve([])}function Fin(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,o)=>{const i=new Image;i.crossOrigin="anonymous",i.referrerPolicy="strict-origin-when-cross-origin",i.onload=()=>{const s=document.createElement("canvas");s.width=i.width,s.height=i.height;const a=s.getContext("2d");a==null||a.drawImage(i,0,0,s.width,s.height);try{s.toBlob(r,t,n)}catch(c){o(c)}},i.src=e})}const Lin={opacity:0,position:"absolute"};function ZIe(e){return ie.forwardRef(function(n,r){const{onFiles:o,onFilesOver:i,onFilesOut:s,disabled:a,...c}=n,[u,d]=ie.useState(!1),f=ie.useRef(null),p=dr(r),m=ie.useRef([]),v=h.useCallback(S=>{o==null||o(S)},[o]),g=h.useCallback(S=>{S.target===p.current&&(S.ctrlKey||S.metaKey)&&S.key==="v"&&d(!0)},[p]),y=h.useCallback(S=>{$in(S.clipboardData).then(E=>f.current?E.length>0?E:Bin(f.current,"image/jpeg"):[]).then(E=>{var j;v(E),d(!1),(j=p.current)==null||j.focus()})},[v,p]),x=h.useCallback(S=>{m.current=[],S.preventDefault(),S.stopPropagation();const E=S.nativeEvent.dataTransfer;o&&E&&Min(E).then(j=>{j&&v(j)}),s==null||s()},[v,o,s]),b=h.useCallback(S=>{o&&(S.preventDefault(),S.stopPropagation())},[o]),w=h.useCallback(S=>{if(S.stopPropagation(),i&&p.current===S.currentTarget){m.current=[...new Set(m.current),S.currentTarget];const E=Array.from(S.dataTransfer.items).map(j=>({type:j.type,kind:j.kind}));i(E)}},[i,p]),C=h.useCallback(S=>{S.stopPropagation();const E=m.current.indexOf(S.currentTarget);E>-1&&m.current.splice(E,1),m.current.length===0&&(s==null||s())},[s]),_=ie.useRef(!1);return ie.useEffect(()=>{var S;!_.current&&u&&f.current?(f.current.focus(),Nin(f.current)):_.current&&!u&&((S=f.current)==null||S.focus()),_.current=u},[u]),l.jsxs(l.Fragment,{children:[l.jsx(e,{...c,ref:p,onKeyDown:a?void 0:g,onDragOver:a?void 0:b,onDragEnter:a?void 0:w,onDragLeave:a?void 0:C,onDrop:a?void 0:x}),!a&&u&&l.jsx("div",{contentEditable:!0,onPaste:y,ref:f,style:Lin})]})})}function Bin(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg";return e.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(n=>(e.innerHTML="",n)).then(n=>Promise.all(n.map(r=>Fin(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:t}))):Promise.reject(new Error('Expected element to be contentEditable="true". Instead found a non contenteditable '.concat(e.tagName)))}function Nin(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function cN(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function uN(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&cN(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Jie=Object.freeze,zin=Object.defineProperty,Vin=(e,t)=>Jie(zin(e,"raw",{value:Jie(t||e.slice())})),ese;function XIe(e){return O(e)(t=>{const n={width:t.$border?1:0,color:"var(--card-border-color)"};return he(ese||(ese=Vin([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),cN(n),ye(t.theme.sanity.radius[1]),uN({base:t.theme.sanity.color.base,border:n,focusRing:t.theme.sanity.focusRing}))})}const QIe=XIe(ZIe(ee));var tse=Object.freeze,Hin=Object.defineProperty,IA=(e,t)=>tse(Hin(e,"raw",{value:tse(t||e.slice())})),nse,rse,ose,ise;const Uin=O(ee)(nse||(nse=IA([`
  min-height: 82px;
  box-sizing: border-box;
`]))),Win=O(U)(rse||(rse=IA([`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Yin=O(oe)(ose||(ose=IA([`
  position: relative;
  width: 60%;
`]))),qin=O(ar)(ise||(ise=IA([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),Gin=1e3*60*2,Kin=e=>new Date().getTime()-new Date(e).getTime();function JIe(e){let{uploadState:t,onCancel:n,onStale:r,height:o}=e;const i=t.file.name;return h.useEffect(()=>{Kin(t.updatedAt)>Gin&&(r==null||r())},[t.updatedAt,r]),l.jsx(Uin,{tone:"primary",padding:4,border:!0,style:{height:"".concat(o,"px")},children:l.jsxs(Win,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[l.jsxs(Yin,{children:[l.jsx(U,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:l.jsx(L,{size:1,children:l.jsxs(Gt,{space:2,children:["Uploading",l.jsx(qin,{size:1,children:i||"..."})]})})}),l.jsx(ee,{marginTop:3,radius:5,shadow:1,children:l.jsx(TYt,{value:t.progress})})]}),n?l.jsx(se,{fontSize:2,text:"Cancel upload",mode:"ghost",tone:"critical",onClick:n}):null]})})}function Zin(e,t){return new Promise((n,r)=>{const o=new XMLHttpRequest;o.onload=()=>{const i=new FileReader;i.onloadend=()=>{var s;const a=(s=i.result)==null?void 0:s.toString(),c=a==null?void 0:a.substring(11,a.indexOf(";base64"));if(!c&&!t){r(new Error("Could not find mime type for image"));return}n(ePe(i.result,t||"".concat(ld(),".").concat(c)))},i.readAsDataURL(o.response)},o.onerror=i=>{r(i)},o.open("GET",e),o.responseType="blob",o.send()})}function Xin(e,t){return new Promise((n,r)=>{const o=e.toString(),i=o.substring(11,o.indexOf(";base64"));if(!i&&!t){r(new Error("Could not find mime type for image"));return}n(ePe(e,t||"".concat(ld(),".").concat(i)))})}function ePe(e,t){var n;const r=e.split(","),o=(n=r[0].match(/:(.*?);/))==null?void 0:n[1],i=atob(r[1]);let s=i.length;const a=new Uint8Array(s);for(;s--;)a[s]=i.charCodeAt(s);return new File([a],t,{type:o})}function tPe(e){let{assetFromSource:t,onChange:n,type:r,resolveUploader:o,uploadWith:i,isImage:s}=e;if(!t)throw new Error("No asset given");if(!Array.isArray(t)||t.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const a=t[0],c=a.assetDocumentProps,u=c==null?void 0:c.originalFilename,d=c==null?void 0:c.label,f=c==null?void 0:c.title,p=c==null?void 0:c.description,m=c==null?void 0:c.creditLine,v=c==null?void 0:c.source,g=s?[nt(["hotspot"]),nt(["crop"])]:[];switch(a.kind){case"assetDocumentId":n([Zi({_type:r.name}),...g,xt({_type:"reference",_ref:a.value},["asset"])]);break;case"file":{const y=o(r,a.value);y&&i(y,a.value,{label:d,title:f,description:p,creditLine:m,source:v});break}case"base64":Xin(a.value,u).then(y=>{const x=o(r,y);x&&i(x,y,{label:d,title:f,description:p,creditLine:m,source:v})});break;case"url":Zin(a.value,u).then(y=>{const x=o(r,y);x&&i(x,y,{label:d,title:f,description:p,creditLine:m,source:v})});break;default:throw new Error("Invalid value returned from asset source plugin")}}var sse=Object.freeze,Qin=Object.defineProperty,Jin=(e,t)=>sse(Qin(e,"raw",{value:sse(t||e.slice())})),ase;const esn=O(Ve)(ase||(ase=Jin([`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`]))),tsn=ie.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,y="".concat(o||"","-").concat(h.useId()),x=ie.useCallback(w=>{u&&w.target.files&&u(Array.from(w.target.files))},[u]),b=l.jsxs(U,{align:"center",justify:"flex-start",padding:d,children:[r&&l.jsx(M,{marginRight:m?f:void 0,children:l.jsxs(L,{size:a,children:[h.isValidElement(r)&&r,Xn.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(L,{align:p,size:a,textOverflow:"ellipsis",children:m})]});return l.jsxs(esn,{...g,htmlFor:y,padding:0,fontSize:2,disabled:v,ref:n,children:[b,l.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:s,id:y,multiple:c,onChange:x,type:"file",value:"",disabled:v})]})});function nPe(e){const{onUpload:t,onReset:n,readOnly:r,accept:o,directUploads:i,browse:s,downloadUrl:a,copyUrl:c}=e,{push:u}=Ho(),d=h.useCallback(()=>{navigator.clipboard.writeText(c||""),u({closable:!0,status:"success",title:"The URL is copied to the clipboard"})},[u,c]);return l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:2,children:l.jsx(Vt,{muted:!0,size:1,children:"Replace"})}),l.jsx(tsn,{icon:tj,mode:"bleed",onSelect:t,accept:o,text:"Upload","data-testid":"file-input-upload-button",disabled:r||!i,fontSize:2}),s,(a||c)&&l.jsx(Pr,{}),a&&l.jsx(Ve,{as:"a",icon:AF,text:"Download",href:a}),c&&l.jsx(Ve,{icon:Au,text:"Copy URL",onClick:d}),l.jsx(Pr,{}),l.jsx(Ve,{tone:"critical",icon:Iu,text:"Clear field",onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}var lse=Object.freeze,nsn=Object.defineProperty,rsn=(e,t)=>lse(nsn(e,"raw",{value:lse(t||e.slice())})),cse;const osn=O(U)(cse||(cse=rsn([`
  pointer-events: none;
`])));function rPe(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:o,rejectedFilesCount:i,directUploads:s}=e,a=n==="file",c=h.useMemo(()=>r?l.jsx(Xx,{}):t&&i>0||!s?l.jsx(Sf,{}):a?l.jsx(d0,{}):l.jsx(Tl,{}),[s,t,a,r,i]),u=h.useMemo(()=>{let d="Drag or paste ".concat(n," here");return s?(r&&(d="Read only"),t&&s&&!r&&(o.length>0&&(d="Drop to upload ".concat(n)),i>0&&(d="Can't upload ".concat(i," file").concat(i>1?"s":""," here"))),d):"Can't upload files here"},[o.length,s,t,r,i,n]);return l.jsxs(osn,{align:"center",gap:2,justify:"center",children:[l.jsx(L,{muted:!0,children:c}),l.jsx(L,{size:1,muted:!0,children:u})]})}var use=Object.freeze,isn=Object.defineProperty,ssn=(e,t)=>use(isn(e,"raw",{value:use(t||e.slice())})),dse;const asn=O(se).attrs({forwardedAs:"label"})(e=>{let{theme:t}=e;const{focusRing:n}=t.sanity,r=t.sanity.color.base,o={width:1,color:"var(--card-border-color)"};return he(dse||(dse=ssn([`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: `,`;
        }
      }

      & input {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `])),uN({base:r,border:o,focusRing:n}))}),lsn=ie.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,y="".concat(o||"","-").concat(h.useId()),x=As(),b=ie.useCallback(C=>{u&&C.target.files&&u(Array.from(C.target.files))},[u]),w=l.jsxs(U,{align:"center",justify:"center",padding:d,children:[r&&l.jsx(M,{marginRight:m?f:void 0,children:l.jsxs(L,{size:a,children:[h.isValidElement(r)&&r,Xn.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(L,{align:p,size:a,textOverflow:"ellipsis",weight:x.sanity.button.textWeight,children:m})]});return l.jsxs(asn,{...g,htmlFor:y,padding:0,fontSize:2,disabled:v,children:[w,l.jsx("input",{"data-testid":"file-button-input",accept:i,capture:s,id:y,multiple:c,onChange:b,ref:n,type:"file",value:"",disabled:v})]})});function csn(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:o,hoveringFiles:i,onUpload:s,readOnly:a,rejectedFilesCount:c,type:u}=e,[d,f]=h.useState(null),p=Ij(d),m=(p==null?void 0:p.border)&&p.border.width<440;return l.jsxs(U,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:f,children:[l.jsx(U,{flex:1,justify:"center",children:l.jsx(rPe,{acceptedFiles:n,directUploads:o,hoveringFiles:i,readOnly:a,rejectedFilesCount:c,type:u})}),l.jsxs(U,{align:"center",gap:2,justify:"center",wrap:"wrap",children:[l.jsx(lsn,{accept:t,"data-testid":"file-input-upload-button",disabled:a||!o,icon:tj,mode:"ghost",onSelect:s,text:"Upload"}),r]})]})}const oPe=ie.memo(csn);var fse=Object.freeze,usn=Object.defineProperty,dsn=(e,t)=>fse(usn(e,"raw",{value:fse(t||e.slice())})),hse;const fsn=O(se)(hse||(hse=dsn([`
  width: 100%;
`])));function iPe(e){let{onClearStale:t}=e;return l.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(U,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Fr,{})})}),l.jsxs(oe,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Incomplete upload"}),l.jsx(L,{size:1,children:"An upload has made no progress in the last 6m and likely got interrupted. You can safely clear the incomplete upload and try uploading again."})]})]}),l.jsx(fsn,{icon:Iu,text:"Clear upload",onClick:t,mode:"ghost"})]})}var pse=Object.freeze,hsn=Object.defineProperty,sPe=(e,t)=>pse(hsn(e,"raw",{value:pse(t||e.slice())})),mse,gse;const psn=O(ee)(mse||(mse=sPe([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),msn=O(U)(gse||(gse=sPe([`
  height: 100%;
`])));function aPe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,i)).toFixed(r))," ").concat(o[i])}function gsn(e){const{originalFilename:t,size:n,children:r,muted:o,disabled:i,onClick:s,isMenuOpen:a,onMenuOpen:c,setMenuButtonElement:u}=e,[d,f]=h.useState(null),[p,m]=h.useState(null),v=h.useCallback(()=>c(!0),[c]);Ts(h.useCallback(y=>{a&&(y.key==="Escape"||y.key==="Tab")&&(c(!1),p==null||p.focus())},[a,c,p])),ur(h.useCallback(y=>{p!=null&&p.contains(y.target)||c(!1)},[p,c]),[d]);const g=h.useCallback(y=>{u(y),m(y)},[u]);return h.useEffect(()=>{a&&(d==null||d.focus())},[a,d]),l.jsxs(U,{wrap:"nowrap",justify:"space-between",align:"center",children:[l.jsx(ee,{as:o||i?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:s,flex:1,children:l.jsxs(U,{wrap:"nowrap",align:"center",children:[l.jsx(ee,{padding:3,tone:"transparent",shadow:1,radius:1,children:l.jsx(L,{muted:o,children:l.jsx(d0,{})})}),l.jsxs(oe,{flex:1,space:2,marginLeft:3,children:[l.jsx(L,{size:2,textOverflow:"ellipsis",muted:o,"data-testid":"file-name",children:t}),l.jsx(L,{size:1,muted:!0,"data-testid":"file-size",children:aPe(n)})]})]})}),l.jsx(M,{padding:2,children:l.jsx(U,{justify:"center",children:l.jsx(en,{content:l.jsx(Bt,{ref:f,children:r}),id:"file-actions-menu",portal:!0,open:a,constrainSize:!0,children:l.jsx(se,{"aria-label":"Open file options menu","data-testid":"options-menu-button",icon:To,mode:"bleed",onClick:v,ref:g})})})})]})}function vse(){return l.jsxs(U,{align:"center",justify:"flex-start",padding:2,children:[l.jsx(_0,{padding:3,radius:1,animated:!0}),l.jsxs(oe,{flex:1,space:2,marginLeft:3,children:[l.jsx(EE,{style:{width:"100%"},radius:1,animated:!0}),l.jsx(EE,{style:{width:"100%"},radius:1,animated:!0})]})]})}var yse=Object.freeze,vsn=Object.defineProperty,ysn=(e,t)=>yse(vsn(e,"raw",{value:yse(t||e.slice())})),bse;const bsn=O(se)(bse||(bse=ysn([`
  width: 100%;
`])));function xsn(e){let{onClearValue:t}=e;return l.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(U,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Fr,{})})}),l.jsxs(oe,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Invalid file value"}),l.jsx(L,{size:1,children:"The value of this field is not a valid file. Resetting this field will let you choose a new file."})]})]}),l.jsx(bsn,{icon:Iu,text:"Reset value",onClick:t,mode:"ghost"})]})}function wsn(e){let{children:t}=e;return t}const Csn=["asset"];class _sn extends ie.PureComponent{constructor(t){var n;super(t),n=this,this.uploadSubscription=null,this.browseButtonElement=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1},this.toast=null,this.handleRemoveButtonClick=()=>{const{path:r,value:o}=this.props,s=typeof r.slice(-1)[0]!="string",a=Object.keys(o||{}),u=a.filter(f=>!["_type","_key","_upload","asset"].includes(f)).length===0,d=["asset"].concat(a.filter(f=>["_upload"].includes(f))).map(f=>nt([f]));this.props.onChange(ft.from(u&&!s?nt():d))},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange(nt(["asset"]))},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectFileFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.browseButtonElement)==null||r.focus()},this.setBrowseButtonElement=r=>{this.browseButtonElement=r},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{source:u}=i,d={metadata:Un(s,"options.metadata"),storeOriginalFilename:Un(s,"options.storeOriginalFilename"),source:u};n.cancelUpload(),n.setState({isUploading:!0}),a(ft.from([Zi({_type:s.name})])),n.uploadSubscription=r.upload(c,o,s,d).subscribe({next:f=>{f.patches&&a(ft.from(f.patches))},error:f=>{var p;console.error(f),(p=n.toast)==null||p.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{n.setState({isUploading:!1})}})},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;tPe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleUpload=r=>{let{file:o,uploader:i}=r;this.uploadWith(i,o)},this.setToast=r=>{this.toast=r},this._assetFieldPath=t.path.concat(Csn)}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(ft.from([nt(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n}=this.props,r=t.map(o=>{var i,s;return{file:o,uploader:(s=(i=this.props).resolveUploader)==null?void 0:s.call(i,n,o)}}).find(o=>o.uploader);r&&this.uploadWith(r.uploader,r.file),this.setState({isMenuOpen:!1})}renderUploadState(t){const{isUploading:n}=this.state;return l.jsx(JIe,{uploadState:t,onCancel:n?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props;if(!t)return null;const i=Un(r,"options.accept",""),s=t.component;return n&&n.asset?l.jsx(r0,{observeAsset:o,reference:n.asset,waitPlaceholder:l.jsx(vse,{}),children:a=>l.jsx(s,{selectedAssets:[a],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:t,changed:n,readOnly:r,elementProps:o}=this.props,{hoveringFiles:i,isStale:s}=this.state,a=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!cZ(t)?()=>l.jsx(xsn,{onClearValue:this.handleClearField}):c=>l.jsxs(l.Fragment,{children:[s&&l.jsx(M,{marginBottom:2,children:l.jsx(iPe,{onClearStale:this.handleClearUploadState})}),l.jsx(ai,{path:this._assetFieldPath,hasFocus:!!c.focused,isChanged:n,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsx(QIe,{...o,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!r,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:a||i.length>0,style:{padding:1},sizing:"border",radius:2,children:l.jsxs("div",{style:{position:"relative"},children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),t!=null&&t.asset&&i.length>0?this.renderAssetMenu(this.getFileTone()):null,!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:t,readOnly:n,assetSources:r,schemaType:o,directUploads:i,observeAsset:s}=this.props,{isMenuOpen:a}=this.state,c=t==null?void 0:t.asset;if(!c)return null;const u=Un(o,"options.accept","");let d=r&&(r==null?void 0:r.length)===0?null:l.jsx(Ve,{icon:ei,text:"Browse",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(r[0])},disabled:n,"data-testid":"file-input-browse-button"});return r.length>1&&(d=r.map(f=>l.jsx(Ve,{text:f.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(f)},icon:f.icon||Tl,disabled:n,"data-testid":"file-input-browse-button-".concat(f.name)},f.name))),l.jsx(r0,{reference:c,observeAsset:s,waitPlaceholder:l.jsx(vse,{}),children:f=>{let{originalFilename:p,extension:m,url:v,size:g}=f;const y=p||"download.".concat(m);let x,b;return cZ(t)&&(b="".concat(v,"?dl"),x=v),l.jsx(gsn,{size:g,originalFilename:y,muted:!n,onMenuOpen:w=>this.setState({isMenuOpen:w}),isMenuOpen:a,setMenuButtonElement:this.setBrowseButtonElement,children:l.jsx(nPe,{onUpload:this.handleSelectFiles,browse:d,onReset:this.handleRemoveButtonClick,downloadUrl:b,copyUrl:x,readOnly:n,accept:u,directUploads:i})})}})}renderAssetMenu(t){const{schemaType:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return l.jsx(psn,{tone:t,children:l.jsx(msn,{align:"center",justify:"center",gap:2,flex:1,children:l.jsx(rPe,{readOnly:r,hoveringFiles:s,acceptedFiles:a,rejectedFilesCount:c,directUploads:o,type:"file"})})})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t.length===0?null:t.length>1&&!n&&r?l.jsx(tn,{id:"".concat(o,"_assetFileButton"),ref:this.setBrowseButtonElement,button:l.jsx(se,{mode:"ghost",text:"Select","data-testid":"file-input-multi-browse-button",icon:ei}),"data-testid":"input-select-button",menu:l.jsx(Bt,{children:t.map(i=>l.jsx(Ve,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(i)},icon:i.icon||Tl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))})}):l.jsx(se,{fontSize:2,text:"Browse",icon:ei,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:t,schemaType:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o==null?void 0:o(n,u)),a=i.length-s.length,c=Un(n,"options.accept","");return l.jsx("div",{style:{padding:1},children:l.jsx(ee,{tone:t?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(oPe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:t,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"file",accept:c,directUploads:r})})})}getFileTone(){const{directUploads:t,schemaType:n,value:r,readOnly:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return s.length>0&&(c>0||!t)?"critical":!(r!=null&&r._upload)&&!o&&s.length>0?"primary":r!=null&&r._upload&&(r!=null&&r.asset)&&o?"transparent":"default"}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderItem:i,renderInput:s,renderField:a,renderPreview:c}=this.props,{selectedAssetSource:u}=this.state;return l.jsxs(l.Fragment,{children:[l.jsx(cB,{ref:this.setToast}),t.map(d=>d.kind==="field"&&(d.name==="crop"||d.name==="hotspot")?null:d.kind==="field"?l.jsx(rC,{member:d,renderAnnotation:n,renderInlineBlock:o,renderBlock:r,renderInput:d.name==="asset"?this.renderAsset():s,renderField:d.name==="asset"?wsn:a,renderItem:i,renderPreview:c},d.key):d.kind==="fieldSet"?l.jsx(eN,{member:d,renderAnnotation:n,renderBlock:r,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:i,renderPreview:c},d.key):d.kind==="error"?l.jsx(SA,{member:d},d.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",d.kind]})),u&&this.renderAssetSource()]})}}function Ssn(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,r=Li(),{file:o}=li().__internal,i=pr(an),s=h.useCallback((u,d)=>o.directUploads?ZB(u,d):null,[o.directUploads]),a=h.useMemo(()=>n||o.assetSources,[o,n]),c=h.useCallback(u=>fIe(r,u),[r]);return l.jsx(_sn,{...e,client:i,assetSources:a,directUploads:o.directUploads,observeAsset:c,resolveUploader:s})}var xse=Object.freeze,Esn=Object.defineProperty,ksn=(e,t)=>xse(Esn(e,"raw",{value:xse(t||e.slice())})),wse;const Cse=O(M)(wse||(wse=ksn([`
  position: relative;
  padding-bottom: calc(`,` * 100%);

  & > div {
    position: absolute;
    top: `,`px;
    left: `,`px;
    right: `,`px;
    bottom: `,`px;
  }
`])),e=>{let{ratio:t=3/2}=e;return 1/t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t});function jsn(e){const{src:t,children:n}=e,[r,o]=h.useState(!0),[i,s]=h.useState(null),[a,c]=h.useState(null);return h.useEffect(()=>{s(null),c(null),o(!0);const u=new Image;u.onload=()=>{s(u),c(null),o(!1)},u.onerror=()=>{c(new Error("Could not load image from ".concat(JSON.stringify(t)))),o(!1)},u.referrerPolicy="strict-origin-when-cross-origin",u.src=t},[t]),n({image:i,error:a,isLoading:r})}const Tsn=["","webkit","moz","ms","o"].map(e=>"".concat(e,"backingStoreRatio"));let X_=-1;function Asn(e){return X_===-1&&(X_=Tsn.find(t=>t in e)),X_&&e[X_]}function _se(e,t){const n={x:t.center.x,y:t.center.y},r=t.width/2,o=t.height/2;if(r<=0||o<=0)return!1;const i={x:e.x-n.x,y:e.y-n.y};return Math.pow(i.x,2)/Math.pow(r,2)+Math.pow(i.y,2)/Math.pow(o,2)<=1}function Sse(e,t){let{x:n,y:r}=e;return Math.pow(n-t.x,2)+Math.pow(r-t.y,2)<Math.pow(t.radius,2)}function jO(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function Ese(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}class h4{constructor(t,n){this.x=t,this.y=n}}class kse{constructor(t,n,r){this.y=t,this._left=n,this._right=r}get right(){return new h4(this._right,this.y)}get left(){return new h4(this._left,this.y)}get length(){return this._right-this._left}}class Dsn{constructor(t){this.rect=t}get top(){return new kse(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new kse(this.rect.bottom,this.rect.left,this.rect.right)}}class io{static fromEdges(t){let{left:n,right:r,top:o,bottom:i}=t;return new io(n,o,1-n-r,1-o-i)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.left=t,this.top=n,this.width=r,this.height=o}setTopLeft(t,n){return new io(t,n,this.width||0,this.height||0)}setSize(t,n){return new io(this.left||0,this.top||0,t,n)}setCenter(t,n){const r=this.width||0,o=this.height||0;return new io(t-r/2,n-o/2,r||0,o||0)}get center(){return new h4(this.left+this.width/2,this.top+this.height/2)}get corners(){return new Dsn(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(t){return new io((this.left||0)+this.width*t.left,(this.top||0)+this.height*t.top,this.width*t.width,this.height*t.height)}grow(t){return new io(this.left-t,this.top-t,this.width+t*2,this.height+t*2)}shrink(t){return this.grow(-t)}cropRelative(t){const n=this.top+t.top*this.height,r=this.left+t.left*this.width,o=this.height*t.height,i=this.width*t.width;return new io(r,n,i,o)}clamp(t){let{left:n,top:r,width:o,height:i}=this;return t.width<o&&(o=t.width,n=t.left),t.height<i&&(i=t.height,r=t.top),n+o>t.left+t.width&&(n=t.right-o),r+i>t.top+t.height&&(r=t.bottom-i),new io(Math.max(n,t.left),Math.max(r,t.top),o,i)}}const Q_=xs("sanity-imagetool");function Isn(e){return class extends ie.PureComponent{constructor(){super(...arguments),this.domNode=null,this.currentPos=null,this.isDragging=!1,this.handleTouchMove=n=>{this.isDragging&&n.preventDefault()},this.handleDragStart=n=>{const{onDragStart:r,readOnly:o}=this.props;if(o||!this.domNode)return;if(this.isDragging){Q_("Start cancelled, already a drag in progress");return}this.isDragging=!0;const i=AO(n);Q_("Drag started %o",i),r(TO(i.x,i.y,this.domNode.getBoundingClientRect())),this.currentPos=i},this.handleDrag=n=>{if(!this.isDragging||this.props.readOnly||!this.currentPos)return;const{onDrag:r}=this.props,o=AO(n),i=Psn(o,this.currentPos);r(i),Q_("moving by %o",i),this.currentPos=o},this.handleDragEnd=n=>{const{onDragEnd:r,readOnly:o}=this.props;if(!this.isDragging||o||!this.domNode)return;const i=AO(n);r(TO(i.x,i.y,this.domNode.getBoundingClientRect())),this.isDragging=!1,this.currentPos=null,Q_("Done moving %o",i)},this.handleDragCancel=()=>{if(!this.isDragging||this.props.readOnly||!this.currentPos||!this.domNode)return;const{onDragEnd:n}=this.props;this.isDragging=!1,n(TO(this.currentPos.x,this.currentPos.y,this.domNode.getBoundingClientRect())),this.currentPos=null},this.setDomNode=n=>{this.domNode=n}}componentDidMount(){Zp?(document.body.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),document.body.addEventListener("touchend",this.handleDragEnd),document.body.addEventListener("touchcancel",this.handleDragCancel)):(document.body.addEventListener("mousemove",this.handleDrag),document.body.addEventListener("mouseup",this.handleDragEnd),document.body.addEventListener("mouseleave",this.handleDragCancel))}componentWillUnmount(){Zp?(document.body.removeEventListener("touchmove",this.handleTouchMove),document.body.removeEventListener("touchend",this.handleDragEnd),document.body.removeEventListener("touchcancel",this.handleDragCancel)):(document.body.removeEventListener("mousemove",this.handleDrag),document.body.removeEventListener("mouseup",this.handleDragEnd),document.body.removeEventListener("mouseleave",this.handleDragCancel))}render(){const{readOnly:n,onDragStart:r,onDragEnd:o,onDrag:i,...s}=this.props;return l.jsx(e,{ref:this.setDomNode,onTouchStart:n?void 0:this.handleDragStart,onMouseDown:n?void 0:this.handleDragStart,onTouchMove:n?void 0:this.handleDrag,...s})}}}function TO(e,t,n){return{x:e-n.left,y:t-n.top}}function AO(e){return"touches"in e?e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:0,y:0}:{x:e.clientX,y:e.clientY}}function Psn(e,t){return{x:e.x-t.x,y:e.y-t.y}}var jse=Object.freeze,Osn=Object.defineProperty,lPe=(e,t)=>jse(Osn(e,"raw",{value:jse(t||e.slice())})),Tse,Ase;const Rsn=Isn("canvas"),$sn=O.div(Tse||(Tse=lPe([`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`]))),Msn=O(Rsn)(Ase||(Ase=lPe([`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
`]))),Fsn="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",Lsn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",Qu={x:.5,y:.5,height:1,width:1},Ju={top:0,left:0,right:0,bottom:0},J1=8,Bsn=12,Nsn=10;function zsn(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function Vsn(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function Dse(e,t){const{top:n,right:r,bottom:o,left:i}=e.crop||Ju,s={hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:o+(t.bottom||0)>0?o:0,left:i+(t.left||0)>0?i:0}},a={top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:o+(t.bottom||0)>0&&t.bottom||0,left:i+(t.left||0)>0&&t.left||0};return{value:s,delta:a}}function Hsn(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}const Ise=tT(()=>{const e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d"),n=t&&Asn(t)||1;return e/n}),Pse=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];class Usn extends ie.PureComponent{constructor(){super(...arguments),this.state={cropping:!1,cropMoving:!1,moving:!1,resizing:!1,mousePosition:null},this.handleDragStart=t=>{let{x:n,y:r}=t;const o={x:n*this.getScale(),y:r*this.getScale()},i=_se(o,this.getHotspotRect()),s=Sse(o,this.getDragHandleCoords()),a=this.getActiveCropHandleFor(o),c=jO(o,this.getCropRect());a?this.setState({cropping:a}):s?this.setState({resizing:!0}):i?this.setState({moving:!0}):c&&this.setState({cropMoving:!0})},this.handleDrag=t=>{this.state.cropping?this.emitCrop(this.state.cropping,t):this.state.cropMoving?this.emitCropMove(t):this.state.moving?this.emitMove(t):this.state.resizing&&this.emitResize(t)},this.handleDragEnd=()=>{const{onChange:t,onChangeEnd:n}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:r,crop:o}=this.getClampedValue(),i=zsn(o),s={crop:{top:i.top,bottom:1-i.bottom,left:i.left,right:1-i.right},hotspot:{x:r.center.x,y:r.center.y,height:Math.abs(r.height),width:Math.abs(r.width)}};t(s),n&&n(s)},this.handleMouseOut=()=>{this.setState({mousePosition:null})},this.handleMouseMove=t=>{const n=t.currentTarget.getBoundingClientRect();this.setState({mousePosition:{x:(t.clientX-n.left)*this.getScale(),y:(t.clientY-n.top)*this.getScale()}})},this.setCanvas=t=>{this.canvas=t}}getHotspotRect(){const{value:t,image:n}=this.props,r=t.hotspot||Qu,o=new io().setSize(r.width,r.height).setCenter(r.x,r.y);return new io().setSize(n.width,n.height).shrink(J1*this.getScale()).multiply(o)}getCropRect(){const{value:t,image:n}=this.props;return new io().setSize(n.width,n.height).shrink(J1*this.getScale()).cropRelative(io.fromEdges(t.crop||Ju).clamp(new io(0,0,1,1)))}getCropHandles(){const t=this.getCropRect(),n=Bsn*this.getScale(),r=n/2,o=new io(0,0,n,n);return{left:o.setTopLeft(t.left-r,t.center.y-r),right:o.setTopLeft(t.right-r,t.center.y-r),top:o.setTopLeft(t.center.x-r,t.top-r),topLeft:o.setTopLeft(t.left-r,t.top-r),topRight:o.setTopLeft(t.right-r,t.top-r),bottom:o.setTopLeft(t.center.x-r,t.bottom-r),bottomLeft:o.setTopLeft(t.left-r,t.bottom-r),bottomRight:o.setTopLeft(t.right-r,t.bottom-r)}}getActiveCropHandleFor(t){let{x:n,y:r}=t;const o=this.getCropHandles();for(const i of Pse)if(jO({x:n,y:r},o[i]))return i;return!1}emitMove(t){const{image:n,value:r,onChange:o}=this.props,i=this.getScale(),s={x:t.x*i/n.width,y:t.y*i/n.height};o(Wsn(r,s))}emitCropMove(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s=t.x*i/n.width,a=-t.x*i/n.width,c=t.y*i/n.height,u=-t.y*i/n.height,d={left:s,right:a,top:c,bottom:u};Vsn(o,d)&&r(Ose(o,d))}emitCrop(t,n){const{image:r,onChange:o,value:i}=this.props,s=this.getScale();let a=0,c=0,u=0,d=0;t=="left"||t==="topLeft"||t==="bottomLeft"?a=n.x*s/r.width:(t=="right"||t==="topRight"||t==="bottomRight")&&(c=-n.x*s/r.width),t=="top"||t==="topLeft"||t==="topRight"?u=n.y*s/r.height:(t=="bottom"||t==="bottomLeft"||t==="bottomRight")&&(d=-n.y*s/r.height);const f={left:a,right:c,top:u,bottom:d},p=Dse(i,f).value,m=Dse(i,f).delta;o(Ose(p,m))}emitResize(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s={x:t.x*i*2/n.width,y:t.y*i*2/n.height};r(Ysn(o,{height:s.y,width:s.x}))}getClampedValue(){const t=this.props.value,n=io.fromEdges(t.crop||Ju).clamp(new io(0,0,1,1)),r=t.hotspot||Qu,o=new io(0,0,1,1).setSize(r.width,r.height).setCenter(r.x,r.y).clamp(n);return{crop:n,hotspot:o}}paintHotspot(t,n){const{image:r,readOnly:o}=this.props,i=new io().setSize(r.width,r.height),{hotspot:s,crop:a}=this.getClampedValue(),c=this.getScale(),u=J1*c;t.save(),m(),d(),t.clip(),p(),t.restore(),o||v(Math.PI*1.25);function d(){t.save();const g=i.shrink(u).multiply(s),y=g.height/g.width;t.scale(1,y),t.beginPath(),t.globalAlpha=n,t.arc(g.center.x,g.center.y/y,Math.abs(g.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*c,t.stroke(),t.closePath(),t.restore()}function f(g,y,x,b,w,C,_,S){t.save(),t.drawImage(r,g,y,x,b,w,C,_,S),t.restore()}function p(){const g=i.multiply(s),y=i.shrink(u).multiply(s);f(g.left,g.top,g.width,g.height,y.left,y.top,y.width,y.height)}function m(){const g=i.cropRelative(a),y=i.shrink(u).cropRelative(a);t.save(),f(g.left,g.top,g.width,g.height,y.left,y.top,y.width,y.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(y.left,y.top,y.width,y.height),t.restore()}function v(g){t.save();const y=Nsn*c,x=i.shrink(u).multiply(s),b=Ese(g,x);t.beginPath(),t.arc(b.x,b.y,y,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(b.x,b.y,y,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*c,t.stroke(),t.closePath()}}getActualSize(){var t;const n=(t=this.canvas)==null?void 0:t.domNode;return n?{height:n.clientHeight,width:n.clientWidth}:{height:0,width:0}}getDragHandleCoords(){const t=this.getHotspotRect(),n=Ese(Math.PI*1.25,t);return{x:n.x,y:n.y,radius:8*this.getScale()}}debug(t){t.save();const{image:n}=this.props,r=this.getHotspotRect(),o=this.getScale(),i=J1*o;t.setLineDash&&t.setLineDash([2*o,2*o]),t.lineWidth=.5*o,t.strokeStyle="rgba(200, 200, 200, 0.5)",s(r.center.x),a(r.center.y),t.strokeStyle="rgba(150, 150, 150, 0.5)",a(r.top),a(r.bottom),s(r.left),s(r.right),t.restore();function s(u){c(u,i,u,n.height-i)}function a(u){c(i,u,n.width-i,u)}function c(u,d,f,p){t.beginPath(),t.moveTo(u,d),t.lineTo(f,p),t.stroke(),t.closePath()}}paintBackground(t){const{image:n}=this.props,r=new io().setSize(n.width,n.height).shrink(J1*this.getScale());t.save(),t.fillStyle="white",t.clearRect(0,0,n.width,n.height),t.globalAlpha=.3,t.drawImage(n,r.left,r.top,r.width,r.height),t.restore()}paint(t){const{readOnly:n}=this.props;t.save();const r=Ise();t.scale(r,r);const o=!n&&this.state.mousePosition?.8:.2;this.paintBackground(t),this.paintHotspot(t,o),this.debug(t),this.paintCropBorder(t),n||this.highlightCropHandles(t,o),t.restore()}paintMousePosition(t){if(!this.state.mousePosition)return;const{x:n,y:r}=this.state.mousePosition;t.beginPath(),t.arc(n,r,14*this.getScale(),0,2*Math.PI,!1),t.fillStyle="lightblue",t.fill(),t.restore()}paintCropBorder(t){const n=this.getCropRect();t.save(),t.beginPath(),t.fillStyle="rgba(66, 66, 66, 0.9)",t.lineWidth=1,t.rect(n.left,n.top,n.width,n.height),t.stroke(),t.closePath(),t.restore()}highlightCropHandles(t,n){t.save();const r=this.getCropHandles();Pse.forEach(o=>{t.fillStyle=this.state.cropping===o?"rgba(202, 54, 53, ".concat(n,")"):"rgba(230, 230, 230, ".concat(n+.4,")");const{left:i,top:s,height:a,width:c}=r[o];t.fillRect(i,s,c,a),t.beginPath(),t.fillStyle="rgba(66, 66, 66, ".concat(n,")"),t.rect(i,s,c,a),t.closePath(),t.stroke()}),t.restore()}getScale(){const t=this.getActualSize();return this.props.image.width/t.width}getCursor(){const{mousePosition:t}=this.state,{readOnly:n}=this.props;if(!t||n)return"auto";const r=this.state.cropping||this.getActiveCropHandleFor(t);if(r)return Hsn(r)||"auto";const o=Sse(t,this.getDragHandleCoords());if(this.state.resizing||o)return"move";if(this.state.moving||this.state.cropMoving)return"url(".concat(Lsn,"), move");const i=_se(t,this.getHotspotRect()),s=jO(t,this.getCropRect());return i||s?"url(".concat(Fsn,"), move"):"auto"}componentDidMount(){this.draw()}componentDidUpdate(){this.draw()}draw(){if(!this.canvas)return;const t=this.canvas.domNode,n=t.getContext("2d");if(!n)return;this.paint(n);const r=t.style.cursor,o=this.getCursor();r!==o&&(t.style.cursor=o)}render(){const{image:t,readOnly:n}=this.props,r=Ise();return l.jsx($sn,{children:l.jsx(Msn,{readOnly:n,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,height:t.height*r,width:t.width*r})})}}function Wsn(e,t){const n=e&&e.hotspot||Qu;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function Ysn(e,t){const n=e&&e.hotspot||Qu;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function Ose(e,t){const n=e&&e.crop||Ju;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function qsn(e){const{image:t,maxHeight:n,maxWidth:r,children:o}=e,[i]=h.useState(()=>{const a=document.createElement("canvas");return a.style.display="none",a});h.useEffect(()=>(document.body.appendChild(i),()=>{document.body.removeChild(i)}),[i]);const s=h.useCallback((a,c,u)=>{const d=a.width/a.height,f=Math.min(a.width,u),p=Math.min(a.height,c),m=a.width>a.height,v=m?f:p*d,g=m?f/d:p;i.width=v,i.height=g;const y=i.getContext("2d");return y&&y.drawImage(a,0,0,a.width,a.height,0,0,v,g),i},[i]);return o(s(t,n,r))}function Ix(e){return l.jsx(jsn,{src:e.src,children:t=>{let{isLoading:n,image:r,error:o}=t;return n?l.jsx("div",{children:"Loading..."}):o?l.jsx("div",{children:o.message}):r?l.jsx(qsn,{image:r,maxHeight:Ix.maxHeight,maxWidth:Ix.maxWidth,children:i=>l.jsx(Usn,{image:i,...e})}):null}})}Ix.maxHeight=500;Ix.maxWidth=1e3;function Gsn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Rse(e.image)||1,n=e.hotspot||Qu,r=e.crop||Ju,o=Rse(e.container)||t*Zsn(r),i=e.align||{x:"center",y:"center"},s=Ksn(t,{hotspot:n,crop:r},{aspect:o,align:i}),a=uPe(cPe(100/o));return{debug:{result:s},container:{overflow:"hidden",position:"relative",width:"100%",height:a},padding:{marginTop:a},crop:{position:"absolute",overflow:"hidden",height:Cd(s.crop.height),width:Cd(s.crop.width),top:Cd(s.crop.top),left:Cd(s.crop.left)},image:{position:"absolute",height:Cd(s.image.height),width:Cd(s.image.width),top:Cd(s.image.top),left:Cd(s.image.left)}}}function Rse(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if(typeof e.height!="number"&&typeof e.width!="number")throw new Error("Height and width must be numbers, got ".concat(JSON.stringify(e)));return e.width/e.height}return null}function cPe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;const n=Math.pow(10,t);return Math.round(e*n)/n}function Ksn(e,t,n){const r=t.crop,o=n.aspect,i=n.align,s=1-r.left-r.right,a=1-r.top-r.bottom,c={top:-r.top/a,left:-r.left/s,width:1/s,height:1/a},d=s/a*e,f={x:(t.hotspot.x-r.left)/s,y:(t.hotspot.y-r.top)/a,height:t.hotspot.height/a,width:t.hotspot.width/s},p=1/f.width,m=1/f.height*d/o,v=Math.min(p,m);let g;const y=d<=o;y?g=1:g=d/o;let x,b;if(g>v){x="letterbox";let w;const C=g-v;y?w=1-C:w=v,b={width:w,height:w/d*o,left:0,top:0};const _=f.x*b.width-f.width*b.width/2;switch(i.x){case"left":b.left=y?0:-_;break;case"right":b.left=y?1-b.width:_;break;case"center":b.left=y?(1-b.width)/2:-_;break;default:throw new Error("Invalid x alignment: '".concat(i.x,"'. Must be either 'left', 'right' or 'center'"))}const S=f.y*b.height-f.height*b.height/2;switch(i.y){case"top":b.top=y?-S:0;break;case"bottom":b.top=S;break;case"center":b.top=y?-S:(1-b.height)/2;break;default:throw new Error("Invalid y alignment: '".concat(i.y,"'. Must be either 'top', 'bottom' or 'center'"))}}else if(y){x="full_width";let w=-f.y/d*o+.5;const C=g/d*o;w>0?w=0:-w>C-1&&(w=-(C-1)),b={width:g,height:C,left:0,top:w}}else{x="full_height";const w=g;let C=.5-f.x*g;C>0?C=0:-C>w-1&&(C=-(w-1)),b={width:w,height:g/d*o,top:0,left:C}}return{method:x,crop:b,image:c}}function Zsn(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function uPe(e){return e===0?0:"".concat(e,"%")}function Cd(e){return uPe(cPe(e*100))}var $se=Object.freeze,Xsn=Object.defineProperty,Qsn=(e,t)=>$se(Xsn(e,"raw",{value:$se(t||e.slice())})),Mse;const Jsn=O.div(Mse||(Mse=Qsn([`
  position: relative;
  width: 100%;
`]))),ean=xs("sanity-imagetool");function tan(e,t){const n=1/t,r=t*n,o=r-(e.left+e.right)*r,i=n-(e.top+e.bottom)*n;return o/i}const nan=h.memo(function(t){const{alignX:n="center",alignY:r="center",alt:o,aspectRatio:i="none",className:s="",crop:a=Ju,hotspot:c=Qu,onError:u,onLoad:d,src:f,srcAspectRatio:p,srcSet:m,style:v}=t,[g,y]=h.useState(null),x=h.useRef(null),b=h.useRef(null),w=h.useCallback(()=>{if(x.current)if(i==="auto"){const S=x.current.parentNode;h.startTransition(()=>y(S.offsetWidth/S.offsetHeight))}else y(null)},[i]);h.useEffect(()=>{const S=b.current;return S&&S.src&&S.complete&&S.naturalWidth!==void 0&&(ean("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",f),S.src=S.src),w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[f,w]);const C=h.useMemo(()=>i==="none"?a?tan(a,p):p:i==="auto"?g:i||null,[i,g,a,p]),_=h.useMemo(()=>Gsn({container:{aspectRatio:C||p},image:{aspectRatio:p},hotspot:c,crop:a,align:{x:n,y:r}}),[n,r,a,c,p,C]);return l.jsx(Jsn,{className:"".concat(s),style:v,ref:x,children:l.jsxs("div",{style:_.container,children:[l.jsx("div",{style:_.padding}),l.jsx("div",{style:_.crop,children:l.jsx("img",{ref:b,src:f,alt:o,srcSet:m,onLoad:d,onError:u,style:_.image})})]})})}),ran="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function oan(e){return e.startsWith("blob:")}function ian(e){return new gt(t=>{const n=document.createElement("img");let r=!1;const o=()=>{r=!0,t.next(n),t.complete()},i=()=>{r=!0,t.error(new Error("Could not load image from ".concat(oan(e)?"blob":e)))};return n.onload=o,n.onerror=i,n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=ran)}})}const Fse={isLoading:!0};function san(e){const[t,n]=h.useState(Fse);return h.useEffect(()=>{n(Fse);const r=ian(e).subscribe({error:o=>{n({isLoading:!1,error:o})},next:o=>{n({image:o,isLoading:!1})}});return()=>{r.unsubscribe()}},[e]),t}var Lse=Object.freeze,aan=Object.defineProperty,lan=(e,t)=>Lse(aan(e,"raw",{value:Lse(t||e.slice())})),Bse;const Nse=["hotspot"],zse=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],Vse={crop:Ju,hotspot:Qu},can=O.div(Bse||(Bse=lan([`
  min-height: 6em;
`])));function uan(e){return l.jsx(U,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function dan(e){const{imageUrl:t,value:n,changed:r,level:o,path:i,focusPath:s=pn,presence:a,onChange:c,schemaType:u,onPathFocus:d,readOnly:f,elementProps:p}=e,[m,v]=h.useState(n||Vse),{image:g,isLoading:y,error:x}=san(t),b=h.useCallback(()=>{d(Nse)},[d]);h.useEffect(()=>{v(n||Vse)},[n]);const w=s[0]==="hotspot";Fi(w,_=>{var S;!_&&w&&((S=p.ref.current)==null||S.focus())});const C=h.useCallback(_=>{if(f)return;const S=u.fields.find(T=>T.name==="crop"&&T.type.name!=="object"),E=u.fields.find(T=>T.type.name!=="object"&&T.name==="hotspot"),j=S?{_type:S.type.name,..._.crop||Ju}:_.crop,k=E?{_type:E.type.name,..._.hotspot||Qu}:_.hotspot;c([xt(j,["crop"]),xt(k,["hotspot"])])},[c,f,u.fields]);return l.jsx(Q0,{title:"Hotspot & crop",level:o,description:"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.",__unstable_presence:a,children:l.jsxs("div",{children:[l.jsx(ee,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:p.ref,onFocus:b,children:l.jsx(ai,{path:i.concat(Nse),hasFocus:s[0]==="hotspot",isChanged:r,children:l.jsxs(Cse,{ratio:3/2,children:[(y||x)&&l.jsx(uan,{children:x?l.jsx(ee,{padding:4,radius:2,tone:"critical",border:!0,children:l.jsxs(L,{children:["Error: ",x.message]})}):l.jsx(L,{muted:!0,children:"Loading image… "})}),!y&&g&&l.jsx(M,{margin:1,children:l.jsx(Ix,{value:m,src:g.src,readOnly:!!f,onChangeEnd:C,onChange:v})})]})})}),l.jsx(M,{marginTop:3,children:l.jsx(Jt,{columns:zse.length,gap:1,children:zse.map(_=>{let[S,E]=_;return l.jsxs("div",{children:[l.jsx(Vo,{as:"h4",size:0,children:S}),l.jsx(M,{marginTop:2,children:l.jsx(Cse,{ratio:E,children:l.jsx(ee,{__unstable_checkered:!0,children:!y&&g?l.jsx(nan,{aspectRatio:E,src:g.src,srcAspectRatio:g.width/g.height,hotspot:m.hotspot||Qu,crop:m.crop||Ju}):l.jsx(can,{})})})})]},E)})})})]})})}var Hse=Object.freeze,fan=Object.defineProperty,han=(e,t)=>Hse(fan(e,"raw",{value:Hse(t||e.slice())})),Use;const pan=O(Gt)(Use||(Use=han([`
  position: absolute;
  top: 0;
  right: 0;
`])));function man(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:o,setMenuButtonElement:i,onMenuOpen:s,isMenuOpen:a}=e,[c,u]=h.useState(null),[d,f]=h.useState(null),p=h.useCallback(()=>s(!a),[s,a]);Ts(h.useCallback(v=>{a&&(v.key==="Escape"||v.key==="Tab")&&(s(!1),d==null||d.focus())},[a,s,d])),ur(h.useCallback(v=>{d!=null&&d.contains(v.target)||s(!1)},[d,s]),[c]);const m=h.useCallback(v=>{i(v),f(v)},[i]);return h.useEffect(()=>{a&&(c==null||c.focus())},[a,c]),l.jsxs(pan,{"data-buttons":!0,space:1,padding:2,children:[r&&l.jsx(at,{content:l.jsx(L,{size:1,children:"Crop image"}),padding:2,children:l.jsx(se,{"aria-label":"Open image edit dialog","data-testid":"options-menu-edit-details",icon:f0e,mode:"ghost",onClick:t,ref:o})}),l.jsx(en,{id:"image-actions-menu",content:l.jsx(Bt,{ref:u,children:n}),portal:!0,open:a,constrainSize:!0,children:l.jsx(se,{"aria-label":"Open image options menu","data-testid":"options-menu-button",icon:To,mode:"ghost",onClick:p,ref:m})})]})}var Wse=Object.freeze,gan=Object.defineProperty,PA=(e,t)=>Wse(gan(e,"raw",{value:Wse(t||e.slice())})),Yse,qse,Gse,Kse;const Zse=30,van=O(ee)(Yse||(Yse=PA([`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`]))),yan=O(fr)(qse||(qse=PA([`
  position: absolute;
`]))),ban=O(U)(e=>{let{$drag:t,$tone:n}=e;const r=Of.color.light[n].card.enabled.fg,o=Dt(Of.color.light[n].card.enabled.bg,.8);return he(Gse||(Gse=PA([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: `,`;
    color: `,`;
    background-color: `,`;
  `])),t?"blur(10px)":"",n?r:"",t?o:"transparent")}),xan=O(U)(Kse||(Kse=PA([`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`]))),wan=e=>{const n=new URLSearchParams(e.split("?")[1]).get("rect");return n?[n.split(",")[2],n.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function Can(e){const{drag:t,readOnly:n,isRejected:r,src:o,...i}=e,[s,a]=h.useState(!1),[c,u]=h.useState(null),d=Zf(c),f=(d==null?void 0:d.width)||0,m=t?r||n?"critical":"primary":"default",v=Zse*document.documentElement.clientHeight/100,[g,y]=wan(o),x=g/y,w=(g>f?f/x:y)<v?null:"".concat(Zse,"vh");h.useEffect(()=>{a(!1)},[o]);const C=h.useCallback(()=>{a(!0)},[]);return l.jsxs(van,{...i,ref:u,style:{height:w},tone:"transparent",children:[l.jsxs(ee,{"data-container":!0,tone:"inherit",children:[!s&&l.jsx(Xse,{cardTone:"transparent",drag:!0,content:l.jsx(yan,{})}),l.jsx("img",{src:o,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:C,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&l.jsx(Xse,{cardTone:m,drag:t,content:l.jsxs(l.Fragment,{children:[l.jsx(M,{marginBottom:3,children:l.jsx(Vo,{children:l.jsx(_an,{isRejected:r,readOnly:n})})}),l.jsx(San,{isRejected:r,readOnly:n})]})})]})}function _an(e){let{isRejected:t,readOnly:n}=e;return t?l.jsx(Sf,{}):n?l.jsx(Xx,{}):l.jsx(Tl,{})}function San(e){let{isRejected:t,readOnly:n}=e,r="Drop image to upload";return t&&(r="Cannot upload this file here"),n&&(r="This field is read only"),l.jsx(L,{size:1,children:r})}function Xse(e){let{cardTone:t,drag:n,content:r}=e;return l.jsx(ban,{justify:"flex-end",padding:3,$drag:n,$tone:t,children:l.jsx(xan,{direction:"column",align:"center",justify:"center",children:r})})}var Qse=Object.freeze,Ean=Object.defineProperty,kan=(e,t)=>Qse(Ean(e,"raw",{value:Qse(t||e.slice())})),Jse;const jan=O(se)(Jse||(Jse=kan([`
  width: 100%;
`])));function Tan(e){let{onClearValue:t}=e;return l.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(U,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Fr,{})})}),l.jsxs(oe,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Invalid image value"}),l.jsx(L,{size:1,children:"The value of this field is not a valid image. Resetting this field will let you choose a new image."})]})]}),l.jsx(jan,{icon:Iu,text:"Reset value",onClick:t,mode:"ghost"})]})}const Aan=()=>typeof window>"u"||!window.devicePixelRatio?1:Math.round(Math.max(1,window.devicePixelRatio));function Dan(e){let{children:t}=e;return t}const eae=["asset"],Ian={portal:!0};class Pan extends ie.PureComponent{constructor(t){var n;super(t),n=this,this._previewElement=null,this.uploadSubscription=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,hotspotButtonElement:null,menuButtonElement:null,isMenuOpen:!1},this.toast=null,this.setPreviewElement=r=>{this._previewElement=r},this.setHotspotButtonElement=r=>{this.setState({hotspotButtonElement:r})},this.setMenuButtonElement=r=>{this.setState({menuButtonElement:r})},this.getUploadOptions=r=>{const{schemaType:o,resolveUploader:i}=this.props,s=i&&i(o,r);return s?[{type:o,uploader:s}]:[]},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{label:u,title:d,description:f,creditLine:p,source:m}=i,v={metadata:Un(s,"options.metadata"),storeOriginalFilename:Un(s,"options.storeOriginalFilename"),label:u,title:d,description:f,creditLine:p,source:m};n.cancelUpload(),n.setState({isUploading:!0}),a(Zi({_type:s.name})),n.uploadSubscription=r.upload(c,o,s,v).subscribe({next:g=>{g.patches&&a(g.patches)},error:g=>{var y;console.error(g),(y=n.toast)==null||y.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{a([nt(["hotspot"]),nt(["crop"])]),n.setState({isUploading:!1})}})},this.handleRemoveButtonClick=()=>{const{value:r}=this.props,o=Object.keys(r||{}),s=o.filter(c=>!["_type","_key","_upload","asset","crop","hotspot"].includes(c)).length===0,a=["asset"].concat(o.filter(c=>["crop","hotspot","_upload"].includes(c))).map(c=>nt([c]));this.props.onChange(s&&!this.valueIsArrayElement()?nt():a)},this.handleFieldChange=r=>{const{onChange:o,schemaType:i}=this.props;if(!this.valueIsArrayElement()&&this.eventIsUnsettingLastFilledField(r)){o(nt());return}o(r.prepend(Zi({_type:i.name})).patches)},this.eventIsUnsettingLastFilledField=r=>{const o=r.patches[0];if(r.patches.length!==1||o.type!=="unset")return!1;const s=Object.keys(this.props.value||{}).filter(c=>!["_type","_key","crop","hotspot"].includes(c));return r.patches[0].path.length===1&&s.length===1&&s[0]===r.patches[0].path[0]},this.valueIsArrayElement=()=>{const{path:r}=this.props;return typeof r.slice(-1)[0]!="string"},this.handleOpenDialog=()=>{this.props.onPathFocus(["hotspot"])},this.handleCloseDialog=()=>{var r;this.props.onPathFocus([]),(r=this.state.hotspotButtonElement)==null||r.focus()},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;tPe({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith,isImage:!0}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r.filter(o=>o.kind!=="string")})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange([nt(["asset"]),nt(["crop"]),nt(["hotspot"])])},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectImageFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.state.menuButtonElement)==null||r.focus()},this.renderHotspotInput=r=>{const{value:o,changed:i,id:s,imageUrlBuilder:a}=this.props,c=this.isImageToolEnabled()&&o&&o.asset;return l.jsx(Ri,{__unstable_autoFocus:!1,header:"Edit hotspot and crop",id:"".concat(s,"_dialog"),onClickOutside:this.handleCloseDialog,onClose:this.handleCloseDialog,width:1,children:l.jsx(nC,{children:l.jsx(M,{padding:4,children:l.jsx(oe,{space:5,children:c&&(o==null?void 0:o.asset)&&l.jsx(dan,{...this.props,imageUrl:a.image(o.asset).url(),value:o,presence:r.presence,changed:i})})})})})},this.renderPreview=()=>{const{value:r,schemaType:o,readOnly:i,directUploads:s,imageUrlBuilder:a,resolveUploader:c}=this.props;if(!r||!ib(r))return null;const{hoveringFiles:u}=this.state,d=u.filter(m=>c(o,m)),f=u.length-d.length,p=a.width(2e3).fit("max").image(r).dpr(Aan()).auto("format").url();return l.jsx(Can,{drag:!(r!=null&&r._upload)&&u.length>0,isRejected:f>0||!s,readOnly:i,src:p,alt:"Preview of uploaded image"})},this.setToast=r=>{this.toast=r},this._assetPath=t.path.concat(eae)}isImageToolEnabled(){return Un(this.props.schemaType,"options.hotspot")===!0}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(nt(["_upload"]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n,resolveUploader:r}=this.props,o=t.map(i=>({file:i,uploader:r(n,i)})).find(i=>i.uploader);o&&this.uploadWith(o.uploader,o.file),this.setState({isMenuOpen:!1})}renderAssetMenu(){const{value:t,assetSources:n,schemaType:r,readOnly:o,directUploads:i,imageUrlBuilder:s,observeAsset:a}=this.props,c=t==null?void 0:t.asset;if(!c)return null;const u=Un(r,"options.accept","image/*"),d=t&&c&&this.isImageToolEnabled();let f=n&&n.length===0?null:l.jsx(Ve,{icon:ei,text:"Select",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(n[0])},disabled:o,"data-testid":"file-input-browse-button"});return n&&n.length>1&&(f=n.map(p=>l.jsx(Ve,{text:p.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(p)},icon:p.icon||Tl,"data-testid":"file-input-browse-button-".concat(p.name),disabled:o},p.name))),l.jsx(r0,{observeAsset:a,reference:c,children:p=>{let{_id:m,originalFilename:v,extension:g}=p,y,x;if(ib(t)){const b=v||"download.".concat(g);x=s.image(m).forceDownload(b).url(),y=s.image(m).url()}return l.jsx(man,{isMenuOpen:this.state.isMenuOpen,onEdit:this.handleOpenDialog,onMenuOpen:b=>this.setState({isMenuOpen:b}),setHotspotButtonElement:this.setHotspotButtonElement,setMenuButtonElement:this.setMenuButtonElement,showEdit:d,children:l.jsx(nPe,{onUpload:this.handleSelectFiles,browse:f,onReset:this.handleRemoveButtonClick,downloadUrl:x,copyUrl:y,readOnly:o,directUploads:i,accept:u})})}})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t&&t.length===0?null:t&&t.length>1&&!n&&r?l.jsx(tn,{id:"".concat(o,"_assetImageButton"),ref:this.setMenuButtonElement,button:l.jsx(se,{"data-testid":"file-input-multi-browse-button",icon:ei,iconRight:Za,mode:"ghost",text:"Select"}),menu:l.jsx(Bt,{children:t.map(i=>l.jsx(Ve,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(i)},icon:i.icon||Tl,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))}),popover:Ian}):l.jsx(se,{fontSize:2,text:"Select",icon:ei,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n})}renderUploadPlaceholder(){const{schemaType:t,readOnly:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o(t,u)),a=i.length-s.length,c=Un(t,"options.accept","image/*");return l.jsx("div",{style:{padding:1},children:l.jsx(ee,{tone:n?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(oPe,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:n,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"image",accept:c,directUploads:r})})})}renderUploadState(t){var n;const{isUploading:r}=this.state,o=(n=this._previewElement)==null?void 0:n.offsetHeight;return l.jsx(JIe,{uploadState:t,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload,height:o})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props,i=Un(r,"options.accept","image/*");if(!t)return null;const s=t.component;return n&&n.asset?l.jsx(r0,{observeAsset:o,reference:n.asset,children:a=>l.jsx(s,{selectedAssets:[a],assetType:"image",accept:i,selectionType:"single",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"image",accept:i,onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}getFileTone(){const{schemaType:t,value:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i(t,u)),c=s.length-a.length;return s.length>0&&(c>0||!o)?"critical":!(n!=null&&n._upload)&&!r&&s.length>0?"primary":r||n!=null&&n._upload&&(n!=null&&n.asset)?"transparent":"default"}renderAsset(){const{value:t,readOnly:n,elementProps:r}=this.props,{hoveringFiles:o,isStale:i}=this.state,s=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!ib(t)?()=>l.jsx(Tan,{onClearValue:this.handleClearField}):a=>l.jsxs(l.Fragment,{children:[i&&l.jsx(M,{marginBottom:2,children:l.jsx(iPe,{onClearStale:this.handleClearUploadState})}),l.jsx(ai,{path:a.path.concat(eae),hasFocus:!!a.focused,isChanged:a.changed,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsxs(QIe,{...r,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!n,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:s||o.length>0,style:{padding:1},sizing:"border",radius:2,children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&l.jsxs("div",{style:{position:"relative"},ref:this.setPreviewElement,children:[this.renderPreview(),this.renderAssetMenu()]})]})})]})}render(){const{focusPath:t,members:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=this.props,{selectedAssetSource:d}=this.state,f=n.find(p=>p.kind==="field"&&p.name==="hotspot");return l.jsxs(oe,{space:5,"data-testid":"image-input",children:[l.jsx(cB,{ref:this.setToast}),n.map(p=>p.kind==="field"&&(p.name==="crop"||p.name==="hotspot")?null:p.kind==="field"?l.jsx(rC,{member:p,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:p.name==="asset"?this.renderAsset():a,renderField:p.name==="asset"?Dan:i,renderItem:c,renderPreview:u},p.key):p.kind==="fieldSet"?l.jsx(eN,{member:p,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u},p.key):p.kind==="error"?l.jsx(SA,{member:p},p.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",p.kind]})),f&&t[0]==="hotspot"&&l.jsx(kIe,{...this.props,absolutePath:f.field.path,renderInput:this.renderHotspotInput}),d&&this.renderAssetSource()]})}}function Oan(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,{image:r}=li().__internal,o=Li(),i=pr(an),a=li().__internal.image.directUploads,c=h.useCallback((p,m)=>a?ZB(p,m):null,[a]),u=ie.useMemo(()=>n||r.assetSources,[r,n]),d=ie.useMemo(()=>vT(i),[i]),f=h.useCallback(p=>dIe(o,p),[o]);return l.jsx(Pan,{...e,client:i,assetSources:u,directUploads:r.directUploads,imageUrlBuilder:d,observeAsset:f,resolveUploader:c})}const dPe=()=>{},DO={isLoading:!0,result:void 0,error:void 0,retry:dPe},Ran={isLoading:!1,result:void 0,error:void 0,retry:dPe};function fPe(e,t){const[n,r]=h.useState(0),o=h.useCallback(()=>{r(c=>c+1)},[]),i=h.useMemo(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),s=go(()=>i._id?t(i).pipe(ue(c=>({isLoading:!1,result:c,error:void 0,retry:o,retryAttempt:n})),ri(DO),Pn(c=>(console.error(c),be({isLoading:!1,result:void 0,error:c,retry:o,retryAttempt:n})))):be(Ran),[i,t,o,n],DO);return CB(e._id,e._id)!==e._id?DO:s}var tae=Object.freeze,$an=Object.defineProperty,hPe=(e,t)=>tae($an(e,"raw",{value:tae(t||e.slice())})),nae,rae;const Man=O(U)(nae||(nae=hPe([`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`]))),pPe=O(U)(rae||(rae=hPe([`
  /* This limits the width of the tooltip content */
  max-width: 250px;
`])));function oae(e){return l.jsx(pPe,{padding:3,children:l.jsx(M,{flex:1,children:l.jsx(M,{children:l.jsx(L,{as:"p",size:1,children:e.children})})})})}function mPe(e){var t,n,r;const{refType:o,showStudioUrlIcon:i,hasStudioUrl:s,showTypeLabel:a,availability:c,preview:u,id:d,dataset:f,projectId:p}=e,m=(c==null?void 0:c.reason)==="NOT_FOUND",v=(c==null?void 0:c.reason)==="PERMISSION_DENIED",g=(t=u.published)==null?void 0:t.media,y=h.useMemo(()=>{if(g){const x=typeof(g==null?void 0:g.asset)<"u"&&ib(g),b=ie.isValidElement(g);return!x&&!b?null:function(C){let{dimensions:_}=C;return b?g:l.jsx("img",{src:vT({dataset:f,projectId:p}).image(g).withOptions(_).url(),alt:"Image preview of referenced document",referrerPolicy:"strict-origin-when-cross-origin"})}}return o!=null&&o.icon?h.createElement(o.icon):null},[g,f,p,o==null?void 0:o.icon]);return l.jsxs(Man,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[c!=null&&c.available?l.jsx(M,{flex:1,children:l.jsx(TAe,{title:(n=u.published)==null?void 0:n.title,subtitle:(r=u.published)==null?void 0:r.subtitle,media:y||!1})}):l.jsx(M,{flex:1,children:l.jsx(U,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document unavailable"})})})}),l.jsx(M,{paddingLeft:3,children:l.jsxs(Gt,{space:4,children:[o&&a&&l.jsx(Vt,{size:1,muted:!0,children:o.title||o.type}),(v||m)&&l.jsx(M,{children:l.jsx(at,{portal:!0,content:m?l.jsxs(oae,{children:["The referenced document no longer exist and might have been deleted.",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d}),")"]}):l.jsx(oae,{children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(lr,{tone:"default",children:v?l.jsx(Sf,{}):l.jsx(Av,{})})})}),!(m||v)&&i&&l.jsx(M,{children:l.jsx(at,{portal:!0,content:l.jsx(pPe,{padding:2,children:s?l.jsx(L,{size:1,children:"This document opens in a new tab"}):l.jsxs(L,{size:1,children:["This document cannot be opened ",l.jsx("br",{})," (unable to resolve URL to Studio)"]})}),children:l.jsx(lr,{size:1,tone:"default",muted:!s,children:l.jsx(Uf,{})})})})]})})]})}function dN(){return pr(an).config().projectId}function Fan(e){var t;const{isLoading:n,result:r,error:o}=fPe(e.document,e.getReferenceInfo),i=dN();if(n)return l.jsxs(oe,{space:2,padding:1,children:[l.jsx(Di,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(Di,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return l.jsx(oe,{space:2,padding:1,children:l.jsxs(Hc,{title:"Failed to load referenced document",children:["Error: ",o.message]})});if(!r)return null;if(((t=r.availability)==null?void 0:t.reason)==="PERMISSION_DENIED")return l.jsx(oe,{space:2,padding:1,children:"Insufficient permissions to view this document"});const s=e.referenceType.to.find(a=>a.type===r.type);return s?r&&s&&l.jsx(mPe,{id:r.id,availability:r.availability,preview:r.preview,refType:s,dataset:e.referenceType.dataset,projectId:i,showTypeLabel:e.referenceType.to.length>1}):l.jsxs(oe,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,r.type,'"']})}function iae(e){var t,n;const{value:r,type:o,showStudioUrlIcon:i,hasStudioUrl:s,referenceInfo:a}=e,c=dN();if(a.isLoading||a.error)return l.jsxs(oe,{space:2,padding:1,children:[l.jsx(Di,{style:{maxWidth:320},radius:1,animated:!a.error}),l.jsx(Di,{style:{maxWidth:200},radius:1,size:1,animated:!a.error})]});const u=o.to.length>1,d=(t=a.result)==null?void 0:t.type,f=o.to.find(p=>p.type===d);return(n=a.result.availability)!=null&&n.available&&!f?l.jsx(oe,{space:2,padding:2,children:l.jsxs(L,{as:"p",children:["The referenced document is of invalid type: (",d||"unknown",")",l.jsx("pre",{children:JSON.stringify(r,null,2)})]})}):l.jsx(mPe,{availability:a.result.availability,hasStudioUrl:s,showStudioUrlIcon:i,preview:a.result.preview,refType:f,projectId:c,dataset:o.dataset,id:r._ref,showTypeLabel:u})}var sae=Object.freeze,Lan=Object.defineProperty,gPe=(e,t)=>sae(Lan(e,"raw",{value:sae(t||e.slice())})),aae,lae;const Ban=O(en)(aae||(aae=gPe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),Nan=O(L)(lae||(lae=gPe([`
  word-break: break-word;
`]))),zan=["top-start","bottom-start"],Van=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;return l.jsx(Ban,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:zan,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(M,{padding:4,children:l.jsx(U,{align:"center",height:"fill",justify:"center",children:l.jsxs(Nan,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",t.searchString,"”"]})]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(T6,{...t,ref:n,renderPopover:o})});var cae=Object.freeze,Han=Object.defineProperty,Uan=(e,t)=>cae(Han(e,"raw",{value:cae(t||e.slice())})),uae;const Wan=O(se)(uae||(uae=Uan([`
  width: 100%;
`])));function Yan(e){let{value:t,onClearValue:n}=e;const r=h.useMemo(()=>!!(t!=null&&t._ref),[t==null?void 0:t._ref]);return l.jsxs(ee,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[l.jsxs(U,{gap:4,marginBottom:r?4:void 0,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Fr,{})})}),l.jsxs(oe,{space:3,children:[l.jsx(L,{as:"h2",size:1,weight:"semibold",children:"Unavailable feature: Cross dataset reference"}),r&&l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",size:1,children:["This feature has been disabled. Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]}),l.jsx(L,{as:"p",size:1,children:"You can still clear this field's existing reference, but that cannot be revoked as long as the feature is disabled."})]}),!r&&l.jsxs(L,{as:"p",size:1,children:["Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]})]})]}),n&&r&&l.jsx(Wan,{icon:Iu,text:"Reset value",onClick:n,mode:"ghost"})]})}const dae={hits:[],isLoading:!1},qan=()=>!0,fae=["_ref"],Gan="crossDatasetReferences";function Kan(e){var t,n,r;const{changed:o,focused:i,focusPath:s,getReferenceInfo:a,onChange:c,onPathFocus:u,onSearch:d,path:f,readOnly:p,schemaType:m,validation:v,value:g,elementProps:y}=e,x=dN(),[b,w]=h.useState(dae),C=h.useCallback(le=>{if(!le){c(nt()),u([]);return}if(!b.hits.find(xe=>xe.id===le))throw new Error("Selected an item that wasnt part of the result set");c(xt({_type:m.name,_ref:On(le),_projectId:x,_dataset:m.dataset,_weak:m.weak,_key:g==null?void 0:g._key})),u([])},[g==null?void 0:g._key,b.hits,m.name,m.dataset,m.weak,x,c,u]),_=h.useCallback(()=>{c(nt())},[c]),S=h.useCallback(le=>{le.keyCode===27&&(u==null||u([]))},[u]),E=h.useCallback(le=>a(le,m),[a,m]),j=h.useMemo(()=>({_id:g==null?void 0:g._ref}),[g==null?void 0:g._ref]),k=fPe(j,E),T=n3e(Gan),A=h.useRef(null),D=s.length===1&&s[0]==="_ref",I=y.ref;Fi({hasFocusAt:D,ref:g==null?void 0:g._ref},(le,ge)=>{var xe;const ce=(le==null?void 0:le.ref)!==ge.ref;((le==null?void 0:le.hasFocusAt)!==ge.hasFocusAt||ce)&&ge.hasFocusAt&&((xe=I.current)==null||xe.focus())});const P=g!=null&&g._weak?"weak":"strong",$=m.weak===!0?"weak":"strong",R=!!(g!=null&&g._ref),V=h.useCallback(()=>{c(m.weak===!0?xt(!0,["_weak"]):nt(["_weak"]))},[c,m]),{push:N}=Ho(),W=h.useMemo(()=>v.filter(le=>le.level==="error"),[v]),G=h.useCallback(le=>{le.currentTarget===y.ref.current&&(u==null||u([Dve]))},[y.ref,u]),H=h.useCallback(le=>{le.currentTarget===y.ref.current&&(u==null||u(fae))},[y.ref,u]),q=h.useCallback(()=>{u==null||u(fae)},[u]),X=h.useId(),B=Vj(le=>le.pipe(mt(mo),Qn(),it(ge=>Hr(be({isLoading:!0}),d(ge).pipe(ue(xe=>({hits:xe,searchString:ge,isLoading:!1})),Pn(xe=>(N({title:"Reference search failed",description:xe.message,status:"error",id:"reference-search-fail-".concat(X)}),console.error(xe),be({hits:[]})))))),na((ge,xe)=>({...ge,...xe}),dae),bn(w)),[X,d,N]),Y=h.useCallback(()=>{B("")},[B]),z=!k.isLoading&&R&&P!==$,Z=(g==null?void 0:g._ref)&&((n=m.studioUrl)==null?void 0:n.call(m,{id:g==null?void 0:g._ref,type:(t=k==null?void 0:k.result)==null?void 0:t.type}))||null,Q=h.useCallback(le=>l.jsx(wp,{as:"button",type:"button",radius:2,children:l.jsx(M,{paddingX:3,paddingY:1,children:l.jsx(Fan,{referenceType:m,document:le.hit.published,getReferenceInfo:E})})}),[m,E]),ne=(r=k.result)==null?void 0:r.preview.published,K=D||!(g!=null&&g._ref),J=h.useRef(null),re=h.useRef(null),fe=h.useRef(null);return eDe([J,re,fe],()=>{D&&u([])}),l.jsxs(l.Fragment,{children:[!T.isLoading&&!T.enabled&&l.jsx(Yan,{value:g,onClearValue:_}),(T.isLoading||T.enabled)&&l.jsx(oe,{space:1,children:K?l.jsx(oe,{space:2,ref:J,children:l.jsx(ai,{path:f,isChanged:o,hasFocus:!!i,children:l.jsx("div",{ref:A,children:l.jsx(Van,{...y,"data-testid":"autocomplete",loading:b.isLoading,referenceElement:A.current,portalRef:re,id:X||"",options:b.hits.map(le=>({value:le.id,hit:le})),onFocus:H,radius:1,placeholder:"Type to search",onKeyDown:S,readOnly:p,disabled:k.isLoading,onQueryChange:B,searchString:b.searchString,onChange:C,filterOption:qan,renderOption:Q,openButton:{onClick:Y}})})})}):l.jsx(ai,{path:f,isChanged:o,hasFocus:!!i,children:l.jsxs(ee,{padding:0,border:!0,flex:1,radius:1,tone:p?"transparent":k.error||W.length>0?"critical":"default",children:[l.jsxs(U,{align:"center",padding:1,children:[Z?l.jsx(wp,{as:"a",target:"_blank",rel:"noopener noreferrer",href:Z,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:G,ref:y.ref,children:l.jsx(iae,{value:g,referenceInfo:k,showStudioUrlIcon:!0,hasStudioUrl:!!Z,type:m})}):l.jsx(wp,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:G,ref:y.ref,children:l.jsx(iae,{value:g,referenceInfo:k,showStudioUrlIcon:!0,type:m})}),l.jsx(Gt,{paddingX:1,children:l.jsx(tn,{button:l.jsx(se,{padding:2,mode:"bleed",icon:To,"data-testid":"menu-button"}),id:"".concat(X,"-menuButton"),menu:l.jsx(Bt,{children:!p&&l.jsxs(l.Fragment,{children:[l.jsx(Ve,{text:"Clear",tone:"critical",icon:Iu,"data-testid":"menu-item-clear",onClick:_}),l.jsx(Ve,{text:"Replace",icon:h0,"data-testid":"menu-item-replace",onClick:q})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),z&&l.jsx(bf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:P}),", but according to the current schema it should be ",l.jsxs("em",{children:[$,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:m.weak?l.jsxs(l.Fragment,{children:['It will not be possible to delete the "',ne==null?void 0:ne.title,'"-document without first removing this reference.']}):l.jsxs(l.Fragment,{children:['This makes it possible to delete the "',ne==null?void 0:ne.title,'"-document without first deleting this reference, leaving this field referencing a nonexisting document.']})}),l.jsx(se,{onClick:V,text:l.jsxs(l.Fragment,{children:["Convert to ",$," reference"]}),tone:"caution"})]})}),k.error&&l.jsx(bf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(oe,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",k.error.message]}),l.jsx(se,{onClick:k.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]})})})]})}function Zan(e,t,n,r){return wB(n.to.map(i=>({name:i.type,__experimental_search:i.__experimental_search})),e,r)(t,{includeDrafts:!1}).pipe(ue(i=>i.map(s=>s.hit)),ue(aA),ue(i=>i.map(s=>({id:s.id,type:s.type,published:s.published}))))}const Xan="cross-dataset-refs",vPe={available:!0,reason:"READABLE"},Qan={available:!1,reason:"PERMISSION_DENIED"},Jan={available:!1,reason:"NOT_FOUND"};function eln(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:o}=t.config(),i=r&&o?{dataset:r,projectId:o}:void 0;return function(a,c){return(a._type?be(a):n.observeDocumentTypeFromId(a._id,i).pipe(ue(u=>({_id:a._id,_type:u})))).pipe(it(u=>{if(!u._type)return tln(t,a._id).pipe(ue(m=>({id:a._id,type:void 0,availability:m,preview:{published:void 0}})));const d=c.to.find(m=>m.type===u._type),f=[...vB(d==null?void 0:d.preview)||[],["_updatedAt"],["_createdAt"]],p=n.observePaths(a,f,i).pipe(ue(m=>m&&n5(m,d)));return Bo([p]).pipe(ue(m=>{let[v]=m;return{type:u._type,id:a._id,availability:vPe,preview:{published:wt(v)?v:void 0}}}))}))}}function tln(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:"".concat(Xan,".availability")};return e.observable.request(n).pipe(ue(r=>{const i=r9(r.omitted||[],s=>s.id)[t];return i?i.reason==="existence"?Jan:i.reason==="permission"?Qan:null:vPe}))}async function nln(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=om(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function rln(e){const t=h.useRef(e);return t.current=e,t}function oln(e){const{path:t,schemaType:n}=e,r=Mn(),o=r.getClient(an),i=Li(),s=r.getClient,a=h.useMemo(()=>o.withConfig({dataset:n.dataset,apiVersion:"2022-03-07",ignoreBrowserTokenWarning:!0}).clone(),[o,n.dataset]),c=EA([]),u=rln(c),d=h.useCallback(p=>Sr(nln(n.options,u.current,t,s)).pipe(ht(m=>{let{filter:v,params:g}=m;return Zan(a,p,n,{...n.options,filter:v,params:g,tag:"search.cross-dataset-reference"})}),Pn(m=>{var v;const g=m.details&&m.details.type==="queryParseError";return(v=n.options)!=null&&v.filter&&g&&(m.message='Invalid reference filter, please check the custom "filter" option'),Nu(m)})),[a,u,t,n,s]),f=h.useMemo(()=>eln({client:a,documentPreviewStore:i}),[a,i]);return l.jsx(Kan,{...e,getReferenceInfo:f,onSearch:d})}function iln(e){const t=h.useRef(e);return t.current=e,t}async function sln(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=om(t,o);return e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function fN(e){var t,n,r,o;const{path:i,schemaType:s}=e,a=Mn(),c=a.getClient(an),u=En(),d=Li(),f=h.useMemo(()=>c.withConfig({apiVersion:"2021-03-25"}),[c]),{EditReferenceLinkComponent:p,onEditReference:m,activePath:v,initialValueTemplateItems:g}=VDe(),y=EA([]),x=iln(y),b=(t=x.current)==null?void 0:t._type,w=h.useMemo(()=>{var I;return(I=u.get(b))==null?void 0:I.liveEdit},[b,u]),C=((n=s.options)==null?void 0:n.disableNew)===!0,_=a.getClient,S=h.useCallback(I=>Sr(sln(s.options,x.current,i,_)).pipe(ht(P=>{let{filter:$,params:R}=P;return JAe(f,I,s,{...s.options,filter:$,params:R,tag:"search.reference"})}),Pn(P=>{var $;const R=P.details&&P.details.type==="queryParseError";return($=s.options)!=null&&$.filter&&R&&(P.message='Invalid reference filter, please check the custom "filter" option'),Nu(P)})),[x,i,f,s,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(P,$){return p?l.jsx(p,{...P,ref:$,parentRefPath:i,template:E}):null}),[p,i,E]),k=h.useCallback(I=>{m==null||m({parentRefPath:i,id:I.id,type:I.type,template:I.template})},[m,i]),T=wi(i,(v==null?void 0:v.path)||[])?v==null?void 0:v.state:"none",A=h.useMemo(()=>C?[]:(g||[]).filter(I=>s.to.some(P=>{var $;return P.name===(($=I.template)==null?void 0:$.schemaType)})).map(I=>{var P;return(P=I.template)!=null&&P.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(I.template.id),type:I.template.schemaType,icon:I.icon,template:{id:I.template.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(mo),[C,g,s.to]),D=h.useCallback(I=>QAe(d,I,s),[d,s]);return{selectedState:T,handleSearch:S,isCurrentDocumentLiveEdit:w,handleEditReference:k,EditReferenceLink:j,createOptions:A,getReferenceInfo:D}}function aln(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:o,result:i,error:s}=_A(n,t);if(o)return l.jsxs(oe,{space:2,padding:1,children:[l.jsx(Di,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(Di,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(s)return l.jsx(oe,{space:2,padding:1,children:l.jsx(Hc,{title:"Failed to load referenced document",children:l.jsxs(L,{muted:!0,size:1,children:["Error: ",s.message]})})});if(!i)return null;if(i.availability.reason==="PERMISSION_DENIED")return l.jsx(oe,{space:2,padding:1,children:"Insufficient permissions to view this document"});const a=e.type.to.find(c=>c.name===i.type);return a?i&&a&&l.jsx(oIe,{id:i.id,layout:"default",preview:i.preview,refType:a,renderPreview:r,showTypeLabel:e.type.to.length>1}):l.jsxs(oe,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,i.type,'"']})}const lln={display:"inline-flex"},cln={width:"100%"},uln={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function dln(e){const{createOptions:t,onCreate:n,id:r,...o}=e;return t.some(s=>s.permission.granted)?t.length>1?l.jsx(tn,{button:l.jsx(se,{...o,disabled:e.readOnly,text:"Create new…",mode:"ghost",icon:ko}),id:r,menu:l.jsx(Bt,{ref:e.menuRef,children:t.map(s=>l.jsx(at,{disabled:s.permission.granted,content:l.jsx(M,{padding:2,children:l.jsx(Ic,{operationLabel:"create this type of document"})}),portal:!0,children:l.jsx("div",{children:l.jsx(Ve,{disabled:!s.permission.granted,icon:s.icon,text:s.title,onClick:()=>n(s)})})},s.id))}),popover:uln}):l.jsx(se,{...o,text:"Create new",mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:ko}):l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(Ic,{operationLabel:"create a new reference"})}),children:l.jsx("div",{style:lln,children:l.jsx(se,{text:"Create new",mode:"ghost",disabled:!0,icon:ko,style:cln})})})}var hae=Object.freeze,fln=Object.defineProperty,yPe=(e,t)=>hae(fln(e,"raw",{value:hae(t||e.slice())})),pae,mae;const hln=O(en)(pae||(pae=yPe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),pln=O(L)(mae||(mae=yPe([`
  word-break: break-word;
`]))),mln=["top-start","bottom-start"],gln=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;var p;return l.jsx(hln,{placement:"bottom-start",fallbackPlacements:mln,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(M,{padding:4,children:l.jsx(U,{align:"center",height:"fill",justify:"center",children:l.jsxs(pln,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",t.searchString,"”"]}),((p=t.searchString)==null?void 0:p.toLowerCase())==="capybara"?l.jsx(l.Fragment,{children:". What a shame. There should be more Capybaras."}):null]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(T6,{...t,ref:n,renderPopover:o})});var gae=Object.freeze,vln=Object.defineProperty,bPe=(e,t)=>gae(vln(e,"raw",{value:gae(t||e.slice())})),vae,yae;const yln=he(vae||(vae=bPe([`
  grid-template-columns: minmax(0px, 1fr);
`]))),bln=he(yae||(yae=bPe([`
  grid-template-columns: 1fr min-content;
`]))),xln=O(Jt)(e=>e.$narrow?yln:bln),wln=h.forwardRef(function(t,n){const[r,o]=h.useState(null),i=h.useCallback(a=>{Cln(n,a),o(a)},[n]),s=Zf(r);return l.jsx(xln,{ref:i,gap:1,$narrow:((s==null?void 0:s.width)||0)<480,children:t.children})});function Cln(e,t){typeof e=="function"?e(t):e&&(e.current=t)}var bae=Object.freeze,_ln=Object.defineProperty,Sln=(e,t)=>bae(_ln(e,"raw",{value:bae(t||e.slice())})),xae;const Eln=O(wp)(xae||(xae=Sln([`
  /* this is a hack to avoid layout jumps while previews are loading
  there's probably better ways of solving this */
  min-height: 36px;
`]))),wae={hits:[],isLoading:!1},kln=()=>!0;function jln(e){return e!==null}function Tln(e){var t,n,r,o,i,s;const{createOptions:a,onChange:c,onEditReference:u,onSearch:d,schemaType:f,readOnly:p,id:m,onPathFocus:v,value:g,renderPreview:y,path:x,elementProps:b,focusPath:w}=e,{getReferenceInfo:C}=fN({path:x,schemaType:f,value:g}),[_,S]=h.useState(wae),E=h.useCallback(K=>{const J=ld(),re=[Zi({}),xt(f.name,["_type"]),xt(J,["_ref"]),xt(!0,["_weak"]),xt({type:K.type,weak:f.weak,template:K.template},["_strengthenOnPublish"])].filter(mo);c(re),u({id:J,type:K.type,template:K.template}),v([])},[c,u,v,f]),j=h.useCallback(K=>{if(!K){c(nt()),v([]);return}const J=_.hits.find(fe=>fe.id===K);if(!J)throw new Error("Selected an item that wasnt part of the result set");const re=[Zi({}),xt(f.name,["_type"]),xt(On(K),["_ref"]),J.published&&!f.weak?nt(["_weak"]):xt(!0,["_weak"]),J.published?nt(["_strengthenOnPublish"]):xt({type:J==null?void 0:J.type,weak:f.weak},["_strengthenOnPublish"])].filter(mo);c(re),v([])},[c,v,f.name,f.weak,_.hits]),k=h.useCallback(()=>{c(nt())},[c]),T=h.useCallback(()=>{g!=null&&g._ref||k()},[k,g==null?void 0:g._ref]),A=h.useCallback(K=>{K.key==="Escape"&&v([])},[v]),D=_A(g==null?void 0:g._ref,C),I=h.useRef(null),{push:P}=Ho(),$=Vj(K=>K.pipe(mt(jln),it(J=>Hr(be({isLoading:!0}),d(J).pipe(ue(re=>({hits:re,searchString:J,isLoading:!1})),Pn(re=>(P({title:"Reference search failed",description:re.message,status:"error",id:"reference-search-fail-".concat(m)}),console.error(re),be({hits:[]})))))),na((J,re)=>({...J,...re}),wae),bn(S)),[m,d,P]),R=h.useCallback(()=>{$("")},[$]),V=h.useCallback(K=>{K.key==="Escape"&&v([])},[v]),N=h.useCallback(K=>{var J,re;const fe=((J=K.hit.draft)==null?void 0:J._id)||((re=K.hit.published)==null?void 0:re._id)||K.value;return l.jsx(Eln,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:l.jsx(M,{paddingX:3,paddingY:1,children:l.jsx(aln,{getReferenceInfo:C,id:fe,renderPreview:y,type:f})})})},[f,C,y]),W=h.useCallback(()=>{var K,J,re,fe;return((J=(K=D.result)==null?void 0:K.preview.draft)==null?void 0:J.title)||((fe=(re=D.result)==null?void 0:re.preview.published)==null?void 0:fe.title)||""},[(n=(t=D.result)==null?void 0:t.preview.draft)==null?void 0:n.title,(o=(r=D.result)==null?void 0:r.preview.published)==null?void 0:o.title]),G=h.useCallback(()=>v(["_ref"]),[v]),H=h.useCallback(K=>{var J;(J=I.current)!=null&&J.contains(K.relatedTarget)||e.elementProps.onBlur(K)},[e.elementProps]),q=((s=(i=D==null?void 0:D.result)==null?void 0:i.availability)==null?void 0:s.reason)==="NOT_FOUND"&&!(g!=null&&g._strengthenOnPublish)&&(g==null?void 0:g._weak);Fi((w==null?void 0:w[0])==="_ref",(K,J)=>{var re;!K&&J&&((re=b.ref.current)==null||re.focus())});const X=h.useMemo(()=>_.hits.map(K=>({value:K.id,hit:K})),[_.hits]),B=w.length===1&&w[0]==="_ref",{menuRef:Y,containerRef:z}=hnn(),Z=h.useRef(null),Q=h.useRef(null),ne=h.useRef(null);return eDe([z,Z,Q,ne,Y],()=>{B&&T()}),l.jsx(oe,{space:1,"data-testid":"reference-input",ref:Z,children:l.jsxs(oe,{space:2,children:[q?l.jsx(Hc,{"data-testid":"alert-nonexistent-document",title:"Nonexistent document reference",suffix:l.jsx(oe,{padding:2,children:l.jsx(se,{text:"Clear",onClick:k})}),children:l.jsxs(L,{size:1,children:["This field is currently referencing a document that doesn't exist (ID:",l.jsx("code",{children:g._ref}),"). You can either remove the reference or replace it with another document."]})}):null,l.jsxs(wln,{ref:I,children:[l.jsx(gln,{...b,onFocus:G,onBlur:H,"data-testid":"autocomplete",loading:_.isLoading,referenceElement:I.current,options:X,radius:1,placeholder:"Type to search",onKeyDown:A,readOnly:D.isLoading||p,onQueryChange:$,searchString:_.searchString,onChange:j,filterOption:kln,renderOption:N,renderValue:W,openButton:{onClick:R},portalRef:Q,value:g==null?void 0:g._ref}),a.length>0&&l.jsx(dln,{id:"".concat(m,"-selectTypeMenuButton"),readOnly:p,createOptions:a,onCreate:E,onKeyDown:V,menuRef:ne})]})]})})}async function Aln(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=om(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function Dln(e){const t=h.useRef(e);return t.current=e,t}function Iln(e){var t,n,r,o;const i=Mn(),s=i.getClient(an),a=En(),c=Li(),{path:u,schemaType:d}=e,{EditReferenceLinkComponent:f,onEditReference:p,activePath:m,initialValueTemplateItems:v}=VDe(),g=EA([]),y=Dln(g),x=(t=y.current)==null?void 0:t._type,b=a.get(x),w=h.useMemo(()=>b==null?void 0:b.liveEdit,[b]),C=((n=d.options)==null?void 0:n.disableNew)===!0,_=i.getClient,S=h.useCallback(I=>Sr(Aln(d.options,y.current,u,_)).pipe(ht(P=>{let{filter:$,params:R}=P;return JAe(s,I,d,{...d.options,filter:$,params:R,tag:"search.reference"})}),Pn(P=>{var $;const R=P.details&&P.details.type==="queryParseError";return($=d.options)!=null&&$.filter&&R&&(P.message='Invalid reference filter, please check the custom "filter" option'),Nu(P)})),[y,u,s,d,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(P,$){return f?l.jsx(f,{...P,ref:$,parentRefPath:u,template:E}):null}),[f,u,E]),k=h.useCallback(I=>{p==null||p({parentRefPath:u,id:I.id,type:I.type,template:I.template})},[p,u]),T=wi(u,(m==null?void 0:m.path)||[])?m==null?void 0:m.state:"none",A=h.useMemo(()=>C?[]:(v||[]).filter(I=>d.to.some(P=>{var $;return P.name===(($=I.template)==null?void 0:$.schemaType)})).map(I=>{var P,$,R;return(P=I.template)!=null&&P.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(($=I.template)==null?void 0:$.id),type:I.template.schemaType,icon:I.icon,template:{id:(R=I.template)==null?void 0:R.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(mo),[C,v,d.to]),D=h.useCallback((I,P)=>QAe(c,I,P),[c]);return l.jsx(Tln,{...e,onSearch:S,liveEdit:w,getReferenceInfo:D,selectedState:T,editReferenceLinkComponent:j,createOptions:A,onEditReference:k})}function Pln(e){return aF(e.schemaType)}function Oln(e){return TMe(e.schemaType)}function a5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object"&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length!==t.length?!1:e.every((o,i)=>a5(e[i],t[i]));const n=Object.keys(e),r=Object.keys(e);return n.length!==r.length?!1:n.every(o=>a5(e[o],t[o]))}function Cae(e,t){return e?e.some(n=>a5(n,t)):!1}function Rln(e,t){return e.of.find(n=>n.name===ks(t))}const $ln=[];function Mln(e){var t,n;const{renderPreview:r,schemaType:o,onChange:i,onPathFocus:s,value:a=[],readOnly:c,elementProps:u,path:d,changed:f}=e,p=h.useMemo(()=>{var y;return(((y=o.options)==null?void 0:y.list)||$ln).map((x,b)=>kl(x)?x:{...x,_key:"auto-generated-".concat(b)})},[(t=o.options)==null?void 0:t.list]),m=h.useCallback((y,x)=>{if(!y&&kl(x)){i(nt([{_key:x._key}]));return}const b=p.filter(w=>a5(x,w)?y:Cae(a,w));i(b.length>0?xt(b):nt())},[i,p,a]),v=h.useCallback(y=>{s([y])},[s]),g=((n=o.options)==null?void 0:n.layout)==="grid";return l.jsx(ai,{path:d,isChanged:f,hasFocus:!1,children:l.jsx(Jt,{gap:2,columns:g?Math.min(p.length,4):1,tabIndex:0,...u,children:p.map((y,x)=>{const b=Rln(o,y),w=Cae(a,y),C=!b;return l.jsxs(U,{align:"center",as:"label",muted:C,children:[l.jsx(Oj,{disabled:C,checked:w,onChange:_=>m(_.currentTarget.checked,y),onFocus:()=>v(x),readOnly:c}),l.jsx(M,{flex:1,marginLeft:2,children:b?r({layout:"default",schemaType:b,value:y}):l.jsx(ee,{tone:"caution",radius:2,children:l.jsx(EIe,{value:y,onFocus:()=>v(x)})})})]},x)})})})}var _ae=Object.freeze,Fln=Object.defineProperty,Lln=(e,t)=>_ae(Fln(e,"raw",{value:_ae(t||e.slice())})),Sae;const Bln=O(ee)(Sae||(Sae=Lln([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function xPe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ie.useState(!1),[a,c]=ie.useState(null);ur(()=>s(!1),[a]);const u=ie.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=ks(t);return l.jsx(en,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(Bln,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(oe,{space:4,children:[l.jsx(M,{children:l.jsx(L,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(K5,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(oe,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(ee,{padding:2,overflow:"auto",border:!0,children:l.jsx(ar,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(ee,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:3,children:l.jsx(L,{children:l.jsx(Cl,{})})}),l.jsx(M,{flex:1,children:l.jsxs(L,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Nln(e){return!!(e&&typeof e=="object"&&"title"in e&&"value"in e)}function zln(e){return e.map(t=>Nln(t)?{title:t.title||un(String(t.value)),value:t.value}:{title:un(String(t)),value:t})}function Vln(e,t){return e.of.find(n=>n.name===ks(t.value))}function Hln(e){var t,n;const{schemaType:r,onChange:o,value:i=[],readOnly:s,path:a,changed:c,onIndexFocus:u,elementProps:d}=e,f=h.useMemo(()=>{var v;return zln(((v=r.options)==null?void 0:v.list)||[])},[(t=r.options)==null?void 0:t.list]),p=(v,g)=>{const y=f.map(x=>x.value).filter(x=>x===g?v:i.includes(x));o(y.length>0?xt(y):nt())},m=((n=r.options)==null?void 0:n.layout)==="grid";return l.jsx(ai,{path:a,isChanged:c,hasFocus:!1,children:l.jsx(Jt,{gap:2,columns:m?Math.min(f.length,4):1,...d,children:f.map((v,g)=>{const y=Vln(r,v),x=i.includes(v.value),b=!y;return l.jsxs(U,{align:"center",as:"label",muted:b,children:[l.jsx(Oj,{disabled:b,checked:x,onChange:w=>p(w.currentTarget.checked,v.value),onFocus:()=>u(g),readOnly:s}),l.jsx(M,{padding:2,children:l.jsx(L,{children:v.title})}),!y&&l.jsx(xPe,{value:v,onFocus:()=>u(g)})]},g)})})})}function wPe(e){return Pln(e)?l.jsx(Mln,{...e}):l.jsx(Hln,{...e})}var Eae=Object.freeze,Uln=Object.defineProperty,OA=(e,t)=>Eae(Uln(e,"raw",{value:Eae(t||e.slice())})),kae,jae,Tae,Aae;const Wln=O.div(kae||(kae=OA([`
  position: relative;
`]))),CPe=O.div(jae||(jae=OA([`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`]))),_Pe=O(ee)(Tae||(Tae=OA([`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`]))),Yln=O(U)(Aae||(Aae=OA([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  :hover,
  :focus {
    & `,` {
      opacity: 0.9;
    }

    & `,` {
      opacity: 1;
    }
  }
`])),_Pe,CPe),qln=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function Gln(e){const{children:t,message:n,onActivate:r,isOverlayActive:o}=e,[i,s]=h.useState(!1),a=h.useCallback(()=>{r&&r()},[r]),c=h.useCallback(p=>{o&&p.code==="Space"&&r&&(p.preventDefault(),r())},[o,r]),u=h.useCallback(()=>{s(!0)},[]),d=h.useCallback(()=>{s(!1)},[]),f=h.useMemo(()=>{const p=qln();let m=p?"Tap":"Click";i&&!p&&(m+=" or press space");const v=n||"".concat(m," to activate");return l.jsx(L,{weight:"semibold",children:v})},[i,n]);return l.jsxs(Wln,{onBlur:d,onClick:a,onFocus:u,onKeyDown:c,children:[o&&l.jsxs(Yln,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[l.jsx(_Pe,{radius:1}),l.jsx(CPe,{children:f})]}),t]})}var Dae=Object.freeze,Kln=Object.defineProperty,Zln=(e,t)=>Dae(Kln(e,"raw",{value:Dae(t||e.slice())})),Iae;const Xln=O.span(Iae||(Iae=Zln([`
  /* Make sure the annotation styling is visible */
  &[data-mark='code'] {
    mix-blend-mode: multiply;
    color: inherit;
  }
`])));function Qln(e){const{value:t,focused:n,selected:r,children:o,schemaType:i}=e,s=Won[t],a=i.component,c=h.useCallback(u=>l.jsx(Xln,{as:s,"data-mark":t,children:u.children}),[s,t]);return h.useMemo(()=>{const u={focused:n,renderDefault:c,schemaType:i,selected:r,title:i.title,value:t};return a?l.jsx(a,{...u,children:o}):l.jsx(c,{...u,children:o})},[a,c,o,n,i,r,t])}const Jln={portal:!0,constrainSize:!0},SPe=h.forwardRef(function(t,n){const{disableRestoreFocusOnClose:r,menuButton:o,menuButtonProps:i,menuOptions:s,onMenuClose:a}=t;return l.jsx(tn,{__unstable_disableRestoreFocusOnClose:r,id:"menu-button",ref:n,onClose:a,popover:Jln,...i,button:o,menu:l.jsx(Bt,{children:s.map((c,u)=>{const{collapsedProps:d={},expandedProps:f={},tooltipProps:p={},tooltipText:m,dividerBefore:v,fontSize:g,padding:y,text:x,icon:b,selected:w,...C}=c.props;return l.jsxs(ie.Fragment,{children:[v&&u!==0&&l.jsx(Pr,{}),l.jsx(Ve,{text:x,icon:b,pressed:w,...C})]},c.key)})})})});function ecn(e){const{onIntersectionChange:t,children:n,options:r,...o}=e,[i,s]=h.useState(null);return h.useEffect(()=>{if(!i)return;const a=new IntersectionObserver(t,r);return a.observe(i),()=>{a.unobserve(i),a.disconnect()}},[i,t,r]),l.jsx(U,{ref:s,...o,children:n})}var Pae=Object.freeze,tcn=Object.defineProperty,ncn=(e,t)=>Pae(tcn(e,"raw",{value:Pae(t||e.slice())})),Oae;const rcn=O.div(Oae||(Oae=ncn([`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`])));function EPe(e){const{hidden:t,...n}=e;return l.jsx(rcn,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}var Rae=Object.freeze,ocn=Object.defineProperty,oC=(e,t)=>Rae(ocn(e,"raw",{value:Rae(t||e.slice())})),$ae,Mae,Fae,Lae,Bae;const Nae=3,icn=he($ae||($ae=oC([`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`]))),scn=O(U)(Mae||(Mae=oC([`
  padding: `,`px;
  margin: -`,`px;
  box-sizing: border-box;
`])),Nae,Nae),acn=O(U)(Fae||(Fae=oC([`
  border-radius: inherit;
  position: relative;
`]))),kPe=O(U)(Lae||(Lae=oC([`
  width: max-content;
  &[data-hidden='true'] {
    visibility: hidden;
    position: relative;
    margin-top: -1px;
    height: 1px;
  }
`]))),lcn=O(ecn)(Bae||(Bae=oC([`
  `,`
`])),icn);function ccn(e){return!!e}const hN=h.forwardRef(function(t,n){const{children:r,collapsed:o,disableRestoreFocusOnClose:i,onMenuClose:s,menuButtonProps:a,...c}=t,u=h.useMemo(()=>h.Children.toArray(r).filter(ccn),[r]),d=h.useMemo(()=>(a==null?void 0:a.button)||l.jsx(se,{icon:To,mode:"bleed"}),[a]);return o?l.jsx(SPe,{ref:n,disableRestoreFocusOnClose:i,menuButton:d,menuButtonProps:a,menuOptions:u,onMenuClose:s}):l.jsx(ucn,{...c,ref:n,disableRestoreFocusOnClose:i,menuButtonProps:a,menuOptions:u,onMenuClose:s})}),ucn=h.forwardRef(function(t,n){const{collapseText:r=!0,disableRestoreFocusOnClose:o,gap:i,menuOptions:s,menuButtonProps:a,onMenuClose:c,...u}=t,[d,f]=h.useState(null),[p,m]=h.useState({}),[v,g]=h.useState({}),y=h.useMemo(()=>({root:d,threshold:.99,rootMargin:"2px"}),[d]),x=h.useMemo(()=>s.map(A=>A.key),[s]),b=h.useMemo(()=>[...zp(x,Object.keys(p)),...zp(x,Object.keys(v))],[x,p,v]),w=h.useMemo(()=>s.filter(A=>{const D=p[A.key];return D&&!D.intersects}),[p,s]),C=h.useCallback((A,D)=>{m(I=>{const P=D.key;if(P===null)throw new Error("Expected element to have a non-null key");const $={intersects:A.isIntersecting,element:D},R=I[P];return!R||R.intersects!==$.intersects?{...I,[P]:$}:I})},[]),_=h.useCallback((A,D)=>{g(I=>{const P=D.key;if(P===null)throw new Error("Expected child element to have a non-null key");const $=I[P],R={intersects:A.isIntersecting,element:D};return($==null?void 0:$.intersects)===R.intersects?I:{...I,[P]:R}})},[]),S=h.useMemo(()=>s.map(A=>{const{collapsedProps:D}=A.props,I=D,P=r?void 0:A.props.text;return h.cloneElement(A,{...I,text:P})}),[s,r]),E=h.useMemo(()=>s.filter(A=>{const D=v[A.key];return(D==null?void 0:D.intersects)===!1}),[s,v]),k=w.length>0?S.filter(A=>{const D=v[A.key];return(D==null?void 0:D.intersects)===!0}):s,T=h.useMemo(()=>(a==null?void 0:a.button)||l.jsx(se,{icon:To,mode:"bleed"}),[a]);return l.jsxs(scn,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:n,...u,children:[l.jsxs(acn,{direction:"column",flex:1,justify:"center",ref:f,children:[l.jsx(kPe,{gap:i,children:b.length===0&&k.map((A,D)=>{const{dividerBefore:I,tooltipText:P="",tooltipProps:$={}}=A.props,R=!A.key||!(A.key in p)||E.includes(A);return l.jsxs(h.Fragment,{children:[I&&D!==0&&l.jsx(EPe,{hidden:R}),l.jsx(at,{portal:!0,disabled:!P,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:P})}),...$,children:l.jsx(U,{children:h.cloneElement(A,{disabled:A.props.disabled||R,"aria-hidden":R})})})]},A.key)})}),l.jsx(zae,{gap:i,elements:s,intersectionOptions:y,onIntersectionChange:C}),l.jsx(zae,{gap:i,elements:S,intersectionOptions:y,onIntersectionChange:_})]}),E.length>0&&l.jsx(U,{marginLeft:i,children:l.jsx(SPe,{disableRestoreFocusOnClose:o,menuButton:T,menuButtonProps:a,menuOptions:E,onMenuClose:c})})]})}),zae=h.memo(function(t){const{elements:n,gap:r,intersectionOptions:o,onIntersectionChange:i}=t;return l.jsx(kPe,{"data-hidden":!0,"aria-hidden":"true",gap:r,overflow:"hidden",children:n.map((s,a)=>{const{dividerBefore:c}=s.props;return l.jsxs(h.Fragment,{children:[c&&a!==0&&l.jsx(EPe,{hidden:!0}),l.jsx(lcn,{options:o,onIntersectionChange:u=>i(u[0],s),children:l.jsx(U,{children:h.cloneElement(s,{disabled:!0,"aria-hidden":!0})})})]},s.key)})})}),pN=h.forwardRef(function(t,n){const{collapsedProps:r={},expandedProps:o={},tooltipProps:i={},tooltipText:s,dividerBefore:a,...c}=t;return l.jsx(se,{"data-ui":"CollapseMenuButton",...c,ref:n})});var Vae=Object.freeze,dcn=Object.defineProperty,fcn=(e,t)=>Vae(dcn(e,"raw",{value:Vae(t||e.slice())})),Hae;const hcn=O.div(Hae||(Hae=fcn([`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`])));function pcn(e){const{icon:t,active:n}=e,r=h.useMemo(()=>({backgroundImage:"url(".concat(t,")"),filter:n?"invert(100%)":"invert(0%)"}),[n,t]);return l.jsx(hcn,{style:r})}function mcn(e,t,n){return e.schemaTypes.decorators.map(o=>{const i=Object.keys(n.marks||{}).find(a=>{var c;return((c=n.marks)==null?void 0:c[a])===o.value});let s=[];return i&&(s=[i]),{type:"format",disabled:t,icon:o==null?void 0:o.icon,key:o.value,handle:()=>{Se.toggleMark(e,o.value),Se.focus(e)},hotkeys:s,title:o.title}})}function gcn(e,t){return e.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:t,icon:r==null?void 0:r.icon,handle:()=>{Se.toggleList(e,r.value)},title:r.title}))}function vcn(e){return Un(e,"icon")||Un(e,"type.icon")||Un(e,"type.to.icon")||Un(e,"type.to[0].icon")}function ycn(e,t,n){const r=e.schemaTypes,o=Se.focusChild(e),i=o&&o.text;return r.annotations.map(s=>({type:"annotation",disabled:!i||t,icon:vcn(s),key:s.name,handle:a=>{a?(Se.removeAnnotation(e,s),Se.focus(e)):n(s)},title:s.title||Em(s.name)}))}function bcn(e,t,n,r){return[{name:"format",actions:mcn(e,t,r)},{name:"list",actions:gcn(e,t)},{name:"annotation",actions:ycn(e,t,n)}]}function xcn(e){return e.styles.map(t=>({key:"style-".concat(t.value),style:t.value,styleComponent:t&&t.component,title:t.title}))}function Uae(e,t){const n=Un(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function wcn(e,t,n,r){const o=e.blockObjects.map((a,c)=>({handle:()=>n(a),icon:Uae(a,i0e),inline:!1,key:"block-".concat(c),type:a})),i=e.inlineObjects.map((a,c)=>({handle:()=>r(a),icon:Uae(a,y0e),inline:!0,key:"inline-".concat(c),type:a}));return o.concat(i).filter(a=>{var c;return!((c=a.type)!=null&&c.hidden)})}const Ccn={link:kf},_cn={strong:s0e,em:w0e,"strike-through":I0e,underline:P0e,code:c0e},Scn={number:S0e,bullet:$y};function Ecn(e,t){return e.icon?typeof e.icon=="string"?l.jsx(pcn,{active:t,icon:e.icon}):e.icon:e.type==="annotation"?Ccn[e.key]||Cl:e.type==="listStyle"?Scn[e.key]||Cl:_cn[e.key]||Cl}function RA(){const e=vo(),t=B0();return h.useMemo(()=>Se.focusBlock(e),[e,t])}function kcn(e){let{hotkeys:t,onMemberOpen:n,resolveInitialValue:r,disabled:o}=e;const i=vo(),s=h.useCallback(async a=>{const c=await r(a),u=Se.addAnnotation(i,a,c);u&&u.markDefPath&&n(u.markDefPath)},[i,n,r]);return h.useMemo(()=>i?bcn(i,o,s,t):[],[o,i,s,t])}function jcn(e){let{actions:t}=e;const n=vo(),r=B0();return Mo(h.useMemo(()=>{const o=Se.activeAnnotations(n).map(i=>i._type);return t.filter(i=>i.type==="annotation"?o.includes(i.key):i.type==="listStyle"?Se.hasListStyle(n,i.key):Se.isMarkActive(n,i.key)).map(i=>i.key)},[n,r]))}function Tcn(e){let{items:t}=e;const n=vo(),r=RA(),o=B0();return Mo(h.useMemo(()=>t.filter(i=>Se.hasBlockStyle(n,i.style)).map(i=>i.style),[r,o]))}const Acn=h.memo(hN),Dcn={constrainSize:!0,portal:!0},Icn={padding:2,mode:"bleed"},Pcn=h.memo(function(t){const{disabled:n,groups:r,isFullscreen:o,collapsed:i}=t,s=RA(),a=vo(),c=(s==null?void 0:s._type)!==a.schemaTypes.block.name,u=!c&&Array.isArray(s.children)&&s.children.length===1&&(s==null?void 0:s.children[0].text)==="",d=n||c,f=h.useMemo(()=>r.reduce((y,x)=>y.concat(x.actions.map((b,w)=>w===0?{...b,firstInGroup:!0}:b)),[]),[r]),p=jcn({actions:f}),m=h.useCallback(()=>{Se.focus(a)},[a]),v=h.useMemo(()=>f.map(y=>{const x=y.type==="annotation"&&u,b=p.includes(y.key);return h.createElement(pN,{"data-testid":"action-button-".concat(y.key),disabled:d||x,...Icn,dividerBefore:y.firstInGroup,icon:Ecn(y,b),key:y.key,onClick:()=>y.handle(b),selected:b,text:y.title||y.key,tooltipText:y.title||y.key,tooltipProps:{disabled:d||x,placement:o?"bottom":"top",portal:"default"}})}),[f,p,d,u,o]),g=h.useMemo(()=>({button:l.jsx(se,{icon:To,mode:"bleed",padding:2,disabled:d}),popover:Dcn}),[d]);return l.jsx(Acn,{collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:g,onMenuClose:m,children:v})});var Wae=Object.freeze,Ocn=Object.defineProperty,jPe=(e,t)=>Wae(Ocn(e,"raw",{value:Wae(t||e.slice())})),Yae,qae;const Rcn=h.memo(tn),$cn=O(Ve)(Yae||(Yae=jPe([`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`]))),Mcn=O(se)(qae||(qae=jPe([`
  width: 100%;
`]))),Fcn={constrainSize:!0,placement:"bottom-start",portal:"default"},TPe={h1:e=>l.jsx(LIe,{children:e}),h2:e=>l.jsx(BIe,{children:e}),h3:e=>l.jsx(NIe,{children:e}),h4:e=>l.jsx(zIe,{children:e}),h5:e=>l.jsx(VIe,{children:e}),h6:e=>l.jsx(HIe,{children:e}),normal:e=>l.jsx(aN,{children:e}),blockquote:e=>l.jsx(UIe,{"data-option":"blockquote",children:e})},Lcn=Object.keys(TPe),Bcn=e=>e.preventDefault(),IO={key:"style-none",style:"",title:"No style"},Ncn=h.memo(function(t){const{disabled:n,items:r}=t,o=vo(),i=RA(),s=n||(i?o.schemaTypes.block.name!==i._type:!1),a=Tcn({items:r}),{activeItems:c,items:u}=h.useMemo(()=>{const g=r.filter(x=>a.includes(x.style));let y=r;return g.length===0&&y.length>1&&(y=y.concat([IO]),g.push(IO)),{activeItems:g,items:y}},[a,r]),d=h.useMemo(()=>c.length>1?"Multiple":c.length===1?c[0].title:IO.title,[c]),f=h.useCallback(g=>{i&&g.style!==i.style&&(Se.toggleBlockStyle(o,g.style),Se.focus(o))},[o,i]),p=h.useCallback((g,y)=>{const x=Lcn.includes(g),b=TPe[g];return x?b(y):l.jsx(L,{children:y})},[]),m=h.useMemo(()=>l.jsx(Mcn,{disabled:s,iconRight:Nl,mode:"bleed",onClick:Bcn,padding:2,text:d}),[s,d]),v=h.useMemo(()=>l.jsx(Bt,{disabled:s,children:u.map(g=>l.jsx($cn,{pressed:c.includes(g),onClick:s?void 0:()=>f(g),children:p(g.style,(g==null?void 0:g.title)||g.style)},g.key))}),[s,c,f,u,p]);return l.jsx(Rcn,{popover:Fcn,id:"block-style-select",button:m,menu:v})}),zcn=h.memo(hN),Vcn={constrainSize:!0,portal:!0},Hcn=h.memo(function(t){const{disabled:n,items:r,isFullscreen:o,collapsed:i}=t,s=RA(),a=vo(),c=s&&s._type!==a.schemaTypes.block.name,u=h.useCallback(()=>{Se.focus(a)},[a]),d=h.useMemo(()=>r.map(p=>{const m=p.type.title||DSe(p.type.name);return l.jsx(pN,{"aria-label":"Insert ".concat(m).concat(p.inline?" (inline)":" (block)"),padding:2,mode:"bleed",disabled:n||c&&p.inline===!0,icon:p.icon,onClick:p.handle,text:m,tooltipText:"Insert ".concat(m),tooltipProps:{disabled:n,placement:o?"bottom":"top",portal:"default"}},p.key)}),[r,n,c,o]),f=h.useMemo(()=>({button:l.jsx(se,{icon:ko,mode:"bleed",padding:2,disabled:n}),popover:Vcn}),[n]);return l.jsx(zcn,{collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:f,onMenuClose:u,children:d})});var Gae=Object.freeze,Ucn=Object.defineProperty,o0=(e,t)=>Gae(Ucn(e,"raw",{value:Gae(t||e.slice())})),Kae,Zae,Xae,Qae,Jae,ele;const Wcn=O(U)(Kae||(Kae=o0([`
  width: 100%;
`]))),Ycn=O(M)(Zae||(Zae=o0([`
  width: 8em;
`]))),qcn=O(U)(Xae||(Xae=o0([`
  border-right: 1px solid var(--card-border-color);
`]))),Gcn=O(M)(Jae||(Jae=o0([`
  `,`
`])),e=>{let{$withInsertMenu:t}=e;return t&&he(Qae||(Qae=o0([`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `])))}),Kcn=O(M)(ele||(ele=o0([`
  border-left: 1px solid var(--card-border-color);
`]))),Zcn=300,Xcn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Qcn=h.memo(function(t){let{actionGroups:n,blockStyles:r,disabled:o,insertMenuItems:i,isFullscreen:s,onToggleFullscreen:a}=t;const u=n.reduce((x,b)=>x+b.actions.length,0)>0,d=i.length>0,[f,p]=h.useState(null),m=Zf(f),v=m?(m==null?void 0:m.width)<400:!1,g=r.length>1;DAe({rootElement:f});const y=h.useCallback(x=>{x.preventDefault()},[]);return l.jsxs(Wcn,{align:"center",ref:p,onMouseDown:y,children:[g&&l.jsx(qcn,{flex:v?1:void 0,children:l.jsx(Ycn,{padding:s?2:1,children:l.jsx(Ncn,{disabled:o,items:r})})}),l.jsxs(U,{flex:1,children:[u&&l.jsx(Gcn,{flex:v?void 0:1,padding:s?2:1,$withInsertMenu:d,children:l.jsx(Pcn,{disabled:o,collapsed:v,groups:n,isFullscreen:s})}),d&&l.jsx(M,{flex:v?void 0:1,padding:s?2:1,children:l.jsx(Hcn,{disabled:o,collapsed:v,items:i,isFullscreen:s})})]}),l.jsx(Kcn,{padding:s?2:1,children:l.jsx(at,{content:l.jsxs(U,{align:"center",padding:1,children:[l.jsx(M,{flex:1,paddingX:1,children:l.jsx(L,{size:1,children:"".concat(s?"Collapse":"Expand"," editor")})}),l.jsx(M,{marginLeft:1,children:l.jsx(D6,{keys:["".concat(Xcn?"Cmd":"Ctrl"),"Enter"]})})]}),placement:s?"bottom":"top",portal:"default",children:l.jsx(se,{padding:2,icon:s?u0e:g0e,mode:"bleed",onClick:a})})})]})});function Jcn(e){const{hotkeys:t,isFullscreen:n,readOnly:r,onMemberOpen:o,onToggleFullscreen:i}=e,s=vo(),a=B0(),c=NN(),u=r||!a,{push:d}=Ho(),f=h.useCallback(x=>{let b=!1;const w=setTimeout(()=>{b=!0,d({id:"resolving-initial-value",status:"info",title:"Resolving initial value…"})},Zcn);return c(x,{}).then(C=>(b&&d({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),C)).catch(C=>{d({title:"Could not resolve initial value",id:"resolving-initial-value",description:"Unable to resolve initial value for type: ".concat(x.name,": ").concat(C.message,"."),status:"error"})}).finally(()=>clearTimeout(w))},[d,c]),p=h.useCallback(async x=>{const b=await f(x),w=Se.insertBlock(s,x,b);w&&o(w)},[s,o,f]),m=h.useCallback(async x=>{const b=await f(x),w=Se.insertChild(s,x,b);w&&o(w)},[s,o,f]),v=kcn({hotkeys:t,onMemberOpen:o,resolveInitialValue:f,disabled:!0}),g=h.useMemo(()=>xcn(s.schemaTypes),[s]),y=h.useMemo(()=>wcn(s.schemaTypes,u,p,m),[u,s,p,m]);return l.jsx(Qcn,{actionGroups:v,blockStyles:g,disabled:u,insertMenuItems:y,isFullscreen:n,onToggleFullscreen:i})}var tle=Object.freeze,eun=Object.defineProperty,xf=(e,t)=>tle(eun(e,"raw",{value:tle(t||e.slice())})),nle,rle,ole,ile,sle,ale,lle,cle;const tun=O(ee)(nle||(nle=xf([`
  height: `,`;

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`])),e=>{let{$fullscreen:t}=e;return t?"100%":"15em"}),nun=O(ee)(rle||(rle=xf([`
  z-index: 10;
  line-height: 0;
`]))),run=O(ee)(ole||(ole=xf([`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`]))),oun=O(lA)(ile||(ile=xf([`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`]))),iun=O(Qr)(sle||(sle=xf([`
  /* @todo: calculate from theme */
  /* max-width: 728px; */
`]))),sun=O(ee)(cle||(cle=xf([`
  height: 100%;
  width: 100%;
  counter-reset: `,`;
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    `,`

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: `,`px;
      counter-reset: `,`;
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: `,`px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: `,`;
    }

    `,`

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: `,`px;
    }

    & > :first-child {
      padding-top: `,`px;
    }

    & > :last-child {
      padding-bottom: `,`px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: 1px;
      margin-top: -3px;
      left: calc(
        `,` - 1px
      );
      right: calc(
        `,` - 1px
      );
      width: calc(
        100% -
          `,` + 2px
      ) !important;
    }
  }
`])),Q1.map(e=>Gh(e)).join(" "),Q1.map(e=>he(ale||(ale=xf([`
        & > .pt-list-item-number[class~='pt-list-item-level-`,`'] {
          counter-increment: `,`;
        }
      `])),e,Gh(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},Q1.map(e=>Gh(e)).join(" "),e=>{let{theme:t}=e;return t.sanity.space[2]},Q1.map(e=>Gh(e)).join(" "),Q1.slice(1).map(e=>he(lle||(lle=xf([`
        & > .pt-list-item-level-`," + .pt-list-item-level-",` {
          counter-reset: `,`;
        }
      `])),e,e-1,Gh(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?5:3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?9:5]},e=>{let{$isFullscreen:t,theme:n}=e;return ye(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ye(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ye(t?n.sanity.space[5]*2:n.sanity.space[3]*2)});function aun(){const e=vo();return h.useMemo(()=>{var t;const n=(t=e.schemaTypes.block.options)==null?void 0:t.spellCheck,r=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return n===void 0&&r===!0?!1:n},[e])}function lun(e){return h.useMemo(()=>(t,n)=>{if(Se.getSelection(t)){const o=n.startContainer.parentElement;if(!o)return;Yv(o,{scrollMode:"if-needed",boundary:e,block:"start",inline:"nearest"})}},[e])}const cun=e=>{const{block:t,focused:n,children:r,selected:o,schemaType:i}=e,s=h.useMemo(()=>(t.style&&kO[t.style]?kO[t.style]:kO[0])||aN,[t.style]),a=h.useCallback(c=>l.jsx(s,{children:l.jsx(gd,{"data-testid":"text-style--".concat(t.style),children:c.children})}),[s,t.style]);return h.useMemo(()=>{const c=i.component,{title:u,value:d}=i,f={block:t,focused:n,renderDefault:a,schemaType:i,selected:o,title:u,value:d};return c?l.jsx(c,{...f,children:r}):l.jsx(a,{...f,children:r})},[a,t,r,n,i,o])},ule=e=>l.jsx(l.Fragment,{children:e.children}),uun=e=>{const{block:t,children:n,schemaType:r,selected:o,focused:i,level:s,value:a}=e,{title:c,component:u}=r;return h.useMemo(()=>{const d={block:t,focused:i,level:s,renderDefault:ule,schemaType:r,selected:o,title:c,value:a};return u?l.jsx(u,{...d,children:n}):l.jsx(ule,{...d,children:n})},[u,t,n,i,s,r,o,c,a])},dun={outline:"none"},fun=e=>l.jsx(Qln,{...e}),hun=e=>l.jsx(cun,{...e}),pun=e=>l.jsx(uun,{...e});function mun(e){const{hotkeys:t,initialSelection:n,isActive:r,isFullscreen:o,onCopy:i,onItemOpen:s,onPaste:a,onToggleFullscreen:c,path:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderChild:m,scrollElement:v,setPortalElement:g,setScrollElement:y,ariaDescribedBy:x}=e,{isTopLayer:b}=ua(),w=h.useRef(null),{element:C}=mm();Ts(h.useCallback(T=>{!b||!o||T.key==="Escape"&&c()},[c,o,b]));const _=h.useCallback(()=>l.jsx("span",{"data-testid":"pt-input-placeholder",children:"Empty"}),[]),S=aun(),E=lun(v),j=h.useMemo(()=>l.jsx(sje,{"aria-describedby":x,hotkeys:t,onCopy:i,onPaste:a,ref:w,renderAnnotation:f,renderBlock:p,renderChild:m,renderDecorator:fun,renderListItem:pun,renderPlaceholder:_,renderStyle:hun,scrollSelectionIntoView:E,selection:n,spellCheck:S,style:dun}),[x,t,n,i,a,f,p,m,_,E,S]),k=h.useCallback(T=>{s(u.concat(T))},[s,u]);return l.jsxs(tun,{$fullscreen:o,"data-testid":"pt-editor",children:[r&&l.jsx(nun,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:l.jsx(Jcn,{hotkeys:t,isFullscreen:o,onMemberOpen:k,onToggleFullscreen:c,readOnly:d})}),l.jsxs(run,{flex:1,tone:d?"transparent":"default",children:[l.jsx(oun,{ref:y,children:l.jsx(iun,{padding:o?2:0,sizing:"border",width:1,children:l.jsx(sun,{$isFullscreen:o,tone:d?"transparent":"default",children:l.jsx(Lu,{element:o?v:C,children:j})})})}),l.jsx("div",{"data-portal":"",ref:g})]})]})}var dle=Object.freeze,gun=Object.defineProperty,APe=(e,t)=>dle(gun(e,"raw",{value:dle(t||e.slice())})),fle,hle;const vun=O.div(e=>{let{theme:t}=e;const{focusRing:n,input:r}=t.sanity,o=t.sanity.color.base,s={color:t.sanity.color.input.default.enabled.border,width:r.border.width};return he(fle||(fle=APe([`
    --input-box-shadow: `,`;

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: `,`px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: 1px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: `,`;
    }
  `])),cN(s),r.border.width,uN({base:o,border:s,focusRing:n}))}),yun=O(ts)(hle||(hle=APe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`])));function bun(e){const t=vo(),[n]=h.useState(()=>e);return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),h.useMemo(()=>{const r={marks:{}};return t.schemaTypes.decorators.forEach(o=>{switch(o.value){case"strong":r.marks["mod+b"]=o.value;break;case"em":r.marks["mod+i"]=o.value;break;case"underline":r.marks["mod+u"]=o.value;break;case"code":r.marks["mod+'"]=o.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[t,n])}function xun(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,o=_on(),i=vo(),s=B0();h.useLayoutEffect(()=>{var a,c,u,d,f;if(t.length===0)return;const p=o.find(m=>m.member.open);if(p&&((a=p.elementRef)!=null&&a.current)){if(n&&(Yv(n,{scrollMode:"if-needed",block:"start",inline:"start"}),Yv(p.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"start",inline:"start"})),s!=null&&s.focus.path&&yn(s.focus.path,t))return;const m=p.kind==="textBlock",v=t.length===1;if(m||v){const g=m&&kl(t[2])?t[2]._key:void 0,y=g&&Array.isArray((c=p.node.value)==null?void 0:c.children)?(u=p.node.value)==null?void 0:u.children.find(C=>C._key===g):void 0,x=y&&y._type==="span"&&t.length===4&&t[1]==="children"&&t[3]==="text"||!1,b=m&&(t.length===3&&t[1]==="children"||x);let w=[];b?w=t.slice(0,3):m&&v&&Array.isArray((d=p.node.value)==null?void 0:d.children)?w=[t[0],"children",{_key:(f=p.node.value)==null?void 0:f.children[0]._key}]:v&&(w=[{_key:p.key}]),w.length&&(Se.select(i,{anchor:{path:w,offset:0},focus:{path:w,offset:0}}),m&&Se.focus(i))}}},[n,i,t,r,o,s==null?void 0:s.focus.path])}function wun(e){const{changed:t,focused:n,focusPath:r=pn,hasFocusWithin:o,hotkeys:i,isActive:s,isFullscreen:a,onActivate:c,onCopy:u,onItemClose:d,onItemOpen:f,onItemRemove:p,onPaste:m,onPathFocus:v,onToggleFullscreen:g,path:y,readOnly:x,renderAnnotation:b,renderBlock:w,renderBlockActions:C,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,value:A}=e,D=vo(),I=mm().element,[P,$]=h.useState(null),[R,V]=h.useState(null),N=h.useCallback(()=>{g()},[g]),W=h.useMemo(()=>({...i,custom:{"mod+enter":g,...(i==null?void 0:i.custom)||{}}}),[i,g]),G=bun(W),H=A&&C?C:void 0,q=A&&_?_:void 0,[X,B]=h.useState(null),Y=h.useCallback(xe=>{const{children:ce,focused:ve,path:$e,selected:Ae,schemaType:st,value:et}=xe;return l.jsx(sin,{floatingBoundary:I,focused:ve,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:y.concat($e),readOnly:x,referenceBoundary:R,renderAnnotation:b,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderBlockActions:H,renderCustomMarkers:q,renderPreview:T,renderBlock:w,schemaType:st,selected:Ae,value:et,children:ce})},[H,q,R,a,d,f,p,v,I,y,x,b,w,S,E,j,k,T]),z=h.useCallback(xe=>{const{focused:ce,path:ve,selected:$e,schemaType:Ae,value:st}=xe;return l.jsx(Uon,{floatingBoundary:I,focused:ce,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:y.concat(ve),readOnly:x,referenceBoundary:R,relativePath:ve,renderAnnotation:b,renderBlock:w,renderBlockActions:H,renderCustomMarkers:q,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:Ae,selected:$e,value:st})},[I,R,a,d,f,p,v,y,x,b,w,H,q,S,E,j,k,T]),Z=h.useCallback(xe=>{const{value:ce}=xe;return ce._type===D.schemaTypes.block.name?Y(xe):z(xe)},[D.schemaTypes.block.name,z,Y]),Q=h.useCallback(xe=>{const{children:ce,focused:ve,path:$e,selected:Ae,schemaType:st,value:et}=xe;return et._type===D.schemaTypes.span.name?ce:l.jsx(vin,{floatingBoundary:I,focused:ve,onItemClose:d,onItemOpen:f,onPathFocus:v,path:y.concat($e),readOnly:x,referenceBoundary:R,relativePath:$e,renderAnnotation:b,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:st,selected:Ae,value:et})},[I,R,D.schemaTypes.span.name,d,f,v,y,x,b,w,_,S,E,j,k,T]),ne=h.useCallback(xe=>{const{children:ce,focused:ve,path:$e,selected:Ae,schemaType:st,value:et}=xe;return l.jsx(kin,{editorNodeFocused:ve,floatingBoundary:I,focused:!!n,onItemClose:d,onItemOpen:f,onPathFocus:v,path:y.concat($e),readOnly:x,referenceBoundary:R,renderAnnotation:b,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:st,selected:Ae,value:et,children:ce})},[I,R,n,d,f,v,y,x,b,w,_,S,E,j,k,T]),K=e.elementProps["aria-describedby"],J=h.useMemo(()=>{if(o)return{anchor:{path:r,offset:0},focus:{path:r,offset:0}}},[]),re=h.useMemo(()=>l.jsx(mun,{ariaDescribedBy:K,initialSelection:J,hotkeys:G,isActive:s,isFullscreen:a,onItemOpen:f,onCopy:u,onPaste:m,onToggleFullscreen:N,path:y,readOnly:x,renderAnnotation:ne,renderBlock:Z,renderChild:Q,setPortalElement:B,scrollElement:R,setScrollElement:V}),[K,G,ne,Z,Q,N,J,s,a,u,f,m,y,x,R]),fe=gm(),le=h.useMemo(()=>({collapsed:P,default:fe.element,editor:X,expanded:fe.element}),[fe.element,X,P]);xun({focusPath:r,boundaryElement:R,onItemClose:d});const ge=n||o;return l.jsx(ym,{__unstable_elements:le,element:fe.element,children:l.jsx(Gln,{onActivate:c,isOverlayActive:!s,children:l.jsx(ai,{disabled:a,hasFocus:!!n,isChanged:t,path:y,children:l.jsxs(vun,{"data-focused":ge?"":void 0,"data-read-only":x?"":void 0,children:[l.jsx(M,{"data-wrapper":"",ref:$,children:l.jsx(vm,{__unstable_name:a?"expanded":"collapsed",children:a?l.jsx(yun,{children:re}):re})}),l.jsx("div",{"data-border":""})]})})})})}function Cun(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:o}=e,i=h.useCallback(()=>{r&&t({type:"mutation",patches:r.patches})},[t,r]);return r?l.jsx(Hc,{suffix:l.jsxs(oe,{padding:2,children:[r.action&&l.jsxs(Jt,{columns:[1,2],gap:1,children:[l.jsx(se,{mode:"ghost",onClick:n,text:"Ignore"}),!o&&l.jsx(se,{onClick:i,text:r.action,tone:"caution"})]}),l.jsx(M,{padding:3,children:r.action&&l.jsx(L,{as:"p",muted:!0,size:1,children:"NOTE: It’s generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio."})})]}),title:l.jsx(l.Fragment,{children:"Invalid Portable Text Editor value"}),children:l.jsxs(oe,{space:3,children:[l.jsx(L,{as:"p",muted:!0,size:1,children:r.description}),l.jsx(ee,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(ar,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}function _un(e){const{path:t}=e,{patchChannel:n}=li().__internal;return{subscribe:h.useCallback(o=>n.subscribe(i=>{let{snapshot:s,patches:a}=i;const c=a.filter(u=>p4(u.path,t)).map(u=>({...u,path:u.path.slice(t.length)}));c.length&&o({shouldReset:kun(t,a),snapshot:wt(s)?jun(s,t):{},patches:c})}),[t,n])}}function Sun(e,t){const n=typeof e;return n!==typeof t?!1:n==="object"?zu(e,t):e===t}function p4(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!Sun(t[n],e[n]))return!1;return!0}function Eun(e,t){return e.length===0||p4(t,e)&&!p4(e,t)}function kun(e,t){return t.some(n=>Eun(n.path,e)&&(n.type==="set"||n.type==="unset"))}function jun(e,t){return t.reduce((n,r)=>typeof r=="object"?Wje(n,r):Un(n,r),e)}function Tun(e){const{elementProps:t,hotkeys:n,markers:r=pn,members:o,onChange:i,onCopy:s,onItemRemove:a,onInsert:c,onPaste:u,onPathFocus:d,path:f,readOnly:p,renderBlockActions:m,renderCustomMarkers:v,schemaType:g,value:y}=e,{onBlur:x}=t;h.useImperativeHandle(t.ref,()=>({focus(){w.current&&Se.focus(w.current)}}));const{subscribe:b}=_un({path:f}),w=h.useRef(null),[C,_]=h.useState(!1),[S,E]=h.useState(null),[j,k]=h.useState(!1),[T,A]=h.useState(!1),[D,I]=h.useState(!1),[P,$]=h.useState(!1),R=Ho(),V=h.useRef([]),N=h.useMemo(()=>new _r,[]),W=h.useMemo(()=>N.asObservable(),[N]),G=h.useRef(null),H=h.useCallback(()=>{w.current&&k(Z=>!Z)},[]);h.useEffect(()=>{S&&y!==S.value&&E(null)},[S,y]),h.useEffect(()=>b(Z=>{let{patches:Q,snapshot:ne}=Z;N.next({patches:Q,snapshot:ne})}),[N,b]);const q=h.useMemo(()=>{var Z;const Q=[];for(const K of o)if(K.kind==="item")if(!jA(K.item.schemaType))Q.push({kind:"objectBlock",member:K,node:K.item});else{(K.item.validation.length>0||K.item.changed||(Z=K.item.presence)!=null&&Z.length)&&Q.push({kind:"textBlock",member:K,node:K.item});const re=K.item.members.find(le=>le.kind==="field"&&le.name==="children");if(re&&re.kind==="field"&&JB(re))for(const le of re.field.members)le.kind==="item"&&le.item.schemaType.name!=="span"&&Q.push({kind:"inlineObject",member:le,node:le.item});const fe=K.item.members.filter(bon).find(le=>le.name==="markDefs");if(fe)for(const le of fe.field.members)le.kind==="item"&&le.item.schemaType.jsonType==="object"&&Q.push({kind:"annotation",member:le,node:le.item})}const ne=Q.map(K=>{const J=xn(K.node.path),re=V.current.find(ge=>ge.key===J),fe=K.kind!=="textBlock";let le;if(fe&&(K.member.open||!re)){const ge={...e,absolutePath:K.node.path};le=l.jsx(kIe,{...ge})}return re?(re.input=le,re.member=K.member,re.node=K.node,re):{kind:K.kind,key:J,member:K.member,node:K.node,elementRef:h.createRef(),input:le}});return V.current=ne,ne},[o,e]);h.useEffect(()=>{P&&A(!0)},[P]);const X=h.useCallback(Z=>{switch(Z.type){case"mutation":i(ple(Z.patches));break;case"connection":Z.value==="offline"?I(!0):Z.value==="online"&&I(!1);break;case"selection":h.startTransition(()=>{Z.selection&&d(Z.selection.focus.path)});break;case"focus":A(!0),$(!0);break;case"blur":x(Z.event),$(!1);break;case"undo":case"redo":i(ple(Z.patches));break;case"invalidValue":E(Z);break;case"error":R.push({status:Z.level,description:Z.description});break}},[x,i,d,R]);h.useEffect(()=>{_(!1)},[y]);const B=h.useCallback(()=>{_(!0)},[]),Y=h.useMemo(()=>S&&S.resolution?l.jsx(M,{marginBottom:2,children:l.jsx(Cun,{onChange:X,onIgnore:B,resolution:S.resolution,readOnly:D||p})}):null,[X,B,S,D,p]),z=h.useCallback(()=>{T||(A(!0),w.current&&Se.focus(w.current))},[T]);return l.jsxs(M,{ref:G,children:[!C&&Y,(!S||C)&&l.jsx(won,{markers:r,children:l.jsx(Con,{memberItems:q,children:l.jsx(Se,{ref:w,patches$:W,onChange:X,maxBlocks:void 0,readOnly:D||p,schemaType:g,value:y,children:l.jsx(wun,{...e,hasFocusWithin:P,hotkeys:n,isActive:T,isFullscreen:j,onActivate:z,onItemRemove:a,onCopy:s,onInsert:c,onPaste:u,onToggleFullscreen:H,renderBlockActions:m,renderCustomMarkers:v})})})})]})}function ple(e){return e.map(t=>({...t,patchType:Xp}))}function m4(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Aun(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&m4(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var mle=Object.freeze,Dun=Object.defineProperty,DPe=(e,t)=>mle(Dun(e,"raw",{value:mle(t||e.slice())})),gle,vle;const Iun=O(ee)(e=>{const{theme:t}=e,{focusRing:n,input:r,radius:o}=t.sanity,i=t.sanity.color.input,s=ye(t.sanity.space[1]);return{position:"relative",borderRadius:"".concat(o[1],"px"),color:i.default.enabled.fg,boxShadow:m4({color:i.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:"-".concat(s," 0 0 -").concat(s)},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:"".concat(s," 0 0 ").concat(s)},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:i.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:Aun({border:{color:i.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:i.default.disabled.fg,backgroundColor:i.default.disabled.bg,boxShadow:m4({color:i.default.disabled.border,width:r.border.width})}}}),Pun=O.input(e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,o=t.sanity.space[2],i=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:ye(i.fontSize),lineHeight:i.lineHeight/i.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:ye(o-i.ascenderHeight),paddingRight:ye(o),paddingBottom:ye(o-i.descenderHeight),paddingLeft:ye(o),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),Oun=O(M)(e=>{const{theme:t}=e,n=t.sanity.color.input;return he(gle||(gle=DPe([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: `,`;
  `])),n.default.enabled.placeholder)}),Run=O(M)(vle||(vle=DPe([`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`]))),IPe=h.forwardRef((e,t)=>{const{disabled:n,onChange:r,onFocus:o,placeholder:i,readOnly:s,value:a=[],...c}=e,u=h.useMemo(()=>i||(typeof window<"u"&&"ontouchstart"in window?"Enter tag…":"Enter tag and press ENTER…"),[i]),[d,f]=h.useState(""),p=!n&&!s,[m,v]=h.useState(!1),g=dr(t),y=h.useRef(null),x=h.useCallback(E=>{if(Mc(E.target)&&E.target.closest('[data-ui="Tag"]'))return;const k=g.current;k&&setTimeout(()=>k.focus(),0)},[g]),b=h.useCallback(()=>{v(!1)},[]),w=h.useCallback(E=>{f(E.currentTarget.value)},[]),C=h.useCallback(E=>{v(!0),o&&o(E)},[o]),_=h.useCallback(E=>{if(E.key==="Enter"&&(E.preventDefault(),E.stopPropagation(),r&&d)){const j=a.concat([{value:d}]);f(""),r&&r(j)}},[d,r,a]),S=h.useCallback(E=>{if(!r)return;const j=a.slice(0);j.splice(E,1),r(j)},[r,a]);return h.useEffect(()=>{const E=g.current;E&&(E.style.width="0",E.style.width="".concat(E.scrollWidth,"px"))},[g,d]),l.jsxs(Iun,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":s?"":void 0,"data-ui":"TagInput",onPointerDown:x,overflow:"auto",padding:1,ref:y,children:[p&&l.jsx(Oun,{hidden:!!(d||a.length),padding:3,children:l.jsx(L,{textOverflow:"ellipsis",children:u})}),l.jsxs("div",{className:"content",children:[a.map((E,j)=>l.jsx(Run,{children:l.jsx($un,{enabled:p,index:j,muted:!p,onRemove:S,tag:E})},"tag-".concat(j))),l.jsx("div",{children:l.jsx(Pun,{...c,disabled:!p,onBlur:b,onChange:w,onFocus:C,onKeyDown:_,ref:g,type:"text",value:d})},"tag-input")]})]})});IPe.displayName="TagInput";function $un(e){const{enabled:t,index:n,muted:r,onRemove:o,tag:i}=e,s=h.useCallback(()=>{o(n)},[n,o]);return l.jsx(ee,{"data-ui":"Tag",padding:1,radius:2,tone:"transparent",children:l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:1,padding:1,children:l.jsx(L,{muted:r,textOverflow:"ellipsis",children:i.value})}),t&&l.jsx(M,{marginLeft:1,children:l.jsx(se,{icon:Ti,mode:"bleed",onClick:s,padding:1})})]})})}function Mun(e){const{onChange:t,readOnly:n,value:r=[],elementProps:o,path:i,changed:s}=e,a=h.useMemo(()=>r==null?void 0:r.map(u=>({value:u})),[r]),c=h.useCallback(u=>{t(u.length===0?nt():xt(u.map(d=>d.value)))},[t]);return l.jsx(ai,{path:i,isChanged:s,hasFocus:!1,children:l.jsx(IPe,{onChange:c,readOnly:n,value:a,...o})})}const Fun={portal:!0,tone:"default"};function PPe(e){const{member:t,sortable:n,onRemove:r}=e,o=h.useId();return l.jsx(M,{paddingX:1,children:l.jsx(xA,{dragHandle:n,tone:"caution",menu:l.jsx(tn,{button:l.jsx(se,{padding:2,mode:"bleed",icon:To}),id:"".concat(o,"-menuButton"),menu:l.jsx(Bt,{children:l.jsx(Ve,{text:"Remove",tone:"critical",icon:po,onClick:r})}),popover:Fun}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(xPe,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})})}function Lun(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,o=t.filter(a=>n.some(c=>r(c,a))),i=t.length-o.length,s=n.length>1;return l.jsx(l.Fragment,{children:o.length>0?l.jsxs(l.Fragment,{children:[l.jsxs(Gt,{space:2,children:[l.jsx(L,{children:l.jsx(tj,{})}),l.jsxs(L,{children:["Drop to upload"," ",s&&l.jsxs(l.Fragment,{children:[o.length," file",o.length>1?"s":""]})]})]}),i>0&&l.jsx(M,{marginTop:4,children:l.jsxs(Gt,{space:2,children:[l.jsx(L,{muted:!0,size:1,children:l.jsx(Sf,{})}),l.jsxs(L,{muted:!0,size:1,children:[i," file",i>1?"s":""," can't be uploaded here"]})]})})]}):l.jsxs(Gt,{space:2,children:[l.jsx(L,{children:l.jsx(Sf,{})}),l.jsxs(L,{children:["Can't upload ",t.length>1?"any of these files":"this file"," here"]})]})})}var yle=Object.freeze,Bun=Object.defineProperty,Nun=(e,t)=>yle(Bun(e,"raw",{value:yle(t||e.slice())})),ble;const zun=O(ts)(ble||(ble=Nun([`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`])));var xle=Object.freeze,Vun=Object.defineProperty,Hun=(e,t)=>xle(Vun(e,"raw",{value:xle(t||e.slice())})),wle;const Uun=O.div(wle||(wle=Hun([`
  position: relative;
`])));function Wun(e,t,n){return e.map(r=>({type:r,uploader:t(r,n)})).filter(r=>r.uploader)}function Yun(e){const t=ZIe(e);return ie.forwardRef(function(r,o){const{children:i,resolveUploader:s,onUpload:a,types:c,...u}=r,{push:d}=Ho(),f=ie.useCallback((y,x)=>{const{type:b,uploader:w}=x;a==null||a({file:y,schemaType:b,uploader:w})},[a]),p=ie.useCallback(y=>{if(!s)return;const x=y.map(C=>({file:C,uploaderCandidates:Wun(c,s,C)})),b=x.filter(C=>C.uploaderCandidates.length>0),w=x.filter(C=>C.uploaderCandidates.length===0);if(w.length>0){const C=w.length>1;d({closable:!0,status:"warning",title:"The following item".concat(C?"s":""," can't be uploaded because there's no known conversion from content type").concat(C?"s":""," to array item:"),description:w.map((_,S)=>l.jsxs(U,{padding:2,children:[l.jsx(M,{marginLeft:1,children:l.jsx(L,{weight:"semibold",children:_.file.name})}),l.jsx(M,{paddingLeft:2,children:l.jsxs(L,{size:1,children:["(",_.file.type,")"]})})]},S))})}b.forEach(C=>{f(C.file,Cm(C.uploaderCandidates,_=>_.uploader.priority)[0])})},[d,s,c,f]),[m,v]=ie.useState([]),g=ie.useCallback(()=>v([]),[]);return l.jsx(Uun,{children:l.jsxs(t,{...u,ref:o,onFiles:p,onFilesOver:v,onFilesOut:g,children:[s&&m.length>0&&l.jsx(zun,{zOffset:10,children:l.jsx(Lun,{hoveringFiles:m,types:c,resolveUploader:s})}),i]})})})}const mN=XIe(Yun(ee));function qun(e,t,n){return Gun(e,t,r=>r===n)}function Gun(e,t,n){let r=t-1,o=t;const i=e.length;for(;r>-1||o<i;){const s=e[o];if(o<i&&n(s,o))return o;const a=e[r];if(r>-1&&n(a,r))return r;r--,o++}return-1}const Kun={portal:!0,tone:"default"},Zun=ie.forwardRef(function(t,n){const{sortable:r,value:o,insertableTypes:i,onInsert:s,onRemove:a,readOnly:c,inputId:u,validation:d,children:f,presence:p,schemaType:m}=t,v=d.filter(C=>C.level==="error").length>0,g=d.filter(C=>C.level==="warning").length>0,y=h.useCallback((C,_)=>{s({position:C,items:[nN(_)]})},[s]),x=h.useCallback(()=>{o&&s({position:"after",items:[o]})},[s,o]),b=h.useMemo(()=>{if(v)return"critical";if(g)return"caution"},[v,g]),w=l.jsx(tn,{button:l.jsx(se,{padding:2,mode:"bleed",icon:To}),id:"".concat(u,"-menuButton"),popover:Kun,menu:l.jsxs(Bt,{children:[l.jsx(Ve,{text:"Remove",tone:"critical",icon:po,onClick:a}),l.jsx(Ve,{text:"Duplicate",icon:Au,onClick:x}),l.jsx(CA,{types:i,onInsert:y})]})});return l.jsx(xA,{tone:b,menu:!c&&w,dragHandle:!c&&r,presence:p.length===0?null:l.jsx(tC,{presence:p,maxAvatars:1}),validation:d.length>0?l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(X0,{validation:d})}):null,children:l.jsx(U,{align:m?"flex-end":"center",ref:n,children:l.jsx(U,{align:"flex-end",flex:1,children:l.jsx(M,{flex:1,marginRight:2,children:f})})})})});function Xun(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=ie.useCallback(d=>{i(o(d))},[o,i]),c=ie.useCallback(()=>{a(t.of[0])},[t,a]),u=h.useMemo(()=>({constrainSize:!0,portal:!0}),[]);return n?l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:"This field is read-only"})}),children:l.jsx(Jt,{children:l.jsx(se,{icon:ko,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(Jt,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(se,{icon:ko,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(tn,{button:l.jsx(se,{icon:ko,mode:"ghost",text:"Add item…"}),id:s||"",menu:l.jsx(Bt,{children:t.of.map((d,f)=>{var p,m;const v=Tu(d)&&(d.to||[]).length===1&&d.to[0].icon,g=d.icon||((p=d.type)==null?void 0:p.icon)||v;return l.jsx(Ve,{text:d.title||((m=d.type)==null?void 0:m.name),onClick:()=>a(d),icon:g},f)})}),popover:u}),r]})}class OPe extends ie.PureComponent{constructor(t){super(t),this._element=null,this.handleAppend=n=>{const{value:r=[],onIndexFocus:o,onItemAppend:i}=this.props;i(n),o(r.length)},this.handlePrepend=n=>{const{onIndexFocus:r,value:o=[],onItemPrepend:i}=this.props;i(n),r(o.length)},this.handleSortEnd=n=>{const{onIndexFocus:r,onMoveItem:o,value:i}=this.props;i&&o(n),r(n.toIndex)},this.handleItemMoveStart=()=>{this.setState({disableTransition:!1})},this.handleItemMoveEnd=()=>{this.setState({disableTransition:!0})},this.renderArrayItem=n=>{var r;const{schemaType:o}=this.props,i=((r=o.options)==null?void 0:r.sortable)!==!1;return l.jsx(Zun,{...n,sortable:i,insertableTypes:o.of})},this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(t){var n;const{focusPath:r=[],value:o=[]}=t,{focusPath:i=[],value:s=[]}=this.props;if(r[0]===i[0]&&o.length!==s.length){const a=i[0],c=window.getSelection();if(!((c==null?void 0:c.focusNode)instanceof HTMLElement))return null;const u=(n=c.focusNode)==null?void 0:n.querySelector("input,textarea");return u instanceof HTMLInputElement?{prevFocusedIndex:a,restoreSelection:{text:c.toString(),start:u.selectionStart,end:u.selectionEnd,value:u.value}}:{}}return null}componentDidUpdate(t,n,r){var o;const{onIndexFocus:i}=this.props;if(r!=null&&r.restoreSelection&&t.value){const s=t.value[r.prevFocusedIndex],a=qun(this.props.value||[],r.prevFocusedIndex,s);if(a===-1)return;const c=(o=this._element)==null?void 0:o.querySelector("[data-item-index='".concat(a,"'] input,textarea"));if(c instanceof HTMLInputElement){c.focus();try{c.setSelectionRange(r.restoreSelection.start,r.restoreSelection.end)}catch{}}i(a)}}render(){const{schemaType:t,members:n,readOnly:r,renderInput:o,onUpload:i,onItemRemove:s,resolveUploader:a,elementProps:c,arrayFunctions:u=Xun,path:d,changed:f}=this.props,p=!r&&Un(t,"options.sortable")!==!1,m=n.map(v=>({id:"".concat(v.key,"-").concat(v.kind==="item"?v.item.value:"error"),member:v}));return l.jsxs(oe,{space:3,"data-testid":"array-primitives-input",children:[l.jsx(mN,{types:t.of,resolveUploader:a,onUpload:i,...c,tabIndex:0,children:l.jsx(oe,{space:1,children:m.length===0?l.jsx(ee,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:t.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(ee,{padding:1,border:!0,children:l.jsx(qB,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:m.map(v=>v.id),sortable:p,gap:1,children:m.map((v,g)=>{let{member:y,id:x}=v;return l.jsxs(GB,{id:x,sortable:p,disableTransition:this.state.disableTransition,children:[y.kind==="item"&&l.jsx(ai,{path:y.item.path,isChanged:f,hasFocus:!1,children:l.jsx(Prn,{member:y,renderItem:this.renderArrayItem,renderInput:o})}),y.kind==="error"&&l.jsx(PPe,{sortable:p,member:y,onRemove:()=>s(g)})]},y.key)})})})})}),l.jsx(u,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:nN,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}var Cle=Object.freeze,Qun=Object.defineProperty,$A=(e,t)=>Cle(Qun(e,"raw",{value:Cle(t||e.slice())})),_le,Sle,Ele,kle;const Jun=O(U)(_le||(_le=$A([`
  min-height: 35px;
`]))),edn=O(U)(Sle||(Sle=$A([`
  position: absolute;
  top: 0;
  right: 0;
  height: 35px;
`]))),g4=O(ee)(Ele||(Ele=$A([`
  position: absolute;
  top: 0;
  left: 0;
`]))),tdn=O(ee)(kle||(kle=$A([`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    `,` {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      `,` {
        opacity: 1;
      }
    }
  }

  .`,` & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])),g4,g4,YB);function RPe(e){const{validation:t,selected:n,tone:r,presence:o,children:i,dragHandle:s,menu:a,footer:c,...u}=e;return l.jsxs(tdn,{forwardedAs:U,direction:"column",border:!0,selected:n,"aria-selected":n,radius:2,tone:r,...u,children:[i,s&&l.jsx(g4,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:l.jsx(tIe,{grid:!0,padding:2,mode:"ghost"})}),o&&l.jsx(edn,{align:"center",marginX:1,children:o}),l.jsxs(Jun,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[l.jsx(U,{children:t}),l.jsx(M,{children:c}),a]})]})}var jle=Object.freeze,ndn=Object.defineProperty,rdn=(e,t)=>jle(ndn(e,"raw",{value:jle(t||e.slice())})),Tle;const odn=O(ee)(Tle||(Tle=rdn([`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])));function idn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const sdn={portal:!0,tone:"default"},adn={position:"absolute",top:0,left:0,bottom:0,right:0};function ldn(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:y,onClose:x,changed:b,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,E=c.of,j=h.useRef(null);yA(j,m),Fi(w,(q,X)=>{var B;!q&&X&&j.current&&((B=j.current)==null||B.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Tx()}],position:"after"})},[v,p]),A=h.useCallback((q,X)=>{v({items:[J0(X)],position:q})},[v]),D=Y0(u,!0),I=h.useMemo(()=>D.length===0?null:l.jsx(tC,{presence:D,maxAvatars:1}),[D]),P=kB(u,!0),$=h.useMemo(()=>P.length===0?null:l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(X0,{validation:P,__unstable_showSummary:!0})}),[P]),R=P.some(q=>q.level==="error"),V=P.some(q=>q.level==="warning"),N=h.useMemo(()=>d?null:l.jsx(tn,{button:l.jsx(se,{padding:2,mode:"bleed",icon:To}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Bt,{children:[l.jsx(Ve,{text:"Remove",tone:"critical",icon:po,onClick:f}),l.jsx(Ve,{text:"Duplicate",icon:Au,onClick:T}),l.jsx(CA,{types:E,onInsert:A})]}),popover:sdn}),[T,A,f,E,e.inputId,d]),W=idn({readOnly:d,hasErrors:R,hasWarnings:V}),G=l.jsx(RPe,{menu:N,presence:I,validation:$,tone:W,radius:2,border:!0,focused:w,dragHandle:S,selected:m,children:l.jsxs(odn,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:k,onClick:y,ref:j,onFocus:g,__unstable_focusRing:!0,children:[_({schemaType:a,value:p,layout:"media",withBorder:!1,withShadow:!1}),k&&l.jsx(ee,{as:U,style:adn,children:l.jsxs(U,{align:"center",justify:"center",gap:1,padding:1,children:[l.jsx(M,{padding:3,children:l.jsx(fr,{muted:!0})}),l.jsx(L,{muted:!0,size:1,children:"Resolving initial value…"})]})})]})}),H=Cp(a);return l.jsxs(l.Fragment,{children:[l.jsx(ai,{path:u,isChanged:b,hasFocus:!!w,children:G}),m&&l.jsx(TIe,{header:d?"View ".concat(H):"Edit ".concat(H),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}var Ale=Object.freeze,cdn=Object.defineProperty,udn=(e,t)=>Ale(cdn(e,"raw",{value:Ale(t||e.slice())})),Dle;const ddn=O(ee)(Dle||(Dle=udn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function fdn(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=ie.useState(!1),[a,c]=ie.useState(null);ur(()=>s(!1),[a]);const u=ie.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=ks(t);return l.jsx(en,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(ddn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(oe,{space:4,children:[l.jsx(M,{children:l.jsx(L,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(K5,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(oe,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(ee,{padding:2,overflow:"auto",border:!0,children:l.jsx(ar,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(ee,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(oe,{space:4,marginTop:2,children:[l.jsx(M,{margin:1,children:l.jsx(L,{align:"center",size:4,children:l.jsx(Cl,{})})}),l.jsxs(L,{align:"center",size:1,children:["Items of type ",l.jsx("code",{children:f})," is not valid for this list"]})]})})})}const hdn={portal:!0,tone:"default"};function pdn(e){const{member:t,sortable:n}=e,r=h.useId(),{onChange:o}=ha(),i=h.useCallback(()=>{o(ft.from([nt([{_key:t.key}])]))},[o,t.key]);return l.jsx(RPe,{dragHandle:n,tone:"caution",style:{height:"100%"},menu:l.jsx(tn,{button:l.jsx(se,{padding:2,mode:"bleed",icon:To}),id:"".concat(r,"-menuButton"),menu:l.jsx(Bt,{children:l.jsx(Ve,{text:"Remove",tone:"critical",icon:po,onClick:i})}),popover:hdn}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(fdn,{value:t.error.value,vertical:!0}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})}const mdn=[];function gdn(e){var t;const{arrayFunctions:n=_B,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,readOnly:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderPreview:g,resolveUploader:y,schemaType:x,value:b=mdn}=e,w=h.useCallback(j=>{s({items:[j],position:"before",referenceItem:0})},[s]),C=h.useCallback(j=>{s({items:[j],position:"after",referenceItem:-1})},[s]),_=((t=x.options)==null?void 0:t.sortable)!==!1,S=h.useCallback(j=>l.jsx(ldn,{...j}),[]),E=h.useMemo(()=>o.map(j=>j.key),[o]);return l.jsxs(oe,{space:3,children:[l.jsx(mN,{types:x.of,resolveUploader:y,onUpload:c,...r,tabIndex:0,children:l.jsxs(oe,{"data-ui":"ArrayInput__content",space:3,children:[(o==null?void 0:o.length)===0&&l.jsx(ee,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:x.placeholder||l.jsx(l.Fragment,{children:"No items"})})}),(o==null?void 0:o.length)>0&&l.jsx(ee,{border:!0,radius:1,children:l.jsx(qB,{columns:[2,3,4],gap:3,padding:1,margin:1,items:E,onItemMove:a,sortable:_,children:o.map(j=>l.jsxs(GB,{sortable:_,id:j.key,flex:1,children:[j.kind==="item"&&l.jsx(tN,{member:j,renderAnnotation:d,renderBlock:f,renderInlineBlock:m,renderItem:S,renderField:p,renderInput:v,renderPreview:g}),j.kind==="error"&&l.jsx(pdn,{sortable:_,member:j})]},j.key))})})]})}),l.jsx(n,{onChange:i,onItemAppend:C,onItemPrepend:w,onValueCreate:J0,readOnly:u,schemaType:x,value:b})]})}function vdn(e,t){const n=h.useRef(e),r=n.current,o=t(r,e);return h.useEffect(()=>{o||(n.current=e)}),o?r:e}const ydn=[];function bdn(e){var t;const{arrayFunctions:n=_B,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,focusPath:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:y,renderPreview:x,resolveUploader:b,schemaType:w,value:C=ydn}=e,[_,S]=h.useState(null),{space:E}=As().sanity,j=h.useCallback(Y=>{s({items:[Y],position:"before",referenceItem:0})},[s]),k=h.useCallback(Y=>{s({items:[Y],position:"after",referenceItem:-1})},[s]),T=vdn(h.useMemo(()=>o.map(Y=>Y.key),[o]),zu),{scrollElement:A,containerElement:D}=Vrn(),I=h.useRef(null),P=h.useMemo(()=>Rr(u[0])?u[0]._key:u[0],[u]),$=h.useCallback(Y=>{const z={...Y};if(_!==null&&(z.startIndex=Math.min(Y.startIndex,_),z.endIndex=Math.max(Y.endIndex,_)),P){const Z=T.findIndex(Q=>Q===P);Z!==-1&&(z.startIndex=Math.min(z.startIndex,Z),z.endIndex=Math.max(z.endIndex,Z))}return w_e(z)},[_,P,T]),R=h.useCallback((Y,z)=>{if(!Y.scrollElement)return;const Z=Y.scrollElement,Q=()=>{var ne,K,J,re;const fe=(K=(ne=D.current)==null?void 0:ne.getBoundingClientRect().top)!=null?K:0,le=(re=(J=I.current)==null?void 0:J.getBoundingClientRect().top)!=null?re:0,ge=Math.floor(le-fe);z(Z.scrollTop-ge)};return Q(),Y.scrollElement.addEventListener("scroll",Q,{capture:!1,passive:!0}),()=>{Z.removeEventListener("scroll",Q)}},[D]),V=h.useCallback(()=>53,[]),N=S_e({count:o.length,estimateSize:V,getScrollElement:h.useCallback(()=>A,[A]),observeElementOffset:R,rangeExtractor:$,getItemKey:h.useCallback(Y=>T[Y],[T]),scrollToFn:(Y,z,Z)=>{Y!==Z.scrollOffset&&C_e(Y,z,Z)}}),W=N.getVirtualItems(),G=h.useCallback(Y=>{var z,Z;const{active:Q}=Y;S((Z=(z=Q.data.current)==null?void 0:z.sortable)==null?void 0:Z.index)},[]),H=h.useCallback(()=>{S(null)},[]),q=((t=w.options)==null?void 0:t.sortable)!==!1,X=1,B=1;return l.jsxs(oe,{space:3,ref:I,children:[l.jsx(mN,{types:w.of,resolveUploader:b,onUpload:c,...r,tabIndex:0,children:l.jsx(oe,{"data-ui":"ArrayInput__content",space:3,children:o.length===0?l.jsx(ee,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:w.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(ee,{border:!0,radius:1,style:{height:"".concat(N.getTotalSize()+W.length*E[X]+E[B],"px"),width:"100%",position:"relative"},children:l.jsx(qB,{axis:"y",gap:X,paddingY:B,items:T,onItemMove:a,onItemMoveStart:G,onItemMoveEnd:H,sortable:q,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(W[0].start,"px)")},children:W.map(Y=>{const z=o[Y.index];return l.jsxs(GB,{ref:N.measureElement,sortable:q,"data-index":Y.index,id:z.key,children:[z.kind==="item"&&l.jsx(tN,{member:z,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:y,renderPreview:x}),z.kind==="error"&&l.jsx(PPe,{sortable:q,member:z,onRemove:()=>e.onItemRemove(z.key)})]},Y.key)})})})})}),l.jsx(n,{onChange:i,onItemAppend:k,onItemPrepend:j,onValueCreate:J0,readOnly:d,schemaType:w,value:C})]})}function $Pe(e){var t;return((t=e.schemaType.options)==null?void 0:t.layout)==="grid"?l.jsx(gdn,{...e}):l.jsx(bdn,{...e})}const xdn=["string","number","boolean"];function wdn(e){return e.of.every(t=>xdn.includes(t.jsonType))}function Cdn(e){return e.of.length===1&&bc("string",e.of[0])}function _dn(e){var t;return((t=e.options)==null?void 0:t.layout)==="tags"}function Sdn(e){return e.of.some(t=>bc("block",t))}function Edn(e){var t;return!!((t=e.options)!=null&&t.list)}function kdn(e){return Cdn(e)&&_dn(e)?Mun:Edn(e)?wPe:wdn(e)?OPe:Sdn(e)?Tun:$Pe}function jdn(e){return cF(e)?e:{title:Em("".concat(e)),value:e}}const Ile={title:"",value:void 0};function MPe(e){var t,n;const{value:r,readOnly:o,validationError:i,schemaType:s,onChange:a,path:c,changed:u,focused:d,elementProps:f}=e,p=h.useMemo(()=>{var _;return(((_=s.options)==null?void 0:_.list)||[]).map(jdn)},[(t=s.options)==null?void 0:t.list]),m=p.find(_=>_.value===r),v=s.options&&s.options.layout==="radio",g=h.useCallback(_=>{const S=Number(_);return p[S]},[p]),y=h.useCallback(_=>String(p.indexOf(_)),[p]),x=h.useId(),b=ie.useCallback(_=>{a(ft.from(typeof(_==null?void 0:_.value)>"u"?nt():xt(_.value)))},[a]),w=h.useCallback(_=>{const S=g(_.currentTarget.value);if(!S){b(Ile);return}b(S)},[b,g]),C=v?l.jsx(Tdn,{...f,value:m,inputId:x,items:p,direction:((n=s.options)==null?void 0:n.direction)||"vertical",customValidity:i,onChange:b,readOnly:o}):l.jsx(Rf,{...f,customValidity:i,value:y(m),readOnly:o,onChange:w,children:[Ile,...p].map((_,S)=>l.jsx("option",{value:S-1,children:_.title},"".concat(S-1)))});return l.jsx(ai,{path:c,isChanged:u,hasFocus:!!d,children:C})}const Tdn=h.forwardRef(function(t,n){const{items:r,value:o,onChange:i,onFocus:s,readOnly:a,customValidity:c,direction:u,inputId:d}=t,f=u==="horizontal"?Gt:oe;return l.jsx(ee,{border:!0,padding:3,radius:1,children:l.jsx(f,{space:3,role:"group",children:r.map((p,m)=>l.jsx(Adn,{customValidity:c,inputId:d,item:p,onChange:i,onFocus:s,readOnly:a,ref:m===0?n:null,value:o},m))})})}),Adn=h.forwardRef(function(t,n){const{customValidity:r,inputId:o,item:i,onChange:s,onFocus:a,readOnly:c,value:u}=t,d=h.useCallback(()=>{s(i)},[i,s]);return l.jsxs(U,{as:"label",align:"center",children:[l.jsx(EQe,{ref:n,checked:u===i,onChange:d,onFocus:a,readOnly:c,customValidity:r,name:o}),l.jsx(M,{marginLeft:2,children:l.jsx(L,{size:1,weight:"semibold",children:i.title})})]})});function FPe(e){const{validationError:t,elementProps:n}=e;return l.jsx(Mr,{...n,customValidity:t,"data-testid":"string-input"})}function Ddn(e){return AIe(e,"list")?MPe:FPe}const Idn=(e,t)=>{if(typeof e=="function")throw new Error('Schema type "'.concat((t==null?void 0:t.name)||"<not-found>","\"'s `validation` was not run though `inferFromSchema`"));return e?Array.isArray(e)?e:[e]:[]};function kS(e,t){for(const n of Idn(e==null?void 0:e.validation,e))for(const r of n._rules)if(r.flag===t)return r;return null}function LPe(e){const{schemaType:t,validationError:n,elementProps:r}=e,o=kS(t,"min"),i=kS(t,"integer"),s=kS(t,"precision"),a=typeof(o==null?void 0:o.constraint)=="number"&&(o==null?void 0:o.constraint)>=0,c=i||(s==null?void 0:s.constraint)===0,u=a?c?"numeric":"decimal":"text";return l.jsx(Mr,{...r,type:"number",step:"any",inputMode:u,customValidity:n,placeholder:t.placeholder,pattern:a?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}function Pdn(e){return AIe(e,"list")?MPe:LPe}var Ple=Object.freeze,Odn=Object.defineProperty,BPe=(e,t)=>Ple(Odn(e,"raw",{value:Ple(t||e.slice())})),Ole,Rle;const Rdn=O(M)(Ole||(Ole=BPe([`
  align-self: center;
`]))),$dn=O(M)(Rle||(Rle=BPe([`
  line-height: 0;
`])));function Mdn(e){var t;const{id:n,value:r,schemaType:o,readOnly:i,elementProps:s,validation:a}=e,c=((t=o.options)==null?void 0:t.layout)||"switch",u=typeof r!="boolean",d=r||!1,f=c==="checkbox"?Oj:Twe,p=i?"transparent":void 0;return l.jsx(ee,{border:!0,"data-testid":"boolean-input",radius:1,tone:p,children:l.jsxs(U,{children:[l.jsx($dn,{padding:3,children:l.jsx(f,{label:o.title,...s,checked:d,disabled:i,indeterminate:u,style:{margin:-4}})}),l.jsx(M,{flex:1,paddingY:3,children:l.jsx(QDe,{description:o.description,inputId:n,validation:a,title:o.title})}),l.jsx(Rdn,{paddingX:3,paddingY:1,children:l.jsx(Ftn,{maxAvatars:1,position:"top"})})]})})}function Fdn(e){const{validationError:t,elementProps:n}=e;return l.jsx(Mr,{...n,type:"email",inputMode:"email",customValidity:t})}function Ldn(e){const{fieldNames:t,onChange:n,readOnly:r,value:o}=e,i=t.length,s=h.useCallback(a=>{n(nt([a]))},[n]);return l.jsxs(Hc,{status:"warning",title:l.jsxs(l.Fragment,{children:[i===1&&l.jsx(l.Fragment,{children:"Unknown field found"}),i>1&&l.jsx(l.Fragment,{children:"Unknown fields found"})]}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"Encountered a field that is not defined in the schema."}):l.jsxs(l.Fragment,{children:["Encountered ",i," fields that are not defined in the schema."]})}),l.jsxs(Rm,{marginTop:4,open:Uc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:[l.jsx(M,{marginBottom:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet."}):l.jsx(l.Fragment,{children:"These fields are not defined in the document’s schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet."})})}),l.jsx(oe,{as:"ul",space:3,children:t.map(a=>l.jsx(Bdn,{fieldName:a,onUnsetClick:s,readOnly:r,value:o==null?void 0:o[a]},a))})]})]})}function Bdn(e){let{fieldName:t,onUnsetClick:n,readOnly:r,value:o}=e;const i=h.useCallback(()=>{n(t)},[t,n]);return l.jsx(ee,{as:"li",padding:3,radius:2,shadow:1,tone:"caution",children:l.jsxs(oe,{space:2,children:[l.jsxs(ee,{border:!0,radius:1,children:[l.jsx(ee,{borderBottom:!0,padding:3,children:l.jsx(ar,{weight:"medium",children:t})}),l.jsx(M,{overflow:"auto",padding:3,children:l.jsx(ar,{language:"json",children:JSON.stringify(o,null,2)})})]}),r&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["This field is ",l.jsx("strong",{children:"read only"})," according to the document’s schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the"," ",l.jsx("code",{children:"readOnly"})," field from the enclosing type in the schema."]}),!r&&l.jsx(se,{icon:po,onClick:i,tone:"critical",text:l.jsx(l.Fragment,{children:"Remove field"})})]})})}var $le=Object.freeze,Ndn=Object.defineProperty,zdn=(e,t)=>$le(Ndn(e,"raw",{value:$le(t||e.slice())})),Mle;const Vdn=O(ee)(Mle||(Mle=zdn([`
  margin-bottom: `,`px;
  padding-bottom: `,`px;
`])),e=>{let{$level:t,theme:n}=e;return t===0?0:n.sanity.space[5]*-1},e=>{let{$level:t,theme:n}=e;return n.sanity.space[4]}),Hdn=h.forwardRef(function(t,n){const{onClick:r}=t,o=ie.useCallback(()=>{r==null||r(t.name)},[t.name,r]);return l.jsx(Gb,{"data-testid":"group-tab-".concat(name),size:1,id:"".concat(t.name,"-tab"),label:t.title,ref:n,...t,onClick:o})}),Udn=e=>{const{name:t,title:n,...r}=e,{selected:o}=e;return l.jsx("option",{title:n,value:t,id:"".concat(t,"-tab"),"aria-controls":r["aria-controls"],"data-testid":"group-select-".concat(t),"aria-selected":o?"true":"false",children:n||t})};var Fle=Object.freeze,Wdn=Object.defineProperty,Ydn=(e,t)=>Fle(Wdn(e,"raw",{value:Fle(t||e.slice())})),Lle;const qdn=O(BXe)(Lle||(Lle=Ydn([`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`]))),Gdn=e=>{let{inputId:t,groups:n,onClick:r,shouldAutoFocus:o=!0,disabled:i}=e;return l.jsx(Fj,{space:2,"data-testid":"field-group-tabs",children:n.map(s=>l.jsx(Hdn,{"aria-controls":"".concat(t,"-field-group-fields"),autoFocus:o&&s.selected,disabled:i||s.disabled,icon:s==null?void 0:s.icon,name:s.name,onClick:r,selected:!!s.selected,title:s.title||s.name},"".concat(t,"-").concat(s.name,"-tab")))})},Kdn=e=>{let{disabled:t,groups:n,inputId:r,onSelect:o,shouldAutoFocus:i=!0}=e;var s;const a=h.useCallback(c=>{o(c.currentTarget.value)},[o]);return l.jsx(Rf,{"aria-label":"Field groups",autoFocus:i,"data-testid":"field-group-select",disabled:t,fontSize:2,muted:!0,onChange:a,value:(s=n.find(c=>c.selected))==null?void 0:s.name,children:n.map(c=>l.jsx(Udn,{"aria-controls":"".concat(r,"-field-group-fields"),disabled:c.disabled,name:c.name,selected:!!c.selected,title:c.title||c.name},"".concat(r,"-").concat(c.name,"-tab")))})},Zdn=ie.memo(function(t){let{disabled:n=!1,onClick:r,...o}=t;const i=h.useCallback(s=>{r==null||r(s)},[r]);return l.jsxs(qdn,{"data-testid":"field-group-root",children:[l.jsx(Gdn,{...o,disabled:n,onClick:i}),l.jsx(Kdn,{...o,disabled:n,onSelect:i})]})}),Ble=h.memo(function(t){const{schemaType:n,groups:r,members:o,onChange:i,renderAnnotation:s,renderBlock:a,renderInlineBlock:c,renderInput:u,renderField:d,renderItem:f,renderPreview:p,level:m,value:v,id:g,onFieldGroupSelect:y}=t,{columns:x}=n.options||{},b=h.useMemo(()=>{if(!n.fields)return null;const C=n.fields.map(S=>S.name),_=Object.keys(v||{}).filter(S=>!S.startsWith("_")&&!C.includes(S));return _.length===0?null:l.jsx(Ldn,{fieldNames:_,value:v,onChange:i})},[i,n.fields,v]),w=h.useCallback(()=>l.jsx(Brn,{members:o,renderAnnotation:s,renderBlock:a,renderField:d,renderInlineBlock:c,renderInput:u,renderItem:f,renderPreview:p}),[o,s,a,d,c,u,f,p]);return o.length===0?null:l.jsxs(oe,{space:5,children:[r.length>0?l.jsx(Vdn,{$level:m,"data-testid":"field-groups",children:l.jsx(Zdn,{groups:r,inputId:g,onClick:y,shouldAutoFocus:!1})}):null,x?l.jsx(Jt,{columns:x,gap:4,marginTop:1,children:w()}):w(),b]})});function Xdn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:o,onSelect:i,selected:s}=e,a=h.useCallback(()=>{i(t)},[t,i]);return l.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:l.jsx(ee,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:a,padding:3,radius:2,selected:s,tone:o||s?"primary":"default",children:l.jsx(L,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const Qdn=["January","February","March","April","May","June","July","August","September","October","November","December"],Jdn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],efn=m7(0,24),tfn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],nfn=[1,2,3,4,5,6],rfn=e=>{const t=bEe(e);return yEe({start:t,end:wEe(t)})},ofn=e=>e.map(t=>[t,...nfn.map(n=>Wi(t,n))]),ifn=e=>ofn(rfn(e)).map(t=>({number:xEe(t[0]),days:t}));function sfn(e){return l.jsx(M,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:l.jsxs(Jt,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[Jdn.map(t=>l.jsx(M,{paddingY:2,children:l.jsx(L,{size:1,weight:"medium",style:{textAlign:"center"},children:t})},t)),ifn(e.date).map((t,n)=>t.days.map((r,o)=>{const i=e.focused&&Ld(r,e.focused),s=e.selected&&Ld(r,e.selected),a=Ld(r,new Date),c=e.focused&&jEe(r,e.focused);return l.jsx(Xdn,{date:r,focused:i,isCurrentMonth:c,isToday:a,onSelect:e.onSelect,selected:s},"".concat(n,"-").concat(o))}))]})})}const Nle={dayPresets:!1,timePresets:!1},NPe=ie.forwardRef(function(t,n){let{onChange:r,onBlur:o,onKeyPress:i,value:s,...a}=t;const[c,u]=ie.useState(),d=ie.useCallback(v=>{u(v.currentTarget.value)},[]),f=ie.useCallback(v=>{v.currentTarget.value!=="".concat(s)&&r&&r(v),u(void 0)},[r,s]),p=ie.useCallback(v=>{f(v),o&&o(v)},[f,o]),m=ie.useCallback(v=>{v.key==="Enter"&&f(v),i&&i(v)},[f,i]);return l.jsx(Mr,{...a,"data-testid":"date-input",ref:n,value:c===void 0?s:c,onChange:d,onBlur:p,onKeyPress:m})}),afn=e=>{let{onChange:t,...n}=e;const r=ie.useCallback(o=>{const i=parseInt(o.currentTarget.value,10);isNaN(i)||t(i)},[t]);return l.jsx(NPe,{...n,onChange:r,inputMode:"numeric"})},lfn=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),cfn=h.forwardRef(function(t,n){const{selectTime:r,onFocusedDateChange:o,selectedDate:i=new Date,focusedDate:s=i,timeStep:a=1,onSelect:c,...u}=t,d=h.useCallback(S=>o(S),[o]),f=h.useCallback(S=>d(D5t(AEe(s,S),1)),[s,d]),p=h.useCallback(S=>f(Number(S.currentTarget.value)),[f]),m=h.useCallback(S=>d(Z8(s,S)),[s,d]),v=h.useCallback(S=>d(I5t(s,S)),[s,d]),g=h.useCallback(S=>{c(X2(pP(S,i.getHours()),i.getMinutes()))},[c,i]),y=h.useCallback(S=>{const E=Number(S.currentTarget.value);c(X2(i,E))},[c,i]),x=h.useCallback(S=>{const E=Number(S.currentTarget.value);c(pP(i,E))},[c,i]);h.useCallback((S,E)=>{c(pP(X2(i,E),S))},[c,i]);const b=dr(n),w=h.useCallback(()=>{var S,E;(E=(S=b.current)==null?void 0:S.querySelector('[data-focused="true"]'))==null||E.focus()},[b]),C=h.useCallback(S=>{var E,j;if(tfn.includes(S.key)){if(S.preventDefault(),S.target.hasAttribute("data-calendar-grid")){w();return}S.key==="ArrowUp"&&o(Wi(s,-7)),S.key==="ArrowDown"&&o(Wi(s,7)),S.key==="ArrowLeft"&&o(Wi(s,-1)),S.key==="ArrowRight"&&o(Wi(s,1)),(j=(E=b.current)==null?void 0:E.querySelector("[data-preserve-focus]"))==null||j.focus()}},[b,w,o,s]);h.useEffect(()=>{w()},[w]),h.useEffect(()=>{var S;((S=document.activeElement)==null?void 0:S.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&w()},[b,w,s]),h.useCallback(()=>g(Wi(new Date,-1)),[g]),h.useCallback(()=>g(new Date),[g]),h.useCallback(()=>g(Wi(new Date,1)),[g]);const _=h.useCallback(()=>c(new Date),[c]);return l.jsxs(M,{"data-ui":"Calendar",...u,ref:b,children:[l.jsxs(M,{padding:2,children:[Nle.dayPresets,l.jsxs(U,{children:[l.jsx(M,{flex:1,children:l.jsx(ufn,{moveFocusedDate:m,onChange:p,value:s==null?void 0:s.getMonth()})}),l.jsx(M,{marginLeft:2,children:l.jsx(dfn,{moveFocusedDate:m,onChange:v,value:s.getFullYear()})})]}),l.jsxs(M,{"data-calendar-grid":!0,onKeyDown:C,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx(sfn,{date:s,focused:s,onSelect:g,selected:i}),lfn]})]}),r&&l.jsxs(M,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[l.jsxs(U,{align:"center",children:[l.jsxs(U,{align:"center",flex:1,children:[l.jsx(M,{children:l.jsx(Rf,{"aria-label":"Select hour",value:i==null?void 0:i.getHours(),onChange:x,children:efn.map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})}),l.jsx(M,{paddingX:1,children:l.jsx(L,{children:":"})}),l.jsx(M,{children:l.jsx(Rf,{"aria-label":"Select minutes",value:i==null?void 0:i.getMinutes(),onChange:y,children:m7(0,60,a).map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})})]}),l.jsx(M,{marginLeft:2,children:l.jsx(se,{text:"Set to current time",mode:"bleed",onClick:_})})]}),Nle.timePresets]})]})});function ufn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-1),[t]),i=h.useCallback(()=>t(1),[t]);return l.jsxs(U,{flex:1,children:[l.jsx(se,{"aria-label":"Go to previous month",onClick:o,mode:"bleed",icon:X5,paddingX:2,radius:0}),l.jsx(M,{flex:1,children:l.jsx(Rf,{radius:0,value:r,onChange:n,children:Qdn.map((s,a)=>l.jsx("option",{value:a,children:s},a))})}),l.jsx(se,{"aria-label":"Go to next month",mode:"bleed",icon:Rc,onClick:i,paddingX:2,radius:0})]})}function dfn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-12),[t]),i=h.useCallback(()=>t(12),[t]);return l.jsxs(U,{children:[l.jsx(se,{"aria-label":"Previous year",onClick:o,mode:"bleed",icon:X5,paddingX:2,radius:0}),l.jsx(afn,{value:r,onChange:n,radius:0,style:{width:65}}),l.jsx(se,{"aria-label":"Next year",onClick:i,mode:"bleed",icon:Rc,paddingX:2,radius:0})]})}const ffn=ie.forwardRef(function(t,n){const{value:r=new Date,onChange:o,...i}=t,[s,a]=ie.useState(),c=ie.useCallback(u=>{o(u),a(void 0)},[o]);return l.jsx(cfn,{...i,ref:n,selectedDate:r,onSelect:c,focusedDate:s||r,onFocusedDateChange:a})}),hfn=h.forwardRef(function(t,n){const{value:r,inputValue:o,onInputChange:i,onChange:s,selectTime:a,timeStep:c,...u}=t,[d,f]=h.useState(null),p=dr(n),m=h.useRef(null),[v,g]=h.useState(!1);ur(()=>g(!1),[d]);const y=h.useCallback(()=>{var C,_;(C=p.current)==null||C.focus(),(_=p.current)==null||_.select()},[p]),x=h.useCallback(C=>{C.key==="Escape"&&g(!1)},[]),b=h.useCallback(()=>g(!0),[]),w=l.jsx(M,{padding:1,children:l.jsx(se,{ref:m,icon:xg,mode:"bleed",padding:2,onClick:b,style:{display:"block"},"data-testid":"select-date-button"})});return l.jsx(NPe,{ref:p,...u,value:o,onChange:i,suffix:v?l.jsx(Bu,{zOffset:1e3,children:l.jsx(en,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:l.jsx(M,{overflow:"auto",children:l.jsx(eh,{onDeactivation:y,children:l.jsx(ffn,{selectTime:a,timeStep:c,onKeyUp:x,value:r,onChange:s})})}),open:!0,placement:"bottom",ref:f,radius:2,children:w})}):w})}),pfn=new Date,zPe=ie.forwardRef(function(t,n){const{id:r,deserialize:o,formatInputValue:i,onChange:s,parseInputValue:a,placeholder:c,readOnly:u,selectTime:d,serialize:f,timeStep:p,value:m,...v}=t,[g,y]=ie.useState(null);h.useEffect(()=>{y(null)},[m]);const x=ie.useCallback(S=>{const E=S.currentTarget.value,j=E===""?null:a(E);j===null?(s(null),typeof m>"u"&&g&&y(null)):j.isValid?s(f(j.date)):y(E)},[a,s,m,g,f]),b=ie.useCallback(S=>{s(S?f(S):null)},[f,s]),w=dr(n),C=g?a(g):m?o(m):null,_=g||(C!=null&&C.isValid?i(C.date):m);return u?l.jsx(Mr,{value:_,readOnly:!0}):l.jsx(hfn,{...v,id:r,selectTime:d,timeStep:p,placeholder:c||"e.g. ".concat(i(pfn)),ref:w,value:C==null?void 0:C.date,inputValue:_||"",readOnly:!!u,onInputChange:x,onChange:b,customValidity:C==null?void 0:C.error})});function mfn(e){return e instanceof Date&&!isNaN(e.valueOf())}const gfn="YYYY-MM-DD",vfn="HH:mm";function yfn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||gfn,timeFormat:e.timeFormat||vfn,timeStep:"timeStep"in e&&Number(e.timeStep)||1,calendarTodayLabel:e.calendarTodayLabel||"Today"}}function v4(e){return e.toISOString()}function bfn(e){const t=new Date(e);return mfn(t)?{isValid:!0,date:t}:{isValid:!1,error:'Invalid date value: "'.concat(e,'"')}}function xfn(e,t){if(!t||t===1)return e;const n=h5t(e),r=dkt(n),o=r%t;return v4(o!==0?X2(n,r-o):n)}function wfn(e){const{onChange:t,schemaType:n,value:r,elementProps:o}=e,{dateFormat:i,timeFormat:s,timeStep:a}=yfn(n.options),c=h.useCallback(f=>{let p=f;p!==null&&a>1&&(p=xfn(p,a)),t(p===null?nt():xt(p))},[t,a]),u=ie.useCallback(f=>OT(f,"".concat(i," ").concat(s)),[i,s]),d=ie.useCallback(f=>P9(f,"".concat(i," ").concat(s)),[i,s]);return l.jsx(zPe,{...o,onChange:c,deserialize:bfn,formatInputValue:u,parseInputValue:d,placeholder:n.placeholder,selectTime:!0,serialize:v4,timeStep:a,value:r})}const gN="YYYY-MM-DD",Cfn=gN;function _fn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||Cfn,calendarTodayLabel:e.calendarTodayLabel||"Today"}}const Sfn=e=>P9(e,gN),Efn=e=>OT(e,gN);function kfn(e){const{readOnly:t,onChange:n,schemaType:r,elementProps:o,value:i}=e,{dateFormat:s}=_fn(r.options),a=h.useCallback(d=>{n(d===null?nt():xt(d))},[n]),c=h.useCallback(d=>OT(d,s),[s]),u=h.useCallback(d=>P9(d,s),[s]);return l.jsx(zPe,{...o,deserialize:Sfn,formatInputValue:c,onChange:a,parseInputValue:u,placeholder:r.placeholder,readOnly:t,selectTime:!1,serialize:Efn,value:i})}var zle=Object.freeze,jfn=Object.defineProperty,Tfn=(e,t)=>zle(jfn(e,"raw",{value:zle(t||e.slice())})),Vle;const Afn=O(Awe)(Vle||(Vle=Tfn([`
  &[data-as='textarea'] {
    resize: vertical;
  }
`])));function Dfn(e){const{schemaType:t,validationError:n,value:r,elementProps:o}=e;return l.jsx(Afn,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:typeof t.rows=="number"?t.rows:10,...o})}function Ifn(e){var t,n;const{schemaType:r,validationError:o,elementProps:i}=e,s=kS(r,"uri"),a=(n=(t=s==null?void 0:s.constraint)==null?void 0:t.options)!=null&&n.allowRelative?"text":"url";return l.jsx(Mr,{type:a,inputMode:"url",customValidity:o,...i})}const Pfn=(e,t)=>{var n;const r=(n=t.options)==null?void 0:n.maxLength;return e?qje(e,{truncate:typeof r=="number"?r:200,symbols:!0}):""};async function Ofn(e,t,n){var r;return e&&(((r=t.options)==null?void 0:r.slugify)||Pfn)(e,t,n)}function Rfn(e,t){const[n,r]=ie.useState(null),o=ie.useRef(0),i=ie.useCallback(s=>{const a=++o.current;r({status:"pending"}),Promise.resolve().then(()=>e(s)).then(c=>{a===o.current&&r({status:"complete",result:c})},c=>{a===o.current&&r({status:"error",error:c})})},[e,...t]);return[n,i]}function $fn(){const{getClient:e}=Mn(),t=En(),n=Uo(),r=e3e(),o=QOe();return h.useMemo(()=>({projectId:r,dataset:o,getClient:e,schema:t,currentUser:n}),[e,t,n,r,o])}function Mfn(e,t,n){const r=e.slice(0,-1),o=om(t,r);return{parentPath:r,parent:o,...n}}async function Ffn(e,t,n){return typeof e=="function"?e(t,n):om(t,e)}function Lfn(e){var t;const{getDocument:n}=li().__internal,{path:r,value:o,schemaType:i,validation:s,onChange:a,readOnly:c,elementProps:u}=e,d=(t=i.options)==null?void 0:t.source,f=h.useMemo(()=>s.filter(b=>b.level==="error"),[s]),p=$fn(),m=h.useCallback(b=>{if(!b){a(ft.from(nt([])));return}a(ft.from([Zi({_type:i.name}),xt(b,["current"])]))},[a,i.name]),[v,g]=Rfn(()=>{if(!d)return Promise.reject(new Error('Source is missing. Check source on type "'.concat(i.name,'" in schema')));const b=n()||{_type:i.name},w=Mfn(r,b,p);return Ffn(d,b,w).then(C=>Ofn(C||"",i,w)).then(C=>m(C))},[d,n,i,r,p,m]),y=(v==null?void 0:v.status)==="pending",x=ie.useCallback(b=>m(b.currentTarget.value),[m]);return l.jsx(oe,{space:3,children:l.jsxs(U,{children:[l.jsxs(M,{flex:1,children:[l.jsx(Mr,{customValidity:f.length>0?f[0].message:"",disabled:y,onChange:x,value:(o==null?void 0:o.current)||"",readOnly:c,...u}),(v==null?void 0:v.status)==="error"&&l.jsx(ee,{padding:2,tone:"critical",children:v.error.message})]}),d&&l.jsx(M,{marginLeft:1,children:l.jsx(se,{mode:"ghost",type:"button",disabled:c||y,onClick:g,text:(v==null?void 0:v.status)==="pending"?"Generating…":"Generate"})})]})})}function Bfn(e){return h.useMemo(()=>{var n;return Array.isArray((n=e.schemaType.options)==null?void 0:n.list)},[e.schemaType])?l.jsx(wPe,{...e}):Oln(e)?l.jsx(OPe,{...e}):l.jsx($Pe,{...e})}const Hle={document:Ble,object:Ble,array:Bfn,boolean:Mdn,number:LPe,text:Dfn,email:Fdn,datetime:wfn,date:kfn,url:Ifn,image:Oan,file:Ssn,string:FPe,slug:Lfn,crossDatasetReference:oln};function Nfn(e){if(bc("array",e))return kdn(e);if(bc("reference",e))return Iln;if(bc("string",e))return Ddn(e);if(bc("number",e))return Pdn(e)}function zfn(e){var t;if((t=e.components)!=null&&t.input)return e.components.input;const n=Nfn(e);if(n)return n;const o=rN(e,new Set).reduce((s,a)=>(s[a.name]=a,s),{}),i=Object.values(o).find(s=>Hle[s.name]);if(i)return Hle[i.name];throw new Error("Could not find input component for schema type `".concat(e.name,"`"))}function Vfn(e){var t;return(t=e.components)!=null&&t.preview?e.components.preview:ch}function $m(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),o=h.useCallback(i=>{var s;if(!((s=i.schemaType)!=null&&s.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:a,...c}=i.schemaType,u=t(c);return h.createElement(u,i)},[t]);return h.createElement(r,{...n,renderDefault:o})}function Hfn(e){return $m({componentProps:e,componentResolver:zfn})}function Ufn(e){return $m({componentProps:e,componentResolver:lon})}function Wfn(e){return $m({componentProps:e,componentResolver:Krn})}function Yfn(e){return $m({componentProps:e,componentResolver:Vfn})}function qfn(e){return $m({componentProps:e,componentResolver:jin})}function Gfn(e){return $m({componentProps:e,componentResolver:Tin})}function Kfn(e){return $m({componentProps:e,componentResolver:Ain})}function Zfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.input}function Xfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.field}function Qfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.preview}function Jfn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.item}function ehn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.block}function thn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.inlineBlock}function nhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.annotation}function rhn(){return Ul({defaultComponent:Hfn,pick:Zfn})}function ohn(){return Ul({defaultComponent:Ufn,pick:Xfn})}function VPe(){return Ul({defaultComponent:Yfn,pick:Qfn})}function ihn(){return Ul({defaultComponent:Wfn,pick:Jfn})}function shn(){return Ul({defaultComponent:qfn,pick:ehn})}function ahn(){return Ul({defaultComponent:Gfn,pick:thn})}function lhn(){return Ul({defaultComponent:Kfn,pick:nhn})}function iC(e){const t=VPe();return l.jsx(YAe,{...e,component:t})}const chn=e=>{let{asset:t,assetType:n,referringDocuments:r}=e;const o=r.length,i=o>0,s=t.originalFilename?l.jsx("strong",{children:t.originalFilename}):"this ".concat(n);return i?l.jsxs(l.Fragment,{children:[l.jsx(ee,{borderBottom:!0,marginTop:2,paddingBottom:2,marginBottom:1,children:l.jsxs(L,{as:"h2",size:[1,1,2,2],weight:"regular",textOverflow:"ellipsis",children:[o," ",o===1?"document is":"documents are"," using ",s]})}),r.map(a=>l.jsx(uhn,{document:a},a._id))]}):l.jsxs(L,{size:[1,1,2,2],as:"h2",weight:"regular",children:["No documents are using ",s]})},uhn=e=>{let{document:t}=e;const n=En(),r=h.useCallback(o=>l.jsx(_m,{...o,params:{id:t._id,type:t._type},intent:"edit"}),[t]);return l.jsx(ee,{as:r,paddingY:2,paddingX:1,radius:2,"data-as":"a",tabIndex:0,children:l.jsx(U,{align:"center",gap:2,children:l.jsx(iC,{layout:"default",value:{_type:"reference",_ref:t._id},schemaType:n.get(t._type)})})},t._id)},Ule={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},Wle={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},Yle={height:"100%"},dhn=e=>{let{asset:t,assetType:n,hasResults:r=!1}=e;const o=n==="image",i=t.originalFilename?l.jsxs(l.Fragment,{children:["The ",n," ",l.jsx("strong",{children:t.originalFilename})]}):"this ".concat(n);return r?l.jsx(ee,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:l.jsxs(Jt,{columns:3,gap:[2,3,4],children:[l.jsxs(U,{gap:[3,4],align:"center",style:{gridColumn:o?"span 2":"span 3"},children:[l.jsx(L,{children:l.jsx(Fr,{})}),l.jsxs(L,{size:1,children:[i," cannot be deleted because it's being used. In order to delete the ",n," you need the remove all uses of it."]})]}),o&&l.jsx(ee,{__unstable_checkered:!0,border:!0,radius:1,style:Wle,children:l.jsx(U,{align:"center",justify:"center",style:Yle,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:Ule,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):l.jsx(ee,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:l.jsxs(Jt,{columns:3,gap:3,children:[l.jsx(U,{style:{gridColumn:o?"span 2":"span 3"},align:"center",children:l.jsxs(L,{children:["You are about to delete the ",n,t.originalFilename&&l.jsxs(l.Fragment,{children:[" ",l.jsx("strong",{children:t.originalFilename})]})," ","and its metadata.",l.jsx("br",{}),l.jsx("br",{}),"Are you sure?"]})}),o&&l.jsx(ee,{__unstable_checkered:!0,border:!0,radius:1,style:Wle,children:l.jsx(U,{align:"center",justify:"center",style:Yle,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:Ule,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})})},PO="confirmDelete",OO="listUsage";function y4(e){let{asset:t,assetType:n="image",mode:r=OO,isDeleting:o=!1,onClose:i,onDelete:s}=e;const{isLoading:a,referringDocuments:c}=UGt(t._id),d=r===OO?"Documents using ".concat(n):"Delete ".concat(n),[f,p]=h.useState(!1),[m,v]=h.useState(!0),[g,y]=h.useState([]),x=r===PO,b=g.length>0,w=r===OO||b,C=r===PO&&!b,_=x?l.jsxs(Jt,{padding:2,gap:2,columns:2,children:[l.jsx(se,{mode:"bleed",text:"Cancel",onClick:i}),l.jsx(se,{text:"Delete",tone:"critical",icon:po,onClick:s,loading:o,disabled:!f})]}):void 0;return h.useEffect(()=>{const S=c.reduce((j,k)=>k._id.startsWith("drafts.")?j.concat(k._id.slice(7)):j,[]),E=c.filter(j=>!S.includes(j._id));y(E),p(E.length===0&&!a),v(a)},[a,c]),l.jsxs(Ri,{__unstable_autoFocus:!m,footer:_,header:d,id:"asset-dialog",onClickOutside:i,onClose:i,width:1,children:[m&&l.jsx(M,{padding:4,children:l.jsx(HGt,{text:"Loading..."})}),!m&&l.jsxs(oe,{paddingX:C?0:[2,3,4],paddingY:C?0:[3,3,3,4],space:1,children:[r===PO&&l.jsx(dhn,{asset:t,assetType:n,hasResults:b}),w&&l.jsx(chn,{asset:t,referringDocuments:g,assetType:n})]})]})}function HPe(e){let{isSelected:t,border:n=!0,onAction:r}=e;const o=t?"default":"bleed",i=t?"primary":"default";return l.jsx(tn,{button:l.jsx(se,{padding:2,mode:n?"ghost":o,icon:To,tone:n?"default":i}),id:"asset-menu",portal:!0,menu:l.jsxs(Bt,{children:[l.jsx(Ve,{text:"Show uses",icon:kf,onClick:()=>{r({type:"showUsage"})}}),l.jsx(Ve,{text:"Delete",icon:po,tone:"critical",onClick:()=>{r({type:"delete"})}})]}),placement:"right"})}var qle=Object.freeze,fhn=Object.defineProperty,MA=(e,t)=>qle(fhn(e,"raw",{value:qle(t||e.slice())})),Gle,Kle,Zle,Xle;const hhn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),phn=O.img(Gle||(Gle=MA([`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),mhn=O(ee)(Kle||(Kle=MA([`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`]))),b4=O.div(Zle||(Zle=MA([`
  position: relative;
  display: inherit;
`]))),ghn=O.div(Xle||(Xle=MA([`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    `,`:hover & {
      button {
        opacity: 1;
      }
    }

    `,`:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`])),b4,b4),vhn=ie.memo(function(t){const n=pr(an),r=Ho(),o=h.useRef(),{asset:i,onClick:s,onKeyPress:a,onDeleteFinished:c,isSelected:u}=t,[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!1);h.useEffect(()=>()=>{o.current&&o.current.unsubscribe()},[]);const y=h.useCallback(()=>{m(!0)},[m]),x=h.useCallback(()=>{f(!1),m(!1)},[f,m]),b=h.useCallback(()=>{f(!0)},[f]),w=h.useCallback(D=>{r.push({closable:!0,status:"error",title:"Image could not be deleted",description:D.message})},[r]),C=h.useCallback(()=>{r.push({status:"success",title:"Image was deleted"})},[r]),_=h.useCallback(()=>{g(!0),o.current=n.observable.delete(i._id).subscribe({next:()=>{g(!1),c(i._id),m(!1),C()},error:D=>{g(!1),w(D),console.error("Could not delete asset",D)}})},[i._id,w,C,c,n.observable]),S=h.useCallback(D=>{D.type==="delete"&&y(),D.type==="showUsage"&&b()},[y,b]),{originalFilename:E,_id:j,url:k}=i,T=200*Math.max(1,hhn),A=k.includes(".gif")?"".concat(k,"?h=").concat(T,"&fit=max&fm=jpg"):"".concat(k,"?h=").concat(T,"&fit=max");return l.jsxs(b4,{children:[l.jsx(se,{tone:"primary",selected:u,tabIndex:0,"data-id":j,mode:"ghost",onKeyPress:a,padding:0,style:{padding:2},children:l.jsxs(mhn,{__unstable_checkered:!0,children:[l.jsx(phn,{alt:E,src:A,onClick:s,"data-id":j}),v&&l.jsx(VGt,{})]})}),l.jsx(ghn,{children:l.jsx(HPe,{isSelected:u,onAction:S})}),(d||p)&&l.jsx(y4,{asset:i,mode:p?"confirmDelete":"listUsage",onClose:x,onDelete:_,isDeleting:v})]})}),yhn=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],bhn=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],xhn=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],whn=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],Qle=(e,t,n)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,n):(t===!0||n!==void 0)&&(r=e.toLocaleString(void 0,n)),r};function Chn(e){let{bits:t=!1,binary:n=!1,signed:r=!1,minimumFractionDigits:o,maximumFractionDigits:i,locale:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e;if(!Number.isFinite(a))throw new TypeError("Expected a finite number, got ".concat(typeof a,": ").concat(a));const c=t?n?whn:xhn:n?bhn:yhn;if(r&&a===0)return" 0 ".concat(c[0]);const u=a<0,d=u?"-":r?"+":"";u&&(a=-a);let f;if(o!==void 0&&(f={minimumFractionDigits:o}),i!==void 0&&(f={maximumFractionDigits:i,...f}),a<1){const g=Qle(a,s,f);return"".concat(d+g," ").concat(c[0])}const p=Math.min(Math.floor(n?Math.log(a)/Math.log(1024):Math.log10(a)/3),c.length-1);a/=(n?1024:1e3)**p,f||(a=a.toPrecision(3));const m=Qle(Number(a),s,f),v=c[p];return"".concat(d+m," ").concat(v)}const RO={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function _hn(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function Shn(e){return RO!=null&&RO[e]?RO[e].title:_hn(e)}var Jle=Object.freeze,Ehn=Object.defineProperty,ju=(e,t)=>Jle(Ehn(e,"raw",{value:Jle(t||e.slice())})),ece,tce,nce,rce,oce,ice,sce,ace,lce;const x4=O.span(ece||(ece=ju([`
  background-color: transparent;
  flex-shrink: 0;
`]))),gg=O(U)(tce||(tce=ju([""]))),khn=O(L)(nce||(nce=ju([""]))),jhn=O(ee)(oce||(oce=ju([`
  &:hover-within `,` {
    --card-muted-fg-color: var(--card-muted-fg-color);
    --card-fg-color: var(--card-fg-color);
  }

  `,`
`])),khn,e=>e.isSelected&&he(rce||(rce=ju([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `])))),cce=O(se)(ace||(ace=ju([`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: 0.1875rem;
  }

  `,`

  `,`
`])),e=>e.isSelected&&he(ice||(ice=ju([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `])),x4,gg),e=>!e.isSelected&&he(sce||(sce=ju([`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `])))),Thn=O(L)(lce||(lce=ju([`
  overflow-wrap: anywhere;
`]))),uce={position:"relative"},dce={flexShrink:0},$O={minWidth:0},fce={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},Ahn="Cannot delete current file",Dhn=e=>{const t=pr(an),n=Ho(),r=h.useRef(),[o,i]=h.useState(!1),[s,a]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),{asset:p,onClick:m,onKeyPress:v,onDeleteFinished:g,isSelected:y,isMobile:x}=e,{originalFilename:b,_id:w,mimeType:C,size:_,_createdAt:S}=p,E=Xo(S,{agoSuffix:!0}),j=Shn(C),k=Chn(_),T=(b||"").length>37,A=()=>{a(!0)},D=W=>{n.push({closable:!0,status:"error",title:"File could not be deleted",description:W.message})},I=()=>{n.push({status:"success",title:"File was deleted"})},P=()=>{u(!0),r.current=t.observable.delete(p._id).subscribe({next:()=>{u(!1),g==null||g(p._id),a(!1),I()},error:W=>{u(!1),D(W),console.error("Could not delete asset",W)}})},$=()=>{i(!1),a(!1)},R=()=>{i(!0)},V=()=>{f(!d)},N=W=>{W.type==="delete"&&A(),W.type==="showUsage"&&R()};return x?l.jsxs(ee,{paddingBottom:2,style:uce,children:[l.jsxs(Jt,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:c?.5:1},children:[l.jsx(cce,{asset:p,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,children:l.jsxs(U,{gap:2,flex:2,align:"center",children:[l.jsx(ee,{as:x4,padding:2,tone:"transparent",radius:2,children:l.jsx(L,{muted:!0,size:2,style:dce,children:l.jsx(Ef,{})})}),l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:$O,children:b})]})}),l.jsx(U,{justify:"flex-end",align:"center",paddingRight:1,style:fce,children:l.jsx(se,{mode:"bleed",fontSize:1,padding:2,onClick:V,icon:d?a0e:Za})})]}),d&&l.jsxs(l.Fragment,{children:[l.jsxs(Jt,{marginTop:3,columns:3,gap:1,children:[l.jsxs(oe,{space:2,children:[l.jsx(Vt,{size:1,muted:!0,children:"Size"}),l.jsx(L,{size:1,muted:!0,children:k})]}),l.jsxs(oe,{space:2,children:[l.jsx(Vt,{size:1,muted:!0,children:"Type"}),l.jsx(L,{size:1,muted:!0,children:j})]}),l.jsxs(oe,{space:2,children:[l.jsx(Vt,{size:1,muted:!0,children:"Date added"}),l.jsx(L,{size:1,muted:!0,children:E})]})]}),l.jsxs(oe,{space:2,marginTop:3,children:[l.jsx(se,{fontSize:1,tone:"default",mode:"ghost",text:"Show uses",onClick:R,icon:kf}),l.jsx(se,{fontSize:1,tone:"critical",mode:"ghost",text:"Delete",icon:po,disabled:y,title:y?Ahn:"Delete file",onClick:A})]})]}),(o||s)&&l.jsx(y4,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:$,onDelete:P,isDeleting:c})]}):l.jsxs(jhn,{asset:p,paddingBottom:1,style:uce,radius:0,overflow:"hidden",isSelected:y,"aria-selected":"true",children:[l.jsxs(Jt,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:c?.5:1},children:[l.jsx(cce,{asset:p,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:v,title:"Select the file ".concat(b),isSelected:y,children:l.jsxs(gg,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:v,"data-id":w,title:"Select the file ".concat(b),children:[l.jsx(ee,{as:x4,padding:2,tone:"transparent",radius:2,style:dce,children:l.jsx(L,{muted:!0,size:2,children:l.jsx(Ef,{})})}),T&&l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:b})}),fallbackPlacements:["right","left"],placement:"top",portal:!0,children:l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:$O,children:b})}),!T&&l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:$O,children:b})]})}),l.jsx(gg,{align:"center",children:l.jsx(L,{size:1,muted:!0,children:k})}),l.jsx(gg,{align:"center",children:l.jsx(M,{children:l.jsx(Thn,{size:1,muted:!0,textOverflow:"ellipsis",children:j})})}),l.jsx(gg,{align:"center",children:l.jsx(L,{as:"time",size:1,muted:!0,dateTime:S,children:E})}),l.jsx(gg,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:fce,children:l.jsx(HPe,{border:!1,isSelected:!1,onAction:N})})]}),(o||s)&&l.jsx(y4,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:$,onDelete:P,isDeleting:c})]})},Ihn={paddingLeft:"2.2rem"},hce={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function Phn(e){const n=pm()<2,{assets:r,onClick:o,onKeyPress:i,onDeleteFinished:s,selectedAssets:a,isLoading:c}=e;return l.jsxs(M,{padding:4,children:[l.jsx(ee,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:n?l.jsx(Jt,{style:hce,children:l.jsx(M,{flex:2,paddingLeft:5,children:l.jsx(Vt,{muted:!0,size:1,children:"Filename"})})}):l.jsxs(Jt,{gap:1,style:hce,children:[l.jsx(M,{flex:2,style:Ihn,children:l.jsx(Vt,{muted:!0,size:1,children:"Filename"})}),l.jsx(M,{flex:1,children:l.jsx(Vt,{muted:!0,size:1,children:"Size"})}),l.jsx(M,{flex:1,children:l.jsx(Vt,{muted:!0,size:1,children:"Type"})}),l.jsx(M,{flex:1,children:l.jsx(Vt,{muted:!0,size:1,children:"Date added"})})]})}),l.jsxs(oe,{children:[c&&r.length===0&&l.jsx(M,{paddingTop:4,paddingBottom:2,children:l.jsx(U,{justify:"center",children:l.jsx(fr,{muted:!0})})}),r.map(u=>l.jsx(Dhn,{asset:u,isMobile:n,isSelected:a.some(d=>d._id===u._id),onClick:o,onKeyPress:i,onDeleteFinished:s},u._id))]})]})}var pce=Object.freeze,Ohn=Object.defineProperty,UPe=(e,t)=>pce(Ohn(e,"raw",{value:pce(t||e.slice())})),mce,gce;const jS=200,WPe="sanity.imageAsset",Rhn="sanity.fileAsset",$hn=e=>{const t=["image/*","audio/*","video/*"],r=e.split(",").map(o=>o.trim()).reduce((o,i)=>t.includes(i)?{...o,wildcards:"mimeType match '".concat(i,"' || ").concat(o.wildcards)}:i.indexOf(".")===0?{...o,extensions:"'".concat(i.replace(".",""),"', ").concat(o.extensions)}:{...o,mimes:"'".concat(i,"', ").concat(o.mimes)},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    `.concat(r.wildcards,` 
    extension in [`).concat(r.extensions,`] ||
    mimeType in [`).concat(r.mimes,`]
  )`)},Mhn=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jS,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:WPe,r=arguments.length>3?arguments[3]:void 0;const i=r.length>0?$hn(r):"";return`
  *[_type == "`.concat(n,'" ').concat(i,"] | order(_updatedAt desc) [").concat(e,"...").concat(t,`] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`)},Fhn=O(Jt)(mce||(mce=UPe([`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`]))),Lhn=O(ee)(gce||(gce=UPe([`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`]))),Bhn=function(t,n){const r=pr(an),o=h.useMemo(()=>r.withConfig({apiVersion:"2023-02-14"}),[r]),i=h.useRef("default-asset-source-".concat(gEe())),s=h.useRef(0),a=h.useRef(),[c,u]=h.useState([]),[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!0),{selectedAssets:y,assetType:x="image",dialogHeaderTitle:b="Select image",onClose:w,onSelect:C,accept:_}=t,S=_?_.split(",").map(N=>N.trim()).join(", "):"",E=!v&&_&&_.length>0,j=_&&_==="image/*"&&x==="image",k=h.useCallback(N=>{const W=N*jS,G=W+jS,H=x==="image",q=H?"asset.image-list":"asset.file-list",X=H?WPe:Rhn;g(!0),typeof _<"u"&&(a.current=o.observable.fetch(Mhn(W,G,X,_),{},{tag:q}).subscribe(B=>{f(B.length<jS),u(Y=>Y.concat(B)),g(!1)}))},[x,_,o]),T=h.useCallback(N=>{u(W=>W.filter(G=>G._id!==N))},[u]),A=h.useCallback(N=>{c.find(G=>G._id===N)&&C([{kind:"assetDocumentId",value:N}])},[c,C]),D=h.useCallback(N=>{N.preventDefault(),A(N.currentTarget.getAttribute("data-id"))},[A]),I=h.useCallback(N=>{N.key==="Enter"&&(N.preventDefault(),A(N.currentTarget.getAttribute("data-id")))},[A]),P=h.useCallback(()=>{w&&w()},[w]),$=h.useCallback(N=>{N.preventDefault(),k(++s.current)},[k]);h.useEffect(()=>(k(s.current),()=>{a.current&&a.current.unsubscribe()}),[k]),h.useEffect(()=>{!v&&(!s.current||s.current===0)&&m(!0)},[v]);const R=h.useMemo(()=>l.jsxs(M,{padding:4,children:[l.jsx(Fhn,{gap:2,children:c.map(N=>l.jsx(vhn,{asset:N,isSelected:y.some(W=>W._id===N._id),onClick:D,onKeyPress:I,onDeleteFinished:T},N._id))}),v&&c.length===0&&l.jsx(U,{justify:"center",children:l.jsx(fr,{muted:!0})}),!v&&c.length===0&&l.jsx(L,{align:"center",muted:!0,children:"No images"})]}),[c,T,D,I,v,y]),V=h.useMemo(()=>l.jsx(Phn,{isLoading:v,assets:c,selectedAssets:y,onClick:D,onKeyPress:I,onDeleteFinished:T}),[v,c,y,D,I,T]);return l.jsxs(Ri,{__unstable_autoFocus:p,header:b,id:i.current,onClickOutside:P,onClose:P,ref:n,width:2,children:[E&&!j&&l.jsx(ee,{tone:"primary",marginTop:4,marginX:4,padding:[3,3,4],border:!0,radius:2,children:l.jsxs(U,{gap:[3,4],align:"center",children:[l.jsx(L,{children:l.jsx(lm,{})}),l.jsxs(L,{size:1,children:["Only showing assets of accepted types: ",l.jsx("b",{children:S})]})]})}),x==="image"&&R,x==="file"&&V,c.length>0&&!d&&l.jsx(Lhn,{tone:"default",padding:4,children:l.jsx(U,{direction:"column",children:l.jsx(se,{type:"button",icon:AF,loading:v,onClick:$,text:"Load more",tone:"primary"})})})]})},YPe=ie.memo(ie.forwardRef(Bhn)),qPe={name:"sanity-default",title:"Uploaded files",component:YPe,icon:jF},GPe={name:"sanity-default",title:"Uploaded images",component:YPe,icon:Tl};function Nhn(e){return e.reduce((t,n)=>(t[n.name]=n,t),{})}function dh(e,t){return e[t]}function zhn(e){return e.reduce((t,n)=>(n.type==="field"&&t.push(n.fieldType),t),[])}const Vhn=[{fieldPath:"_updatedAt",icon:xg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Updated at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:xg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:kf,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:$y,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:$y,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:$y,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:Z5,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:xg,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:xg,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:ig,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:Ef,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:Tl,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:_0e,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:o0e,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:kf,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:ig,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:ig,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Nl,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:ig,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:ig,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function Hhn(e){let{documentId:t,schemaType:n}=e;const r=Li(),{draft:o,published:i,isLoading:s}=go(()=>fA(r,n,t,""),[t,r,n]),a=h.useMemo(()=>({_id:t,_type:n.name}),[t,n.name]),c=yB({draft:o,published:i,value:a});return s?l.jsx(_0,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):l.jsx(l.Fragment,{children:c.title||t.slice(0,8)})}const l5="yyyy-MM-dd";function Uhn(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t?"True":"False"})}function vce(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Hu(n)?null:l.jsx(l.Fragment,{children:Jo(n,l5)})}function yce(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Hu(n)?null:l.jsx(l.Fragment,{children:Jo(n,l5)})}function Whn(e){let{value:t}=e;var n;return l.jsxs(l.Fragment,{children:[Math.floor((n=t==null?void 0:t.unitValue)!=null?n:0)," ",t.unit]})}function bce(e){let{value:t}=e;const n=t!=null&&t.dateMin?new Date(t.dateMin):null,r=t!=null&&t.dateMax?new Date(t.dateMax):null;return!r||!n||!Hu(r)||!Hu(n)?null:l.jsxs(l.Fragment,{children:[Jo(n,l5)," → ",Jo(r,l5)]})}function tg(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}function ng(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t," ",Vr("item",t)]})}function Yhn(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min," → ",t.max]})}function qhn(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min," → ",t.max," items"]})}function ml(e){let{value:t}=e;const n=En(),r=t._ref,o=n.get(t._type);return o?l.jsx(Hhn,{documentId:r,schemaType:o}):null}function Si(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}const KPe=h.createContext(void 0);function Rt(){const e=h.useContext(KPe);if(e===void 0)throw new Error("useSearchState must be used within an SearchProvider");return e}function Aa(e){let{value:t,onChange:n}=e;const[r,o]=h.useState(t??""),{state:{fullscreen:i}}=Rt(),s=h.useCallback(a=>{o(a.currentTarget.value);const c=parseFloat(a.currentTarget.value);n(Number.isFinite(c)?c:null)},[n]);return l.jsx(Mr,{fontSize:i?2:1,onChange:s,placeholder:"Value",radius:2,step:"any",type:"number",value:r})}function ZPe(e){let{onChange:t,value:n}=e;var r,o;const[i,s]=h.useState((r=n==null?void 0:n.max)!=null?r:""),[a,c]=h.useState((o=n==null?void 0:n.min)!=null?o:""),{state:{fullscreen:u}}=Rt(),d=h.useCallback(p=>{var m;s(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:Number.isFinite(v)?v:null,min:(m=n==null?void 0:n.min)!=null?m:null})},[n==null?void 0:n.min,t]),f=h.useCallback(p=>{var m;c(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:(m=n==null?void 0:n.max)!=null?m:null,min:Number.isFinite(v)?v:null})},[n==null?void 0:n.max,t]);return l.jsxs(U,{gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(Mr,{fontSize:u?2:1,onChange:f,placeholder:"Min value",radius:2,step:"any",type:"number",value:a})}),l.jsx(M,{flex:1,children:l.jsx(Mr,{fontSize:u?2:1,onChange:d,placeholder:"Max value",radius:2,step:"any",type:"number",value:i})})]})}function FA(e,t){const n=t.split("."),r=n[0];if(r&&Ya(e)){const o=e.fields.find(i=>i.name===r);if(o){const i=n.slice(1).join(".");return i?FA(o.type,i):o}}}var xce=Object.freeze,Ghn=Object.defineProperty,XPe=(e,t)=>xce(Ghn(e,"raw",{value:xce(t||e.slice())})),wce,Cce;const Khn=O(M)(wce||(wce=XPe([`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`]))),Zhn=O(Vt)(Cce||(Cce=XPe([`
  max-width: 150px;
`])));function Xhn(e){let{documentId:t,presence:n,schemaType:r}=e;const o=Li(),{draft:i,published:s,isLoading:a}=go(()=>fA(o,r,t,""),[t,o,r]),c=h.useMemo(()=>({_id:t,_type:r.name}),[t,r.name]),u=h.useMemo(()=>a?null:l.jsxs(Gt,{space:3,children:[n&&n.length>0&&l.jsx(VB,{presence:n}),l.jsx(Zhn,{size:0,muted:!0,textOverflow:"ellipsis",children:r.title})]}),[a,n,r.title]);return l.jsx(Khn,{children:l.jsx(ch,{...yB({draft:i,published:s,value:c}),isPlaceholder:a??!0,layout:"default",icon:r.icon,status:u})})}function vN(e){let{compact:t,disableIntentLink:n,documentId:r,documentType:o,onClick:i,...s}=e;const c=En().get(o),u=uC(r),d=h.useMemo(()=>({id:r,type:c==null?void 0:c.name}),[r,c==null?void 0:c.name]),{onClick:f,href:p}=ww({intent:"edit",params:d}),m=h.useCallback(v=>{n||f(v),i==null||i()},[n,i,f]);return c?l.jsx(M,{...s,children:l.jsx(wp,{as:"a","data-as":"a",flex:1,href:n?void 0:p,onClick:m,padding:t?1:2,radius:2,tabIndex:-1,children:l.jsx(Xhn,{documentId:r,presence:u,schemaType:c})})}):null}const Qhn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Jhn="_debug_search_score",QPe=!1,_ce=1e3,JPe="k",epn=Qhn?"Cmd":"Ctrl",Px=Of.space[1],tpn=735,eOe=800,sC=5,e1=2;function LA(e){let{allowEmptyQueries:t,terms:n}=e;const r=t?!0:n.query.length>0,o=!!n.filter,i=n.types.length>0;return r||o||i}function npn(e,t){return BA(e).filter(n=>rpn(n,t)).sort(w4)}function BA(e){return QKt(e).filter(t=>t.__experimental_omnisearch_visibility!==!1)}function w4(e,t){var n,r;return((n=e.title)!=null?n:e.name).localeCompare((r=t.title)!=null?r:t.name)}function rpn(e,t){var n;return!t||((n=e.title)!=null?n:e.name).toLowerCase().includes(t==null?void 0:t.toLowerCase())}const opn=300,MO={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function ipn(e){return e!==null}function spn(e){var t;return{...e,terms:{...e.terms,filter:(t=e.terms.filter)==null?void 0:t.trim(),query:e.terms.query.trim()}}}function tOe(e){let{allowEmptyQueries:t,initialState:n,onComplete:r,onError:o,onStart:i,schema:s}=e;const[a,c]=h.useState(n),u=pr(an),d=h.useMemo(()=>wB(BA(s),u,{tag:"search.global",unique:!0}),[u,s]),f=Vj(m=>m.pipe(mt(ipn),ue(spn),Qn(Ht),U6(v=>No((v==null?void 0:v.debounceTime)||opn)),bn(i),it(v=>Hr(be({...MO,loading:!0,options:v.options,terms:v.terms}),Gtt(()=>LA({allowEmptyQueries:t,terms:v.terms}),d(v.terms,v.options).pipe(ue(g=>({hits:g})),bn(g=>{let{hits:y}=g;return r==null?void 0:r(y)}),Pn(g=>(o==null||o(g),be({...MO,error:g,loading:!1,options:v.options,terms:v.terms})))),be(Zn).pipe(bn(()=>r==null?void 0:r([])))),be({loading:!1}))),na((v,g)=>({...v,...g}),MO),bn(c)),[t,d]);return{handleSearch:h.useCallback(m=>f(m),[f]),searchState:a}}const apn=40;function yN(e){let{availableCharacters:t=apn,types:n}=e;const r=n.reduce(function(){let i=t;return function(s,a,c){const u=Sce(a);return i-=u.length,(c===0||t>u.length&&i>u.length)&&s.push(a),s}}(),[]),o=n.length-r.length;return n.length?["".concat(r.map(Sce).join(", ")),...o?["+".concat(o," more")]:[]].join(" "):"All types"}function Sce(e){var t;return(t=e.title)!=null?t:e.name}var Ece=Object.freeze,lpn=Object.defineProperty,cpn=(e,t)=>Ece(lpn(e,"raw",{value:Ece(t||e.slice())})),kce;const upn=()=>!0,dpn=O(L)(kce||(kce=cpn([`
  word-break: break-word;
`]))),fpn=h.forwardRef(function(t,n){let{onSelect:r,types:o=[],value:i}=t;const s=h.useRef(null),a=En(),{state:{fullscreen:c}}=Rt(),u=h.useId(),[d,f]=h.useState([]),{handleSearch:p,searchState:m}=tOe({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:o}},onComplete:C=>{f(C.map(_=>({hit:_,value:_.hit._id})))},schema:a}),v=h.useCallback(()=>{p({debounceTime:0,options:{limit:100},terms:{query:"",types:o}})},[p,o]),g=h.useCallback(C=>{p(C?{options:{limit:100},terms:{query:C||"",types:o}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:o}})},[p,o]),y=h.useCallback(C=>{var _;const S=(_=d.find(E=>E.value===C))==null?void 0:_.hit.hit;S&&(r==null||r({_ref:On(S._id),_type:S._type}))},[d,r]),x=h.useMemo(()=>{const C=yN({types:o});return o.length>0?"Search for ".concat(C):"Search all documents"},[o]),b=h.useCallback(C=>{const _=C.hit.hit._type;return l.jsx(vN,{compact:!0,disableIntentLink:!0,documentId:C.value,documentType:_})},[]),w=h.useCallback((C,_)=>{const{content:S,hidden:E,onMouseEnter:j,onMouseLeave:k}=C,T=d&&d.length>0;return l.jsx(en,{arrow:!1,constrainSize:!0,content:l.jsx("div",{ref:_,children:T?S:m.terms.query&&l.jsx(M,{padding:4,children:l.jsx(U,{align:"center",height:"fill",justify:"center",children:l.jsxs(dpn,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",m.terms.query,"”"]})]})})})}),matchReferenceWidth:!0,onMouseEnter:j,onMouseLeave:k,open:!m.loading&&!E,overflow:"auto",placement:"bottom-start",radius:e1,referenceElement:s.current})},[d,m.loading,m.terms.query]);return l.jsx("div",{ref:s,children:l.jsx(T6,{"aria-label":x,filterOption:upn,fontSize:c?2:1,id:u,loading:m.loading,openButton:{onClick:v},options:d,onQueryChange:g,onSelect:y,placeholder:x,radius:2,ref:n,renderOption:b,renderPopover:w,value:i==null?void 0:i._ref})})});function vb(e){let{fieldDefinition:t,onChange:n,value:r}=e;const{onClose:o,state:{documentTypesNarrowed:i,fullscreen:s}}=Rt(),a=En(),c=h.useCallback(p=>n(p),[n]),u=h.useMemo(()=>t?t.documentTypes.filter(p=>i.includes(p)).flatMap(p=>{const m=a.get(p);if(m){const v=FA(m,t.fieldPath);if(Ll(v==null?void 0:v.type))return v==null?void 0:v.type.of.filter(Tu).flatMap(g=>g.to);if(Tu(v==null?void 0:v.type))return v==null?void 0:v.type.to}return[]}).reduce((p,m)=>(p.findIndex(v=>v.name===(m==null?void 0:m.name))<0&&p.push(m),p),[]):[],[i,t,a]),d=h.useCallback(()=>c(null),[c]),f=h.useCallback(()=>{o==null||o()},[o]);return l.jsx(M,{style:{width:"min(calc(100vw - 40px), 420px)"},children:r!=null&&r._ref&&(r!=null&&r._type)?l.jsxs(oe,{space:3,children:[l.jsx(ee,{padding:1,radius:1,shadow:1,children:l.jsx(vN,{compact:!0,documentId:r._ref,documentType:r._type,onClick:f})}),l.jsx(se,{fontSize:s?2:1,mode:"ghost",onClick:d,text:"Clear",tone:"critical"})]}):l.jsx(fpn,{onSelect:c,types:u,value:r})})}function hpn(e){let{onClick:t,selected:n,title:r,value:o}=e;const i=h.useCallback(()=>t(o),[t,o]);return l.jsx(Ve,{onClick:i,padding:3,pressed:n,tone:"default",children:l.jsx(U,{align:"center",justify:"space-between",gap:3,children:l.jsxs(oe,{paddingRight:2,space:2,children:[l.jsx(L,{size:1,weight:"regular",children:r}),o&&l.jsx(ar,{muted:!0,size:0,children:o})]})})})}function c5(e){let{fieldDefinition:t,onChange:n,value:r}=e;const o=h.useId(),{state:{documentTypesNarrowed:i}}=Rt(),s=En(),a=h.useMemo(()=>t?t.documentTypes.filter(f=>i.includes(f)).map(f=>{const p=s.get(f);if(p){const m=FA(p,t.fieldPath);return m==null?void 0:m.type.options}return null}).filter(mo).map(f=>f.list).flatMap(f=>f==null?void 0:f.map(p=>ppn(p))).filter(mo).reduce((f,p)=>{const m=f.findIndex(v=>v.value===(p==null?void 0:p.value));if(m>-1){const v=f[m];f[m]={...f[m],title:ho([...v.title,p.title]).sort()}}else f.push({...p,title:[p.title]});return f},[]):[],[i,t,s]),c=h.useCallback(u=>{n(u)},[n]);return l.jsx(tn,{button:l.jsx(se,{mode:"ghost",padding:3,children:l.jsxs(U,{align:"center",gap:2,justify:"space-between",children:[l.jsx(L,{size:1,weight:"regular",children:r||"Select..."}),l.jsx(M,{marginLeft:1,children:l.jsx(L,{size:1,children:l.jsx(Nl,{})})})]})}),id:o||"",menu:l.jsx(Bt,{children:a.map((u,d)=>l.jsx(hpn,{onClick:c,selected:u.value===r,title:u.title.join(", "),value:u.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function ppn(e){return cF(e)?e:{title:Em("".concat(e)),value:e}}const nOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),rOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),oOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),iOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function Je(e){return JSON.stringify(e)}const mpn={arrayCountEqual:{buttonLabel:"has",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") == ").concat(Je(n)):null},initialValue:null,inputComponent:Aa,label:"quantity is",type:"arrayCountEqual"},arrayCountGt:{buttonLabel:"has >",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") > ").concat(Je(n)):null},icon:rOe,initialValue:null,inputComponent:Aa,label:"quantity greater than",type:"arrayCountGt"},arrayCountGte:{buttonLabel:"has ≥",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") >= ").concat(Je(n)):null},icon:nOe,initialValue:null,inputComponent:Aa,label:"quantity greater than or equal to",type:"arrayCountGte"},arrayCountLt:{buttonLabel:"has <",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") < ").concat(Je(n)):null},icon:iOe,initialValue:null,inputComponent:Aa,label:"quantity less than",type:"arrayCountLt"},arrayCountLte:{buttonLabel:"has ≤",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") <= ").concat(Je(n)):null},icon:oOe,initialValue:null,inputComponent:Aa,label:"quantity less than or equal to",type:"arrayCountLte"},arrayCountNotEqual:{buttonLabel:"does not have",buttonValueComponent:ng,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") != ").concat(Je(n)):null},initialValue:null,inputComponent:Aa,label:"quantity is not",type:"arrayCountNotEqual"},arrayCountRange:{buttonLabel:"has between",buttonValueComponent:qhn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"count(".concat(t,") > ").concat(Je(n==null?void 0:n.min)," && count(").concat(t,") < ").concat(Je(n==null?void 0:n.max)):""},initialValue:null,inputComponent:ZPe,label:"quantity is between",type:"arrayCountRange"},arrayListIncludes:{buttonLabel:"includes",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(Je(n)," in ").concat(t):null},initialValue:null,inputComponent:c5,label:"includes",type:"arrayListIncludes"},arrayListNotIncludes:{buttonLabel:"does not include",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(Je(n)," in ").concat(t,")"):null},initialValue:null,inputComponent:c5,label:"does not include",type:"arrayListNotIncludes"},arrayReferenceIncludes:{buttonLabel:"includes",buttonValueComponent:ml,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(Je(n._ref)," in ").concat(t,"[]._ref"):null},initialValue:null,inputComponent:vb,label:"includes",type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{buttonLabel:"does not include",buttonValueComponent:ml,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"!(".concat(Je(n._ref)," in ").concat(t,"[]._ref)"):null},initialValue:null,inputComponent:vb,label:"does not include",type:"arrayReferenceNotIncludes"}},sOe=h.createContext(null);function gpn(e){let{children:t,workspace:n}=e;return l.jsx(sOe.Provider,{value:n,children:t})}function Wl(){const e=h.useContext(sOe);if(!e)throw new Error("Workspace: missing context value");return e}const TS=h.createContext(null);function bN(e){let{children:t,...n}=e;const r=h.useContext(TS),{unstable_sources:o}=Wl();if("source"in n){const{source:i}=n;return l.jsx(TS.Provider,{value:i,children:t})}if("name"in n){const{name:i}=n,s=o.find(a=>a.name===i);if(!s)throw new Error("Could not find source with name `".concat(i,"` in current workspace"));return r===s?l.jsx(l.Fragment,{children:t}):l.jsx(TS.Provider,{value:s,children:t})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function Mn(){const e=h.useContext(TS);if(!e)throw new Error("Could not find `source` context");return e}function vpn(e){return l.jsx(M,{...e,children:l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(lr,{tone:"caution",children:l.jsx(Fr,{})}),l.jsxs(oe,{space:4,children:[l.jsx(lr,{size:1,tone:"caution",weight:"semibold",children:"No valid asset sources found."}),l.jsx(lr,{size:1,tone:"caution",children:"Currently, only the default asset source is supported."}),l.jsx(lr,{size:1,tone:"caution",children:"Please ensure it's enabled in your studio configuration file."})]})]})})}function ypn(e){let{reference:t}=e;const n=Li(),r=h.useCallback(o=>fIe(n,o),[n]);return l.jsx(r0,{observeAsset:r,reference:t,waitPlaceholder:l.jsx(xpn,{}),children:o=>l.jsx(bpn,{asset:o})})}function bpn(e){let{asset:t}=e;return l.jsx(ee,{padding:2,shadow:1,children:l.jsxs(U,{align:"center",justify:"space-between",wrap:"nowrap",children:[l.jsx(ee,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(L,{children:l.jsx(d0,{})})}),l.jsxs(oe,{flex:1,space:2,marginLeft:3,children:[l.jsx(L,{size:2,textOverflow:"ellipsis",muted:!0,children:(t==null?void 0:t.originalFilename)||t._id}),l.jsx(L,{size:1,muted:!0,children:aPe(t.size)})]})]})})}function xpn(){return l.jsx(ee,{padding:2,shadow:1,children:l.jsxs(U,{align:"center",justify:"flex-start",children:[l.jsx(ee,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(L,{children:l.jsx(d0,{})})}),l.jsxs(oe,{flex:1,space:2,marginLeft:3,children:[l.jsx(EE,{animated:!0,style:{width:"100%"},radius:1}),l.jsx(EE,{animated:!0,style:{width:"100%"},radius:1})]})]})})}var jce=Object.freeze,wpn=Object.defineProperty,xN=(e,t)=>jce(wpn(e,"raw",{value:jce(t||e.slice())})),Tce,Ace,Dce;const Cpn=O(ee)(Tce||(Tce=xN([`
  position: relative;
  padding-bottom: 100%;
`]))),_pn=O.img(Ace||(Ace=xN([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),Spn=O(U)(Dce||(Dce=xN([`
  height: 100%;
  position: absolute;
  width: 100%;
`])));function Epn(e){let{reference:t}=e;const n=Li(),r=h.useCallback(o=>dIe(n,o),[n]);return l.jsx(r0,{observeAsset:r,reference:t,children:o=>l.jsx(kpn,{asset:o})})}function kpn(e){let{asset:t}=e;const[n,r]=h.useState(!1),o="".concat(t.url,"?h=800&fit=max"),i=h.useCallback(()=>r(!0),[]);return l.jsxs(Cpn,{__unstable_checkered:!0,border:!0,children:[!n&&l.jsx(Spn,{align:"center",justify:"center",children:l.jsx(fr,{})}),l.jsx(_pn,{onLoad:i,src:o})]})}function jpn(e){let{reference:t}=e;return t?t._type.startsWith("sanity.fileAsset")?l.jsx(ypn,{reference:t}):t._type.startsWith("sanity.imageAsset")?l.jsx(Epn,{reference:t}):null:null}var Ice=Object.freeze,Tpn=Object.defineProperty,Apn=(e,t)=>Ice(Tpn(e,"raw",{value:Ice(t||e.slice())})),Pce;const Dpn={file:"sanity.fileAsset",image:"sanity.imageAsset"},Ipn=O(M)(Pce||(Pce=Apn([`
  width: min(calc(100vw - 40px), 320px);
`])));function Wg(e){return function(n){let{onChange:r,value:o}=n;const[i,s]=h.useState(null),[a,c]=h.useState(null),{state:{fullscreen:u}}=Rt(),{file:d,image:f}=Mn().form,p=h.useMemo(()=>{switch(e){case"file":return d.assetSources.filter(E=>E.name===qPe.name);case"image":return f.assetSources.filter(E=>E.name===GPe.name);default:throw Error("Unknown asset source found")}},[d.assetSources,f.assetSources]),m=h.useId(),v=pr(an),g=h.useCallback(()=>{c(null),r(null)},[r]),y=h.useCallback(()=>{s(null)},[]),x=h.useCallback(E=>{const j=E[0];c(j),y()},[y]),b=h.useCallback(E=>s(E),[]);h.useEffect(()=>{(a==null?void 0:a.kind)==="assetDocumentId"&&typeof(a==null?void 0:a.value)=="string"&&e&&r({_ref:a.value,_type:Dpn[e]})},[v,r,a]);const w=i==null?void 0:i.component,C=u?2:1,_=o?"Change ".concat(e):"Select ".concat(e),S=Un(e,"options.accept",e==="image"?"image/*":"");return l.jsx(Ipn,{children:l.jsxs(oe,{space:3,children:[i&&w&&l.jsx(vm,{children:l.jsx(w,{assetType:e,dialogHeaderTitle:"Select ".concat(e),onClose:y,onSelect:x,selectedAssets:[],selectionType:"single",accept:S})}),o&&l.jsx(jpn,{reference:o}),l.jsxs(U,{gap:2,children:[p.length===0&&l.jsx(vpn,{padding:2}),p.length>0&&l.jsx(l.Fragment,{children:p.length>1?l.jsx(tn,{button:l.jsx(se,{fontSize:C,icon:o?BS:ei,iconRight:Za,mode:"ghost",style:{flex:o?1:0},text:_}),id:m,menu:l.jsx(Bt,{children:p.map(E=>l.jsx(Ve,{fontSize:C,icon:E.icon||Tl,onClick:()=>b(E),text:E.title},E.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):l.jsx(se,{fontSize:C,icon:o?BS:ei,mode:"ghost",onClick:()=>b(p[0]),style:{flex:o?1:0},text:_})}),o&&l.jsx(se,{fontSize:u?2:1,mode:"ghost",onClick:g,style:{flex:1},text:"Clear",tone:"critical"})]})]})})}}const Ppn={assetFileEqual:{buttonLabel:"is",buttonValueComponent:ml,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Je(n._ref)):null},initialValue:null,inputComponent:Wg("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{buttonLabel:"is not",buttonValueComponent:ml,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Je(n._ref)):null},initialValue:null,inputComponent:Wg("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{buttonLabel:"is",buttonValueComponent:ml,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Je(n._ref)):null},initialValue:null,inputComponent:Wg("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{buttonLabel:"is not",buttonValueComponent:ml,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Je(n._ref)):null},initialValue:null,inputComponent:Wg("image"),label:"is not",type:"assetImageNotEqual"}};function Opn(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Rt(),o=h.useCallback(i=>{t(i.currentTarget.value==="true")},[t]);return l.jsxs(Rf,{fontSize:r?2:1,onChange:o,radius:2,value:String(n??!0),children:[l.jsx("option",{value:"true",children:"True"}),l.jsx("option",{value:"false",children:"False"})]})}const Rpn={booleanEqual:{buttonLabel:"is",buttonValueComponent:Uhn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return typeof n<"u"&&t?"".concat(t," == ").concat(Je(n)):null},initialValue:!0,inputComponent:Opn,label:"is",type:"booleanEqual"}},$pn={defined:{buttonLabel:"not empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"defined(".concat(t,")"):null},label:"not empty",type:"defined"},notDefined:{buttonLabel:"empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"!defined(".concat(t,")"):null},label:"empty",type:"notDefined"}};var Oce=Object.freeze,Mpn=Object.defineProperty,Fpn=(e,t)=>Oce(Mpn(e,"raw",{value:Oce(t||e.slice())})),Rce;const $ce="Include time",Lpn=O(L)(Rce||(Rce=Fpn([`
  cursor: default;
`])));function wN(e){let{onChange:t,value:n}=e;return l.jsxs(U,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[l.jsx(oe,{children:l.jsx(Lpn,{muted:!0,onClick:t,size:1,weight:"medium",children:$ce})}),l.jsx(Twe,{checked:n,label:$ce,onChange:t})]})}const aOe=h.createContext(void 0);function CN(){const e=h.useContext(aOe);if(e===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}const Bpn=["January","February","March","April","May","June","July","August","September","October","November","December"],Npn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];m7(0,24);const zpn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Vpn=[1,2,3,4,5,6];function Hpn(e){const{focusedDate:t}=CN(),{fontSize:n,moveFocusedDate:r,onNowClick:o}=e,i=h.useCallback(()=>r(-1),[r]),s=h.useCallback(()=>r(1),[r]);return l.jsxs(U,{align:"center",flex:1,justify:"space-between",children:[l.jsxs(Gt,{paddingLeft:2,space:1,children:[l.jsx(L,{weight:"medium",children:Bpn[t.getMonth()]}),l.jsx(L,{weight:"medium",children:t.getFullYear()})]}),l.jsxs(M,{children:[l.jsx(se,{fontSize:n,text:"Today",mode:"bleed",onClick:o}),l.jsx(se,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:X5}),l.jsx(se,{"aria-label":"Go to next month",mode:"bleed",icon:Rc,onClick:s})]})]})}var Mce=Object.freeze,Upn=Object.defineProperty,lOe=(e,t)=>Mce(Upn(e,"raw",{value:Mce(t||e.slice())})),Fce,Lce;const Wpn=O.svg(e=>{let{theme:t}=e;return he(Fce||(Fce=lOe([`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: `,`;
      stroke-width: 3;
      fill: none;
    }
  `])),t.sanity.color.card.enabled.border)}),Ypn=O(ee)(Lce||(Lce=lOe([`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`])));function qpn(e){let{date:t,onSelect:n}=e;const r=h.useCallback(()=>{n(t)},[t,n]),{date:o,endDate:i,focusedDate:s,fontSize:a,selectRange:c}=CN(),u=o&&Ld(t,o),d=c&&o&&Ld(t,o),f=c&&i&&Ld(t,i),p=jEe(t,s),m=s&&Ld(t,s),v=Ld(t,new Date),g=o&&i&&!d&&!f&&O$(t,o)&&CEe(t,i);return l.jsxs(Ypn,{__unstable_focusRing:!0,"aria-label":t.toDateString(),"aria-pressed":u,"data-end-date":f?!0:void 0,"data-focused":m?"true":"","data-ui":"CalendarDay","aria-selected":u,"data-start-date":d?!0:void 0,"data-within-range":g?!0:void 0,forwardedAs:"button",onClick:r,padding:3,radius:2,role:"button",selected:u||d||f,tabIndex:-1,tone:g?"primary":"default",children:[v&&l.jsx(Wpn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:l.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),l.jsx(L,{align:"center",muted:!u&&!p,size:a,weight:v?"medium":"regular",children:t.getDate()})]})}const Gpn=e=>{const t=bEe(e);return yEe({start:t,end:wEe(t)})},Kpn=e=>e.map(t=>[t,...Vpn.map(n=>Wi(t,n))]),Zpn=e=>Kpn(Gpn(e)).map(t=>({number:xEe(t[0]),days:t}));var Bce=Object.freeze,Xpn=Object.defineProperty,Qpn=(e,t)=>Bce(Xpn(e,"raw",{value:Bce(t||e.slice())})),Nce;const Jpn=O(Jt)(Nce||(Nce=Qpn([`
  grid-template-columns: repeat(7, minmax(44px, auto));
`])));function emn(e){let{hidden:t,onSelect:n}=e;const{focusedDate:r,fontSize:o}=CN();return l.jsx(M,{"aria-hidden":t||!1,"data-ui":"CalendarMonth",children:l.jsxs(Jpn,{children:[Npn.map(i=>l.jsx(M,{paddingBottom:3,paddingTop:2,children:l.jsx(L,{align:"center",size:o,weight:"medium",children:i})},i)),Zpn(r).map((i,s)=>i.days.map((a,c)=>l.jsx(qpn,{date:a,onSelect:n},"".concat(s,"-").concat(c))))]})})}const tmn=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function nmn(e){const{date:t,endDate:n,fontSize:r,onSelect:o,selectRange:i,selectTime:s}=e,[a,c]=h.useState(null),[u,d]=h.useState(!1),[f,p]=h.useState(t||new Date),m=h.useRef(t||null),v=h.useRef(n||null),g=h.useCallback(()=>{var C;(C=a==null?void 0:a.querySelector('[data-focused="true"]'))==null||C.focus()},[a]),y=h.useCallback(C=>{const _=A5t(C,{hours:C.getHours(),minutes:C.getMinutes(),seconds:0,milliseconds:0}),S=t&&CEe(_,t),E=n&&O$(_,n);if(i){if(S||E){o({date:_,endDate:null});return}o(u?{date:t||null,endDate:_}:{date:_,endDate:t?null:n||null})}else o({date:_})},[t,n,o,u,i]),x=h.useCallback(()=>{const C=new Date;i?p(C):o({date:C})},[o,i,p]),b=h.useCallback(C=>{var _;if(zpn.includes(C.key)){if(C.preventDefault(),C.target.hasAttribute("data-calendar-grid")){g();return}C.key==="ArrowUp"&&p(Wi(f,-7)),C.key==="ArrowDown"&&p(Wi(f,7)),C.key==="ArrowLeft"&&p(Wi(f,-1)),C.key==="ArrowRight"&&p(Wi(f,1)),(_=a==null?void 0:a.querySelector("[data-preserve-focus]"))==null||_.focus()}},[a,g,f,p]),w=h.useCallback(C=>p(Z8(f,C)),[f,p]);return h.useEffect(()=>{g()},[g]),h.useEffect(()=>{var C;((C=document.activeElement)==null?void 0:C.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&g()},[g,f]),h.useEffect(()=>{var C,_;const S=(t==null?void 0:t.getTime())!==((C=m.current)==null?void 0:C.getTime()),E=(n==null?void 0:n.getTime())!==((_=v.current)==null?void 0:_.getTime()),j=S&&!E,k=!S&&E,T=t&&n&&O$(t,n);j&&(T&&(d(!0),o({date:t,endDate:null})),d(!!t),t&&p(t)),k&&(T&&(d(!0),o({date:n,endDate:null})),d(!!t&&!n),n&&p(n)),S&&E&&(d(!0),t&&p(t)),m.current=t||null,v.current=n||null},[t,n,o]),l.jsx(aOe.Provider,{value:{date:t,endDate:n,focusedDate:f,fontSize:r,selectRange:i,selectTime:s},children:l.jsxs(M,{"data-ui":"Calendar",ref:c,children:[l.jsx(U,{children:l.jsx(M,{flex:1,children:l.jsx(Hpn,{fontSize:r,moveFocusedDate:w,onNowClick:x})})}),l.jsxs(M,{"data-calendar-grid":!0,onKeyDown:b,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx(emn,{onSelect:y}),tmn]})]})})}function _N(e){let{date:t,endDate:n,onChange:r,selectRange:o,selectTime:i}=e;const{state:{fullscreen:s}}=Rt(),a=h.useCallback(c=>{r(c)},[r]);return l.jsx(nmn,{date:t,endDate:n,fontSize:s?2:1,onSelect:a,selectRange:o,selectTime:i})}var zce=Object.freeze,rmn=Object.defineProperty,omn=(e,t)=>zce(rmn(e,"raw",{value:zce(t||e.slice())})),Vce;const imn=O(M)(e=>{let{background:t,smallClearButton:n}=e;return he(Vce||(Vce=omn([`
    width: 100%;

    input + span {
      background: `,`;
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: `,`;
      &:hover {
        opacity: 0.5;
      }
    }
  `])),r=>{let{theme:o}=r;return t?o.sanity.color.card.disabled.bg2:"transparent"},n?"scale(0.8)":"scale(1)")}),SN=h.forwardRef(function(t,n){const{background:r,smallClearButton:o,...i}=t;return l.jsx(imn,{background:r,smallClearButton:o,children:l.jsx(Mr,{...i,ref:n})})});function xu(e){let{date:t,dateOnly:n,roundDay:r}=e,o;switch(r){case"end":o=sk(t);break;case"start":o=Ff(t);break;default:o=t;break}return n?o.toISOString().split("T")[0]:o.toISOString()}var Hce=Object.freeze,smn=Object.defineProperty,cOe=(e,t)=>Hce(smn(e,"raw",{value:Hce(t||e.slice())})),Uce,Wce;const J_={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}},amn=O.span(e=>{let{theme:t}=e;return he(Uce||(Uce=cOe([`
    font-weight: `,`;
  `])),t.sanity.fonts.text.weights.medium)}),lmn=O(L)(Wce||(Wce=cOe([`
  color: `,`;
`])),pe.red[500].hex);function u5(e){let{isDateTime:t,onChange:n,placeholderDate:r,isDateTimeFormat:o,value:i,...s}=e;const a=h.useMemo(()=>o?J_.datetime.pattern:J_.date.pattern,[o]),[c,u]=h.useState(void 0),[d,f]=h.useState(()=>{if(!i)return"";const b=new Date(i);return Jo(b,a)}),p=h.useMemo(()=>Jo(r||new Date,a),[a,r]),m=h.useCallback(b=>{let{dateString:w,triggerOnChange:C}=b;if(!w)return;const _=u5t(w,a,new Date),S=Hu(_);S&&(C&&n(xu({date:_,dateOnly:!t})),f(Jo(_,a))),u(S?void 0:"Invalid ".concat(t?"datetime":"date"))},[a,t,n]),v=h.useCallback(()=>{m({dateString:d,triggerOnChange:!0})},[d,m]),g=h.useCallback(b=>{f(b.currentTarget.value)},[]),y=h.useCallback(()=>{n(null),u(void 0),f("")},[n]),x=h.useCallback(b=>{b.key==="Enter"&&m({dateString:d,triggerOnChange:!0})},[d,m]);return h.useEffect(()=>{const b=i&&new Date(i);b&&m({dateString:Jo(b,a),triggerOnChange:!1})},[a,m,o,i]),l.jsx(at,{content:l.jsxs(U,{gap:2,children:[l.jsx(lmn,{size:1,children:l.jsx(aa,{})}),l.jsxs(L,{muted:!0,size:1,children:["Must be in the format"," ",l.jsx(amn,{children:o?J_.datetime.exampleDate:J_.date.exampleDate})]})]}),disabled:!c,padding:3,placement:"top",portal:!0,children:l.jsx("div",{children:l.jsx(SN,{...s,clearButton:!!d,customValidity:c,onBlur:v,onChange:g,onClear:y,onKeyDown:x,placeholder:p,value:d})})})}function uOe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Rt(),i=h.useCallback(c=>{let{date:u}=c;if(u){const d=xu({date:u,dateOnly:!t});n({includeTime:r==null?void 0:r.includeTime,date:d})}else n(null)},[t,n,r==null?void 0:r.includeTime]),s=h.useCallback(()=>{const c=!(r!=null&&r.includeTime),u=r!=null&&r.date?new Date(r.date):null;let d=null;u&&(d=xu({date:u,dateOnly:!t})),n({includeTime:c,date:d})},[t,n,r]),a=h.useCallback(c=>{n({includeTime:r==null?void 0:r.includeTime,date:c||null})},[n,r==null?void 0:r.includeTime]);return l.jsxs(oe,{space:3,children:[l.jsx(u5,{"aria-label":"Date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:a,radius:2,value:r==null?void 0:r.date}),l.jsx(_N,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:i,selectTime:t}),t&&l.jsx(wN,{onChange:s,value:!!(r!=null&&r.includeTime)})]})}function Yce(e){return l.jsx(uOe,{...e,isDateTime:!1})}function NA(e){let{direction:t,isDateTime:n,onChange:r,value:o}=e;const{state:{fullscreen:i}}=Rt(),s=h.useMemo(()=>{switch(t){case"after":return"end";case"before":return"start";default:return}},[t]),a=h.useCallback(d=>{let{date:f}=d,p=null;f&&(p=xu({date:f,dateOnly:!n,roundDay:o!=null&&o.includeTime?void 0:s})),r({includeTime:o==null?void 0:o.includeTime,date:p})},[n,r,s,o==null?void 0:o.includeTime]),c=h.useCallback(()=>{const d=!(o!=null&&o.includeTime),f=o!=null&&o.date?new Date(o.date):null;let p=null;f&&(p=xu({date:f,dateOnly:!n,roundDay:d?"start":s})),r({includeTime:d,date:p})},[n,r,s,o]),u=h.useCallback(d=>{r({includeTime:o==null?void 0:o.includeTime,date:d||null})},[r,o==null?void 0:o.includeTime]);return l.jsxs(oe,{space:3,children:[l.jsx(u5,{"aria-label":"Date",fontSize:i?2:1,isDateTime:n,isDateTimeFormat:n&&(o==null?void 0:o.includeTime),onChange:u,radius:2,value:o==null?void 0:o.date}),l.jsx(_N,{date:o!=null&&o.date?new Date(o.date):void 0,onChange:a,selectTime:n}),n&&l.jsx(wN,{onChange:c,value:!!(o!=null&&o.includeTime)})]})}function cmn(e){return l.jsx(NA,{...e,direction:"after",isDateTime:!1})}function umn(e){return l.jsx(NA,{...e,direction:"before",isDateTime:!1})}function qce(e){let{onChange:t,value:n}=e;const[r,o]=h.useState((n==null?void 0:n.unitValue)||""),i=h.useRef("days"),s=h.useRef((n==null?void 0:n.unitValue)||null),{state:{fullscreen:a}}=Rt(),c=h.useCallback(()=>{t({unit:i==null?void 0:i.current,unitValue:s==null?void 0:s.current})},[t]),u=h.useCallback(f=>{i.current=f.currentTarget.value,c()},[c]),d=h.useCallback(f=>{o(f.currentTarget.value);const p=parseFloat(f.currentTarget.value);s.current=Number.isFinite(p)?p:null,c()},[c]);return l.jsxs(U,{gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(Mr,{"aria-label":"Unit value",fontSize:a?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:r})}),l.jsx(M,{flex:1,children:l.jsxs(Rf,{"aria-label":"Select unit",fontSize:a?2:1,onChange:u,radius:2,value:n==null?void 0:n.unit,children:[l.jsx("option",{value:"days",children:"Days"}),l.jsx("option",{value:"months",children:"Months"}),l.jsx("option",{value:"years",children:"Years"})]})})]})}const dmn=-7;function dOe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Rt(),i=h.useMemo(()=>Wi(new Date,dmn),[]),s=h.useMemo(()=>new Date,[]),a=h.useCallback(f=>{let{date:p,endDate:m}=f;n(Gce({date:p,endDate:m,includeTime:r==null?void 0:r.includeTime,isDateTime:t}))},[t,n,r==null?void 0:r.includeTime]),c=h.useCallback(()=>{const f=!(r!=null&&r.includeTime);n(Gce({date:r!=null&&r.dateMin?new Date(r.dateMin):null,endDate:r!=null&&r.dateMax?new Date(r.dateMax):null,includeTime:f,isDateTime:t}))},[t,n,r]),u=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:f||null,dateMin:(r==null?void 0:r.dateMin)||null})},[n,r]),d=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:(r==null?void 0:r.dateMax)||null,dateMin:f||null})},[n,r]);return l.jsx("div",{children:l.jsxs(oe,{space:3,children:[l.jsxs(U,{direction:"column",gap:3,children:[l.jsx(u5,{"aria-label":"Start date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:d,placeholderDate:i,radius:2,value:r==null?void 0:r.dateMin}),l.jsx(u5,{"aria-label":"End date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:u,placeholderDate:s,radius:2,value:r==null?void 0:r.dateMax})]}),l.jsx(_N,{date:r!=null&&r.dateMin?new Date(r.dateMin):void 0,endDate:r!=null&&r.dateMax?new Date(r.dateMax):void 0,onChange:a,selectRange:!0,selectTime:t}),t&&l.jsx(wN,{onChange:c,value:!!(r!=null&&r.includeTime)})]})})}function Gce(e){let{date:t,endDate:n,includeTime:r,isDateTime:o}=e;return r?{includeTime:r,dateMax:n?xu({date:n,dateOnly:!o,roundDay:"start"}):null,dateMin:t?xu({date:t,dateOnly:!o,roundDay:"start"}):null}:{includeTime:r,dateMax:n?xu({date:n,dateOnly:!o,roundDay:"end"}):null,dateMin:t?xu({date:t,dateOnly:!o,roundDay:"start"}):null}}function fmn(e){return l.jsx(dOe,{...e,isDateTime:!1})}function Kce(e){return l.jsx(uOe,{...e,isDateTime:!0})}function hmn(e){return l.jsx(NA,{...e,direction:"after",isDateTime:!0})}function pmn(e){return l.jsx(NA,{...e,direction:"before",isDateTime:!0})}function mmn(e){return l.jsx(dOe,{...e,isDateTime:!0})}const ba={dateAfter:{buttonLabel:"after",buttonValueComponent:yce,initialValue:null,label:"is after"},dateBefore:{buttonLabel:"before",buttonValueComponent:yce,initialValue:null,label:"is before"},dateEqual:{buttonLabel:"is",buttonValueComponent:vce,initialValue:{date:null,includeTime:!1},label:"is"},dateLast:{buttonLabel:"last",buttonValueComponent:Whn,label:"is in the last"},dateNotEqual:{buttonLabel:"is not",buttonValueComponent:vce,initialValue:{date:null,includeTime:!1},label:"is not"},dateRange:{buttonLabel:"is between",initialValue:null,label:"is between"}},gmn={dateAfter:{...ba.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," > ").concat(Je(n==null?void 0:n.date)):null},inputComponent:cmn,type:"dateAfter"},dateBefore:{...ba.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," < ").concat(Je(n==null?void 0:n.date)):null},inputComponent:umn,type:"dateBefore"},dateEqual:{...ba.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," == ").concat(Je(n.date)):null},inputComponent:Yce,type:"dateEqual"},dateLast:{...ba.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?lZ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString().split("T")[0]:null;return o&&t?"".concat(t," > ").concat(Je(o)):null},inputComponent:qce,initialValue:{unit:"days",unitValue:7},type:"dateLast"},dateNotEqual:{...ba.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," != ").concat(Je(n.date)):null},inputComponent:Yce,type:"dateNotEqual"},dateRange:{...ba.dateRange,buttonValueComponent:bce,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"".concat(t," >= ").concat(Je(n.dateMin)," && ").concat(t," <= ").concat(Je(n.dateMax)):null},initialValue:{includeTime:!1,dateMax:aZ().toISOString(),dateMin:null},inputComponent:fmn,type:"dateRange"},dateTimeAfter:{...ba.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") > dateTime(").concat(Je(n.date),")"):null},inputComponent:hmn,type:"dateTimeAfter"},dateTimeBefore:{...ba.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") < dateTime(").concat(Je(n.date),")"):null},inputComponent:pmn,type:"dateTimeBefore"},dateTimeEqual:{...ba.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Hu(r)||!t)return null;const o=(n!=null&&n.includeTime?nZ(r):Ff(r)).toISOString(),i=(n!=null&&n.includeTime?rZ(r):sk(r)).toISOString();return"dateTime(".concat(t,") > dateTime(").concat(Je(o),") && dateTime(").concat(t,") < dateTime(").concat(Je(i),")")},inputComponent:Kce,type:"dateTimeEqual"},dateTimeLast:{...ba.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?lZ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString():null;return o&&t?"dateTime(".concat(t,") > dateTime(").concat(Je(o),")"):null},initialValue:{unit:"days",unitValue:7},inputComponent:qce,type:"dateTimeLast"},dateTimeNotEqual:{...ba.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Hu(r)||!t)return null;const o=(n!=null&&n.includeTime?nZ(r):Ff(r)).toISOString(),i=(n!=null&&n.includeTime?rZ(r):sk(r)).toISOString();return"dateTime(".concat(t,") < dateTime(").concat(Je(o),") || dateTime(").concat(t,") > dateTime(").concat(Je(i),")")},inputComponent:Kce,type:"dateTimeNotEqual"},dateTimeRange:{...ba.dateRange,buttonValueComponent:bce,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"dateTime(".concat(t,") >= dateTime(").concat(Je(n.dateMin),") && dateTime(").concat(t,") <= dateTime(").concat(Je(n.dateMax),")"):null},initialValue:{includeTime:!1,dateMax:aZ().toISOString(),dateMin:null},inputComponent:mmn,type:"dateTimeRange"}},vmn={numberEqual:{buttonLabel:"is",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," == ").concat(Je(n)):null},initialValue:null,inputComponent:Aa,label:"is",type:"numberEqual"},numberGt:{buttonLabel:">",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," > ").concat(Je(n)):null},icon:rOe,initialValue:null,inputComponent:Aa,label:"greater than",type:"numberGt"},numberGte:{buttonLabel:"≥",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," >= ").concat(Je(n)):null},icon:nOe,initialValue:null,inputComponent:Aa,label:"greater than or equal to",type:"numberGte"},numberLt:{buttonLabel:"<",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," < ").concat(Je(n)):null},icon:iOe,initialValue:null,inputComponent:Aa,label:"less than",type:"numberLt"},numberLte:{buttonLabel:"≤",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," <= ").concat(Je(n)):null},icon:oOe,initialValue:null,inputComponent:Aa,label:"less than or equal to",type:"numberLte"},numberNotEqual:{buttonLabel:"is not",buttonValueComponent:tg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," != ").concat(Je(n)):null},initialValue:null,inputComponent:Aa,label:"is not",type:"numberNotEqual"},numberRange:{buttonLabel:"is between",buttonValueComponent:Yhn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"".concat(t," > ").concat(Je(n==null?void 0:n.min)," && ").concat(t," < ").concat(Je(n==null?void 0:n.max)):""},initialValue:null,inputComponent:ZPe,label:"is between",type:"numberRange"}};function Ra(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Rt(),o=h.useCallback(i=>t(i.currentTarget.value||null),[t]);return l.jsx(Mr,{fontSize:r?2:1,onChange:o,placeholder:"Value",radius:2,value:n||""})}const ymn={portableTextEqual:{buttonLabel:"is",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") == ").concat(Je(n)):null},initialValue:null,inputComponent:Ra,label:"is",type:"portableTextEqual"},portableTextMatches:{buttonLabel:"contains",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") match ").concat(Je(n)):null},initialValue:null,inputComponent:Ra,label:"contains",type:"portableTextMatches"},portableTextNotEqual:{buttonLabel:"is not",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") != ").concat(Je(n)):null},initialValue:null,inputComponent:Ra,label:"is not",type:"portableTextNotEqual"},portableTextNotMatches:{buttonLabel:"does not contain",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(pt::text(".concat(t,") match ").concat(Je(n),")"):null},initialValue:null,inputComponent:Ra,label:"does not contain",type:"portableTextNotMatches"}},bmn={referenceEqual:{buttonLabel:"is",buttonValueComponent:ml,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref == ").concat(Je(n._ref)):null},initialValue:null,inputComponent:vb,label:"is",type:"referenceEqual"},referenceNotEqual:{buttonLabel:"is not",buttonValueComponent:ml,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref != ").concat(Je(n._ref)):null},initialValue:null,inputComponent:vb,label:"is not",type:"referenceNotEqual"},referencesAssetFile:{buttonLabel:"→",buttonValueComponent:ml,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Je(t._ref),")"):null},initialValue:null,inputComponent:Wg("file"),label:"file",type:"referencesAssetFile"},referencesAssetImage:{buttonLabel:"→",buttonValueComponent:ml,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Je(t._ref),")"):null},initialValue:null,inputComponent:Wg("image"),label:"image",type:"referencesAssetImage"},referencesDocument:{buttonLabel:"→",buttonValueComponent:ml,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Je(t._ref),")"):null},initialValue:null,inputComponent:vb,label:"document",type:"referencesDocument"}},xmn={slugEqual:{buttonLabel:"is",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current == ").concat(Je(n)):null},initialValue:null,inputComponent:Ra,label:"is",type:"slugEqual"},slugMatches:{buttonLabel:"contains",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current match ").concat(Je(n)):null},initialValue:null,inputComponent:Ra,label:"contains",type:"slugMatches"},slugNotEqual:{buttonLabel:"is not",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current != ").concat(Je(n)):null},initialValue:null,inputComponent:Ra,label:"is not",type:"slugNotEqual"},slugNotMatches:{buttonLabel:"does not contain",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t,".current match ").concat(Je(n),")"):null},initialValue:null,inputComponent:Ra,label:"does not contain",type:"slugNotMatches"}},wmn={stringEqual:{buttonLabel:"is",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Je(n)):null},initialValue:null,inputComponent:Ra,label:"is",type:"stringEqual"},stringListEqual:{buttonLabel:"is",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Je(n)):null},initialValue:null,inputComponent:c5,label:"is",type:"stringListEqual"},stringListNotEqual:{buttonLabel:"is not",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Je(n)):null},initialValue:null,inputComponent:c5,label:"is not",type:"stringListNotEqual"},stringMatches:{buttonLabel:"contains",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," match ").concat(Je(n)):null},initialValue:null,inputComponent:Ra,label:"contains",type:"stringMatches"},stringNotEqual:{buttonLabel:"is not",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Je(n)):null},initialValue:null,inputComponent:Ra,label:"is not",type:"stringNotEqual"},stringNotMatches:{buttonLabel:"does not contain",buttonValueComponent:Si,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t," match ").concat(Je(n),")"):null},initialValue:null,inputComponent:Ra,label:"does not contain",type:"stringNotMatches"}},Cmn={...mpn,...Ppn,...Rpn,...gmn,...$pn,...vmn,...ymn,...bmn,...xmn,...wmn},_mn=Object.values(Cmn);function Yl(e){const t=typeof e;if(t==="object"){if(e===null)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&e.constructor.name!=="Object")return e.constructor.name}return t}const zA=(e,t)=>{let{plugins:n=[],...r}=e;const o={config:r,path:[...t,r.name]};return[...n.flatMap(a=>zA(a,[...t,r.name])),o]},Smn=[],Emn=[],kmn=[],jmn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.types;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.types` to be an array or a function, but received ".concat(Yl(o)))},Tmn=async(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.productionUrl;return o?await o(e,n):e},Amn=(e,t,n)=>{let{tools:r}=t;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error("Expected `tools` to be an array or a function, but received ".concat(Yl(r)))},Dmn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.templates;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.templates` to be an array or a function, but received ".concat(Yl(o)))},Imn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.badges;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.badges` to be an array or a function, but received ".concat(Yl(o)))},Pmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.actions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.actions` to be an array or a function, but received ".concat(Yl(o)))},Omn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.newDocumentOptions;if(!o)return e;if(typeof o!="function")throw new Error("Expected `document.resolveNewDocumentOptions` to be a function, but received ".concat(Yl(o)));return o(e,n)},Rmn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.file)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.file.assetSources` to be an array or a function, but received ".concat(Yl(i)))},$mn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.image)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.image.assetSources` to be an array or a function, but received ".concat(Yl(i)))},Mmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_languageFilter;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_languageFilter` to be an array or a function, but received ".concat(Yl(o)))},Fmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.inspectors;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.inspectors` to be an array or a function, but received ".concat(Yl(o)))},Lmn=e=>{const{config:t,context:n,initialValue:r}=e;return zA(t,[]).reduce((s,a)=>{let{config:c}=a;var u,d;const f=(d=(u=c.document)==null?void 0:u.unstable_comments)==null?void 0:d.enabled;if(!f&&typeof f!="boolean")return s;if(typeof f=="function")return f(n);if(typeof f=="boolean")return f;throw new Error("Expected `document.unstable_comments.enabled` to be a boolean or a function, but received ".concat(Yl(f)))},r)};class Zce extends Error{constructor(t){let{propertyName:n,path:r,cause:o}=t;const i=wt(o)&&typeof(o==null?void 0:o.message)=="string"?": ".concat(o.message):"";super("An error occurred while resolving `".concat(n,"` from ").concat(r.join(" > ")).concat(i)),this.propertyName=n,this.cause=o,this.path=r}}function wa(e){let{config:t,context:n,initialValue:r,propertyName:o,...i}=e;const s=zA(t,[]);if("reducer"in i)return s.reduce((c,u)=>{let{config:d,path:f}=u;try{return i.reducer(c,d,n)}catch(p){throw new Zce({propertyName:o,path:f,cause:p})}},r);const a=i.asyncReducer;return(async()=>{let c=r;for(const{config:u,path:d}of s)try{c=await a(c,u,n)}catch(f){throw new Zce({propertyName:o,path:d,cause:f})}return c})()}class $a extends Error{constructor(t){let{causes:n,name:r,type:o}=t;const i=n.filter(Boolean).map(s=>wt(s)&&typeof(s==null?void 0:s.message)=="string"?s.message:String(s));super("Could not resolve ".concat(o).concat(r?" `".concat(r,"`"):"",`:
`).concat(i.map(s=>"	- ".concat(s)).join(`
`),`

`)),this.name=r,this.causes=n,this.type=o}}class EN extends Error{constructor(t){super("SchemaError"),this.schema=t}}var Xce=Object.freeze,Bmn=Object.defineProperty,Nmn=(e,t)=>Xce(Bmn(e,"raw",{value:Xce(t||e.slice())})),Qce;function Jce(e){const t=e.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(t*16807%2147483647)/2147483647}const zmn=O.text(Qce||(Qce=Nmn([`
  font-family: `,`;
  font-weight: `,`;
  font-size: 16px;
  transform: translateY(1px);
`])),e=>{let{theme:t}=e;return t.sanity.fonts.heading.family},e=>{let{theme:t}=e;return t.sanity.fonts.heading.weights.bold});function Vmn(e,t){const n=Jce("".concat(e," ").concat(t)),r=t0e.filter(m=>m!=="gray"),o=r[Math.floor(n*r.length)],i=["300","400","500","600","700"],s=Jce(n.toString()),a=i[Math.floor(s*i.length)],c=pe[o][a].hex,u=e.split(/\s/g).map(m=>m.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(m=>m.charAt(0).toUpperCase()),d=mTe(c,.4),f=_zt(c,.4),p=lJ(c,"readable",d)?lJ(c,"readable",f)?Ezt(c):f:d;return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[l.jsx("rect",{width:32,height:32,rx:2,fill:c}),l.jsx(zmn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:p,children:u})]})}const Hmn=e=>e.severity==="error";function Umn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return Xn.isValidElementType(e)?h.createElement(e):h.isValidElement(e)?e:Vmn(t,n)}const FO=new WeakMap;function Wmn(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new $a({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=Kmn(t==null?void 0:t.basePath),r=Array.isArray(e)?e:[e];try{ogn({workspaces:r})}catch(i){throw new $a({name:"",type:"workspace",causes:[i.message]})}return{type:"prepared-config",workspaces:r.map(i=>{if(FO.has(i))return FO.get(i);const{unstable_sources:s=[],...a}=i,u=[a,...s].map(p=>{const{projectId:m,dataset:v}=p;let g;try{g=wa({propertyName:"schema.types",config:p,context:{projectId:m,dataset:v},initialValue:[],reducer:jmn})}catch(_){throw new $a({name:p.name,type:"source",causes:[_]})}const y=LGt({name:p.name,types:g}),x=y._validation,b=x==null?void 0:x.filter(_=>_.problems.some(Hmn));if(x&&(b!=null&&b.length))throw new EN(y);const w=Ymn(p),C=w.state.pipe(ue(_=>{let{client:S,authenticated:E,currentUser:j}=_;return Gmn({config:p,client:S,currentUser:j,schema:y,authenticated:E,auth:w})}),jo(1));return{name:p.name,projectId:p.projectId,dataset:p.dataset,title:p.title||un(p.name),auth:w,schema:y,source:C}}),d=a.title||un(a.name),f={type:"workspace-summary",auth:u[0].auth,basePath:Zmn(n,a.basePath),dataset:a.dataset,schema:u[0].schema,icon:Umn(a.icon,d,"".concat(a.projectId," ").concat(a.dataset)),name:a.name||"default",projectId:a.projectId,theme:a.theme||Of,title:d,subtitle:a.subtitle,__internal:{sources:u}};return FO.set(i,f),f})}}function Ymn(e){if(Dqt(e.auth))return e.auth;const t=e.unstable_clientFactory||rSe,{projectId:n,dataset:r,apiHost:o}=e;return Aqt({apiHost:o,...e.auth,clientFactory:t,dataset:r,projectId:n})}function qmn(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:o,requestTagPrefix:i="sanity.studio"}=n.config(),s="".concat(o.replace(/\/+$/,""),"/socket/").concat(r).replace(/^http/,"ws"),a="".concat(s,"?tag=").concat(i),c=t.token?{token$:t.token}:{};return v1t(a,c)}function Gmn(e){let{config:t,client:n,currentUser:r,schema:o,authenticated:i,auth:s}=e;var a,c,u,d;const{dataset:f,projectId:p}=t,m=qmn(n,s),v=[],g={},y=T=>{if(!T||!T.apiVersion)throw new Error("Missing required `apiVersion` option");return g[T.apiVersion]||(g[T.apiVersion]=n.withConfig(T)),g[T.apiVersion]},x={client:n,getClient:y,currentUser:r,dataset:f,projectId:p,schema:o},b=n;x.client=[...Object.keys(n),...Object.keys(b.__proto__)].reduce((T,A)=>{const D=Object.hasOwnProperty.call(n,A)?b[A]:b.__proto__[A];return Object.defineProperty(T,A,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),D}})},{});let w;try{w=wa({config:t,context:x,propertyName:"schema.templates",reducer:Dmn,initialValue:o.getTypeNames().filter(T=>!/^sanity\./.test(T)).map(T=>o.get(T)).filter(mo).filter(T=>{var A;return((A=T.type)==null?void 0:A.name)==="document"}).map(T=>({id:T.name,schemaType:T.name,title:T.title||T.name,icon:T.icon,value:T.initialValue||{_type:T.name}}))})}catch(T){throw new $a({name:t.name,type:"source",causes:[T]})}let C;try{C=wa({config:t,context:x,initialValue:[],propertyName:"tools",reducer:Amn})}catch(T){throw new $a({name:t.name,type:"source",causes:[T]})}if(C.some(T=>{let{name:A}=T;return A==="tool"}))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const _=w.filter(T=>{var A;return!((A=T.parameters)!=null&&A.length)}).map(T=>({templateId:T.id,description:T.description,icon:T.icon,title:T.title})),S=w.reduce((T,A)=>(T.set(A.id,A),T),new Map),E=T=>{const{schemaType:A}=T,D=wa({config:t,context:{...x,creationContext:T},initialValue:_,propertyName:"document.resolveNewDocumentOptions",reducer:Omn}),I=[];if(I.length)throw new $a({name:t.name,type:"source",causes:I});return D.map((P,$)=>{const R=S.get(P.templateId);if(!R)throw new Error("Could not find template with ID `".concat(P.templateId,"`"));const V=o.get(R.schemaType);if(!V)throw new Error("Could not find matching schema type `".concat(R.schemaType,"` for template `").concat(R.id,"`"));const N=P.title||R.title,W=(V==null?void 0:V.title)===N||V==null?void 0:V.title;return{id:"".concat(P.templateId,"-").concat($),templateId:P.templateId,type:"initialValueTemplateItem",title:N,subtitle:P.subtitle||W,description:P.description||R.description,icon:P.icon||R.icon||(V==null?void 0:V.icon),initialDocumentId:P.initialDocumentId,parameters:P.parameters,schemaType:R.schemaType}}).filter(P=>{var $;return!A||T.type==="document"?!0:A===(($=S.get(P.templateId))==null?void 0:$.schemaType)})};let j;try{j=E({type:"global"})}catch(T){v.push(T)}if(v.length)throw new $a({name:t.name,type:"source",causes:v});return{type:"source",name:t.name,title:t.title||un(t.name),schema:o,getClient:y,dataset:f,projectId:p,tools:C,currentUser:r,authenticated:i,templates:w,auth:s,document:{actions:T=>wa({config:t,context:{...x,...T},initialValue:Emn,propertyName:"document.actions",reducer:Pmn}),badges:T=>wa({config:t,context:{...x,...T},initialValue:Smn,propertyName:"document.badges",reducer:Imn}),unstable_fieldActions:T=>wa({config:t,context:{...x,...T},initialValue:Nqt,propertyName:"document.unstable_fieldActions",reducer:Bqt}),inspectors:T=>wa({config:t,context:{...x,...T},initialValue:pn,propertyName:"document.inspectors",reducer:Fmn}),resolveProductionUrl:T=>wa({config:t,context:{...x,...T},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:Tmn}),resolveNewDocumentOptions:E,unstable_languageFilter:T=>wa({config:t,context:{...x,...T},initialValue:kmn,propertyName:"document.unstable_languageFilter",reducer:Mmn}),unstable_comments:{enabled:T=>Lmn({context:T,config:t,initialValue:!1})}},form:{file:{assetSources:wa({config:t,context:x,initialValue:[qPe],propertyName:"formBuilder.file.assetSources",reducer:Rmn}),directUploads:((c=(a=t.form)==null?void 0:a.file)==null?void 0:c.directUploads)===void 0?!0:t.form.file.directUploads},image:{assetSources:wa({config:t,context:x,initialValue:[GPe],propertyName:"formBuilder.image.assetSources",reducer:$mn}),directUploads:((d=(u=t.form)==null?void 0:u.image)==null?void 0:d.directUploads)===void 0?!0:t.form.image.directUploads}},search:{filters:Vhn,operators:_mn},__internal:{bifur:m,staticInitialValueTemplateItems:j,options:t}}}function Kmn(e){const t=e||"";if(typeof t!="string"||t.length>0&&!t.startsWith("/"))throw new $a({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return t==="/"?"":t}function Zmn(e,t){const n=[e,t||""].map(r=>r.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/");return"/".concat(n)}function Xmn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return h.useMemo(()=>({projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}),[t,n,r,o,i])}function Qmn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}}function Jmn(e){const{title:t}=e;return l.jsx(M,{padding:3,children:l.jsx(L,{weight:"bold",children:t})})}const VA=h.createContext(null),HA=h.createContext(null);function fOe(){return lKe()?"dark":"light"}function hOe(e){let{children:t,scheme:n}=e;const r=fOe(),o=n==="system"?r:n;return l.jsx(_E,{scheme:o,theme:Of,children:t})}const eue="sanityStudio:ui:colorScheme";function egn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return r?l.jsx(ngn,{scheme:r,onSchemeChange:n,children:t}):l.jsx(tgn,{onSchemeChange:n,children:t})}function tgn(e){let{children:t,onSchemeChange:n}=e;const r=h.useMemo(()=>{let i;const s=new Set;return{subscribe:a=>(i||(i=tue(localStorage.getItem(eue))||"system"),s.add(a),()=>{s.delete(a)}),getSnapshot:()=>i,setSnapshot:a=>{i=tue(a);for(const c of s)c()},getServerSnapshot:()=>"system"}},[]),o=h.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return h.useEffect(()=>{typeof n=="function"&&n(o),localStorage.setItem(eue,o)},[n,o]),l.jsx(HA.Provider,{value:r.setSnapshot,children:l.jsx(VA.Provider,{value:o,children:l.jsx(hOe,{scheme:o,children:t})})})}function tue(e){switch(e){case"dark":case"light":return e;default:return"system"}}function ngn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return l.jsx(HA.Provider,{value:typeof n=="function"?n:!1,children:l.jsx(VA.Provider,{value:r,children:l.jsx(hOe,{scheme:r,children:t})})})}function kN(){const e=h.useContext(HA);if(e===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function pOe(){const e=h.useContext(VA);if(e===null)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function mOe(){const e=pOe(),t=fOe();return e==="system"?t:e}function Wc(){const e=mOe(),t=kN();return h.useMemo(()=>({scheme:e,setScheme:t}),[e,t])}function gOe(e){const t=pOe();return h.useMemo(()=>[{title:"System",name:"system",label:"Use system appearance",selected:t==="system",onSelect:()=>e("system"),icon:h0e},{title:"Dark",name:"dark",label:"Use dark appearance",selected:t==="dark",onSelect:()=>e("dark"),icon:OF},{title:"Light",name:"light",label:"Use light appearance",selected:t==="light",onSelect:()=>e("light"),icon:FF}],[t,e])}const vOe=h.createContext(null);function rgn(e){let{config:t,children:n,basePath:r}=e;const{workspaces:o}=h.useMemo(()=>Wmn(t,{basePath:r}),[t,r]);return l.jsx(vOe.Provider,{value:o,children:n})}function Dy(e,t){let{name:n,title:r}=e;return typeof n=="string"&&n.trim().length>0?n:C4(r,t)}function C4(e,t){const n=typeof e=="string"&&e.trim().length>0?' (titled "'.concat(e,'")'):"";return"at index ".concat(t).concat(n)}function aC(){const e=h.useContext(vOe);if(!e)throw new Error("Could not find `workspaces` context");return e}class xc extends Error{constructor(t,n){super(t),this.index=n==null?void 0:n.index,this.identifier=(n==null?void 0:n.workspace)&&Dy(n.workspace,n.index)}}function ogn(e){let{workspaces:t}=e;if(t.length===0)throw new xc("At least one workspace is required.");ign(t),sgn(t)}function ign(e){const t=e.length===1,n=new Map;e.forEach((r,o)=>{const{name:i,title:s}=r,a=C4(s,o);if(!i&&!t)throw new xc("All workspaces must have a `name`, unless only a single workspace is defined. "+"Workspace ".concat(a," did not define a `name`."),{workspace:r,index:o});const c=t&&typeof i>"u"?"default":i;if(typeof c!="string")throw new xc("Workspace at index ".concat(o," defined an invalid `name` - must be a string."),{workspace:r,index:o});const u=c.toLowerCase(),d=n.get(u);if(d){const f=C4(d.workspace.title,d.index);throw new xc("`name`s must be unique. Workspace ".concat(f," and ")+"workspace ".concat(a," both have the `name` `").concat(c,"`"),{workspace:r,index:o})}if(n.set(u,{index:o,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(c))throw new xc("All workspace `name`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. "+"Workspace ".concat(a," has the invalid name `").concat(c,"`"),{workspace:r,index:o})})}function sgn(e){e.length>1&&e.every(agn),e.every(lgn);const[t,...n]=e,r=(t.basePath||"/").substring(1).split("/").filter(Boolean).length;n.forEach((i,s)=>{const a=(i.basePath||"/").substring(1).split("/").length;if(r!==a)throw new xc("All workspace `basePath`s must have the same amount of segments. Workspace `".concat(Dy(t,s),"` had ").concat(r," segment").concat(r===1?"":"s"," `").concat(t.basePath,"` but workspace `").concat(Dy(i,s),"` had ").concat(a," segment").concat(a===1?"":"s"," `").concat(i.basePath,"`"),{workspace:i,index:s})});const o=new Map;e.forEach((i,s)=>{const a=(i.basePath||"").toLowerCase(),c=o.get(a);if(c)throw new xc("`basePath`s must be unique. Workspaces `".concat(c,"` and ")+"`".concat(Dy(i,s),"` both have the `basePath` `").concat(a,"`"),{workspace:i,index:s});o.set(a,Dy(i,s))})}function agn(e,t){const{name:n,basePath:r}=e;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new xc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` is missing a `basePath`"),{workspace:e,index:t}):new xc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` has an invalid `basePath` (must be a non-empty string)"),{workspace:e,index:t})}function lgn(e,t){const{name:n,basePath:r}=e;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new xc("All workspace `basePath`s must start with a leading `/`, consist of only URL safe characters, and cannot end with a trailing `/`. "+"Workspace `".concat(n,"`'s basePath is `").concat(r,"`"),{workspace:e,index:t})}function cgn(){return l.jsx(ee,{height:"fill",children:l.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(Qr,{width:0,children:l.jsx(ee,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(U,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Fr,{})})}),l.jsxs(oe,{flex:1,marginLeft:3,space:3,children:[l.jsx(L,{as:"h1",size:1,weight:"bold",children:"No configured tools"}),l.jsx(L,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),l.jsx(L,{as:"p",muted:!0,size:1,children:l.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool →"})})]})]})})})})})}function ugn(e){const{reason:t="Redirecting…"}=e;return l.jsx(ee,{height:"fill",children:l.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(Qr,{width:0,children:l.jsx(ee,{padding:4,radius:2,shadow:1,tone:"primary",children:l.jsxs(U,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(TF,{})})}),l.jsx(oe,{flex:1,marginLeft:3,space:3,children:l.jsx(L,{as:"h1",size:1,weight:"bold",children:t})})]})})})})})}function dgn(e){const{toolName:t}=e;return l.jsx(ee,{height:"fill",children:l.jsx(U,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(Qr,{width:0,children:l.jsx(ee,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(U,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Fr,{})})}),l.jsx(oe,{flex:1,marginLeft:3,space:3,children:l.jsxs(L,{as:"h1",size:1,weight:"bold",children:["Tool not found: ",l.jsx("code",{children:t})]})})]})})})})})}function yb(){return l.jsxs(U,{as:ee,justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(L,{muted:!0,children:"Loading…"}),l.jsx(fr,{muted:!0})]})}var nue=Object.freeze,fgn=Object.defineProperty,yOe=(e,t)=>nue(fgn(e,"raw",{value:nue(t||e.slice())})),rue,oue;const hgn={error:"critical",warning:"caution"},iue=O.code(rue||(rue=yOe([`
  && {
    background: none;
    color: inherit;
  }
`]))),pgn=O(L)(oue||(oue=yOe([`
  white-space: pre-line;
`])));function bOe(e){const{problemGroups:t}=e,n=h.useMemo(()=>{const r=[];for(const o of t)for(const i of o.problems)r.push({group:o,problem:i});return r},[t]);return l.jsx(oe,{as:"ul",space:4,children:n.map((r,o)=>{let{group:i,problem:s}=r;const a=s.severity==="error",c=s.severity==="warning",u=mgn(i);return l.jsxs(ee,{border:!0,padding:4,radius:2,tone:hgn[s.severity],children:[l.jsxs(U,{children:[l.jsx(M,{marginRight:3,children:l.jsxs(L,{muted:!0,size:1,children:[a&&l.jsx(aa,{}),c&&l.jsx(Fr,{})]})}),l.jsx(M,{flex:1,children:l.jsx(L,{size:1,weight:"semibold",children:u?l.jsxs(l.Fragment,{children:[Em(u.type),' type "',u.name,'"']}):null})})]}),l.jsx(M,{marginTop:4,children:l.jsx(ee,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(A6,{separator:l.jsx(L,{muted:!0,size:1,children:"→"}),children:i.path.map((d,f)=>{if(d.kind==="type"){const p="".concat(ggn(d.name),":").concat(d.type);return l.jsx(L,{title:p,size:1,textOverflow:"ellipsis",children:l.jsx(iue,{children:p})},f)}return d.kind==="property"?l.jsx(L,{title:d.name,size:1,textOverflow:"ellipsis",children:l.jsx(iue,{children:d.name})},f):null})})})}),l.jsx(M,{as:"ul",marginTop:4,children:l.jsx(M,{as:"li",children:l.jsxs(oe,{space:3,children:[l.jsx(pgn,{muted:!0,size:1,children:s.message}),s.helpId&&l.jsx(L,{muted:!0,size:1,children:l.jsx("a",{href:Y8(s.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation →"})})]})})})]},o)})})}function mgn(e){const t=e.path[0];return t.kind==="type"?{name:t.name,type:t.type}:null}function ggn(e){if(e!=null&&e.startsWith("<unnamed_type_@_index")){const t=e.slice(1,-1).split("_");return"[".concat(t[4],"]")}return e}function vgn(e){return e.map(t=>t.kind==="type"?"".concat(t.name||"<unnamed>","(").concat(t.type,")"):t.kind==="property"?t.name:null).filter(Boolean).join(" > ")}function ygn(e){const t=e._validation,n=t==null?void 0:t.filter(r=>r.problems.some(o=>o.severity==="warning"));(n==null?void 0:n.length)!==0&&(console.groupCollapsed("⚠️ Schema has ".concat(n==null?void 0:n.length," warnings")),n==null||n.forEach(r=>{const o=vgn(r.path);console.group("%cAt ".concat(o),"color: #FF7636"),r.problems.forEach(i=>{console.log(i.message)}),console.groupEnd()}),console.groupEnd())}function bgn(e){let{schema:t}=e;var n;const r=((n=t._validation)==null?void 0:n.filter(o=>o.problems.some(i=>i.severity==="error")))||[];return h.useEffect(()=>ygn(t),[t]),l.jsx(ee,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:l.jsx(Qr,{width:1,children:l.jsxs(oe,{space:5,children:[l.jsx(Vo,{as:"h1",children:"Schema errors"}),l.jsx(bOe,{problemGroups:r})]})})})}function xgn(e){return l.jsx(ee,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:l.jsx(U,{direction:"row",justify:"center",flex:1,align:"center",children:l.jsxs(oe,{space:4,children:[l.jsx(Vo,{as:"h1",children:"Workspace not found"}),l.jsx(Gt,{children:l.jsx(se,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}const xOe=h.createContext(null);function wgn(e){let{pathname:t,workspaces:n,basePathRegex:r}=e;const[o]=n;for(const{workspace:i,basePath:s,basePathRegex:a}of n)if(a.test(t)||s==="/")return{type:"match",workspace:i};return t==="/"?{type:"redirect",pathname:o.basePath}:r.test(t)?{type:"redirect",pathname:o.basePath}:{type:"not-found"}}function Cgn(e){const n=e.map(o=>o.basePath.substring(1).split("/")).reduce((o,i)=>{for(let s=0;s<o.length;s++){const a=o[s],c=i[s].toLowerCase();if(a!==c)return o.slice(0,s)}return o});function r(o){let[i,...s]=o;return i?"(\\/".concat(P7(i)).concat(r(s),"(\\/|$))?"):""}return new RegExp("^".concat(r(n),"$"),"i")}function _gn(e){return h.useMemo(()=>Sgn(e),[e])}function Sgn(e){return e.map(t=>{const n=t.basePath||"/";return{workspace:t,name:t.name,basePath:n,basePathRegex:new RegExp("^".concat(P7(n),"(\\/|$)"),"i")}})}function Egn(e,t){const n=_gn(t),r=h.useMemo(()=>Cgn(n),[n]),[o]=h.useState(()=>e.location.pathname),i=h.useMemo(()=>({subscribe:s=>e.listen(s),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>o,selector:s=>wgn({basePathRegex:r,pathname:s,workspaces:n}),isEqual:(s,a)=>{if(s.type!==a.type)return!1;switch(s.type){case"match":return s.workspace===a.workspace;case"redirect":return s.pathname===a.pathname;case"not-found":return!0;default:throw new Error("Unknown type: ".concat(s.type))}}}),[r,e,o,n]);return j7.useSyncExternalStoreWithSelector(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,i.isEqual)}const wOe=h.createContext(null);function kgn(e){let{children:t,history:n}=e;return l.jsx(wOe.Provider,{value:n,children:t})}function jgn(){const e=h.useContext(wOe);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const Tgn=h.memo(function(t){let{children:n,history:r,activeWorkspace:o,setActiveWorkspace:i}=t;const s=h.useMemo(()=>({activeWorkspace:o,setActiveWorkspace:i}),[o,i]);return l.jsx(xOe.Provider,{value:s,children:l.jsx(kgn,{history:r,children:n})})}),Agn=()=>typeof document>"u"?nVt():tVt();function Dgn(e){let{children:t,LoadingComponent:n,NotFoundComponent:r,unstable_history:o}=e;const i=aC(),s=h.useMemo(()=>o||Agn(),[o]),a=h.useCallback(d=>{const f=i.find(p=>p.name===d);f&&s.push(f.basePath)},[s,i]),c=h.useCallback(()=>{a(i[0].name)},[a,i]),u=Egn(s,i);switch(h.useEffect(()=>{u.type==="redirect"&&s.replace(u.pathname)},[s,u]),u.type){case"match":return l.jsx(Tgn,{activeWorkspace:u.workspace,history:s,setActiveWorkspace:a,children:t});case"redirect":return l.jsx(n,{});case"not-found":return l.jsx(r,{onNavigateToDefaultWorkspace:c});default:throw new Error("Unknown type: ".concat(u.type))}}function t1(){const e=h.useContext(xOe);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}var sue=Object.freeze,Ign=Object.defineProperty,Pgn=(e,t)=>sue(Ign(e,"raw",{value:sue(t||e.slice())})),aue;const lue={"logged-in":"","logged-out":"Signed out","no-access":""},Ogn=O(ee)(aue||(aue=Pgn([`
  width: 35px;
  height: 35px;

  svg {
    width: 100%;
    height: 100%;
  }
`]))),cue=e=>{if(Xn.isValidElementType(e))return h.createElement(e);if(h.isValidElement(e))return e};function _4(e){const{state:t,subtitle:n,selected:r,title:o,icon:i,iconRight:s}=e,a=h.useMemo(()=>cue(i),[i]),c=h.useMemo(()=>cue(s),[s]);return l.jsxs(U,{align:"center",flex:"none",gap:3,children:[l.jsx(Ogn,{radius:2,tone:"transparent",children:a}),l.jsxs(oe,{flex:1,space:2,children:[l.jsx(L,{textOverflow:"ellipsis",weight:"medium",children:o}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&lue[t]&&l.jsx(M,{paddingLeft:1,children:l.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:lue[t]})}),(r||c)&&l.jsxs(U,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&l.jsx(L,{children:l.jsx(Js,{})}),c&&l.jsx(L,{muted:!0,children:c})]})]})}const COe=sh(e=>Bo(e.map(t=>t.auth.state.pipe(ue(n=>[t.name,n])))).pipe(ue(t=>Object.fromEntries(t)))),Rgn="https://beta.sanity.io/docs/platform/studio/config/workspaces";var uue=Object.freeze,$gn=Object.defineProperty,Mgn=(e,t)=>uue($gn(e,"raw",{value:uue(t||e.slice())})),due;const fue=[{url:"https://slack.sanity.io/",title:"Community"},{url:"https://www.sanity.io/docs",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",title:"Privacy"},{url:"https://www.sanity.io",title:"sanity.io"}],Fgn=O(L)(due||(due=Mgn([`
  a {
    color: inherit;
  }
`])));function hue(e){const{children:t,footer:n,header:r}=e;return l.jsxs(oe,{space:6,children:[l.jsx(ee,{border:!0,radius:3,overflow:"auto",children:l.jsxs(oe,{children:[typeof r=="object"&&l.jsx(M,{children:r}),typeof r=="string"&&l.jsx(M,{paddingY:4,children:l.jsx(Vo,{align:"center",size:1,children:r})}),l.jsx(M,{paddingX:1,children:l.jsx(ee,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&l.jsx(M,{children:n})]})}),l.jsxs(U,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[l.jsx(L,{size:3,children:l.jsx(lVt,{})}),l.jsx(U,{align:"center",gap:2,children:fue.map((o,i)=>l.jsxs(ie.Fragment,{children:[l.jsx(Fgn,{muted:!0,size:1,children:l.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),i<fue.length-1&&l.jsx(L,{size:1,muted:!0,children:"•"})]},o.title))})]})]})}function Lgn(){var e;const t=aC(),{activeWorkspace:n,setActiveWorkspace:r}=t1(),[o]=COe(t),[i,s]=h.useState((n==null?void 0:n.name)||null),a=t.length===1?t[0]:t.find(d=>d.name===i),c=(e=a==null?void 0:a.auth)==null?void 0:e.LoginComponent,u=h.useCallback(()=>s(null),[]);return o?c&&a?l.jsxs(oe,{space:2,children:[t.length>1&&l.jsx(U,{children:l.jsx(se,{fontSize:1,icon:Zx,mode:"bleed",onClick:u,padding:2,text:"Choose another workspace"})}),l.jsx(hue,{header:l.jsx(M,{padding:3,children:l.jsx(_4,{icon:a.icon,title:a.title,subtitle:a==null?void 0:a.subtitle})}),children:l.jsx(oe,{padding:2,paddingBottom:3,paddingTop:4,children:h.createElement(c,{...Pi(a,["type","__internal"]),key:i})})})]}):l.jsx(hue,{header:"Choose your workspace",footer:l.jsx(oe,{padding:1,children:l.jsx(se,{as:"a",href:Rgn,icon:ko,justify:"flex-start",mode:"bleed",rel:"noopener noreferrer",target:"__blank",text:"Add workspace"})}),children:l.jsx(oe,{space:1,paddingX:1,paddingY:2,children:t.map(d=>{const p=o[d.name].authenticated?"logged-in":d.auth.LoginComponent?"logged-out":"no-access",m=()=>{p==="logged-in"&&d.name!==n.name&&r(d.name),p==="logged-out"&&s(d.name)};return l.jsx(ee,{as:"button",radius:2,padding:2,onClick:m,children:l.jsx(_4,{icon:d==null?void 0:d.icon,iconRight:Rc,state:p,subtitle:d==null?void 0:d.subtitle,title:(d==null?void 0:d.title)||d.name})},d.name)})})}):l.jsx(yb,{})}var pue=Object.freeze,Bgn=Object.defineProperty,Ngn=(e,t)=>pue(Bgn(e,"raw",{value:pue(t||e.slice())})),mue;const zgn=O(Bt)(mue||(mue=Ngn([`
  max-width: 350px;
  min-width: 250px;
`]))),gue="Select workspace";function _Oe(e){const{collapsed:t=!1}=e,[n,r]=h.useState(!1),{scheme:o}=Wc(),i=aC(),{activeWorkspace:s,setActiveWorkspace:a}=t1(),[c]=COe(i),{navigateUrl:u}=zl(),d=h.useCallback(()=>r(!0),[]),f=h.useCallback(()=>r(!1),[]),p=h.useMemo(()=>({constrainSize:!0,scheme:o,portal:!0}),[o]),m=n||!t,v=t?gue:void 0,g=t?void 0:gue;return l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Select workspace"})}),disabled:m,placement:"bottom",portal:!0,scheme:o,children:l.jsx(oe,{children:l.jsx(tn,{button:l.jsx(se,{icon:Nl,mode:"bleed",text:g,disabled:!c,"aria-label":v,justify:t?void 0:"flex-start"}),id:"workspace-menu",menu:l.jsxs(zgn,{children:[l.jsx(M,{paddingX:3,paddingY:3,children:l.jsx(Vt,{size:1,muted:!0,children:"Workspaces"})}),c&&i.map(y=>{const b=c[y.name].authenticated?"logged-in":y.auth.LoginComponent?"logged-out":"no-access",w=()=>{b==="logged-in"&&y.name!==s.name&&a(y.name),b==="logged-out"&&u({path:y.basePath})};return l.jsx(Ve,{onClick:w,padding:2,pressed:y.name===s.name,children:l.jsx(_4,{icon:y==null?void 0:y.icon,selected:y.name===s.name,state:b,subtitle:y==null?void 0:y.subtitle,title:(y==null?void 0:y.title)||y.name})},y.name)})]}),onClose:f,onOpen:d,popover:p})})})}function SOe(){return l.jsx(ee,{height:"fill",overflow:"auto",children:l.jsx(U,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:l.jsx(Qr,{width:0,children:l.jsx(Lgn,{})})})})}function Vgn(){return l.jsx(l.Fragment,{children:"TODO: implement config errors screen"})}function EOe(){const[e,t]=h.useState(null),[n,r]=h.useState(null);if(n)throw n;const{activeWorkspace:o}=t1(),i=h.useCallback(()=>{var c,u;(u=(c=o.auth).logout)==null||u.call(c)},[o]);h.useEffect(()=>{const c=o.auth.state.subscribe({next:u=>{let{currentUser:d}=u;t(d)},error:r});return()=>{c.unsubscribe()}},[o]);const s=LAe(e==null?void 0:e.provider),a=s?" through ".concat(s):"";return l.jsx(ee,{height:"fill",children:l.jsx(Ri,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:l.jsx(oe,{paddingX:3,paddingY:2,children:l.jsx(se,{text:"Sign out",onClick:i})}),children:l.jsxs(oe,{paddingX:4,paddingY:5,space:4,children:[l.jsx(L,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),l.jsxs(L,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",l.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),a,"."]})]})})})}var vue=Object.freeze,Hgn=Object.defineProperty,Ugn=(e,t)=>vue(Hgn(e,"raw",{value:vue(t||e.slice())})),yue;const Wgn=O.label(yue||(yue=Ugn([`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`])));function Ygn(e){const{projectId:t}=e,n=window.location.origin,r=h.useMemo(()=>{const o=new URL("https://sanity.io/manage/project/".concat(t,"/api"));return o.searchParams.set("cors","add"),o.searchParams.set("origin",n),o.searchParams.set("credentials",""),o.toString()},[n,t]);return h.useEffect(()=>{const o=()=>{window.location.reload()};return window.addEventListener("focus",o),()=>{window.removeEventListener("focus",o)}},[]),l.jsx(ee,{height:"fill",children:l.jsx(Ri,{id:"cors-error-dialog",header:"Before you continue...",width:1,children:l.jsxs(oe,{paddingX:4,paddingY:5,space:4,children:[l.jsxs(L,{children:["To access your content, you need to ",l.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),l.jsx(Wgn,{"aria-hidden":"true",children:"CORS URL to be added"}),l.jsx(Mr,{value:n,readOnly:!0}),l.jsx(se,{as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary",children:l.jsxs(U,{align:"center",justify:"center",gap:3,children:[l.jsx(L,{weight:"medium",children:"Continue"}),l.jsx(L,{weight:"medium",children:l.jsx(Uf,{})})]})})]})})})}function kOe(e){let{children:t,heading:n="An error occured"}=e;const[{error:r},o]=h.useState({error:null}),i=wt(r)&&typeof r.message=="string"&&r.message,s=wt(r)&&typeof r.stack=="string"&&r.stack,a=h.useCallback(()=>o({error:null}),[o]);return Hzt(a),r instanceof uB?l.jsx(Ygn,{projectId:r==null?void 0:r.projectId}):r instanceof EN?l.jsx(bgn,{schema:r.schema}):r?l.jsx(ee,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:l.jsx(Qr,{width:3,children:l.jsxs(oe,{space:4,children:[l.jsx(Vo,{children:n}),l.jsx("div",{children:l.jsx(se,{onClick:a,text:"Retry",tone:"default"})}),l.jsx(ee,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:l.jsxs(oe,{space:4,children:[i&&l.jsx(ar,{size:1,children:l.jsxs("strong",{children:["Error: ",i]})}),s&&l.jsx(ar,{size:1,children:s})]})})]})})}):l.jsx(x0,{onCatch:o,children:t})}var bue=Object.freeze,qgn=Object.defineProperty,Ggn=(e,t)=>bue(qgn(e,"raw",{value:bue(t||e.slice())})),xue;const Kgn=O(ee)(xue||(xue=Ggn([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`]))),jOe=h.createContext({onSearchFullscreenOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null});function Zgn(){var e;const{name:t,title:n,tools:r}=Wl(),o=zl(),i=iT(h.useCallback(x=>typeof x.tool=="string"?x.tool:void 0,[])),s=h.useMemo(()=>r.find(x=>x.name===i),[i,r]),[a,c]=h.useState(!1),[u,d]=h.useState(null),f=h.useMemo(()=>{const x=n||un(t);return i?"".concat(un(i)," | ").concat(x):x},[i,t,n]),p=!!(s!=null&&s.controlsDocumentTitle);h.useEffect(()=>{p||(document.title=f)},[f,p]);const m=h.useCallback(x=>{c(x)},[]),v=h.useMemo(()=>({searchFullscreenOpen:a,searchFullscreenPortalEl:u,onSearchFullscreenOpenChange:m}),[a,u,m]),g=Nyn(),y=!s&&(i==="desk"||!i)&&typeof window<"u"&&/\/desk(\/|$)/.test(window.location.pathname)&&r.some(x=>x.name==="structure");return h.useEffect(()=>{y&&o.navigateUrl({path:window.location.pathname.replace(/\/desk/,"/structure"),replace:!0})},[y,o]),l.jsxs(U,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[l.jsx(jOe.Provider,{value:v,children:l.jsx(g,{})}),y&&l.jsx(ugn,{}),r.length===0&&l.jsx(cgn,{}),r.length>0&&!s&&i&&!y&&l.jsx(dgn,{toolName:i}),a&&l.jsx(Kgn,{ref:d,overflow:"auto"}),l.jsx(kOe,{heading:"The ".concat(s==null?void 0:s.name," tool crashed"),children:l.jsx(ee,{flex:1,hidden:a,children:s&&i&&l.jsx(zht,{scope:i,__unsafe_disableScopedSearchParams:(e=s.router)==null?void 0:e.__unsafe_disableScopedSearchParams,children:l.jsx(h.Suspense,{fallback:l.jsx(Xgn,{}),children:h.createElement(s.component,{tool:s})})})})},s==null?void 0:s.name)]})}function Xgn(){return l.jsxs(U,{justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(L,{muted:!0,children:"Loading…"}),l.jsx(fr,{muted:!0})]})}var wue=Object.freeze,Qgn=Object.defineProperty,Jgn=(e,t)=>wue(Qgn(e,"raw",{value:wue(t||e.slice())})),Cue;const evn=O.div(Cue||(Cue=Jgn([`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`]))),tvn=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsxs("g",{clipPath:"url(#clip0)",children:[l.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),l.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),l.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),l.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),nvn=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("g",{clipPath:"url(#clip0)",children:l.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),rvn=l.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),l.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),l.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),ovn=e=>{let{provider:t}=e;const n=t==null?void 0:t.startsWith("saml-"),r=n?"saml":t;return l.jsxs(evn,{"data-logo":r,children:[t==="google"&&tvn,t==="github"&&nvn,t==="sanity"&&l.jsx(uVt,{}),n&&rvn]})};var _ue=Object.freeze,ivn=Object.defineProperty,TOe=(e,t)=>_ue(ivn(e,"raw",{value:_ue(t||e.slice())})),Sue,Eue;const d5=1,svn=O(Bt)(Sue||(Sue=TOe([`
  min-width: 200px;
  max-width: 300px;
`]))),avn=O(M)(Eue||(Eue=TOe([`
  position: relative;
  min-width: `,`px;
  min-height: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.avatar.sizes[d5].size},e=>{let{theme:t}=e;return t.sanity.avatar.sizes[d5].size});function lvn(e){let{setScheme:t}=e;const n=gOe(t);return l.jsxs(l.Fragment,{children:[l.jsx(Pr,{}),l.jsx(M,{padding:2,children:l.jsx(Vt,{size:1,muted:!0,children:"Appearance"})}),n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(Ve,{"aria-label":i,icon:o,onClick:a,pressed:c,text:u,iconRight:c&&l.jsx(Js,{})},s)})]})}function cvn(){const{currentUser:e,projectId:t,auth:n}=Wl(),r=mOe(),o=kN(),i=!!(e&&xAe(e,"administrator")),s=LAe(e==null?void 0:e.provider),a=h.useMemo(()=>({placement:"bottom-end",portal:!0,preventOverflow:!0,scheme:r,constrainSize:!0}),[r]);return l.jsx(tn,{button:l.jsx(se,{mode:"bleed",padding:0,paddingX:1,children:l.jsxs(U,{align:"center",gap:1,children:[l.jsx(Ua,{user:"me",size:1}),l.jsx(L,{size:d5,muted:!0,children:l.jsx(Za,{})})]})}),id:"user-menu",menu:l.jsxs(svn,{children:[l.jsx(ee,{padding:2,children:l.jsxs(U,{align:"center",children:[l.jsx(at,{disabled:!s,portal:!0,content:s&&l.jsx(M,{padding:2,children:l.jsxs(L,{size:1,children:["Signed in with ",s]})}),children:l.jsxs(avn,{marginRight:3,children:[l.jsx(Ua,{size:d5,user:"me"}),(e==null?void 0:e.provider)&&l.jsx(ovn,{provider:e.provider})]})}),l.jsxs(oe,{space:2,flex:1,children:[l.jsx(L,{size:2,weight:"medium",textOverflow:"ellipsis",children:e==null?void 0:e.name}),l.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:e==null?void 0:e.email})]})]})}),o&&l.jsx(lvn,{setScheme:o}),l.jsx(Pr,{}),l.jsx(Ve,{as:"a","aria-label":"Manage project",href:"https://sanity.io/manage/project/".concat(t),target:"_blank",text:"Manage project",icon:Q5}),i&&l.jsx(Ve,{as:"a","aria-label":"Invite members",href:"https://sanity.io/manage/project/".concat(t,"/members"),target:"_blank",text:"Invite members",icon:nj}),n.logout&&l.jsxs(l.Fragment,{children:[l.jsx(Pr,{}),l.jsx(Ve,{iconRight:IF,text:"Sign out",disabled:!n.logout,...n.logout&&{onClick:n.logout}})]})]}),popover:a})}var kue=Object.freeze,uvn=Object.defineProperty,dvn=(e,t)=>kue(uvn(e,"raw",{value:kue(t||e.slice())})),jue;const fvn=O(M)(jue||(jue=dvn([`
  max-width: 300px;
`]))),AOe=33;function hvn(e){const{option:t,currentUser:n,onClick:r,preview:o}=e,i=h.useMemo(()=>({template:t.templateId,type:t.schemaType}),[t.schemaType,t.templateId]),{onClick:s,href:a}=ww({intent:"create",params:i}),c=h.useCallback(u=>{s(u),r(t)},[s,r,t]);return l.jsx(at,{disabled:t.hasPermission,portal:!0,content:l.jsx(fvn,{padding:2,children:l.jsx(Ic,{currentUser:n,operationLabel:"create this document"})}),children:l.jsx("div",{children:l.jsx(ee,{as:t.hasPermission?"a":"button",disabled:!t.hasPermission,href:a,marginBottom:1,onClick:c,padding:o==="inline"?3:4,radius:2,children:l.jsx(L,{size:o==="inline"?1:void 0,children:t.title})})})},t.id)}var Tue=Object.freeze,pvn=Object.defineProperty,DOe=(e,t)=>Tue(pvn(e,"raw",{value:Tue(t||e.slice())})),Aue,Due;const LO=O(U)(Aue||(Aue=DOe([`
  min-height: 100px;
`]))),mvn=O.strong(Due||(Due=DOe([`
  word-break: break-all;
`])));function Iue(e){const{currentUser:t,loading:n,onDocumentClick:r,options:o,preview:i,searchQuery:s,textInputElement:a}=e,c=o.length>0&&!n,u=h.useCallback(()=>{r()},[r]),d=h.useCallback(p=>{var m;return((m=o[p])==null?void 0:m.hasPermission)===!1},[o]),f=h.useCallback(p=>l.jsx(hvn,{currentUser:t,onClick:u,option:p,preview:i},p.id),[t,u,i]);return n?l.jsx(LO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(Gt,{space:2,children:[l.jsx(fr,{muted:!0,size:1}),l.jsx(L,{muted:!0,size:1,children:"Loading…"})]})}):!c&&s?l.jsx(LO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(L,{align:"center",muted:!0,size:1,children:["No results found for ",l.jsxs(mvn,{children:["“",s,"”"]})]})}):c?l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:"New document",autoFocus:Zp?void 0:"input",getItemDisabled:d,inputElement:a,itemHeight:AOe,items:o,overscan:5,padding:i==="inline"?1:2,paddingBottom:0,renderItem:f}):l.jsx(LO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(L,{align:"center",muted:!0,size:1,children:"No documents found"})})}function gvn(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(i=>n.includes(i))}function vvn(e,t,n){const r=t.title.toLowerCase(),o=n.title.toLowerCase(),i=e.trim().toLowerCase();return r.startsWith(i)&&!o.startsWith(i)?-1:o.startsWith(i)&&!r.startsWith(i)?1:r.includes(i)&&!o.includes(i)?-1:o.includes(i)&&!r.includes(i)?1:0}function yvn(e,t){return e.map(o=>({...o,title:(o==null?void 0:o.title)||o.id})).sort((o,i)=>o.title.localeCompare(i.title)).filter(o=>gvn(t,o)).sort((o,i)=>vvn(t,o,i))}var Pue=Object.freeze,bvn=Object.defineProperty,Mm=(e,t)=>Pue(bvn(e,"raw",{value:Pue(t||e.slice())})),Oue,Rue,$ue,Mue,Fue,Lue,Bue;const xvn=O(en)(()=>he(Oue||(Oue=Mm([`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: `,`px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `])),e=>{let{theme:t}=e;return t.sanity.radius[3]})),wvn=O(Ri)(()=>he(Rue||(Rue=Mm([`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `])))),Cvn=O(M)($ue||($ue=Mm([`
  max-width: 300px;
`]))),Nue=O(U)(Mue||(Mue=Mm([""]))),_vn=O(ee)(Fue||(Fue=Mm([`
  min-height: max-content;
`]))),Svn=O(ee)(Lue||(Lue=Mm([`
  min-height: max-content;
`]))),Evn=O(U)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return he(Bue||(Bue=Mm([`
    --item-height: `,`px;
    --max-items: `,`;
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `])),n,t)}),kvn=10;function jvn(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:o}=e,[i,s]=h.useState(!1),[a,c]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState(null),[m,v]=h.useState(null),[g,y]=h.useState(null),{scheme:x}=Wc(),b=Uo(),w=o.length>0,C=!t||!w,_="Search",S="Create new document",E=h.useMemo(()=>yvn(o,a),[o,a]),j=h.useCallback(N=>{c(N.currentTarget.value)},[]),k=h.useCallback(()=>s(N=>!N),[]),T=h.useCallback(()=>{s(!1),c(""),m==null||m.focus()},[m]),A=h.useCallback(N=>{N.key==="ArrowDown"&&!i&&s(!0)},[i]),D=h.useCallback(N=>{(N.key==="Escape"||N.key==="Tab")&&i&&T()},[T,i]);ur(()=>{i&&T()},[m,f,u]);const I=h.useMemo(()=>({currentUser:b,loading:r,onDocumentClick:k,options:E,searchQuery:a,preview:n==="popover"?"inline":"default",textInputElement:g}),[b,E,k,r,n,g,a]),P=h.useMemo(()=>({border:!1,defaultValue:a,disabled:r,icon:ei,onChange:j,placeholder:_,ref:y}),[j,r,_,a]),$=h.useMemo(()=>({"aria-label":S,disabled:C||r,icon:ko,mode:"bleed",onClick:k,ref:v,selected:i}),[C,k,r,i,S]),R=h.useMemo(()=>w?t?l.jsx(L,{size:1,children:"New document..."}):l.jsx(Ic,{currentUser:b,operationLabel:"create any document"}):l.jsx(L,{size:1,children:"No document types"}),[t,b,w]),V=h.useMemo(()=>({content:l.jsx(Cvn,{padding:2,children:R}),disabled:r||i,placement:"bottom",portal:!0,scheme:x}),[r,i,x,R]);return n==="dialog"?l.jsxs(l.Fragment,{children:[l.jsx(at,{...V,children:l.jsx("div",{children:l.jsx(se,{...$})})}),i&&l.jsx(wvn,{header:S,id:"create-new-document-dialog",onClickOutside:T,onClose:T,ref:p,scheme:x,width:1,children:l.jsxs(Nue,{direction:"column",flex:1,height:"fill",children:[l.jsx(Svn,{padding:2,borderBottom:!0,children:l.jsx(Mr,{...P})}),l.jsx(U,{direction:"column",overflow:"hidden",children:l.jsx(Iue,{...I})})]})})]}):l.jsx(xvn,{constrainSize:!0,onKeyDown:D,open:i,portal:!0,radius:3,ref:d,scheme:x,content:l.jsxs(Nue,{direction:"column",flex:1,forwardedAs:eh,height:"fill",returnFocus:!0,children:[l.jsx(_vn,{sizing:"border",children:l.jsxs(oe,{children:[l.jsx(M,{paddingX:3,paddingY:3,children:l.jsx(M,{paddingY:1,children:l.jsx(Vt,{size:1,muted:!0,children:S})})}),l.jsx(ee,{borderTop:!0,borderBottom:!0,padding:1,children:l.jsx(Mr,{...P,fontSize:1,radius:1})})]})}),l.jsx(Evn,{$itemHeight:AOe,$maxDisplayedItems:kvn,direction:"column",overflow:"hidden",children:l.jsx(Iue,{...I})})]}),children:l.jsx("div",{children:l.jsx(at,{...V,children:l.jsx("div",{children:l.jsx(se,{...$,"aria-expanded":i,"aria-haspopup":"true",onKeyDown:A})})})})})}function Tvn(){const{__internal:{staticInitialValueTemplateItems:e}}=Mn(),[t,n]=zN({templateItems:e}),r=(t==null?void 0:t.some(i=>e.some(s=>s.id===i.id)))||!1,o=h.useMemo(()=>e.map(i=>{var s;return{...i,title:(i==null?void 0:i.title)||i.id,hasPermission:((s=t==null?void 0:t.find(a=>a.id===i.id))==null?void 0:s.granted)||!1}}),[t,e]);return{canCreateDocument:r,loading:n,options:o}}var zue=Object.freeze,Avn=Object.defineProperty,Dvn=(e,t)=>zue(Avn(e,"raw",{value:zue(t||e.slice())})),Vue;const Ivn=O(ee)(Vue||(Vue=Dvn([`
  background: transparent;
  margin: calc((-35px + 11px) / 2);
`]))),Pvn=h.memo(function(t){const{presence:n,focused:r,onFocus:o}=t,[i,s]=h.useState(null),a=$0(n.locations||[],["lastActiveAt"],["desc"]).find(f=>f.documentId),c=!!(a!=null&&a.documentId);h.useEffect(()=>{r&&i&&(i.focus(),i.setAttribute("data-selected","")),r||i==null||i.removeAttribute("data-selected")},[i,r]);const u=h.useCallback(()=>{o(n.user.id)},[o,n.user.id]),d=h.useMemo(()=>h.forwardRef(function(p,m){return a!=null&&a.path?l.jsx(_m,{...p,intent:"edit",params:{id:a==null?void 0:a.documentId,path:Br(a==null?void 0:a.path)},ref:m}):null}),[a]);return l.jsx(Ve,{as:a?d:"div","data-as":a?"a":"div",onFocus:u,paddingY:c?4:3,paddingLeft:4,paddingRight:3,ref:s,children:l.jsxs(U,{align:"center",children:[l.jsx(Ivn,{children:l.jsx(Ua,{size:1,user:n.user,status:c?"editing":"inactive"},n.user.id)}),l.jsxs(oe,{space:2,marginLeft:4,children:[l.jsx(L,{textOverflow:"ellipsis",children:n.user.displayName}),!c&&l.jsx(L,{size:0,muted:!0,textOverflow:"ellipsis",children:"Not in a document"})]})]})})});var Hue=Object.freeze,Ovn=Object.defineProperty,jN=(e,t)=>Hue(Ovn(e,"raw",{value:Hue(t||e.slice())})),Uue,Wue,Yue;const Rvn=4,$vn=O(ee)(Uue||(Uue=jN([`
  background: transparent;
`]))),Mvn=O(Bt)(Wue||(Wue=jN([`
  max-width: 350px;
  min-width: 250px;
`]))),Fvn=O(oe)(Yue||(Yue=jN([`
  position: sticky;
  bottom: 0;
`])));function Lvn(e){const{collapse:t}=e,n=dwn(),{projectId:r}=Wl(),{scheme:o}=Wc(),i=n.length>0,[s,a]=h.useState(),c=h.useCallback(p=>{a(p)},[]),u=h.useCallback(()=>{a("")},[]),d=h.useMemo(()=>t?l.jsx(lh,{icon:nj,mode:"bleed",tone:i?"positive":void 0}):l.jsx(se,{mode:"bleed",padding:1,children:l.jsx($vn,{children:l.jsx(Pj,{maxLength:Rvn,"aria-label":"Who is here",children:n.map(p=>l.jsx(Ua,{user:p.user},p.user.id))})})}),[t,i,n]),f=h.useMemo(()=>({constrainSize:!0,portal:!0,scheme:o}),[o]);return l.jsx(tn,{button:d,id:"global-presence-menu",onClose:u,menu:l.jsxs(Mvn,{padding:1,children:[i&&l.jsx(oe,{children:n.map(p=>l.jsx(Pvn,{focused:s===p.user.id,onFocus:c,presence:p},p.user.id))}),!i&&l.jsx(M,{paddingX:3,paddingY:4,children:l.jsxs(oe,{space:3,children:[l.jsx(L,{weight:"semibold",size:2,children:"No one else is here"}),l.jsx(L,{size:1,muted:!0,children:"Invite people to the project to see their online status."})]})}),l.jsxs(Fvn,{space:1,children:[l.jsx(Pr,{}),l.jsx(Ve,{as:"a",href:"https://sanity.io/manage/project/".concat(r),iconRight:Q5,onFocus:u,paddingY:4,rel:"noopener noreferrer",target:"_blank",text:"Manage members"})]})]}),popover:f})}var que=Object.freeze,Bvn=Object.defineProperty,TN=(e,t)=>que(Bvn(e,"raw",{value:que(t||e.slice())})),Gue,Kue,Zue;const Xue={duration:.2},Nvn={open:{opacity:1},closed:{opacity:0}},zvn={open:{x:"0%"},closed:{x:"-100%"}},Vvn=O(ts)(Gue||(Gue=TN([`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),Hvn=O(od(ee))(Kue||(Kue=TN([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`]))),Uvn=O(od(ee))(Zue||(Zue=TN([`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`])));function Wvn(e){let{setScheme:t}=e;const n=gOe(t);return l.jsx(l.Fragment,{children:l.jsxs(ee,{borderTop:!0,flex:"none",padding:3,overflow:"auto",children:[l.jsx(M,{padding:2,children:l.jsx(Vt,{size:1,muted:!0,children:"Appearance"})}),l.jsx(oe,{as:"ul",marginTop:1,space:1,children:n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(oe,{as:"li",children:l.jsx(se,{"aria-label":i,icon:o,iconRight:c&&l.jsx(Js,{}),justify:"flex-start",mode:"bleed",onClick:a,selected:c,text:u})},s)})})]})})}const Yvn=h.memo(function(t){const{activeToolName:n,isOpen:r,onClose:o,tools:i}=t,s=kN(),{auth:a,currentUser:c,projectId:u}=Wl(),d=aC(),f=ZOe(),p=!!(c&&xAe(c,"administrator")),m=h.useCallback(v=>{v.key==="Escape"&&o()},[o]);return l.jsx(g6,{children:r&&l.jsx(eh,{autoFocus:!0,returnFocus:!0,children:l.jsxs(Vvn,{onKeyDown:m,children:[l.jsx(Hvn,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:o,transition:Xue,variants:Nvn}),l.jsxs(Uvn,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:Xue,variants:zvn,children:[l.jsx(ee,{borderBottom:!0,children:l.jsxs(oe,{space:3,padding:3,children:[l.jsxs(U,{align:"center",children:[l.jsx(U,{flex:1,align:"center",paddingRight:2,children:l.jsxs(U,{flex:1,align:"center",children:[l.jsx(M,{children:l.jsx(Ua,{size:1,user:"me"})}),l.jsx(M,{flex:1,marginLeft:2,title:(c==null?void 0:c.name)||(c==null?void 0:c.email),children:l.jsx(L,{textOverflow:"ellipsis",children:(c==null?void 0:c.name)||(c==null?void 0:c.email)})})]})}),l.jsx(M,{children:l.jsx(se,{icon:Ti,mode:"bleed",onClick:o,title:"Close menu"})})]}),d.length>1&&l.jsx(_Oe,{})]})}),l.jsxs(U,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[l.jsx(ee,{flex:"none",padding:3,children:l.jsx(f,{activeToolName:n,closeSidebar:o,context:"sidebar",isSidebarOpen:r,tools:i})}),l.jsxs(U,{direction:"column",children:[s&&l.jsx(Wvn,{setScheme:s}),l.jsx(ee,{borderTop:!0,flex:"none",padding:3,children:l.jsxs(oe,{as:"ul",space:1,children:[l.jsx(oe,{as:"li",children:l.jsx(se,{"aria-label":"Manage project",as:"a",href:"https://sanity.io/manage/project/".concat(u),icon:Q5,justify:"flex-start",mode:"bleed",target:"_blank",text:"Manage project"})}),p&&l.jsx(oe,{as:"li",children:l.jsx(se,{"aria-label":"Invite members",as:"a",href:"https://sanity.io/manage/project/".concat(u,"/members"),icon:nj,justify:"flex-start",mode:"bleed",target:"_blank",text:"Invite members"})})]})})]})]}),a.logout&&l.jsx(ee,{flex:"none",padding:3,borderTop:!0,children:l.jsx(oe,{children:l.jsx(se,{iconRight:IF,justify:"flex-start",mode:"bleed",onClick:a.logout,text:"Sign out"})})})]})]})})})});function qvn(){var e;const n=((e=En()._validation)==null?void 0:e.filter(f=>f.problems.some(p=>p.severity==="warning")))||[],{scheme:r}=Wc(),o=h.useId(),[i,s]=h.useState(!1),[a,c]=h.useState(null),u=h.useCallback(()=>s(!0),[]),d=h.useCallback(()=>{s(!1),a&&a.focus()},[a]);return n.length===0?null:l.jsxs(l.Fragment,{children:[l.jsx(lh,{icon:Fr,label:"Found configuration issues",mode:"bleed",onClick:u,ref:c,selected:i,tone:"caution",tooltip:{scheme:r}}),i&&l.jsx(Ri,{header:l.jsxs(oe,{space:3,children:[l.jsx(L,{weight:"semibold",children:"Configuration issues"}),l.jsx(L,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),width:2,onClickOutside:d,onClose:d,scheme:r,id:o,children:l.jsxs(oe,{space:4,padding:4,children:[l.jsxs(Vo,{as:"h2",size:1,children:["Found ",n.length," schema warnings"]}),l.jsx(bOe,{problemGroups:n})]})})]})}function Que(e){const{title:t,children:n,href:r,onClick:o}=e;return l.jsx(se,{"aria-label":t,as:"a","data-testid":"logo",href:r,mode:"bleed",onClick:o,padding:0,children:n})}const Gvn=yi("mod+".concat(JPe)),Kvn=yi("escape");function Zvn(e){let{open:t,onClose:n,onOpen:r}=e;const{isTopLayer:o}=ua(),i=h.useCallback(()=>{n==null||n()},[n]),s=h.useCallback(a=>{Gvn(a)&&(a.preventDefault(),t?i():r==null||r()),Kvn(a)&&t&&o&&i()},[i,o,t,r]);Ts(s)}function IOe(e){let{children:t,hasValidTerms:n,onClose:r,onOpen:o,open:i}=e;const s=h.useRef(!1),{dispatch:a,searchCommandList:c,setOnClose:u,state:{result:d}}=Rt(),f=h.useCallback(()=>{var p;a({index:(p=c==null?void 0:c.getTopIndex())!=null?p:-1,type:"LAST_ACTIVE_INDEX_SET"}),r()},[a,r,c]);return Zvn({onClose:f,onOpen:o,open:i}),h.useEffect(()=>{u(f)},[f,u]),h.useEffect(()=>{(!n||d.loaded)&&s.current&&a({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[a,n,d.loaded]),h.useEffect(()=>{!n&&s.current&&!i&&a({type:"ORDERING_RESET"})},[a,n,i]),h.useEffect(()=>{s!=null&&s.current||(s.current=!0)},[]),i?l.jsx("div",{children:t}):null}function Xvn(e){return e.reduce((t,n)=>(t[n.type]=n,t),{})}function Bf(e,t){return t?e[t]:void 0}function Qvn(e,t){var n;return(n=Bf(e,t))==null?void 0:n.initialValue}function S4(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:((n=e==null?void 0:e.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function _h(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,operatorDefinitions:o}=e;return r.filter(i=>lC({filter:i,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:o})).map(i=>{var s;return(s=Bf(o,i.operatorType))==null?void 0:s.groqFilter({fieldPath:Jvn({filter:i,fieldDefinitions:t,filterDefinitions:n}),value:i==null?void 0:i.value})}).filter(i=>!Nzt(i)).filter(mo).join(" && ")}function ed(e,t){return t!=null&&t.fieldId?e[t.fieldId]:void 0}function qi(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function Sh(e){let{fieldDefinitions:t,filters:n,types:r}=e;const o=r.map(c=>c.name),i=Object.values(t).filter(c=>n.map(u=>u==null?void 0:u.fieldId).includes(c.id)).filter(c=>c.documentTypes.length>0).map(c=>c.documentTypes),s=$E(...i),a=[];return o.length>0&&a.push(o),s.length>0&&a.push(s),$E(...a).sort()}function Jvn(e){let{filter:t,fieldDefinitions:n,filterDefinitions:r}=e;const o=ed(n,t),i=dh(r,t.filterName);if(i)switch(i.type){case"field":return o==null?void 0:o.fieldPath;case"pinned":return i==null?void 0:i.fieldPath;default:return}}function lC(e){let{filter:t,filterDefinitions:n,fieldDefinitions:r,operatorDefinitions:o}=e;const i=dh(n,t.filterName),s=Bf(o,t.operatorType),a=ed(r,t);return!(!i||!s||t.fieldId&&!a||i.type==="field"&&(!(a!=null&&a.fieldPath)||!t.fieldId||!s.groqFilter({fieldPath:a.fieldPath,value:t.value}))||i.type==="pinned"&&!s.groqFilter({fieldPath:i.fieldPath,value:t.value}))}var Jue=Object.freeze,e0n=Object.defineProperty,t0n=(e,t)=>Jue(e0n(e,"raw",{value:Jue(t||e.slice())})),ede;const n0n=yi("escape"),r0n=500,o0n=O.div(ede||(ede=t0n([`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`])));function AN(e){let{anchorElement:t,children:n,onClose:r}=e;const{isTopLayer:o}=ua(),i=h.useCallback(a=>{n0n(a)&&o&&r()},[o,r]);Ts(i);const s=i0n(t||null);return l.jsxs(l.Fragment,{children:[l.jsx(o0n,{onClick:r}),l.jsx(eh,{autoFocus:!1,returnFocus:!0,children:l.jsx(ee,{display:"flex",overflow:"hidden",radius:e1,style:{maxHeight:"min(calc(100vh - ".concat(s,"px - ").concat(sC,"px - ").concat(Px,"px), ").concat(r0n,"px"),zIndex:1},children:l.jsx(U,{children:n})})})]})}function BO(e){const t=e.getBoundingClientRect();return t.y+t.height+sC}function i0n(e){const[t,n]=h.useState(e&&BO(e)),r=h.useCallback(()=>{e&&n(BO(e))},[e]);return h.useEffect(()=>{e&&n(BO(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}var tde=Object.freeze,s0n=Object.defineProperty,POe=(e,t)=>tde(s0n(e,"raw",{value:tde(t||e.slice())})),nde,rde;const a0n=O(M)(nde||(nde=POe([`
  border-bottom: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border}),l0n=O(U)(rde||(rde=POe([`
  box-sizing: border-box;
`]))),OOe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onChange:o,onClear:i,typeFilter:s}=t;const{state:{fullscreen:a}}=Rt();return l.jsx(a0n,{children:l.jsx(l0n,{align:"center",flex:1,padding:1,children:l.jsx(SN,{"aria-label":r,autoComplete:"off",border:!1,clearButton:!!s,fontSize:a?2:1,icon:ei,muted:!0,onChange:o,onClear:i,placeholder:"Filter",ref:n,smallClearButton:!0,spellCheck:!1,radius:2,value:s})})})});function c0n(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,schema:o,titleFilter:i,types:s}=e;const a=Object.values(n).filter(u=>h0n(u,i)).map(u=>{const d=dh(r,u.filterName);return d?S4(d,u.id):null}).filter(mo),c=d0n({fieldDefinitions:n,filterDefinitions:r,titleFilter:i});return t.length===0?[...c,...Ox({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"All fields",id:"field"})]:[...c,...u0n({documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:a,schema:o,types:s})]}function Ox(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,id:o,headerTitle:i,tone:s}=e;const a={title:i||"",tone:s||"default",type:"header"},c=r.map(u=>({fieldDefinition:ed(t,u),filterDefinition:dh(n,u.filterName),filter:u,group:o,tone:s||"default",type:"filter"}));return c.length>0?[...i?[a]:[],...c]:[]}function u0n(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:o,schema:i,types:s}=e;const a=o.filter(d=>{const f=ed(n,d);return g0n(t,f)}),c=t.length>1&&s.length>1?Ox({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"Shared fields",id:"shared",tone:"primary"}):[],u=t.map(d=>{const f=i.get(d);return{title:(f==null?void 0:f.title)||un(f==null?void 0:f.name)||"(Unknown type)",documentType:d}}).sort((d,f)=>d.title.localeCompare(f.title)).map(d=>{let{documentType:f,title:p}=d;const m=o.filter(v=>{const g=ed(n,v);return f0n([f],g)});return Ox({fieldDefinitions:n,filterDefinitions:r,filters:m,id:p,headerTitle:p})}).flat();return[...c,...u]}function d0n(e){let{fieldDefinitions:t,filterDefinitions:n,titleFilter:r}=e;const o=Object.values(n).filter(m0n).filter(s=>ode(s,r)).map(s=>S4(s)),i=Object.values(n).filter(p0n).filter(s=>ode(s,r)).reduce((s,a)=>(s[a.group]=s[a.group]||[],s[a.group].push(S4(a)),s),{});return[...Ox({fieldDefinitions:t,filterDefinitions:n,filters:o,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap(s=>{let[a,c]=s;return Ox({fieldDefinitions:t,filterDefinitions:n,filters:c,headerTitle:a,id:a,tone:"primary"})})]}function f0n(e,t){return t==null?void 0:t.documentTypes.some(n=>e.includes(n))}function h0n(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function ode(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function p0n(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)<"u"}function m0n(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)>"u"}function g0n(e,t){return zp(e,(t==null?void 0:t.documentTypes)||[]).length===0}function ROe(e){let{filter:t,maxLength:n}=e;const{state:{definitions:r}}=Rt(),o=h.useMemo(()=>{const i=dh(r.filters,t.filterName);switch(i==null?void 0:i.type){case"field":{const s=ed(r.fields,t);return s!=null&&s.titlePath?s.titlePath[s.titlePath.length-1]:null}case"pinned":return i.title;default:return null}},[r,t]);return o?n&&o.length>n?l.jsxs("span",{children:[o.slice(0,n),"…"]}):l.jsx("span",{children:o}):null}function v0n(e){let{filter:t}=e;var n;const{state:{definitions:r}}=Rt(),o=(n=dh(r.filters,t.filterName))==null?void 0:n.icon;return o?h.createElement(o):l.jsx(Cl,{})}function $Oe(e){let{filter:t,small:n=!0}=e;var r;const{state:{definitions:o}}=Rt(),i=ed(o.fields,t);return l.jsxs(oe,{space:n?2:3,children:[(i==null?void 0:i.titlePath)&&((r=i.titlePath)==null?void 0:r.length)>1&&l.jsx(M,{marginLeft:4,children:l.jsx(L,{muted:!0,size:n?0:1,children:i.titlePath.slice(0,-1).map((s,a)=>l.jsxs(ie.Fragment,{children:[l.jsx("span",{children:s}),a!==i.titlePath.length-2&&l.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:l.jsx(Rc,{})})]},a))})}),l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(M,{style:{flexShrink:0},children:l.jsx(L,{size:n?1:2,children:l.jsx(v0n,{filter:t})})}),l.jsx(L,{size:n?1:2,weight:"medium",children:l.jsx(ROe,{filter:t})})]})]})}function MOe(e){return h.isValidElement(e)?y0n(bUt(e)):typeof e=="string"?e:""}function y0n(e){var t;return((t=new DOMParser().parseFromString(e,"text/html"))==null?void 0:t.body.textContent)||""}const NO=10;function b0n(e){let{children:t,fieldDefinition:n,filterDefinition:r,visible:o}=e;const{state:{documentTypesNarrowed:i}}=Rt(),s=En(),a=h.useMemo(()=>n!=null&&n.documentTypes?n.documentTypes.map(u=>{const d=s.get(u);return(d==null?void 0:d.title)||un(d==null?void 0:d.name)}).filter(mo).sort():[],[n==null?void 0:n.documentTypes,s]),c=h.useMemo(()=>{if(n!=null&&n.documentTypes){const u=n.documentTypes.map(f=>{const p=s.get(f);if(p){const m=FA(p,n.fieldPath);return(m==null?void 0:m.type.description)&&MOe(m==null?void 0:m.type.description)}return null}).filter(mo).sort(),d=ho(u);if(d.length===1)return d[0]}},[n==null?void 0:n.documentTypes,n==null?void 0:n.fieldPath,s]);return l.jsx(at,{content:l.jsx(ee,{tone:"default",radius:2,style:{maxWidth:"250px"},children:l.jsxs(oe,{padding:3,space:4,children:[n&&l.jsxs(oe,{space:2,children:[l.jsx(Vt,{muted:!0,size:0,children:"Field name"}),l.jsx(Gt,{children:l.jsx(ee,{tone:"caution",padding:1,radius:2,children:l.jsx(ar,{size:0,children:n==null?void 0:n.name})})})]}),c&&l.jsxs(oe,{space:3,children:[l.jsx(Vt,{muted:!0,size:0,children:"Field description"}),l.jsx(L,{muted:!0,size:0,children:ide(c)})]}),(r==null?void 0:r.description)&&l.jsx(L,{muted:!0,size:0,children:ide(r.description)}),!i.length&&a.length>0&&l.jsxs(oe,{space:2,children:[l.jsxs(U,{align:"center",gap:1,children:[l.jsx(Vt,{muted:!0,size:0,children:"Used in document types"}),l.jsx(ee,{padding:1,radius:2,tone:"transparent",children:l.jsx(L,{size:0,muted:!0,children:a.length})})]}),l.jsxs(L,{size:0,weight:"regular",muted:!0,children:[a.slice(0,NO).join(", "),(a==null?void 0:a.length)>NO?" +".concat(a.length-NO," more"):""]})]})]})}),disabled:!o,fallbackPlacements:["left"],placement:"right",portal:!0,children:t})}function ide(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256;return e.length>t?"".concat(e.slice(0,t-1),"…"):e}const x0n=ie.memo(function(t){let{item:n,onClose:r,...o}=t;const[i,s]=h.useState(!1),{dispatch:a,state:{filters:c}}=Rt(),u=h.useCallback(()=>{a({filter:n.filter,type:"TERMS_FILTERS_ADD"}),r==null||r()},[a,n.filter,r]),d=!!c.find(g=>qi(g)===qi(n.filter)),f=h.useRef(),p=h.useCallback(()=>{f.current=setTimeout(()=>s(!0),500)},[]),m=h.useCallback(()=>{s(!1),clearTimeout(f.current)},[]);h.useEffect(()=>()=>clearTimeout(f.current),[]);const v=!!(n.fieldDefinition||n.filterDefinition.description);return l.jsx(M,{...o,children:l.jsx(se,{disabled:d,fontSize:1,justify:"flex-start",mode:"bleed",onClick:d?void 0:u,onMouseEnter:p,onMouseLeave:m,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:n==null?void 0:n.tone,children:l.jsx(b0n,{fieldDefinition:n.fieldDefinition,filterDefinition:n.filterDefinition,visible:v&&i,children:l.jsx(M,{padding:3,children:l.jsx($Oe,{filter:n.filter})})})})})}),w0n=ie.memo(function(t){let{item:n}=t;return l.jsx(M,{paddingTop:1,children:l.jsx(ee,{borderBottom:!0,padding:3,tone:n==null?void 0:n.tone,children:l.jsx(Vt,{muted:!0,size:0,textOverflow:"ellipsis",children:n.title})})})});function C0n(e){let{onClose:t}=e;const[n,r]=h.useState(null),[o,i]=h.useState(""),s=h.useCallback(x=>i(x.currentTarget.value),[i]),a=h.useCallback(()=>i(""),[]),c=En(),{state:{documentTypesNarrowed:u,definitions:d,filters:f,terms:{types:p}}}=Rt(),m=h.useMemo(()=>c0n({documentTypesNarrowed:u,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:c,titleFilter:o,types:p}),[u,d.fields,d.filters,c,o,p]),v=h.useCallback(x=>x.type==="filter"?l.jsx(x0n,{item:x,onClose:t,paddingBottom:1}):x.type==="header"?l.jsx(w0n,{item:x}):null,[t]),g=h.useCallback(x=>{const b=m[x];return b.type!=="filter"||!!f.find(w=>qi(w)===qi(b.filter))},[m,f]),y=h.useCallback(x=>{const b=m[x];switch(b.type){case"filter":return[...b.group?[b.group]:[],qi(b.filter)].join("-");case"header":return"".concat(b.type,"-").concat(b.title);default:return x}},[m]);return l.jsxs(U,{direction:"column",style:{width:"300px"},children:[l.jsx(OOe,{ariaInputLabel:"Filter by title",onChange:s,onClear:a,ref:r,typeFilter:o}),l.jsxs(U,{children:[m.length>0&&l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:"Filters",autoFocus:"input",getItemDisabled:g,getItemKey:y,inputElement:n,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:v}),m.length==0&&l.jsx(M,{padding:3,children:l.jsxs(L,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",o,"'"]})})]})]})}function sde(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),{state:{fullscreen:o}}=Rt(),i=h.useCallback(()=>t(!1),[]),s=h.useCallback(()=>t(!0),[]);return l.jsx(en,{__unstable_margins:[sC,0,0,0],content:l.jsx(AN,{anchorElement:n,onClose:i,children:l.jsx(C0n,{onClose:i})}),open:e,placement:"bottom-start",radius:e1,portal:!0,children:l.jsx(se,{fontSize:1,icon:ko,mode:"bleed",onClick:s,padding:o?3:2,ref:r,selected:e,space:2,text:"Add filter"})})}const _0n=ie.memo(function(t){let{selected:n,type:r,...o}=t;var i,s;const{dispatch:a}=Rt(),c=h.useCallback(()=>{a({type:"TERMS_TYPE_ADD",schemaType:r})},[a,r]),u=h.useCallback(()=>{a({type:"TERMS_TYPE_REMOVE",schemaType:r})},[a,r]),d=h.useCallback(()=>{n?u():c()},[c,u,n]);return l.jsx(M,{...o,children:l.jsx(se,{fontSize:1,iconRight:n&&Js,justify:"flex-start",mode:"bleed",onClick:d,style:{width:"100%"},tabIndex:-1,text:(s=r.title)!=null?s:r.name,tone:n?"primary":"default"},(i=r.title)!=null?i:r.name)})});var ade=Object.freeze,S0n=Object.defineProperty,E0n=(e,t)=>ade(S0n(e,"raw",{value:ade(t||e.slice())})),lde;const k0n=O(M)(lde||(lde=E0n([`
  border-top: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border});function j0n(){const[e,t]=h.useState(null),[n,r]=h.useState(""),o=h.useRef(null),i=En(),{dispatch:s,state:{terms:{types:a}}}=Rt(),[c,u]=h.useState(a),d=A0n(i,a,c,n),f=h.useCallback(b=>r(b.currentTarget.value),[r]),p=h.useCallback(()=>r(""),[]),m=h.useCallback(()=>{var b,w;u([]),s({type:"TERMS_TYPES_CLEAR"}),(b=o==null?void 0:o.current)==null||b.focusInputElement(),(w=o==null?void 0:o.current)==null||w.scrollToIndex(0)},[s]),v=h.useCallback(b=>{const w=d[b];switch(w.type){case"divider":return"".concat(w.type,"-").concat(b);case"header":return"".concat(w.type,"-").concat(w.title);case"item":return"".concat(w.type,"-").concat(w.item.name);default:return b}},[d]),g=h.useCallback(b=>b.type==="divider"?l.jsx(M,{paddingY:1,children:l.jsx(Pr,{})}):b.type==="header"?l.jsx(M,{margin:1,paddingBottom:2,paddingTop:3,children:l.jsx(Vt,{muted:!0,size:0,children:b.title})}):b.type==="item"?l.jsx(_0n,{paddingBottom:1,selected:b.selected,type:b.item}):null,[]),y=h.useCallback(b=>d[b].type!=="item",[d]),x=h.useCallback(b=>{const w=d[b];return w.type==="item"&&w.selected},[d]);return l.jsxs(U,{direction:"column",style:{width:"250px"},children:[l.jsx(OOe,{ariaInputLabel:"Filter by document type",onChange:f,onClear:p,ref:t,typeFilter:n}),l.jsxs(U,{children:[d.length>0&&l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:"Document types",ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:y,getItemSelected:x,getItemKey:v,inputElement:e,itemHeight:37,items:d,overscan:20,padding:1,paddingBottom:0,ref:o,renderItem:g}),!d.length&&l.jsx(M,{padding:3,children:l.jsxs(L,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",n,"'"]})})]}),!n&&a.length>0&&l.jsx(T0n,{onClick:m,selectedTypes:a})]})}function T0n(e){let{onClick:t,selectedTypes:n}=e;return l.jsx(k0n,{padding:1,children:l.jsx(oe,{children:l.jsx(se,{"aria-label":"Clear checked filters","data-name":"type-filter-button",disabled:n.length===0,fontSize:1,mode:"bleed",onClick:t,padding:3,text:"Clear",tone:"primary"})})})}function A0n(e,t,n,r){return h.useMemo(()=>{const[o,i]=U8(npn(e,r),u=>n.includes(u)),s=o.length>0,a=o.length>0,c=[];return s&&c.push({title:"Selected",type:"header"}),o.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),s&&a&&c.push({type:"divider"}),i.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),c},[e,t,n,r])}var cde=Object.freeze,D0n=Object.defineProperty,I0n=(e,t)=>cde(D0n(e,"raw",{value:cde(t||e.slice())})),ude;const P0n=O(se)(e=>{let{theme:t}=e;const{regular:n}=t.sanity.fonts.text.weights;return he(ude||(ude=I0n([`
    [data-ui='Text'] {
      font-weight: `,`;
    }
  `])),n)}),O0n=["top-start","bottom-start"];function R0n(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),[o,i]=h.useState(null),{state:{fullscreen:s,terms:{types:a}}}=Rt(),c=h.useCallback(()=>t(!1),[]),u=h.useCallback(()=>t(!0),[]);ur(c,[n,o]);const d=h.useMemo(()=>yN({types:a}),[a]);return l.jsx(en,{__unstable_margins:[sC,0,0,0],content:l.jsx(AN,{anchorElement:n,onClose:c,children:l.jsx(j0n,{})}),open:e,placement:"bottom-start",fallbackPlacements:O0n,portal:!0,radius:e1,ref:i,children:l.jsx(P0n,{fontSize:1,iconRight:Nl,mode:"ghost",onClick:u,padding:s?3:2,ref:r,selected:e,style:{maxWidth:"100%"},text:d,tone:"default"})})}var dde=Object.freeze,$0n=Object.defineProperty,M0n=(e,t)=>dde($0n(e,"raw",{value:dde(t||e.slice())})),fde;const zO=O(M)(fde||(fde=M0n([`
  flex-shrink: `,`;
`])),e=>{let{$flexShrink:t=0}=e;return t});function FOe(e){let{filter:t,fontSize:n=1,showContent:r=!0}=e;const{state:{definitions:o,fullscreen:i}}=Rt(),s=Bf(o.operators,t.operatorType),a=s==null?void 0:s.buttonValueComponent;return l.jsxs(U,{align:"center",gap:1,children:[l.jsx(zO,{$flexShrink:i?1:0,children:l.jsx(lr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(ROe,{filter:t,maxLength:i?25:40})})}),r&&(s==null?void 0:s.buttonLabel)&&l.jsx(zO,{$flexShrink:0,children:l.jsx(lr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"regular",children:s.buttonLabel})}),r&&a&&l.jsx(zO,{$flexShrink:1,children:l.jsx(lr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(a,{value:t==null?void 0:t.value})})})]})}function F0n(e){return l.jsx(M,{...e,children:l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(lr,{tone:"critical",children:l.jsx(aa,{})}),l.jsxs(oe,{space:4,children:[l.jsx(lr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst displaying this filter."}),l.jsx(lr,{size:1,tone:"critical",children:"This may indicate invalid options defined in your schema."})]})]})})}function L0n(e){let{onClick:t,operator:n,selected:r}=e;const o=h.useCallback(()=>t(n.type),[t,n.type]);return l.jsx(Ve,{onClick:o,padding:3,pressed:r,tone:"default",children:l.jsxs(U,{align:"center",justify:"space-between",gap:3,children:[l.jsx(M,{paddingRight:2,children:l.jsx(L,{size:1,weight:"regular",children:n.label})}),(n==null?void 0:n.icon)&&l.jsx(L,{muted:!0,size:1,children:h.createElement(n.icon)})]})})}function B0n(e){let{filter:t,operator:n}=e;var r;const o=h.useId(),{dispatch:i,state:s}=Rt(),a=(r=dh(s.definitions.filters,t.filterName))==null?void 0:r.operators,c=h.useCallback(u=>{i({filterKey:qi(t),operatorType:u,type:"TERMS_FILTERS_SET_OPERATOR"})},[i,t]);return!n||!a||a.length<=1?null:l.jsx(Gt,{children:l.jsx(tn,{button:l.jsx(se,{mode:"ghost",padding:3,children:l.jsxs(U,{align:"center",gap:2,justify:"space-between",children:[l.jsx(L,{size:s.fullscreen?2:1,weight:"regular",children:n.label}),l.jsx(M,{marginLeft:1,children:l.jsx(L,{size:1,children:l.jsx(Nl,{})})})]})}),id:o||"",menu:l.jsx(Bt,{children:a.map((u,d)=>{if(u.type==="item"){const f=Bf(s.definitions.operators,u.name);return f?l.jsx(L0n,{onClick:c,operator:f,selected:n.type===u.name},d):null}return u.type==="divider"?l.jsx(Pr,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function N0n(e){let{filter:t}=e;const[n,r]=h.useState(null),{dispatch:o,state:{definitions:i,fullscreen:s}}=Rt(),a=dh(i.filters,t.filterName),c=Bf(i.operators,t.operatorType),u=ed(i.fields,t),d=qi(t),f=h.useCallback(()=>{o({filterKey:qi(t),type:"TERMS_FILTERS_REMOVE"})},[o,t]),p=h.useCallback(g=>{o({filterKey:d,type:"TERMS_FILTERS_SET_VALUE",value:g})},[o,d]),m=h.useCallback(g=>{r(g)},[]),v=c==null?void 0:c.inputComponent;return n?l.jsx(F0n,{padding:4}):l.jsx(x0,{onCatch:m,children:l.jsx(eh,{autoFocus:!Zp,returnFocus:!0,children:l.jsxs(U,{direction:"column-reverse",children:[v&&l.jsx(ee,{borderTop:!0,padding:3,children:l.jsx(v,{fieldDefinition:u,onChange:p,value:t.value},t.operatorType)}),l.jsx(ee,{padding:3,children:l.jsxs(oe,{space:3,children:[l.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",children:[l.jsx(M,{paddingBottom:1,paddingLeft:1,paddingRight:2,paddingTop:s?2:1,children:l.jsx($Oe,{filter:t,small:!s})}),s&&l.jsx(se,{fontSize:2,icon:po,mode:"bleed",onClick:f,padding:2,tone:"critical"})]}),(a==null?void 0:a.description)&&l.jsx(ee,{border:!0,padding:3,radius:2,tone:"transparent",children:l.jsx(L,{muted:!0,size:1,children:a.description})}),l.jsx(B0n,{filter:t,operator:c})]})})]})})})}var hde=Object.freeze,z0n=Object.defineProperty,V0n=(e,t)=>hde(z0n(e,"raw",{value:hde(t||e.slice())})),pde;const H0n=O(U)(pde||(pde=V0n([`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`])));function U0n(e){let{filter:t}=e;return l.jsxs(H0n,{direction:"column",children:[l.jsx(N0n,{filter:t}),QPe]})}var mde=Object.freeze,W0n=Object.defineProperty,UA=(e,t)=>mde(W0n(e,"raw",{value:mde(t||e.slice())})),gde,vde,yde,bde;const Y0n=O(se)(gde||(gde=UA([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return"0 ".concat(ye(t.sanity.radius[2])," ").concat(ye(t.sanity.radius[2])," 0")}),q0n=O(ee)(vde||(vde=UA([`
  position: absolute;
  right: 0;
`]))),G0n=O.div(yde||(yde=UA([`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`]))),K0n=O(se)(bde||(bde=UA([`
  border: none;
  width: 100%;
`])));function Z0n(e){let{filter:t,initialOpen:n}=e;const[r,o]=h.useState(n),{dispatch:i,state:{definitions:s,fullscreen:a}}=Rt(),c=h.useCallback(()=>o(!1),[]),u=h.useCallback(()=>o(!0),[]),d=h.useCallback(()=>i({filterKey:qi(t),type:"TERMS_FILTERS_REMOVE"}),[i,t]),f=h.useCallback(m=>{["Backspace","Delete"].includes(m.key)&&d()},[d]),p=lC({fieldDefinitions:s.fields,filter:t,filterDefinitions:s.filters,operatorDefinitions:s.operators});return l.jsx(en,{__unstable_margins:[sC,0,0,0],content:l.jsx(AN,{onClose:c,children:l.jsx(U0n,{filter:t})}),constrainSize:!0,open:r,overflow:"auto",placement:"bottom-start",portal:!0,radius:e1,children:l.jsxs(G0n,{children:[l.jsx(ee,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(K0n,{mode:"bleed",onClick:u,onKeyDown:f,paddingLeft:a?3:2,paddingRight:a?3:5,paddingY:a?3:2,children:l.jsx(FOe,{filter:t,showContent:p})})}),!a&&l.jsx(q0n,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(Y0n,{"aria-label":"Delete filter",fontSize:1,icon:Ti,mode:"bleed",onClick:d,onKeyDown:f,padding:2,radius:2})})]})})}function LOe(){const{dispatch:e,state:{filters:t,fullscreen:n,lastAddedFilter:r,terms:{types:o}}}=Rt(),i=h.useRef(!1),s=h.useCallback(()=>{e({type:"TERMS_FILTERS_CLEAR"}),e({type:"TERMS_TYPES_CLEAR"})},[e]),a=t.length>0||o.length>0;h.useEffect(()=>{i.current=!0},[]);const c=r&&qi(r),u=()=>l.jsx(se,{fontSize:1,mode:"bleed",onClick:s,padding:n?3:2,text:"Clear filters",tone:"critical"});return l.jsxs(l.Fragment,{children:[l.jsxs(U,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[l.jsxs(U,{flex:1,gap:2,wrap:"wrap",children:[l.jsx(R0n,{}),t==null?void 0:t.map(d=>{const f=qi(d);return l.jsx(Z0n,{filter:d,initialOpen:i.current&&c===f},f)}),!n&&l.jsx(sde,{})]}),a&&!n&&l.jsx(u,{})]}),n&&l.jsxs(U,{justify:"space-between",paddingBottom:2,paddingX:2,children:[l.jsx(sde,{}),a&&l.jsx(u,{})]}),QPe]})}function X0n(){return l.jsx(U,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:l.jsxs(Gt,{space:3,children:[l.jsx(L,{muted:!0,children:"Use"}),l.jsx(L,{muted:!0,children:l.jsx(J5,{})}),l.jsx(L,{muted:!0,children:"to refine your search"})]})})}function Q0n(e){let{availableCharacters:t,types:n}=e;const r=h.useMemo(()=>yN({availableCharacters:t,types:n}),[t,n]);return l.jsx(ee,{border:!0,padding:2,radius:2,children:l.jsx(L,{muted:!0,size:1,children:r})})}var xde=Object.freeze,J0n=Object.defineProperty,e1n=(e,t)=>xde(J0n(e,"raw",{value:xde(t||e.slice())})),wde;const t1n=O(ee)(wde||(wde=e1n([`
  cursor: default;
`])));function n1n(e){let{filter:t}=e;return l.jsx(t1n,{border:!0,padding:2,radius:2,tone:"primary",children:l.jsx(FOe,{filter:t})})}var Cde=Object.freeze,r1n=Object.defineProperty,WA=(e,t)=>Cde(r1n(e,"raw",{value:Cde(t||e.slice())})),_de,Sde,Ede,kde;const o1n=40,BOe=O(se)(_de||(_de=WA([`
  border-radius: `,`;
  cursor: default;
  width: 100%;
`])),e=>{let{theme:t}=e;return ye(t.sanity.radius[2])}),i1n=O(M)(Sde||(Sde=WA([`
  flex-shrink: 3;
`]))),s1n=O(M)(Ede||(Ede=WA([`
  flex-shrink: 2;
`]))),a1n=O.div(kde||(kde=WA([`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    `,`:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`])),BOe);function l1n(e){let{index:t,maxVisibleTypePillChars:n=o1n,value:r,...o}=e;var i;const{dispatch:s,recentSearchesStore:a}=Rt(),c=n-r.query.length,u=h.useCallback(()=>{if(s({type:"TERMS_SET",filters:r==null?void 0:r.filters,terms:r}),a){const f=a==null?void 0:a.addSearch(r,r==null?void 0:r.filters);s({recentSearches:f,type:"RECENT_SEARCHES_SET"})}},[s,a,r]),d=h.useCallback(f=>{if(f.stopPropagation(),a){const p=a==null?void 0:a.removeSearchAtIndex(t);s({recentSearches:p,type:"RECENT_SEARCHES_SET"})}},[s,t,a]);return l.jsx(M,{...o,children:l.jsx(BOe,{mode:"bleed",onClick:u,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:l.jsxs(U,{align:"stretch",children:[l.jsxs(Gt,{paddingY:2,children:[l.jsx(L,{muted:!0,size:1,children:l.jsx(l0e,{})}),l.jsx(L,{children:"​"})]}),l.jsxs(U,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[r.query&&l.jsx(s1n,{paddingY:2,children:l.jsx(L,{muted:!0,textOverflow:"ellipsis",children:r.query})}),r.types.length>0&&l.jsx(i1n,{children:l.jsx(Q0n,{availableCharacters:c,types:r.types})}),(i=r==null?void 0:r.filters)==null?void 0:i.map((f,p)=>l.jsx(n1n,{filter:f},p))]}),l.jsx(U,{align:"center",children:l.jsx(a1n,{onClick:d,children:l.jsx(U,{padding:2,children:l.jsx(L,{size:1,children:l.jsx(Ti,{})})})})})]})})})}var jde=Object.freeze,c1n=Object.defineProperty,u1n=(e,t)=>jde(c1n(e,"raw",{value:jde(t||e.slice())})),Tde;const d1n=36,f1n=20,h1n=40,p1n=O(ee)(Tde||(Tde=u1n([`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`])));function NOe(e){let{inputElement:t}=e;const{dispatch:n,recentSearchesStore:r,state:{filtersVisible:o,fullscreen:i,recentSearches:s}}=Rt(),a=h.useRef(null),c=h.useCallback(()=>{var m;if(r){const v=r.removeSearch();n({recentSearches:v,type:"RECENT_SEARCHES_SET"})}(m=a==null?void 0:a.current)==null||m.focusInputElement()},[n,r]),u=pm(),d=h.useMemo(()=>u<2?f1n:h1n,[u]),f=h.useCallback((m,v)=>{let{virtualIndex:g}=v;return l.jsx(l1n,{index:g,maxVisibleTypePillChars:d,paddingBottom:1,value:m})},[d]),p=!!s.length;return l.jsx(p1n,{borderTop:p||!p&&!o&&i,flex:1,children:s.length?l.jsxs(l.Fragment,{children:[l.jsx(M,{paddingBottom:2,paddingTop:4,paddingX:3,children:l.jsx(Vt,{muted:!0,size:1,children:"Recent searches"})}),l.jsx(M,{children:l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:"Recent searches",inputElement:t,initialIndex:0,itemHeight:d1n,items:s,paddingX:2,paddingY:1,renderItem:f})}),l.jsx(M,{paddingBottom:2,paddingTop:1,paddingX:2,children:l.jsx(se,{fontSize:1,justify:"flex-start",mode:"bleed",onClick:c,padding:2,tone:"default",children:l.jsx(L,{muted:!0,size:1,children:"Clear recent searches"})})})]}):!o&&i&&l.jsx(X0n,{})})}var Ade=Object.freeze,m1n=Object.defineProperty,YA=(e,t)=>Ade(m1n(e,"raw",{value:Ade(t||e.slice())})),Dde,Ide,Pde,Ode;const g1n=am(Dde||(Dde=YA([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),v1n=O(Qx)(Ide||(Ide=YA([`
  animation: `,` 500ms linear infinite;
`])),g1n),y1n=O(M)(Pde||(Pde=YA([`
  position: relative;
`]))),b1n=O.div(Ode||(Ode=YA([`
  background: `,`;
  border-radius: 100%;
  height: 6px;
  position: absolute;
  right: 2px;
  top: 2px;
  width: 6px;
`])),e=>{let{theme:t}=e;var n;return(n=t.sanity.color.selectable)==null?void 0:n.primary.enabled.fg}),zOe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onClose:o}=t;const i=h.useRef(!1),{dispatch:s,state:{filters:a,filtersVisible:c,fullscreen:u,result:{loading:d},terms:{types:f,query:p}}}=Rt(),m=h.useCallback(()=>s({type:"FILTERS_VISIBLE_SET",visible:!c}),[s,c]),v=h.useCallback(x=>s({type:"TERMS_QUERY_SET",query:x.currentTarget.value}),[s]),g=h.useCallback(()=>{s({type:"TERMS_QUERY_SET",query:""})},[s]);h.useEffect(()=>{u||s({type:"FILTERS_VISIBLE_SET",visible:!0})},[s,u]),h.useEffect(()=>{i.current=!0},[]);const y=a.length>0||f.length>0;return l.jsx(ee,{flex:"none",children:l.jsxs(U,{align:"center",flex:1,gap:u?2:1,padding:u?2:1,children:[u&&l.jsx(ee,{children:l.jsx(se,{"aria-label":"Close search",icon:Zx,mode:"bleed",onClick:o})}),l.jsx(M,{flex:1,children:l.jsx(SN,{"aria-label":r,autoComplete:"off",background:u,border:!1,clearButton:!!p,fontSize:2,icon:d?v1n:ei,onChange:v,onClear:g,placeholder:"Search",radius:u?2:1,ref:n,smallClearButton:u,spellCheck:!1,value:p})}),u&&l.jsxs(y1n,{children:[l.jsx(se,{"aria-expanded":c,"aria-label":"Toggle filters",height:"fill",icon:J5,mode:"bleed",onClick:m,padding:3,selected:c,tone:"default"}),y&&l.jsx(b1n,{})]})]})})});function x1n(){return l.jsx(Qr,{width:0,children:l.jsxs(oe,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[l.jsx(L,{align:"center",muted:!0,weight:"semibold",children:"No results found"}),l.jsx(L,{align:"center",muted:!0,size:1,children:"Try another keyword or adjust your filters"})]})})}function w1n(){return l.jsxs(U,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[l.jsx(M,{marginBottom:1,children:l.jsx(lr,{tone:"critical",children:l.jsx(Fr,{})})}),l.jsx(lr,{size:2,tone:"critical",weight:"semibold",children:"Something went wrong while searching"}),l.jsx(lr,{size:1,tone:"critical",children:"Please try again or check your connection"})]})}const Kh={createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},title:"Created: Oldest first"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},title:"Created: Newest first"},relevance:{customMeasurementLabel:"relevance",sort:{direction:"desc",field:"_updatedAt"},title:"Best match"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},title:"Updated: Oldest first"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},title:"Updated: Newest first"}};var Rde=Object.freeze,C1n=Object.defineProperty,_1n=(e,t)=>Rde(C1n(e,"raw",{value:Rde(t||e.slice())})),$de;const Mde=[Kh.relevance,{type:"divider"},Kh.createdAsc,Kh.createdDesc,{type:"divider"},Kh.updatedAsc,Kh.updatedDesc],S1n=O(U)($de||($de=_1n([`
  box-sizing: border-box;
`])));function Fde(e){return e.type==="divider"}function E1n(e){let{ordering:t}=e;const{dispatch:n,state:{ordering:r}}=Rt(),o=h.useCallback(()=>{n({ordering:t,type:"ORDERING_SET"})},[n,t]),i=h.useMemo(()=>Ht(r,t),[r,t]);return l.jsx(Ve,{onClick:o,padding:3,pressed:i,tone:"default",children:l.jsx(U,{align:"center",justify:"space-between",paddingRight:2,children:l.jsx(L,{size:1,weight:"medium",children:t.title})})})}function k1n(){const{state:{ordering:e}}=Rt(),t=h.useId(),n=Mde.find(r=>Ht(e,r)&&!Fde(r));return n?l.jsx(ee,{borderBottom:!0,children:l.jsx(S1n,{align:"center",flex:1,padding:2,children:l.jsx(tn,{button:l.jsx(se,{mode:"bleed",padding:2,children:l.jsxs(U,{align:"center",gap:1,justify:"space-between",children:[l.jsx(M,{marginRight:1,children:l.jsx(L,{size:1,children:l.jsx(MF,{})})}),l.jsx(Gt,{space:2,children:l.jsx(L,{size:1,weight:"medium",children:n.title})})]})}),id:t||"",menu:l.jsx(Bt,{children:Mde.map((r,o)=>Fde(r)?l.jsx(Pr,{},o):l.jsx(E1n,{ordering:r},o))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}var Lde=Object.freeze,j1n=Object.defineProperty,T1n=(e,t)=>Lde(j1n(e,"raw",{value:Lde(t||e.slice())})),Bde;const A1n=O(ee)(Bde||(Bde=T1n([`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`])));function D1n(e){let{data:t}=e;const{score:n}=t;let r="default";n<=.1?r="critical":n>=.5&&(r="primary");const o=t.stories.filter(i=>i.score>0);return l.jsx(l.Fragment,{children:l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(oe,{space:2,children:o.length?l.jsx(l.Fragment,{children:o.map(i=>l.jsxs(Gt,{space:3,children:[l.jsx(ar,{size:0,weight:"semibold",children:i.path}),l.jsx(ar,{size:0,children:i.why})]},i.path))}):l.jsx(ar,{size:0,children:"No matches"})})}),placement:"bottom-start",portal:!0,children:l.jsx(A1n,{padding:1,shadow:1,tone:r,children:l.jsxs(ar,{size:0,children:["score: ",n]})})})})}var Nde=Object.freeze,I1n=Object.defineProperty,P1n=(e,t)=>Nde(I1n(e,"raw",{value:Nde(t||e.slice())})),zde;const O1n=59,R1n=4,$1n=O(U)(zde||(zde=P1n([`
  opacity: `,`;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`])),e=>{let{$loading:t}=e;return t?.5:1});function VOe(e){let{inputElement:t}=e;const{dispatch:n,onClose:r,recentSearchesStore:o,setSearchCommandList:i,state:{debug:s,filters:a,fullscreen:c,lastActiveIndex:u,result:d,terms:f}}=Rt(),p=!!d.hits.length,m=!d.hits.length&&d.loaded,v=d.error,g=h.useCallback(()=>{if(o){const x=o.addSearch(f,a);n({recentSearches:x,type:"RECENT_SEARCHES_SET"})}r==null||r()},[n,a,r,o,f]),y=h.useCallback(x=>l.jsxs(l.Fragment,{children:[l.jsx(vN,{documentId:On(x.hit._id)||"",documentType:x.hit._type,onClick:g,paddingBottom:2}),s&&l.jsx(D1n,{data:x})]}),[s,g]);return l.jsx(U,{children:l.jsx(ee,{borderTop:c||!!(v||p||m),flex:1,children:l.jsxs(U,{direction:"column",height:"fill",children:[p&&l.jsx(k1n,{}),l.jsx($1n,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:v?l.jsx(w1n,{}):l.jsxs(l.Fragment,{children:[p&&l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:"Search results",fixedHeight:!0,initialIndex:u,inputElement:t,itemHeight:O1n,items:d.hits,overscan:R1n,padding:2,paddingBottom:0,ref:i,renderItem:y}),m&&l.jsx(x1n,{})]})})]})})})}var Vde=Object.freeze,M1n=Object.defineProperty,HOe=(e,t)=>Vde(M1n(e,"raw",{value:Vde(t||e.slice())})),Hde,Ude;const F1n=O(ee)(Hde||(Hde=HOe([`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`]))),L1n=O(M)(Ude||(Ude=HOe([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`])));function B1n(e){let{onClose:t,onOpen:n,open:r}=e;const[o,i]=h.useState(null),{scheme:s}=Wc(),{state:{filtersVisible:a,terms:c}}=Rt(),u=LA({terms:c});return l.jsx(IOe,{hasValidTerms:u,onClose:t,onOpen:n,open:r,children:l.jsx(vm,{children:l.jsx(eh,{autoFocus:!Zp,returnFocus:!0,children:l.jsx(L1n,{children:l.jsxs(F1n,{display:"flex",height:"fill",scheme:s,tone:"default",children:[l.jsx(zOe,{ariaInputLabel:u?"Search results":"Recent searches",onClose:t,ref:i}),a&&l.jsx(ee,{borderTop:!0,flex:"none",children:l.jsx(LOe,{})}),u?l.jsx(VOe,{inputElement:o}):l.jsx(NOe,{inputElement:o})]})})})})})}var Wde=Object.freeze,N1n=Object.defineProperty,DN=(e,t)=>Wde(N1n(e,"raw",{value:Wde(t||e.slice())})),Yde,qde,Gde;const z1n=O(U)(Yde||(Yde=DN([`
  position: absolute;
  right: 0;
  top: 0;

  & > :first-child {
    margin-right: 1px;
  }
`]))),V1n=O(U)(qde||(qde=DN([`
  min-width: 253px;
  max-width: 350px;
  position: relative;
`]))),H1n=O(Mr)(Gde||(Gde=DN([`
  padding-right: 60px;
`]))),U1n=h.forwardRef(function(t,n){let{onOpen:r}=t;const{dispatch:o,state:{terms:i}}=Rt(),s=h.useCallback(c=>{o({type:"TERMS_QUERY_SET",query:c.currentTarget.value}),r()},[o,r]),a=h.useCallback(c=>{c.key==="Enter"&&r()},[r]);return l.jsxs(V1n,{align:"center",children:[l.jsx(H1n,{"aria-autocomplete":"list","aria-expanded":"false",autoComplete:"off",icon:ei,"data-testid":"studio-search",onChange:s,onClick:r,onKeyDown:a,placeholder:"Search",radius:2,ref:n,role:"combobox",value:i.query}),l.jsxs(z1n,{align:"center",height:"fill",marginRight:2,children:[l.jsx(VR,{children:epn}),l.jsx(VR,{children:JPe.toUpperCase()})]})]})});var Kde=Object.freeze,W1n=Object.defineProperty,AS=(e,t)=>Kde(W1n(e,"raw",{value:Kde(t||e.slice())})),Zde,Xde,Qde,Jde;const Y1n=O.div(Zde||(Zde=AS([`
  background-color: `,`;
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.shadow.ambient}),q1n=O(ee)(Jde||(Jde=AS([`
  `,`
  display: flex !important;
  flex-direction: column;
  max-height: `,`;
  position: absolute;
  top: `,`px;
  width: min(calc(100vw - `,"px), ",`px);
`])),e=>{let{$position:t}=e;return t.x?he(Xde||(Xde=AS([`
          left: `,`px;
        `])),t.x):he(Qde||(Qde=AS([`
          left: 50%;
          transform: translateX(-50%);
        `])))},e=>{let{$position:t}=e;return"min(calc(100vh - ".concat(t.y,"px - ").concat(Px,"px), ").concat(tpn,"px)")},e=>{let{$position:t}=e;return t.y},Px*2,eOe);function G1n(e){let{disableFocusLock:t,onClose:n,onOpen:r,open:o,position:i}=e;const[s,a]=h.useState(null),[c,u]=h.useState(null),{isTopLayer:d,zIndex:f}=ua(),{scheme:p}=Wc(),{onClose:m,state:{filtersVisible:v,terms:g}}=Rt(),y=LA({terms:g}),x=h.useCallback(()=>{d&&m&&o&&m()},[d,m,o]);return ur(x,[s]),l.jsx(IOe,{hasValidTerms:y,onClose:n,onOpen:r,open:o,children:l.jsx(vm,{children:l.jsxs(eh,{autoFocus:!Zp,disabled:t,returnFocus:!0,children:[l.jsx(Y1n,{style:{zIndex:f}}),l.jsxs(q1n,{$position:i,overflow:"hidden",radius:e1,ref:a,scheme:p,shadow:2,style:{zIndex:f},children:[l.jsx(zOe,{ariaInputLabel:y?"Search results":"Recent searches",onClose:n,ref:u}),v&&l.jsx(ee,{borderTop:!0,flex:"none",children:l.jsx(LOe,{})}),y?l.jsx(VOe,{inputElement:c}):l.jsx(NOe,{inputElement:c})]})]})})})}function K1n(){const[e,t]=h.useState(null),[n,r]=h.useState(!1),o=h.useCallback(()=>r(!1),[]),i=h.useCallback(()=>r(!0),[]),s=Z1n(e);return l.jsxs(l.Fragment,{children:[l.jsx(U1n,{onOpen:i,ref:t}),s&&l.jsx(G1n,{onClose:o,onOpen:i,open:n,position:s})]})}function efe(e){const t=e.getBoundingClientRect();return{x:window.innerWidth-t.x>eOe?t.x-Px:null,y:t.y-Px}}function Z1n(e){const[t,n]=h.useState(null),r=h.useCallback(()=>{e&&n(efe(e))},[e]);return h.useEffect(()=>{e&&n(efe(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}const X1n="search::recent",Q1n=5,Rx=2;function J1n(e){let{dataset:t,fieldDefinitions:n,filterDefinitions:r,operatorDefinitions:o,projectId:i,schema:s,user:a,version:c=Rx}=e;if(!t||!i||!UOe||!a)return;const u="".concat(X1n,"__").concat(i,":").concat(t,":").concat(a.id);return{addSearch:(d,f)=>{const m=(f||[]).map(x=>({fieldId:x.fieldId,filterName:x.filterName,operatorType:x.operatorType,value:x.value})).filter(x=>lC({fieldDefinitions:n,filter:x,filterDefinitions:r,operatorDefinitions:o})),v={created:new Date().toISOString(),filters:m,terms:{query:d.query.trim(),typeNames:d.types.map(x=>x.name)}},g=JSON.stringify(Pi(v,"created")),y={version:c,recentSearches:[v,...bb(u,c).recentSearches.filter(x=>JSON.stringify(Pi(x,"created"))!==g)].slice(0,Q1n)};return window.localStorage.setItem(u,JSON.stringify(y)),ey({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},getRecentSearches:()=>ey({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c}),removeSearch:()=>{const f={...bb(u,c),recentSearches:[]};return window.localStorage.setItem(u,JSON.stringify(f)),ey({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},removeSearchAtIndex:d=>{const f=bb(u,c);if(d<0||d>f.recentSearches.length)return ey({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c});const p={...f,recentSearches:[...f.recentSearches.slice(0,d),...f.recentSearches.slice(d+1)]};return window.localStorage.setItem(u,JSON.stringify(p)),ey({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})}}}function bb(e,t){const n=UOe?window.localStorage.getItem(e):void 0;return n?JSON.parse(n):{version:t,recentSearches:[]}}function ey(e){let{lsKey:t,schema:n,fieldDefinitions:r,filterDefinitions:o,operatorDefinitions:i,version:s}=e;const a=eyn({lsKey:t,storedSearch:bb(t,s)});return tyn({studioSchema:n,storedSearch:a,lsKey:t,filterDefinitions:o,fieldDefinitions:r,operatorDefinitions:i,version:s}).recentSearches.filter(c=>!!c.terms).map((c,u)=>({__recent:{index:u,timestamp:new Date(c.created).getTime()},filters:c.filters,query:c.terms.query,types:c.terms.typeNames.map(d=>n.get(d)).filter(d=>!!(d&&d.jsonType==="object"))}))}function eyn(e){let{lsKey:t,storedSearch:n}=e;if(n.version!==Rx){const r={version:Rx,recentSearches:[]};return window.localStorage.setItem(t,JSON.stringify(r)),r}return n}function tyn(e){let{fieldDefinitions:t,filterDefinitions:n,lsKey:r,operatorDefinitions:o,storedSearch:i,studioSchema:s,version:a}=e;const c=BA(s).map(f=>f.name),u=i.recentSearches.filter(f=>f.terms.typeNames.every(p=>c.includes(p))&&f.filters.every(p=>lC({fieldDefinitions:t,filter:p,filterDefinitions:n,operatorDefinitions:o}))),d={version:Rx,recentSearches:u};return d.recentSearches.length<i.recentSearches.length&&window.localStorage.setItem(r,JSON.stringify(d)),bb(r,a)}const UOe=(()=>{const e="__tmp__can_use";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),nyn=3;function ryn(e,t){var n;const r=BA(e).map(a=>a.name),{documentTypes:o,objectTypes:i}=(((n=e._original)==null?void 0:n.types)||[]).filter(a=>tfe(a)?r.includes(a.name):!0).filter(a=>a.name!=="slug").filter(a=>!a.name.startsWith("sanity.")).reduce((a,c)=>(tfe(c)&&(a.documentTypes[c.name]=c),YOe(c)&&(a.objectTypes[c.name]=c),a),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},s=zhn(t);return syn(s,o,i)}function oyn(e){return e.reduce((t,n)=>(t[n.id]=n,t),{})}function iyn(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function syn(e,t,n){function r(i){let{acc:s,defType:a,depth:c=0,documentType:u,prevFieldPath:d,prevTitlePath:f}=i;var p;const m=c<=nyn,v=a.name.startsWith("_"),g=a!=null&&a.title?MOe(a.title):un(a.name),y=d?"".concat(d,".").concat(a.name):a.name,x=f?[...f,g]:[g];if(!m)return;const b=n[a.type],w=t[a.type],C=YOe(a)?a:null,_=w||b||C;if(_){(p=_==null?void 0:_.fields)==null||p.forEach(S=>r({acc:s,defType:S,depth:c+1,documentType:u,prevFieldPath:y,prevTitlePath:x}));return}e.includes(a.type)&&s.push({documentTypes:u&&!v?[u]:[],fieldPath:y,filterName:dyn(a),id:"",name:a.name,titlePath:x,title:g,type:a.type})}return Object.values(t).reduce((i,s)=>{const a=s.fields.reduce((c,u)=>(r({acc:c,defType:u,documentType:s.name}),c),[]);return i.push(...a),i},[]).reduce((i,s)=>{const a=i.findIndex(c=>c.fieldPath===s.fieldPath&&c.title===s.title&&c.type===s.type);return a>-1?i[a]={...i[a],documentTypes:[...i[a].documentTypes,...s.documentTypes]}:i.push(s),i},[]).map(ayn).sort(fyn)}function ayn(e){return{...e,id:iyn(e)}}function lyn(e){var t;return WOe(e)?e.of.every(n=>["boolean","number","string"].includes(n.type))&&((t=e.options)!=null&&t.list?e.options.list.length>0:!1):!1}function WOe(e){return e.type==="array"}function tfe(e){return e.type==="document"}function YOe(e){return e.type==="object"}function cyn(e){return e.type==="string"}function uyn(e){var t;return cyn(e)&&(t=e.options)!=null&&t.list?e.options.list.length>0:!1}function dyn(e){if(uyn(e))return"stringList";if(WOe(e)){if(e.of.some(t=>t.type==="reference"))return"arrayReferences";if(e.of.find(t=>t.type==="block"))return"portableText";if(lyn(e))return"arrayList"}return e.type}function fyn(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}function qOe(e){return typeof e.__recent<"u"}const E4="core:studio:navbar:search:";xs(E4);function hyn(e){const t="".concat(E4).concat(e);return xs&&xs.enabled(t)?xs(t):xs(E4)}function pyn(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(Jhn)}function myn(e){let{currentUser:t,fullscreen:n,recentSearches:r=[],definitions:o}=e;return{currentUser:t,debug:pyn(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:n,lastActiveIndex:-1,ordering:Kh.relevance,pageIndex:0,recentSearches:r,result:{error:null,hasMore:null,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:o}}const gyn=hyn("reducer");function vyn(e,t){let n="🔍";switch(t.type.startsWith("SEARCH_REQUEST")&&(n="🚨"),t.type.startsWith("RECENT_SEARCHES")&&(n="💾"),gyn(n,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:Kh.relevance,terms:Eh(e.terms)};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:Eh(e.terms)};case"PAGE_INCREMENT":return{...e,pageIndex:e.pageIndex+1,terms:Eh(e.terms)};case"RECENT_SEARCHES_SET":return{...e,recentSearches:t.recentSearches};case"SEARCH_CLEAR":return{...e,pageIndex:0,result:{...e.result,hasMore:null,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,result:{...e.result,error:null,hasMore:t.hits.length>0,hits:e.pageIndex>0?[...e.result.hits,...t.hits]:t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const r={...t.filter,value:Qvn(e.definitions.operators,t.filter.operatorType)},o=[...e.filters,r];return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,lastAddedFilter:r,terms:{...e.terms,filter:_h({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,terms:{...e.terms,filter:_h({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_REMOVE":{const r=e.filters.findIndex(i=>qi(i)===t.filterKey),o=[...e.filters.slice(0,r),...e.filters.slice(r+1)];return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,terms:{...e.terms,filter:_h({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_OPERATOR":{const r=e.filters.find(u=>qi(u)===t.filterKey),o=Bf(e.definitions.operators,r==null?void 0:r.operatorType),i=Bf(e.definitions.operators,t.operatorType),s=i==null?void 0:i.initialValue,a=(o==null?void 0:o.inputComponent)!=(i==null?void 0:i.inputComponent),c=e.filters.map(u=>qi(u)===t.filterKey?{...u,operatorType:t.operatorType,...a?{value:s}:{}}:u);return{...e,filters:c,terms:{...e.terms,filter:_h({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:c,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_VALUE":{const r=e.filters.map(o=>qi(o)===t.filterKey?{...o,value:t.value}:o);return{...e,filters:r,terms:{...e.terms,filter:_h({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_QUERY_SET":return{...e,pageIndex:0,result:{...e.result,loaded:!1},terms:Eh({...e.terms,query:t.query})};case"TERMS_SET":{const r=t.filters||[],o=[...e.terms.types||[],...t.terms.types].sort(w4);return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:r,types:o}),filters:r,lastAddedFilter:null,pageIndex:0,result:{...e.result,loaded:!1},terms:{...t.terms,filter:_h({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const r=[...e.terms.types||[],t.schemaType].sort(w4),o=Sh({fieldDefinitions:e.definitions.fields,filters:[],types:r}),i=e.filters.filter(s=>{const a=ed(e.definitions.fields,s);return a?a.documentTypes.length===0?!0:o.every(c=>a.documentTypes.findIndex(u=>u===c)>-1):!0});return{...e,documentTypesNarrowed:o,filters:i,pageIndex:0,result:{...e.result,loaded:!1},terms:Eh({...e.terms,filter:_h({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:i}),types:r})}}case"TERMS_TYPE_REMOVE":{const r=(e.terms.types||[]).filter(o=>o!==t.schemaType);return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Eh({...e.terms,types:r})}}case"TERMS_TYPES_CLEAR":{const r=[];return{...e,documentTypesNarrowed:Sh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Eh({...e.terms,types:[]})}}default:return e}}function Eh(e){if(qOe(e)){const{__recent:t,...n}=e;return n}return e}function yyn(e){let{children:t,fullscreen:n}=e;const r=h.useRef(null),[o,i]=h.useState(null),s=pr(an),a=En(),c=Uo(),{search:{operators:u,filters:d}}=Mn(),{dataset:f,projectId:p}=s.config(),{fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g}=h.useMemo(()=>({fieldDefinitions:oyn(ryn(a,d)),filterDefinitions:Nhn(d),operatorDefinitions:Xvn(u)}),[d,u,a]),y=h.useMemo(()=>J1n({dataset:f,fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g,projectId:p,schema:a,user:c,version:Rx}),[c,f,m,v,g,p,a]),x=h.useMemo(()=>y==null?void 0:y.getRecentSearches(),[y]),b=h.useMemo(()=>myn({currentUser:c,fullscreen:n,recentSearches:x,definitions:{fields:m,operators:g,filters:v}}),[c,m,v,n,g,x]),[w,C]=h.useReducer(vyn,b),{documentTypesNarrowed:_,filters:S,ordering:E,pageIndex:j,result:k,terms:T}=w,A=h.useRef(!1),D=h.useRef(b.ordering),I=h.useRef(b.pageIndex),P=h.useRef(b.terms),{handleSearch:$,searchState:R}=tOe({initialState:{...k,terms:T},onComplete:H=>C({hits:H,type:"SEARCH_REQUEST_COMPLETE"}),onError:H=>C({error:H,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>C({type:"SEARCH_REQUEST_START"}),schema:a}),V=LA({terms:T}),N=_.map(H=>a.get(H)),W=S.filter(H=>lC({fieldDefinitions:m,filter:H,filterDefinitions:v,operatorDefinitions:g})),G=h.useCallback(H=>{r.current=H},[]);return h.useEffect(()=>{const H=!Ht(E,D.current),q=j!==I.current,X=!Ht(T,P.current);if(H||q||X){const B=(E==null?void 0:E.customMeasurementLabel)||"".concat(E.sort.field," ").concat(E.sort.direction);$({options:{comments:[...qOe(T)?["findability-recent-search:".concat(T.__recent.index)]:[],"findability-selected-types:".concat(T.types.length),"findability-sort:".concat(B),"findability-source: global","findability-filter-count:".concat(W.length)],limit:_ce,offset:j*_ce,skipSortByScore:E.ignoreScore,sort:[E.sort]},terms:{...T,...N?{types:N}:{}}}),I.current=j}D.current=E,P.current=T},[W.length,S,N,$,V,E,j,R.terms,T]),h.useEffect(()=>{!V&&(A!=null&&A.current)&&k.hits.length>0&&C({type:"SEARCH_CLEAR"}),A.current=!0},[C,V,k.hits,T.query,T.types]),l.jsx(KPe.Provider,{value:{dispatch:C,onClose:r==null?void 0:r.current,recentSearchesStore:y,searchCommandList:o,setSearchCommandList:i,setOnClose:G,state:{...w,fullscreen:n}},children:t})}const GOe="3.20.1";function byn(e){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:["sanity@".concat(GOe)]},tag:"module.version-check",json:!0}).pipe(ue(n=>({...n})))}function xyn(){const e=pr({apiVersion:"1"}),t=h.useMemo(()=>byn(e),[e]);return bAe(t)}function wyn(e){let{error:t,isLoading:n,value:r}=e;var o;const i=(o=r==null?void 0:r.resources)==null?void 0:o.sectionArray,s=r==null?void 0:r.latestVersion;return n?l.jsx(U,{align:"center",justify:"center",padding:3,children:l.jsx(fr,{})}):l.jsxs(l.Fragment,{children:[(r===void 0||t)&&l.jsx("div",{children:Cyn}),!t&&(i==null?void 0:i.map(a=>a?l.jsx(_yn,{subSection:a},a._key):null)),l.jsxs(M,{padding:3,children:[l.jsxs(L,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:["Sanity Studio version ",GOe]}),!t&&s&&l.jsx(M,{paddingTop:2,children:l.jsxs(L,{size:1,muted:!0,textOverflow:"ellipsis",children:["Latest version is ",s]})})]})]})}const Cyn=l.jsxs(l.Fragment,{children:[l.jsx(Ve,{as:"a",text:"Join our community",size:0,href:"https://www.sanity.io/exchange/community",target:"_blank",muted:!1}),l.jsx(Ve,{as:"a",text:"Help and support",size:0,href:"https://www.sanity.io/contact/support",target:"_blank",muted:!1}),l.jsx(Ve,{as:"a",text:"Contact sales",size:0,href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank",muted:!1}),l.jsx(Pr,{})]});function _yn(e){let{subSection:t}=e;var n;return l.jsxs(l.Fragment,{children:[t.sectionTitle&&l.jsx(ee,{padding:2,paddingTop:3,marginLeft:1,children:l.jsx(Vt,{muted:!0,size:1,children:t.sectionTitle})}),(n=t==null?void 0:t.items)==null?void 0:n.map(r=>{if(!r||!r.title)return null;switch(r._type){case"externalLink":return r.url?l.jsx(Ve,{as:"a",tone:"default",text:r.title,size:0,href:r.url,target:"_blank"},r._key):null;case"internalAction":return r.type?r.type==="show-welcome-modal"&&l.jsx(Ve,{text:r.title,size:0},r._key):null;default:return null}}),l.jsx(Pr,{})]})}var nfe=Object.freeze,Syn=Object.defineProperty,Eyn=(e,t)=>nfe(Syn(e,"raw",{value:nfe(t||e.slice())})),rfe;const kyn=O(Bt)(rfe||(rfe=Eyn([`
  max-width: 300px;
  min-width: 200px;
`])));function jyn(){const{scheme:e}=Wc(),[t,n]=h.useState(!1),{value:r,error:o,isLoading:i}=xyn(),s=h.useCallback(()=>n(!0),[]),a=h.useCallback(()=>n(!1),[]);return l.jsx(U,{children:l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Help and resources "})}),scheme:e,placement:"bottom",portal:!0,disabled:t,children:l.jsx("div",{children:l.jsx(tn,{button:l.jsx(se,{"aria-label":"Help and resources",icon:Av,mode:"bleed",fontSize:2}),id:"menu-button-resources",menu:l.jsx(kyn,{children:l.jsx(wyn,{error:o,isLoading:i,value:r})}),popover:{constrainSize:!0,placement:"bottom",portal:!0,scheme:e},onClose:a,onOpen:s})})})})}var ofe=Object.freeze,Tyn=Object.defineProperty,IN=(e,t)=>ofe(Tyn(e,"raw",{value:ofe(t||e.slice())})),ife,sfe,afe;const Ayn=O(ts)(ife||(ife=IN([`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`]))),Dyn=O(ee)(sfe||(sfe=IN([`
  line-height: 0;
`]))),Iyn=O(U)(afe||(afe=IN([`
  width: max-content;
`])));function Pyn(){const{name:e,tools:t,...n}=Wl(),r=b0().theme,o=aC(),i=iT(),{scheme:s}=Wc(),{href:a,onClick:c}=I_e({state:{}}),u=pm(),d=typeof i.tool=="string"?i.tool:void 0,f=Tvn(),{onSearchFullscreenOpenChange:p,searchFullscreenOpen:m,searchFullscreenPortalEl:v}=h.useContext(jOe),g=zyn(),y=ZOe(),[x,b]=h.useState(!1),w=h.useRef(i),C=h.useRef(e);h.useEffect(()=>{(w.current.tool!==i.tool||e!==C.current)&&b(!1),w.current=i,C.current=e},[e,i]);const[_,S]=h.useState(null),[E,j]=h.useState(null),k=h.useMemo(()=>({brandingCenter:u<=1,resources:u>1,collapsedPresenceMenu:u<=1,loginStatus:u>1,searchFullscreen:u<=1,configIssues:u>1&&Uc,workspaces:u>=3&&o.length>1,tools:u>=3}),[u,o.length]),T=typeof e=="string"&&e!=="root"?un(e):null,A=n.title||T||"Studio";h.useEffect(()=>{p(m)},[m,p]),h.useEffect(()=>{p&&!k.searchFullscreen&&p(!1)},[p,k.searchFullscreen]);const D=h.useCallback(()=>{p(!0)},[p]),I=h.useCallback(()=>{p(!1),E==null||E.focus()},[p,E]),P=h.useCallback(()=>{b(!1),_==null||_.focus()},[_]),$=h.useCallback(()=>{b(!0)},[]);return l.jsxs(Ayn,{zOffset:100,"data-search-open":m,children:[l.jsx(Dyn,{"data-testid":"navbar","data-ui":"Navbar",padding:2,scheme:"dark",shadow:r.__legacy||s==="dark"?1:void 0,sizing:"border",children:l.jsxs(U,{align:"center",justify:"space-between",children:[l.jsxs(Iyn,{align:"center",flex:k.brandingCenter?void 0:1,children:[!k.tools&&l.jsx(M,{marginRight:1,children:l.jsx(se,{mode:"bleed",icon:PF,onClick:$,ref:S})}),!k.brandingCenter&&l.jsx(M,{marginRight:1,children:l.jsx(Que,{href:a,onClick:c,title:A,children:l.jsx(g,{title:A})})}),k.workspaces&&l.jsx(M,{marginRight:2,children:l.jsx(_Oe,{collapsed:!0})}),l.jsx(M,{marginRight:k.brandingCenter?void 0:2,children:l.jsx(jvn,{...f,modal:k.brandingCenter?"dialog":"popover"})}),l.jsx(Bu,{children:l.jsx(yyn,{fullscreen:k.searchFullscreen,children:l.jsxs(Lu,{element:document.body,children:[l.jsx(ym,{element:v,children:k.searchFullscreen&&l.jsx(B1n,{onClose:I,onOpen:D,open:m})}),!k.searchFullscreen&&l.jsx(K1n,{})]})})}),k.tools&&l.jsx(ee,{flex:1,marginX:2,overflow:"visible",paddingRight:1,children:l.jsx(y,{activeToolName:d,closeSidebar:P,context:"topbar",isSidebarOpen:!1,tools:t})})]}),k.brandingCenter&&l.jsx(M,{marginX:1,children:l.jsx(Que,{href:a,onClick:c,title:A,children:l.jsx(g,{title:A})})}),l.jsxs(U,{gap:2,children:[(k.configIssues||k.resources)&&l.jsx(ee,{borderRight:!0,children:l.jsxs(U,{gap:1,paddingX:2,children:[k.configIssues&&l.jsx(qvn,{}),k.resources&&l.jsx(jyn,{})]})}),l.jsxs(U,{align:"center",gap:1,children:[l.jsx(Lvn,{collapse:k.collapsedPresenceMenu}),k.tools&&l.jsx(cvn,{}),k.searchFullscreen&&l.jsx(se,{"aria-label":"Open search",icon:ei,mode:"bleed",onClick:D,ref:j})]})]})]})}),!k.tools&&l.jsx(Yvn,{activeToolName:d,isOpen:x,onClose:P,tools:t})]})}const KOe=h.forwardRef(function(t,n){const{name:r,...o}=t,i=iT(h.useCallback(()=>({tool:r,[r]:void 0}),[r]));return l.jsx(oT,{state:i,...o,ref:n})});function Oyn(e){const{activeToolName:t,tools:n}=e,{scheme:r}=Wc(),[o,i]=h.useState(null);DAe({rootElement:o,navigation:["arrows"]});const s=h.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),a=h.useMemo(()=>n.map((c,u)=>{const d=(c==null?void 0:c.title)||un(c.name)||void 0,f=h.forwardRef(function(m,v){return l.jsx(KOe,{...m,ref:v,name:c.name})});return l.jsx(pN,{as:f,"data-as":"a",collapsedProps:{tooltipText:c.title},icon:c.icon||Cl,mode:"bleed",selected:t===c.name,text:d,tooltipProps:{scheme:r}},"".concat(c.name,"-").concat(u))}),[t,r,n]);return l.jsx(hN,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:s,ref:i,children:a})}function Ryn(e){const{activeToolName:t,isVisible:n,tools:r}=e;return h.useMemo(()=>l.jsx(oe,{as:"ul",space:1,children:r.map(o=>{const i=(o==null?void 0:o.title)||un(o.name)||void 0,s=h.forwardRef(function(c,u){return l.jsx(KOe,{...c,ref:u,name:o.name})});return l.jsx(oe,{as:"li",children:l.jsx(se,{as:s,icon:o.icon||k0e,justify:"flex-start",mode:"bleed",selected:t===o.name,tabIndex:n?0:-1,text:i})},o.name)})}),[t,n,r])}function $yn(e){const{context:t,isSidebarOpen:n,...r}=e;return t==="sidebar"?l.jsx(Ryn,{isVisible:n,...r}):l.jsx(Oyn,{...r})}function Myn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.toolMenu}function Fyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.navbar}function Lyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.layout}function Byn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.logo}function ZOe(){return Ul({defaultComponent:$yn,pick:Myn})}function Nyn(){return Ul({defaultComponent:Pyn,pick:Fyn})}function zyn(){return Ul({defaultComponent:Jmn,pick:Byn})}function Vyn(){return Ul({defaultComponent:Zgn,pick:Lyn})}const lfe=BUt.__sanityErrorChannel;function Hyn(){const{push:e}=Ho();return h.useEffect(()=>{if(lfe)return lfe.subscribe(t=>{t.error&&(Uyn(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[e]),null}function Uyn(e){return e instanceof EN||e instanceof uB||e instanceof $a}function Wyn(e){let{children:t,AuthenticateComponent:n=SOe,LoadingComponent:r=yb,NotAuthenticatedComponent:o=EOe}=e;const[i,s]=h.useState(null);if(i)throw i;const[a,c]=h.useState("loading"),{activeWorkspace:u}=t1();return h.useEffect(()=>{var d,f;(f=(d=u.auth).handleCallbackUrl)==null||f.call(d).catch(s)},[u.auth]),h.useEffect(()=>{const d=u.auth.state.subscribe({next:f=>{let{authenticated:p,currentUser:m}=f;var v;if(((v=m==null?void 0:m.roles)==null?void 0:v.length)===0){c("unauthorized");return}c(p?"logged-in":"logged-out")},error:s});return()=>{d.unsubscribe()}},[u]),a==="loading"?l.jsx(r,{}):a==="unauthorized"?l.jsx(o,{}):a==="logged-out"?l.jsx(n,{}):l.jsx(l.Fragment,{children:t})}function Yyn(e){let{children:t}=e;const n=t1().activeWorkspace.theme;if(n.__legacy){const r=n.__dark?"dark":"light";return l.jsx(HA.Provider,{value:!1,children:l.jsx(VA.Provider,{value:r,children:l.jsx(_E,{scheme:r,theme:n,tone:"transparent",children:l.jsx(Bu,{children:t})})})})}return l.jsx(_E,{theme:n,tone:"transparent",children:l.jsx(Bu,{children:t})})}const qyn={toast:[100,11e3]};var cfe=Object.freeze,Gyn=Object.defineProperty,XOe=(e,t)=>cfe(Gyn(e,"raw",{value:cfe(t||e.slice())})),ufe,dfe;O(U)(ufe||(ufe=XOe([""])));O(M).attrs({padding:4})(dfe||(dfe=XOe([""])));function Kyn(e){const{basePath:t="/",tools:n}=e,r=xi.create("/:tool",o=>{let i=n.find(s=>s.name===o.tool);return!i&&o.tool==="desk"&&(i=n.find(s=>s.name==="structure")),i?xi.scope(i.name,"/",i.router):xi.create("/")});return xi.create(t,[xi.intents("/intent"),r])}function PN(e){const n={}.toolSwitcher||{},r=n.order||[],o=n.hidden||[];if(!r.length&&!o.length)return e;const i=e.reduce((c,u)=>{const d=u.title||"<unknown>";if(!u.name)return console.warn('Tool "'.concat(d,'" does not have the required "name" property')),c;if(c[u.name]){const p=c[u.name].tool.title;return console.warn('Tools with duplicate name "'.concat(u.name,'" found ("').concat(d,'" and "').concat(p,'")')),c}const f=r.indexOf(u.name);return c[u.name]={tool:u,index:f===-1?1/0:f},c},{}),s=c=>o.indexOf(c.name)===-1,a=e.filter(s);return a.sort((c,u)=>{const d=i[c.name],f=i[u.name],p=d?d.index:1/0,m=f?f.index:1/0;return p===m?0:p-m}),a}const Zyn=["template"],Xyn=["mode"];function Qyn(e,t){const r=PN(e)[0];return!t||t.tool||!r?t:Object.assign({},t,{tool:r.name})}function Jyn(e,t){return t&&(PN(e).find(n=>n.name===t.space)?{...t,tool:t.space,space:void 0}:t)}function ebn(e,t){return Qyn(e,Jyn(e,t))}function tbn(e,t,n){var r;const{intent:o,params:i,payload:s}=n;if(typeof o!="string")throw new Error("intent must be a string");if(!wt(i))throw new Error("intent params must be a string");const a=PN(e),c=t!=null&&t.tool?a.find(m=>m.name===t.tool):null,u=c?a.filter(m=>m!==c):a;let d=[];o==="create"?d=Zyn:o==="edit"&&(d=Xyn);const f={score:-1,tool:null},{tool:p}=(c?[c,...u]:a).reduce((m,v)=>{if(!v||typeof v.canHandleIntent!="function")return m;const g=v.canHandleIntent(o,i,t&&t[v.name]);if(typeof g=="boolean")return g&&m.score<0?{score:0,tool:v}:m;if(!wt(g))return m;const y=d.reduce((x,b)=>b in i&&g[b]===!0?x+1:x,0);return y>m.score?{score:y,tool:v}:m},f);if(p!=null&&p.getIntentState){const m=p.getIntentState(o,i,t&&t[p.name],s),{_searchParams:v,...g}=m,y={...t,tool:p.name,[p.name]:g};return(r=p.router)!=null&&r.__unsafe_disableScopedSearchParams?y._searchParams=v:g._searchParams=v,{type:"state",isNotFound:!1,state:y}}return{type:"intent",isNotFound:!0,intent:{name:o,params:i}}}function nbn(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function rbn(e){let{children:t,LoadingComponent:n,workspace:r}=e;const{basePath:o,tools:i}=r,s=jgn(),a=h.useMemo(()=>Kyn({basePath:o,tools:i}),[o,i]),[c,u]=obn(s,a,i);return c?l.jsx(Vht,{onNavigate:u,router:a,state:c,children:t}):l.jsx(n,{})}function obn(e,t,n){var r;const o=h.useMemo(()=>{const c=t.getBasePath(),u=new RegExp("^".concat(P7(c),"(\\/|$)"),"i"),d=f=>c==="/"?!0:u.test(f);return{subscribe:f=>e.listen(f),getSnapshot:()=>e.location.pathname+e.location.search,getServerSnapshot:()=>null,selector:f=>typeof f=="string"&&d(f)?nbn(t,f):null}},[e,t]),i=j7.useSyncExternalStoreWithSelector(o.subscribe,o.getSnapshot,o.getServerSnapshot,o.selector,Ht),s=h.useRef(i);h.useEffect(()=>{var c;if((i==null?void 0:i.type)==="state"&&!((c=i.state)!=null&&c.intent)){const u=ebn(n,i.state);u&&u!==i.state&&e.replace(t.encode(u))}},[i==null?void 0:i.state,i==null?void 0:i.type,e,t,n]),h.useEffect(()=>{const c=ffe(i,t,n,s);c?e.replace(c):s.current=i},[i,e,t,n]);const a=h.useMemo(()=>c=>{let{path:u,replace:d}=c;const f=o.selector(u),p=ffe(f,t,n,s),m=typeof p=="string"?p:u;d?e.replace(m):e.push(m)},[e,t,o,n]);return[(r=i==null?void 0:i.state)!=null?r:null,a]}function ffe(e,t,n,r){var o,i;if((e==null?void 0:e.type)==="state"&&((o=e.state)!=null&&o.intent)){const s=tbn(n,((i=r.current)==null?void 0:i.type)==="state"?r.current.state:{},e.state);if((s==null?void 0:s.type)==="state")return t.encode(s.state)}return null}function ibn(e){let{children:t,LoadingComponent:n}=e;const[r,o]=h.useState(null);if(r)throw r;const{activeWorkspace:i}=t1(),[s,a]=h.useState(null);return h.useEffect(()=>{const c=Bo(i.__internal.sources.map(u=>{let{source:d}=u;return d.pipe(Pn(f=>{if(f instanceof $a)return be(f);throw f}))})).pipe(ue(u=>{const d=u.filter(f=>f instanceof $a);if(d.length)throw new $a({name:i.name,causes:d,type:"workspace"});return u}),ue(u=>{let[d,...f]=u;return{...i,...d,unstable_sources:[d,...f],type:"workspace"}})).subscribe({next:a,error:o});return()=>c.unsubscribe()},[i]),s?l.jsx(gpn,{workspace:s,children:l.jsx(bN,{source:s.unstable_sources[0],children:l.jsx(rbn,{LoadingComponent:n,workspace:s,children:t})})}):l.jsx(n,{})}function sbn(e){let{ConfigErrorsComponent:t,...n}=e;const[{error:r},o]=h.useState({error:null});if(r)throw r;return l.jsx(x0,{onCatch:o,children:l.jsx(ibn,{...n})})}Ap.registerLanguage(qzt);Ap.registerLanguage(yNe);Ap.registerLanguage(Kzt);Ap.registerLanguage(Xzt);Ap.registerLanguage(Jzt);function abn(e){let{children:t,config:n,basePath:r,onSchemeChange:o,scheme:i,unstable_history:s,unstable_noAuthBoundary:a}=e;const c=l.jsx(sbn,{LoadingComponent:yb,ConfigErrorsComponent:Vgn,children:l.jsx(hqt,{children:t})});return l.jsx(egn,{onSchemeChange:o,scheme:i,children:l.jsxs(P6,{paddingY:7,zOffset:qyn.toast,children:[l.jsx(Hyn,{}),l.jsx(kOe,{children:l.jsx(rgn,{config:n,basePath:r,children:l.jsx(Dgn,{unstable_history:s,NotFoundComponent:xgn,LoadingComponent:yb,children:l.jsx(Yyn,{children:l.jsx(XZt,{children:a?c:l.jsx(Wyn,{LoadingComponent:yb,AuthenticateComponent:SOe,NotAuthenticatedComponent:EOe,children:c})})})})})})]})})}function lbn(){const e=Vyn();return l.jsx(e,{})}function hfe(e){const{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_globalStyles:i,unstable_history:s,unstable_noAuthBoundary:a}=e;return l.jsxs(abn,{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_history:s,unstable_noAuthBoundary:a,children:[i&&l.jsx(Lqt,{}),l.jsx(lbn,{})]})}function cbn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:o=!1,basePath:i}=r,s=yTe(e);return s.render(o?l.jsx(h.StrictMode,{children:l.jsx(hfe,{config:t,basePath:i,unstable_globalStyles:!0})}):l.jsx(hfe,{config:t,basePath:i,unstable_globalStyles:!0})),()=>s.unmount()}function pr(e){const t=Mn();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}const pfe="connecting";function ubn(e,t){const n=el();return go(()=>n.pair.documentEvents(e,t).pipe(ue(r=>r.type),ue(r=>r!=="reconnect"),it(r=>r?be("connected"):No(200).pipe(zj("reconnecting"))),ri(pfe),Qn()),[n.pair,e,t],pfe)}function QOe(){return Mn().dataset}function ql(e,t){const n=el();return go(()=>n.pair.editOperations(e,t),[t,n.pair,e])}function JOe(e,t){const n=el();return go(()=>n.pair.operationEvents(e,t),[n.pair,e,t])}function ON(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";const r=el();return go(()=>{const o=r.pair.editState(e,t).pipe(ra());return n==="low"?on(o.pipe(Ei(1)),o.pipe(DCe(1),U6(()=>No(1e3)))):r.pair.editState(e,t)},[r.pair,e,t,n])}function e3e(){return Mn().projectId}function En(){return Mn().schema}const dbn={isSyncing:!0},mfe={isSyncing:!1};function t3e(e,t){const n=el();return go(()=>n.pair.consistencyStatus(e,t).pipe(ue(r=>r?mfe:dbn)),[n.pair,t,e],mfe)}function n1(){return Mn().templates}const VO=1e3*5,gfe=1e3*20,k4=1e3*60,e2=k4*60;function Xo(e){let{minimal:t,agoSuffix:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=fbn(e,{minimal:t,agoSuffix:n}),[,o]=h.useReducer(i=>i+1,0);return h.useEffect(()=>{let i;function s(a){i=window.setTimeout(()=>{o(),i=window.setTimeout(()=>s(a),a)},a)}return r.refreshInterval!==null&&s(r.refreshInterval),()=>{i!==null&&clearTimeout(i)}},[o,r.refreshInterval]),r.timestamp}function fbn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e instanceof Date?e:new Date(e);if(!n.getTime())return{timestamp:"",refreshInterval:null};const r=Date.now(),o=ikt(r,n),i=lkt(r,n);if(o||i)return t.minimal&&i===0?{timestamp:Jo(n,"MMM d"),refreshInterval:null}:t.minimal?{timestamp:Jo(n,"MMM d, yyyy"),refreshInterval:null}:{timestamp:Jo(n,"MMM d, yyyy, hh:mm a"),refreshInterval:null};const s=akt(r,n),a=Vr("week",s);if(s)return t.minimal?{timestamp:t.agoSuffix?"".concat(s,"w ago"):"".concat(s,"w"),refreshInterval:e2}:{timestamp:t.agoSuffix?"".concat(s," ").concat(a," ago"):"".concat(s," ").concat(a),refreshInterval:e2};const c=vEe(r,n),u=Vr("days",c);if(c){if(t.minimal){const x=t.agoSuffix?"".concat(c,"d ago"):"".concat(c,"d");return{timestamp:c===1?"yesterday":x,refreshInterval:e2}}const y=t.agoSuffix?"".concat(c," ").concat(u," ago"):"".concat(c," ").concat(u);return{timestamp:c===1?"yesterday":y,refreshInterval:e2}}const d=tkt(r,n),f=Vr("hour",d);if(d)return t.minimal?{timestamp:t.agoSuffix?"".concat(d,"h ago"):"".concat(d,"h"),refreshInterval:k4}:{timestamp:t.agoSuffix?"".concat(d," ").concat(f," ago"):"".concat(d," ").concat(f),refreshInterval:k4};const p=nkt(r,n),m=Vr("minute",p);if(p)return t.minimal?{timestamp:t.agoSuffix?"".concat(p,"m ago"):"".concat(p,"m"),refreshInterval:gfe}:{timestamp:t.agoSuffix?"".concat(p," ").concat(m," ago"):"".concat(p," ").concat(m),refreshInterval:gfe};const v=skt(r,n),g=Vr("second",v);return v>10?t.minimal?{timestamp:t.agoSuffix?"".concat(v,"s ago"):"".concat(v,"s"),refreshInterval:VO}:{timestamp:t.agoSuffix?"".concat(v," ").concat(g," ago"):"".concat(v," ").concat(g),refreshInterval:VO}:{timestamp:"just now",refreshInterval:VO}}const hbn={validation:[],isValidating:!1};function RN(e,t){const n=el();return go(()=>n.pair.validation(e,t),[n.pair,e,t],hbn)}const vfe={isLoading:!0,enabled:!0,features:[]};function pbn(e){let{versionedClient:t}=e;return t.observable.request({uri:"/features",tag:"features"})}let HO;function n3e(e){const t=pr(an);return HO||(HO=pbn({versionedClient:t}).pipe(jo())),go(()=>HO.pipe(ue(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{isLoading:!1,enabled:!!(r!=null&&r.includes(e)),features:r}}),ri(vfe),Pn(r=>(console.error(r),be({isLoading:!1,enabled:!0,features:[]})))),[e],vfe)}const mbn=sh(e=>{let[t,n]=e;return Sr(t.getUser(n).catch(r=>(console.error(r),null)))});function r1(e){const t=VN();return mbn(h.useMemo(()=>[t,e],[e,t]))}function Uo(){const{currentUser:e}=Mn();return e}const yfe=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},bfe=e=>({type:"snapshot",document:e}),xfe=e=>e.document,gbn=e=>{const t=new _r,n=new Lj(!0),r=new _r,o=new _r,i=new _r,s=new _r,a=x=>{const b=new Z9t(x);return b.onMutation=w=>{let{mutation:C,remote:_}=w;r.next({type:"mutation",document:yfe(b),mutations:C.mutations,origin:_?"remote":"local"})},b.onRemoteMutation=w=>{i.next({type:"remoteMutation",head:b.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},b.onRebase=(w,C,_)=>{o.next({type:"rebase",document:w,remoteMutations:C,localMutations:_})},b.onConsistencyChanged=w=>{n.next(w)},b.commitHandler=w=>s.next(w),b},c=e.pipe(na((x,b)=>b.type==="snapshot"?(x&&x.commit(),a(b.document||null)):x===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',b.type),null):x,null),mt(x=>x!==null),Qn(),yl(1),vl()),u=e.pipe(mt(x=>x.type==="mutation"),Zy(c),ue(x=>{let[b,w]=x;return w.arrive(new Ec(b)),yfe(w)})),d=t.pipe(Zy(c),bn(x=>{let[b,w]=x;b.type==="mutation"&&w.add(new Ec({mutations:b.mutations})),b.type==="commit"&&w.commit()}),Np(Zn),ra()),f=x=>t.next(x),p=x=>f({type:"mutation",mutations:x}),m=x=>p([x]),v=()=>{c.pipe(Ei(1),bn(x=>x.commit())).subscribe()},g=on(c.pipe(ue(x=>x.LOCAL)),r.pipe(ue(xfe)),o.pipe(ue(xfe)),u).pipe(ue(bfe),yl(1),vl()),y=on(c.pipe(ue(x=>x.document.HEAD),ue(bfe)),i).pipe(yl(1),vl());return{updates$:on(g,d,r,o),consistency$:n.pipe(Qn(),yl(1),vl()),remoteSnapshot$:y,commitRequest$:s,addMutation:m,addMutations:p,commit:v}},vbn=e=>t=>{const{_id:n,_rev:r,_updatedAt:o,...i}=t;return{_id:e,...i}},wfe=(e,t)=>{const n=gbn(t),r=vbn(e),o={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:i=>i.map(s=>({patch:{...s,id:e}})),create:i=>({create:r(i)}),createIfNotExists:i=>({createIfNotExists:r(i)}),createOrReplace:i=>({createOrReplace:r(i)}),delete:()=>o,mutate:i=>n.addMutations(i),commit:()=>n.commit()}},ybn={type:"pending",phase:"begin"},bbn={type:"pending",phase:"end"};function xbn(e){return e.type==="mutation"}function wbn(e){return e.transactionTotalEvents>1}function Cbn(e){const t=s7(e.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(t).every(n=>n.length===n[0].transactionTotalEvents)}function _bn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{publishedId:r,draftId:o}=t;return fo(()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:o},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(a$(s=>s.type==="welcome"?i().pipe(a$(a=>[Cfe(o,a.draft),Cfe(r,a.published)])):be(s)),na((s,a)=>{if(!xbn(a))return{next:[a],buffer:[]};const c=s.buffer.length>0,u=wbn(a);if(!u&&!c)return{next:[a],buffer:[]};if(!u)return{next:[],buffer:s.buffer.concat(a)};const d=s.buffer.concat(a);return Cbn(d)?{next:d.concat(bbn),buffer:[]}:{next:d.length===1?[ybn]:[],buffer:d}},{next:[],buffer:[]}),ht(s=>s.next));function i(){return e.observable.getDocuments([o,r],{tag:"document.snapshots"}).pipe(ue(s=>{let[a,c]=s;return{draft:a,published:c}}))}}function Cfe(e,t){return{type:"snapshot",documentId:e,document:t}}const _fe=e=>t=>t.type!=="reconnect"&&t.type!=="pending"&&t.documentId===e;function t2(e){return t=>({...t,version:e})}function Sbn(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function Ebn(e,t){return Sr(Sbn(e,t.mutation.params)).pipe(bn({error:n=>{"statusCode"in n&&typeof n.statusCode=="number"&&n.statusCode>=400&&n.statusCode<=500?t.cancel(n):t.failure(n)},next:()=>t.success()}))}function r3e(e,t){const{publishedId:n,draftId:r}=t,o=_bn(e,t).pipe(ra()),i=o.pipe(mt(d=>d.type==="reconnect")),s=wfe(r,o.pipe(mt(_fe(r)))),a=wfe(n,o.pipe(mt(_fe(n)))),c=o.pipe(mt(d=>d.type==="pending")),u=on(s.commitRequest$,a.commitRequest$).pipe(ht(d=>Ebn(e,d)),Np(Zn),ra());return{transactionsPendingEvents$:c,draft:{...s,events:on(u,i,s.events).pipe(ue(t2("draft"))),consistency$:s.consistency$,remoteSnapshot$:s.remoteSnapshot$.pipe(ue(t2("draft")))},published:{...a,events:on(u,i,a.events).pipe(ue(t2("published"))),consistency$:a.consistency$,remoteSnapshot$:a.remoteSnapshot$.pipe(ue(t2("published")))}}}function Yc(e,t){const n=Object.create(null);return function(){const r=t(...arguments);return r in n||(n[r]=e(...arguments)),n[r]}}const Fm=(e,t)=>{var n;return((n=e.get(t))==null?void 0:n.liveEdit)===!0};function cC(e,t,n){var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}const qA=Yc((e,t,n)=>new gt(r=>{r.next(r3e(e,t))}).pipe(yl(1),vl()),cC);function kbn(e){return e.type==="snapshot"}function Sfe(e){return{snapshots$:e.events.pipe(mt(kbn),ue(t=>t.document),yl(1),vl()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const $N=Yc((e,t,n)=>qA(e,t,n).pipe(ue(r=>{let{published:o,draft:i,transactionsPendingEvents$:s}=r;return{transactionsPendingEvents$:s,published:Sfe(o),draft:Sfe(i)}}),yl(1),vl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),jbn={enabled:!0},Efe={enabled:!1},o3e=Yc((e,t,n)=>{const r=Fm(e.schema,n);return $N(e.client,t,n).pipe(it(o=>Bo([o.draft.snapshots$,o.published.snapshots$,o.transactionsPendingEvents$.pipe(ue(i=>i.phase==="begin"?jbn:Efe),ri(Efe))])),ue(o=>{let[i,s,a]=o;return{id:t.publishedId,type:n,draft:i,published:s,liveEdit:r,ready:!0,transactionSyncLock:a}}),ri({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),yl(1),vl())},(e,t,n)=>cC(e.client,t,n)),i3e=Yc((e,t,n)=>$N(e.client,t,n).pipe(it(r=>Bo([r.draft.snapshots$,r.published.snapshots$]).pipe(ue(o=>{let[i,s]=o;return{...e,idPair:t,typeName:n,snapshots:{draft:i,published:s},draft:r.draft,published:r.published}}))),yl(1),vl()),(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),f5={disabled:e=>{let{snapshots:t}=e;return t.draft||t.published?!1:"NOTHING_TO_DELETE"},execute:e=>{let{client:t,schema:n,idPair:r,typeName:o}=e;const i=t.observable.transaction().delete(r.publishedId);return Fm(n,o)?i.commit({tag:"document.delete"}):i.delete(r.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}};function j4(e){return td(e)?e._strengthenOnPublish?Pi(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:typeof e!="object"||!e?e:Array.isArray(e)?e.map(j4):Object.fromEntries(Object.entries(e).map(t=>{let[n,r]=t;return[n,j4(r)]}))}const s3e={disabled:e=>{let{schema:t,typeName:n,snapshots:r}=e;return Fm(t,n)?"LIVE_EDIT_ENABLED":r.draft?!1:r.published?"ALREADY_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e;if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');const o=j4(Pi(r.draft,"_updatedAt")),i=t.observable.transaction();if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');return r.published?(i.patch(n.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:r.published._rev}),i.createOrReplace({...o,_id:n.publishedId,_type:r.draft._type})):i.create({...o,_id:n.publishedId,_type:r.draft._type}),i.delete(n.draftId),i.commit({tag:"document.publish",visibility:"async"})}},a3e={disabled:()=>!1,execute:function(e){let{schema:t,snapshots:n,idPair:r,draft:o,published:i,typeName:s}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=arguments.length>2?arguments[2]:void 0;Fm(t,s)?i.mutate([i.createIfNotExists({_type:s,...c}),...i.patch(a)]):o.mutate([o.createIfNotExists({...c,...n.published,_id:r.draftId,_type:s}),...o.patch(a)])}},l3e={disabled:()=>!1,execute:e=>{let{draft:t,published:n}=e;return t.commit(),n.commit(),Zn}},c3e={disabled:e=>{let{snapshots:t}=e;return t.draft?t.published?!1:"NOT_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n}=e;return t.observable.transaction().delete(n.draftId).commit({tag:"document.discard-changes"})}},u3e={disabled:e=>{let{schema:t,snapshots:n,typeName:r}=e;return Fm(t,r)?"LIVE_EDIT_ENABLED":n.published?!1:"NOT_PUBLISHED"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e,o=t.observable.transaction().delete(n.publishedId);return r.published&&(o=o.createIfNotExists({...Pi(r.published,"_updatedAt"),_id:n.draftId,_type:r.published._type})),o.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},Tbn=["_createdAt","_updatedAt"],d3e={disabled:e=>{let{snapshots:t}=e;return t.published||t.draft?!1:"NOTHING_TO_DUPLICATE"},execute:(e,t)=>{let{schema:n,client:r,snapshots:o,typeName:i}=e;const s=o.draft||o.published;if(!s)throw new Error("cannot execute on empty document");return r.observable.create({...Pi(s,Tbn),_id:Fm(n,i)?t:si(t),_type:s._type},{tag:"document.duplicate"})}},f3e={disabled:()=>!1,execute:(e,t)=>{let{historyStore:n,schema:r,idPair:o,typeName:i}=e;const s=Fm(r,i)?o.publishedId:o.draftId;return n.restore(o.publishedId,s,t)}},h3e=Yc((e,t,n)=>qA(e,t,n).pipe(it(r=>{let{draft:o,published:i}=r;return Bo([o.consistency$,i.consistency$])}),ue(r=>{let[o,i]=r;return o&&i}),Qn(),yl(1),vl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)});function Abn(e){return typeof e>"u"?be(null):e}const Dbn={del:f5,delete:f5,publish:s3e,patch:a3e,commit:l3e,discardChanges:c3e,unpublish:u3e,duplicate:d3e,restore:f3e},Ibn=(e,t,n)=>{const r=Dbn[e];return fo(()=>on(be(null),Abn(r.execute(t,...n)))).pipe(fnt())},p3e=new _r;function m3e(e,t,n,r){p3e.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const Pbn=["publish","unpublish","discardChanges","delete"],g3e=Yc(e=>{const t=p3e.pipe(ACe(o=>o.idPair.publishedId),ht(o=>o.pipe(it(i=>i3e(e,i.idPair,i.typeName).pipe(Ei(1),it(s=>{const a=Pbn.includes(i.operationName);a&&(s.published.commit(),s.draft.commit());const c=h3e(e.client,i.idPair,i.typeName).pipe(mt(Boolean));return(a?c.pipe(Ei(1)):be(!0)).pipe(it(()=>Ibn(i.operationName,s,i.extraArgs)))}),ue(()=>({type:"success",args:i})),Pn(s=>be({type:"error",args:i,error:s})))))),ra()),n=1e3,r=t.pipe(mt(o=>o.type==="success"&&o.args.operationName==="patch"),Xb(n,Il,{leading:!0,trailing:!0}),bn(o=>{m3e("commit",o.args.idPair,o.args.typeName,[])}));return on(t,r.pipe(Np(Zn)))},e=>{var t,n;const r=e.client.config();return"".concat((t=r.dataset)!=null?t:"","-").concat((n=r.projectId)!=null?n:"")}),Obn=Yc((e,t,n)=>qA(e,t,n).pipe(it(r=>{let{published:o,draft:i}=r;return on(o.remoteSnapshot$,i.remoteSnapshot$)})),cC),Rbn={isValidating:!0,validation:[]};function $bn(e){return Kje(e,(t,n)=>(td(n)&&t.add(n._ref),t),new Set)}const Mbn=[],Fbn=(e,t)=>e(t).pipe(ue(n=>{let{published:r}=n;return r.available})),Lbn=200,Bbn=1e3;function UO(){return jo({bufferSize:1,refCount:!0})}const Nbn=Yc((e,t,n)=>{let{draftId:r,publishedId:o}=t;const i=o3e(e,{draftId:r,publishedId:o},n).pipe(ue(d=>{let{draft:f,published:p}=d;return f||p}),Xb(Lbn,Il,{trailing:!0}),Qn((d,f)=>(d==null?void 0:d._rev)===(f==null?void 0:f._rev)?!0:zu(Pi(d,"_rev","_updatedAt"),Pi(f,"_rev","_updatedAt"))),UO()),a=i.pipe(ue(d=>$bn(d)),ht(d=>Sr(d))).pipe(ACe(d=>d,{duration:()=>No(1e3*60*30)}),ht(d=>d.pipe(lnt(),ht(f=>Fbn(e.observeDocumentPairAvailability,f).pipe(ue(p=>[f,p]))))),na((d,f)=>{let[p,m]=f;return d[p]===m?d:{...d,[p]:m}},{}),Qn(zu),UO()),c=d=>{let{id:f}=d;return xo(a.pipe(TCe(p=>f in p),ue(p=>p[f])))},u=a.pipe(DCe(1),Xb(Bbn,Il,{leading:!0,trailing:!0}));return Bo([i,Hr(be(null),u)]).pipe(ue(d=>{let[f]=d;return f}),x7(d=>fo(()=>d!=null&&d._type?Hr(be({isValidating:!0,revision:d._rev}),wGt(e.getClient,d,e.schema,{getDocumentExists:c}).pipe(ue(f=>({validation:f,isValidating:!1})))):be({validation:Mbn,isValidating:!1}))),na((d,f)=>({...d,...f}),Rbn),UO())},(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),zbn=Yc((e,t,n)=>qA(e,t,n).pipe(it(r=>{let{draft:o,published:i}=r;return on(o.events,i.events)})),cC);function eu(e){return{disabled:"NOT_READY",execute:()=>{throw new Error("Called ".concat(e," before it was ready."))}}}const Vbn={commit:eu("commit"),delete:eu("delete"),del:eu("del"),publish:eu("publish"),patch:eu("patch"),discardChanges:eu("discardChanges"),unpublish:eu("unpublish"),duplicate:eu("duplicate"),restore:eu("restore")},Hbn=(e,t,n)=>function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return m3e(e,t,n,o)};function tu(e,t,n){return{disabled:t.disabled(n),execute:Hbn(e,n.idPair,n.typeName)}}function Ubn(e){return{commit:tu("commit",l3e,e),delete:tu("delete",f5,e),del:tu("delete",f5,e),publish:tu("publish",s3e,e),patch:tu("patch",a3e,e),discardChanges:tu("discardChanges",c3e,e),unpublish:tu("unpublish",u3e,e),duplicate:tu("duplicate",d3e,e),restore:tu("restore",f3e,e)}}const Wbn=Yc((e,t,n)=>{const r=g3e(e),i=i3e(e,t,n).pipe(ue(Ubn));return Hr(be(Vbn),on(r.pipe(ht(()=>Zn)),i)).pipe(jo({refCount:!0,bufferSize:1}))},(e,t,n)=>cC(e.client,t,n)),Ybn=(e,t,n,r)=>fo(()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective})),qbn=(e,t,n,r)=>fo(()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function kfe(e){return e.type==="welcome"}function Gbn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=typeof t=="string"?t:t.fetch,i=typeof t=="string"?t:t.listen,s=qbn(e,i,n,r).pipe(ht((f,p)=>p===0&&!kfe(f)?Nu(()=>new Error(f.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(f.type,'"'))):be(f)),ra()),[a,c]=H6(s,kfe),u=f=>!r.transitions||f.type!=="mutation"?!0:r.transitions.includes(f.transition),d=()=>Ybn(e,o,n,r);return on(a.pipe(Ei(1)),c.pipe(mt(u),Xb(r.throttleTime||1e3,Il,{leading:!0,trailing:!0}))).pipe(x7(f=>f.type==="mutation"&&f.visibility!=="query"?No(1200).pipe(ht(d)):d()))}function Kbn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";if(n&&n!=="*")return be(n);const r="*[_id in [$documentId, $draftId]]._type",o=On(t),i=si(o);return e.observable.fetch(r,{documentId:o,draftId:i}).pipe(ue(s=>s[0]))}function Jp(e){return Er(e)}const Zbn=["_key","_ref","_weak","_type"];function Xbn(e){return e&&e.length>0?'"'.concat(e,'"'):e}function jfe(e,t){const n=r=>'Template "'.concat(t.id,'" initial value: ').concat(r);if(!Jp(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n('includes "_type"-property ('.concat(e._type,") that does not match template (").concat(t.schemaType,")")));try{return T4(e)}catch(r){throw r.message=n(r.message),r}}function T4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Array.isArray(e))return e.map((o,i)=>{if(Array.isArray(o))throw new Error('multidimensional arrays are not supported (at path "'.concat(Br(t),'")'));return T4(o,t.concat(i),!0)});if(!Jp(e))return e;const r=n&&!e._key?{_key:Fw()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&Qbn(e,t),Object.keys(e).reduce((o,i)=>(o[i]=T4(e[i],t.concat([i])),o),r)}function Qbn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e._type&&e.type)throw new Error('Reference is missing "_type", but has a "type" property at path "'.concat(Br(t),'"'));const n=Object.keys(e).filter(r=>!Zbn.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error("Disallowed ".concat(r," found in reference: ").concat(n.map(Xbn).join(", "),' at path "').concat(Br(t),'"'))}}function MN(e,t){const n={...e,...t};return Object.keys(n).forEach(r=>{const o=t[r],i=e[r];Jp(o)&&Jp(i)&&(n[r]=MN(i,o))}),n}function Jbn(e){return Jp(e)&&typeof e.serialize=="function"}async function GA(e,t,n){return typeof e=="function"?e(t,n):e}async function FN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(Jbn(t))return FN(e,t.serialize(),n,r);const{id:o,schemaType:i,value:s}=t;if(!s)throw new Error('Template "'.concat(o,'" has invalid "value" property'));let a=await GA(s,n,r);if(!Jp(a))throw new Error('Template "'.concat(o,'" has invalid "value" property - must be a plain object or a resolver function returning a plain object'));Jp(a)&&!Object.keys(a).length&&(a={_type:i}),a=jfe(a,t);const c=e.get(i);if(!c)throw new Error('Could not find schema type with name "'.concat(i,'".'));const u=MN(await KA(c,n,LN,r)||{},a);return jfe(u,t)}function exn(e,t){const n=ks(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}const LN=10;function KA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LN,r=arguments.length>3?arguments[3]:void 0;return n<=0?Promise.resolve(void 0):Ya(e)?nxn(e,t,n,r):Ll(e)?txn(e,t,n,r):GA(e.initialValue,t,r)}async function txn(e,t,n,r){const o=await GA(e.initialValue,void 0,r);if(Array.isArray(o))return Promise.all(o.map(async i=>{const s=exn(e,i);return Ya(s)?{...i,...await KA(s,t,n-1,r),_key:Fw()}:i}))}async function nxn(e,t,n,r){const o={...await GA(e.initialValue,t,r)||{}},i={};await Promise.all(e.fields.map(async a=>{const c=await KA(a.type,t,n-1,r);c!=null&&(i[a.name]=c)}));const s=MN(i,o);if(!R9(s))return e.name!=="object"&&(s._type=e.name),s}const Tfe={type:"loading"};function rxn(e,t,n,r,o){const i=n.observePaths({_type:"reference",_ref:si(r.documentId)},["_type"]),s=n.observePaths({_type:"reference",_ref:On(r.documentId)},["_type"]);return on(i.pipe(ue(c=>({draft:c}))),s.pipe(ue(c=>({published:c})))).pipe(na((c,u)=>({...c,...u}),{}),mt(c=>"draft"in c&&"published"in c),ue(c=>c.draft||c.published),Qn((c,u)=>!!c!=!!u),W6(25)).pipe(it(c=>{if(c)return be({type:"success",value:null});if(!r.templateName)return be({isResolving:!1,initialValue:void 0});const u=t.find(f=>f.id===r.templateName);if(!u)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),be({isResolving:!1,initialValue:void 0});const d=Sr(FN(e,u,r.templateParams,o)).pipe(ue(f=>({isResolving:!1,initialValue:f}))).pipe(Pn(f=>(console.group("Failed to resolve initial value"),console.error(f),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),be({type:"error",error:f}))));return on(be({isResolving:!0}),d).pipe(it(f=>{let{isResolving:p,initialValue:m,resolveError:v}=f;return be(v?{type:"error",message:"Failed to resolve initial value"}:p?Tfe:{type:"success",value:m})}))}),ri(Tfe),Qn())}function ty(e){if(eB(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:si(e)}}function oxn(e){let{getClient:t,documentPreviewStore:n,historyStore:r,initialValueTemplates:o,schema:i}=e;const s=n.unstable_observeDocumentPairAvailability,a=t(an),c={client:a,getClient:t,observeDocumentPairAvailability:s,historyStore:r,schema:i};return{checkoutPair(u){return r3e(a,u)},initialValue(u,d){return rxn(i,o,n,u,d)},listenQuery(u,d,f){return Gbn(a,u,d,f)},resolveTypeForDocument(u,d){return Kbn(a,u,d)},pair:{consistencyStatus(u,d){return h3e(c.client,ty(u),d)},documentEvents(u,d){return zbn(c.client,ty(u),d)},editOperations(u,d){return Wbn(c,ty(u),d)},editState(u,d){return o3e(c,ty(u),d)},operationEvents(u,d){return g3e({client:a,historyStore:r,schema:i}).pipe(mt(f=>f.args.idPair.publishedId===u&&f.args.typeName===d),ue(f=>{const{operationName:p,idPair:m}=f.args;return f.type==="success"?{type:"success",op:p,id:m.publishedId}:{type:"error",op:p,id:m.publishedId,error:f.error}}))},validation(u,d){return Nbn(c,ty(u),d)}}}}const Afe={isLoaded:!1,documentType:void 0};function ixn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";const n=el(),r=On(e),o=!!(t&&t!=="*"),i=h.useMemo(()=>({documentType:t,isLoaded:!0}),[t]),[s,a]=h.useState(o?i:Afe);return h.useEffect(()=>a(Afe),[r,t]),h.useEffect(()=>{if(o)return;const c=n.resolveTypeForDocument(r,t).subscribe(u=>a({documentType:u,isLoaded:!0}));return()=>c.unsubscribe()},[n,r,t,o]),o?i:s}function sxn(e,t){const n=Li(),r=h.useMemo(()=>e?n.observePaths({_type:"reference",_ref:e},t):be(void 0),[e,n,t]);return bAe(r)}function axn(e){const{documentId:t,documentType:n,templateName:r,templateParams:o}=e,i=Mo(o),s=el(),a=BN(),c=h.useMemo(()=>({_id:t,_type:n}),[t,n]),[u,d]=h.useState({loading:!1,error:null,value:c});return h.useEffect(()=>{const f={documentId:t,documentType:n,templateName:r,templateParams:i};if(!r){d({loading:!0,error:null,value:c});return}const m=s.initialValue(f,a).subscribe(v=>{v.type==="loading"&&d({loading:!0,error:null,value:c}),v.type==="success"&&d({loading:!1,error:null,value:v.value?{...c,...v.value}:c}),v.type==="error"&&d({loading:!1,error:v.error,value:c})});return d({loading:!0,error:null,value:c}),()=>m.unsubscribe()},[c,t,s,n,r,i,a]),u}function BN(){const e=Mn(),t=En(),n=Uo(),r=e3e(),o=QOe(),i=e.getClient;return h.useMemo(()=>({projectId:r,dataset:o,getClient:i,schema:t,currentUser:n}),[i,t,n,r,o])}function NN(){const e=BN();return h.useCallback((t,n)=>KA(t,n,LN,e),[e])}function lxn(e,t){const n=e.get(t);if(!n)throw new Error("No such schema type: ".concat(t));return n}function cxn(e){let{grantsStore:t,permission:n,draft:r,published:o,liveEdit:i}=e;const s=r||o,a=s===r?"draft":"published",{checkDocumentPermission:c}=t;switch(n){case"delete":return i?[["delete published document (live-edit)",c("update",o)]]:[["delete draft document",c("update",r)],["delete published document",c("update",o)]];case"discardDraft":return i?[]:[["delete draft document",c("update",r)]];case"publish":return i?[]:[["update published document at its current state",c("update",o)],["delete draft document",c("update",r)],["create published document from draft",c("create",r&&{...r,_id:On(r._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",c("create",r)],["delete published document",c("update",o)],["create draft document from published version",c("create",o&&{...o,_id:si(o._id)})]];case"update":return i?[["update published document (live-edit)",c("update",o)]]:[["update ".concat(a," document"),c("update",s)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",c("create",{...o,_id:"dummy-id"})]]:[["create new draft document from existing ".concat(a," document"),c("create",{...s,_id:si("dummy-id")})]];default:throw new Error("Could not match permission: ".concat(n))}}function uxn(e){let{client:t,grantsStore:n,schema:r,id:o,permission:i,type:s}=e;if(s==="*")return be({granted:!1,reason:"Type specified was `*`"});const a=!!lxn(r,s).liveEdit;return $N(t,{draftId:si(o),publishedId:On(o)},s).pipe(it(c=>Bo([c.draft.snapshots$,c.published.snapshots$]).pipe(ue(u=>{let[d,f]=u;return{draft:d,published:f}}))),it(c=>{let{draft:u,published:d}=c;const f=cxn({grantsStore:n,permission:i,draft:u,published:d,liveEdit:a}).map(p=>{let[m,v]=p;return v.pipe(ue(g=>{let{granted:y,reason:x}=g;return{granted:y,reason:y?"":"not allowed to ".concat(m,": ").concat(x),label:m,permission:i}}))});return f.length?Bo(f).pipe(ue(p=>{const m=p.every(g=>g.granted),v=m?"":"Unable to ".concat(i,`:
	`).concat(p.filter(g=>!g.granted).map(g=>g.reason).join(`
	`));return{granted:m,reason:v}})):be({granted:!0,reason:""})}))}const dxn=sh(uxn);function fh(e){let{id:t,type:n,permission:r,client:o,schema:i,grantsStore:s}=e;const a=pr(an),c=En(),u=HN(),d=h.useMemo(()=>o||a,[a,o]),f=h.useMemo(()=>i||c,[c,i]),p=h.useMemo(()=>s||u,[u,s]);return dxn(h.useMemo(()=>({client:d,schema:f,grantsStore:p,id:t,permission:r,type:n}),[d,p,t,r,f,n]))}function v3e(e){let{grantsStore:t,document:n,permission:r}=e;const{checkDocumentPermission:o}=t;return o(r,n)}const fxn=sh(v3e);function hxn(e){let{document:t,permission:n,...r}=e;const o=HN();return fxn({grantsStore:r.grantsStore||o,document:t,permission:n})}function y3e(e){return typeof e=="object"&&e!==null&&"serialize"in e?y3e(e.serialize()):e}function pxn(e){let{grantsStore:t,templateItems:n,templates:r,schema:o,context:i}=e;return n!=null&&n.length?Bo(n.map(y3e).map(async s=>{const a=r.find(u=>u.id===s.templateId);if(!a)throw new Error('template not found: "'.concat(s.templateId,'"'));const c=await FN(o,a,s.parameters,i);return{template:a,item:s,resolvedInitialValue:c}}).map(s=>Sr(s).pipe(it(a=>{let{item:c,resolvedInitialValue:u,template:d}=a;const f=o.get(d.schemaType);if(!f)throw new Error('schema type not found: "'.concat(d.schemaType,'"'));const p=f==null?void 0:f.liveEdit,{initialDocumentId:m="dummy-id"}=c;return v3e({grantsStore:t,permission:"create",document:{_id:p?On(m):si(m),...u}}).pipe(ue(v=>{let{granted:g,reason:y}=v;const x=c.title||d.title;return{...c,granted:g,reason:y,resolvedInitialValue:u,template:d,title:x,subtitle:f.title===x?void 0:f.title,description:c.description||d.description,icon:c.icon||d.icon}}))})))):be([])}const mxn=sh(pxn);function zN(e){let{templateItems:t,...n}=e;const r=En(),o=n1(),i=HN(),s=BN();return mxn({templateItems:t,grantsStore:n.grantsStore||i,schema:n.schema||r,templates:n.templates||o,context:s})}const Dfe="_debug_",gxn=typeof window>"u"?be({}):Ii(window,"hashchange"),b3e=Hr(be(0),gxn).pipe(ue(()=>typeof document>"u"?"#":document.location.hash),Qn(),ue(e=>e.substring(1).split(";").filter(t=>t.toLowerCase().startsWith(Dfe)).map(t=>t.substring(Dfe.length)))),vxn=b3e.pipe(ue(e=>e.find(t=>t.startsWith("roles="))),ue(e=>(e==null?void 0:e.split("roles=")[1].split(",").map(t=>t.trim()))||[])),yxn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Ife=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],bxn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],xxn=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],Pfe=[{filter:'_id in path("**")',permissions:["read","history"]}],wxn=[{filter:"!locked",permissions:["read","create","update"]}],Cxn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],Ofe={administrator:yxn,editor:Ife,developer:bxn,contributor:xxn,viewer:Pfe,restricted:Cxn,requiresApproval:wxn,read:Pfe,write:Ife},_xn=vxn.pipe(ue(e=>e.length?e.filter(t=>!!t&&t in Ofe).flatMap(t=>Ofe[t]||[]):null));async function Sxn(e,t,n){return await e.request({uri:"/projects/".concat(t,"/datasets/").concat(n,"/acl"),tag:"acl.get",withCredentials:!0})}function Exn(e){const t={};return e!==null&&(t.identity=e.id),t}const WO=new Map;async function kxn(e,t,n){WO.has(t)||WO.set(t,lTe("*[".concat(t,"]")));const r=WO.get(t),o=Exn(e),{identity:i}=o,s={...o},a=await(await nTe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}function jxn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=fo(()=>be(r.config())).pipe(it(s=>{let{projectId:a,dataset:c}=s;if(!a||!c)throw new Error("Missing projectId or dataset");return Sxn(r,a,c)})),i=_xn.pipe(it(s=>s?be(s):o),yl(1),VBt(1e3));return{checkDocumentPermission(s,a){return i.pipe(it(c=>Txn(n,c,s,a)),Qn(zu))}}}async function Txn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await kxn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}async function Axn(e,t){const n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{credentials:"include"},r=await fetch(e,n);return Dxn(r)}function Dxn(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(o){n=t.getReader();const i=new TextDecoder;let s="";n.read().then(function a(c){if(c.done){if(r)return;if(s=s.trim(),s.length===0){o.close();return}o.enqueue(JSON.parse(s)),o.close();return}s+=i.decode(c.value,{stream:!0});const u=s.split(`
`);for(let d=0;d<u.length-1;++d){const f=u[d].trim();if(f.length!==0)try{o.enqueue(JSON.parse(f))}catch(p){o.error(p),r=!0,n.cancel();return}}return s=u[u.length-1],n.read().then(a).catch(d=>o.error(d))}).catch(a=>o.error(a))},cancel(){r=!0,n.cancel()}})}function Rfe(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function Ixn(e,t){const n=t.events.findIndex(r=>e.id===r.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function $fe(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},typeof e.attrs._rev!="string")throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class Pxn{constructor(t){this.earliestTransactionId=null,this.timeline=t,this._states={draft:Rfe(t.draftId),published:Rfe(t.publishedId)}}appendRemoteSnapshotEvent(t){const n=this._states[t.version];if(t.type==="snapshot"){this._maybeInvalidateHistory(),$fe(n,t.document);return}t.type==="remoteMutation"&&(n.aligned?(this._apply(n,t),this.timeline.addRemoteMutation(t)):n.hasAttrs?n.events.push(t):$fe(n,t.head))}prependHistoryEvent(t){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=Ixn(t,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(t),this.earliestTransactionId=t.id}didReachEarliestEntry(){for(const t of Object.values(this._states))if(!t.aligned){if(t.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(t,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(t=>t.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(t,n){for(const r of t.events.slice(0,n))this._apply(t,r);for(const r of t.events.slice(n))this._apply(t,r),this.timeline.addRemoteMutation(r);t.events=[],t.aligned=!0}get _isComplete(){return Object.values(this._states).every(t=>t.hasAttrs)}_apply(t,n){t.attrs=DM(t.attrs,n.effects.apply),t.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const t of Object.values(this._states))t.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}class Oxn{constructor(t,n,r,o){this.timeline=t,this.start=r,this.end=o,this.doc=n}same(t,n){return this.start===t&&this.end===n}endAttributes(){return Mfe(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return Mfe(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function Mfe(e){return e.draft||e.published}const Rxn=50;class $xn{constructor(t){this.version=0,this.selectionState="inactive",this._fetchMore=!1,this._fetchAtLeast=0,this._isRunning=!1,this._isSuspended=!1,this._didErr=!1,this._since=null,this._sinceTime=null,this._rev=null,this._revTime=null,this.timeline=t.timeline,this.client=t.client,this.handler=t.handler,this._aligner=new Pxn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(t,n){n!==this._rev&&this.setRevTime(n),t!==this._since&&this.setSinceTime(t);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const o=this._revTime||this.timeline.lastChunk();this._sinceTime.index>o.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,o)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(t){this._fetchMore=t,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(t){const n=this.timeline.isLatestChunk(t)?null:this.timeline.createTimeId(t);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<t.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(t){const n=this.revTime;return n&&t.index<n.index?[this.timeline.createTimeId(t),this._rev]:[this.timeline.createTimeId(t),null]}setRevTime(t){this._rev=t,this._revTime=t?this.timeline.parseTimeId(t):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(t){t==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=t?this.timeline.parseTimeId(t):null,this._since=t}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(t,n){this._reconstruction&&this._reconstruction.same(t,n)||(this._reconstruction=new Oxn(this.timeline,this._aligner.currentDocument,t,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const t=this.currentDiff();if(t){if(t.type==="null")return null;if(t.type!=="object")throw new Error("ObjectDiff expected, got ".concat(t.type))}return t}handleRemoteMutation(t){this._aligner.appendRemoteSnapshotEvent(t),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var t;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(r){this._didErr=!0,(t=this.handler)==null||t.call(this,r,this);return}await this.tick()}}async fetchMoreTransactions(){const t=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),o=Rxn;let i="tag=sanity.studio.desk.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=".concat(o),s=this._aligner.earliestTransactionId;s&&(i+="&toTransaction=".concat(s));const a=this.client.getUrl("/data/history/".concat(r.dataset,"/transactions/").concat(t,",").concat(n,"?").concat(i)),u=(await Axn(a,r.token)).getReader();let d=0;for(;;){const f=await u.read();if(f.done)break;if("error"in f.value)throw new Error(f.value.error.description||f.value.error.type);if(d++,f.value.id!==s){if(this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(f.value),s=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory||(d<o&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var t;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(t=this.handler)==null||t.call(this,null,this)}}function Mxn(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function Ffe(e){return e.draft||e.published}class Fxn{constructor(t,n,r,o){this.type="array",this.elements=[],this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.length=t.elements.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=h5(this.content.elements[t],this.value[t],this.extractor))}annotationAt(t){const n=this.content.metas[t];return this.extractor.fromMeta(n)}}class Lxn{constructor(t,n,r,o){this.type="object",this.fields={},this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.keys=Object.keys(t.fields)}get(t){const n=this.fields[t];if(n)return n;const r=this.content.fields[t];if(r)return this.fields[t]=h5(r,this.value[t],this.extractor)}}class Bxn{constructor(t,n,r,o){this.type="string",this.content=t,this.value=n,this.annotation=r,this.extractor=o}sliceAnnotation(t,n){const r=[];let o=0;function i(s,a){if(r.length>0){const c=r[r.length-1];if(Mxn(c.annotation,a)){c.text+=s;return}}r.push({text:s,annotation:a})}for(const s of this.content.parts){const a=s.value.length,c=Math.max(0,t-o);if(c<a){const u=Math.min(a,n-o);if(u<=0)break;i(s.value.slice(c,u),this.extractor.fromValue(s))}o+=a}return r}}function h5(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new Fxn(e.content,t,r,n);case"object":return new Lxn(e.content,t,r,n);case"string":return new Bxn(e.content,t,r,n)}return k7(t,r)}function Lfe(e,t,n){return n?A4(e,n.transactionIndex+1,n.chunk.index):t?A4(e,t.start,t.index):null}function Bfe(e,t){return t?A4(e,t.transactionIndex,t.chunk.index):null}function A4(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const o=e.chunkByTransactionIndex(t,n);return o?{chunk:o,timestamp:r.timestamp,author:r.author}:null}function Nxn(e,t,n,r,o,i){const s=h5(n,r,{fromValue(c){return Lfe(e,t,c.endMeta)},fromMeta(c){return Lfe(e,t,c)}}),a=h5(o,i,{fromValue(c){return Bfe(e,c.startMeta)},fromMeta(c){return Bfe(e,c)}});return JT(s,a)}class n2{constructor(){this._postive=[],this._negative=[]}addToEnd(t){t.index=this._postive.length,this._postive.push(t)}addToBeginning(t){if(this.length==0){this.addToEnd(t);return}t.index=-(this._negative.length+1),this._negative.push(t)}mergeAtEnd(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.lastIdx,o=n(this.get(r),t);Array.isArray(o)?(this.set(r,o[0]),this.addToEnd(o[1])):this.set(r,o)}mergeAtBeginning(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.firstIdx,o=n(t,this.get(r));Array.isArray(o)?(this.set(r,o[1]),this.addToBeginning(o[0])):this.set(r,o)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(t){return t>=0?t<this._postive.length:-(t+1)<this._negative.length}get(t){return t>=0?this._postive[t]:this._negative[-(t+1)]}set(t,n){t>=0?(n.index=t,this._postive[t]=n):(n.index=t,this._negative[-(t+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}function zxn(e){return e==="create"||e==="editDraft"}const Vxn=5*60*1e3;function Hxn(e,t){return Date.parse(t)-Date.parse(e)<Vxn}function Nfe(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=Vfe(e.draftState,t.draftState),r=Vfe(e.publishedState,t.publishedState);if(e.type==="delete"&&t.type==="editDraft")return[e,{...t,type:"create",draftState:n,publishedState:r}];if(t.type==="delete"){if(n==="missing"&&r==="present")return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(zxn(e.type)&&t.type==="editDraft"&&Hxn(e.endTimestamp,t.startTimestamp)){const o=new Set;for(const i of e.authors)o.add(i);for(const i of t.authors)o.add(i);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:o,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function zfe(e){const t=!!e;return e&&D4(e==null?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function Uxn(e){const t=zfe(e.draftEffect),n=zfe(e.publishedEffect);if(n==="unedited"){if(t==="deleted")return"delete";if(t==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(t==="unedited")return"editLive";if(t==="deleted")return"publish";if(t==="upsert")return"editLive"}return"editLive"}function YO(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&D4(e.draftEffect.apply),o=e.publishedEffect&&D4(e.publishedEffect.apply),i=Uxn(e);return{index:0,id:e.id,type:i,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?o?"missing":"present":"unknown"}}function Vfe(e,t){return t==="unknown"?e:t}function D4(e){return e[0]===0&&e[1]===null}let Wxn=class{constructor(t){this.reachedEarliestEntry=!1,this._transactions=new n2,this._chunks=new n2,this._possiblePendingTransactions=new Map,this.publishedId=t.publishedId,this.draftId="drafts.".concat(t.publishedId),t.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:t.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(t){const n=[],r=this._chunks.firstIdx,o=this._chunks.lastIdx;for(let i=o;i>=r;i--)n.push(t(this._chunks.get(i),i));return n}reset(){this._transactions=new n2,this._chunks=new n2,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(t){this._trace&&this._trace.push({type:"addRemoteMutation",event:t});const n=this._possiblePendingTransactions.get(t.transactionId),r=n?n.transaction:{index:0,id:t.transactionId,timestamp:t.timestamp.toISOString(),author:t.author};t.version==="draft"?r.draftEffect=t.effects:r.publishedEffect=t.effects,n?(this._possiblePendingTransactions.delete(t.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(t.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(t){this._trace&&this._trace.push({type:"addTranslogEntry",event:t}),this._transactions.addToBeginning({index:0,id:t.id,author:t.author,timestamp:t.timestamp,draftEffect:t.effects[this.draftId],publishedEffect:t.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const t=this._chunks.last;if(this._recreateTransactionsFrom<t.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const t=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:t;for(let i=r;i<=n;i++){const s=this._transactions.get(i);this._chunks.mergeAtEnd(YO(s),Nfe)}if(this._chunks.length==0)return;const o=this._chunks.first.start;for(let i=o-1;i>=t;i--){const s=this._transactions.get(i);this._chunks.mergeAtBeginning(YO(s),Nfe)}}_invalidateTransactionFrom(t){(this._recreateTransactionsFrom===void 0||t<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=t)}_createInitialChunk(){var t;if(this.reachedEarliestEntry){if(((t=this._chunks.first)==null?void 0:t.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=YO(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(t){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=t.split("/",3),r=n.shift(),o=n.shift(),i=Number(r);for(let s=this._chunks.lastIdx;s>=this._chunks.firstIdx;s--){const a=this._chunks.get(s);if(a.id===o)return a;if(Date.parse(a.endTimestamp)+60*60*1e3<i)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(t){for(let n=t?t.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(t){return t===this._chunks.last}createTimeId(t){return"".concat(t.endTimestamp.valueOf(),"/").concat(t.id)}lastChunk(){return this._chunks.last}transactionByIndex(t){return this._transactions.has(t)?this._transactions.get(t):null}chunkByTransactionIndex(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(;;){const o=this._chunks.get(r);if(!o)throw new Error("transaction does not belong in any chunk");if(t>=o.end)r++;else if(t<o.start)r--;else return o}}replayBackwardsBetween(t,n,r){let o=r.draft,i=r.published;for(let s=n;s>=t;s--){const a=this._transactions.get(s);a.draftEffect&&(o=DM(o,a.draftEffect.revert)),a.publishedEffect&&(i=DM(i,a.publishedEffect.revert))}return{draft:o,published:i}}replayBackwardsUntil(t,n){return this.replayBackwardsBetween(t,this._transactions.lastIdx,n)}calculateDiff(t,n,r,o){let i=al.wrap(t.draft,null),s=al.wrap(t.published,null);const a=Yxn(i,s),c=Ffe(t);let u=null;for(let p=r;p<=o;p++){const m=this._chunks.get(p);u||(u=m);for(let v=m.start;v<m.end;v++){const g=this._transactions.get(v),y={chunk:m,transactionIndex:v},x=i,b=s;g.draftEffect&&(i=al.applyPatch(i,g.draftEffect.apply,y)),g.publishedEffect&&(s=al.applyPatch(s,g.publishedEffect.apply,y));const w=al.getType(x)!=="null",C=al.getType(i)!=="null";al.getType(s)!=="null"&&!C&&(s=al.rebaseValue(x,s)),C&&!w&&(i=al.rebaseValue(b,i))}}const d=al.getType(i)==="null"?s:i,f=Ffe(n);return Nxn(this,u,a,c,d,f)}};function Yxn(e,t){return al.getType(e)==="null"?t:e}const Hfe=Object.create(null),qxn=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Array.isArray(t)?t:[t],{time:o,revision:i}=n;if(o&&i)throw new Error("getHistory can't handle both time and revision parameters");const s=e.config().dataset;let a="/data/history/".concat(s,"/documents/").concat(r.join(","));if(i)a="".concat(a,"?revision=").concat(i);else{const c=o||new Date().toISOString();a="".concat(a,"?time=").concat(c)}return e.request({url:a})},x3e=(e,t,n)=>{const r=On(t),o=si(t),i="".concat(r,"@").concat(n),s=Hfe[i];if(s)return s;const a=e.config().dataset,c="/data/history/".concat(a,"/documents/").concat(r,",").concat(o,"?revision=").concat(n),u=e.request({url:c}).then(d=>{const f=d.documents||[],p=f.find(v=>v._id===r);return f.find(v=>v._id===o)||p});return Hfe[i]=u,u},Gxn=e=>{let{client:t,documentId:n,documentType:r}=e;const o=new Wxn({enableTrace:Uc,publishedId:n});return new $xn({client:t,documentId:n,documentType:r,timeline:o})},Kxn=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=e.config().dataset,o={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},i="/data/history/".concat(r,"/transactions/").concat(n.join(","));return(await e.request({url:i,query:o})).toString("utf8").split(`
`).filter(Boolean).map(c=>JSON.parse(c))},Zxn=e=>Kje(e,(t,n)=>td(n)&&!t.includes(n._ref)?[...t,n._ref]:t,[]);function I4(e,t){return Array.isArray(e)?t(e.map(n=>I4(n,t)).filter(n=>typeof n<"u")):wt(e)?t(Object.keys(e).reduce((n,r)=>{const o=I4(e[r],t);return typeof o<"u"&&(n[r]=o),n},{})):t(e)}const Xxn=(e,t)=>I4(e,n=>td(n)?t(n):n),Qxn=(e,t)=>Xxn(e,n=>t[n._ref]?n:void 0);function Jxn(e,t,n,r){return Sr(x3e(e,t,r)).pipe(ht(o=>{if(!o)throw new Error("Unable to find document with ID ".concat(t," at revision ").concat(r));const i=Zxn(o).map(s=>'"'.concat(s,'": defined(*[_id=="').concat(s,'"]._id)')).join(",");return e.observable.fetch("{".concat(i,"}")).pipe(ue(s=>Qxn(o,s)))}),ue(o=>{const{_updatedAt:i,...s}=o;return{...s,_id:n}}),ht(o=>e.observable.createOrReplace(o,{visibility:"async"})))}function ewn(e){let{client:t}=e;return{getDocumentAtRevision:(n,r)=>x3e(t,n,r),getHistory:(n,r)=>qxn(t,n,r),getTransactions:n=>Kxn(t,n),restore:(n,r,o)=>Jxn(t,n,r,o),getTimelineController:Gxn}}const Ufe={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function twn(e){let{documentId:t,documentType:n,onError:r,rev:o,since:i}=e;const s=C3e(),a=h.useRef(null),c=h.useRef(Ufe),u=pr(an),d=h.useMemo(()=>s.getTimelineController({client:u,documentId:t,documentType:n}),[u,t,n,s]),f=h.useMemo(()=>new Lj(d),[d]);return h.useEffect(()=>(d.setRange(i||null,o||null),f.next(d),d.handler=(m,v)=>{m?f.error(m):setTimeout(()=>{v.setRange(i||null,o||null),f.next(v)},0)},d.resume(),()=>d.suspend()),[o,i,d,f]),h.useEffect(()=>(a.current||(a.current=Obn(u,{draftId:"drafts.".concat(t),publishedId:t},n).subscribe(m=>{d.handleRemoteMutation(m)})),()=>{a.current&&(a.current.unsubscribe(),a.current=null)}),[u,d,t,n]),h.useMemo(()=>({findRangeForRev:m=>d.findRangeForNewRev(m),findRangeForSince:m=>d.findRangeForNewSince(m),loadMore:()=>{d.setLoadMore(!0),c.current.isLoading=!0},getSnapshot:()=>c.current,subscribe:m=>{const v=f.pipe(bn(g=>g.setLoadMore(!1)),ue(g=>{var y;const x=g.timeline.mapChunks(_=>_),b=x.filter(_=>!["delete","initial"].includes(_.type)),w=!g.timeline.reachedEarliestEntry,C=!["invalid","loading"].includes(g.selectionState);return{chunks:x,diff:g.sinceTime?g.currentObjectDiff():null,isLoading:!1,isPristine:C?x.length===0&&w===!1:null,hasMoreChunks:!g.timeline.reachedEarliestEntry,lastNonDeletedRevId:(y=b==null?void 0:b[0])==null?void 0:y.id,onOlderRevision:g.onOlderRevision(),realRevChunk:g.realRevChunk,revTime:g.revTime,selectionState:g.selectionState,sinceAttributes:g.sinceAttributes(),sinceTime:g.sinceTime,timelineDisplayed:g.displayed(),timelineReady:C}}),Qn(mF),Pn(g=>(r==null||r(g),be(Ufe))),bn(g=>{c.current=g}),bn(m)).subscribe();return()=>v.unsubscribe()}}),[d,r,f])}function ao(e,t){return j7.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const nwn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],rwn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],own=fo(()=>No(0,1e4)).pipe(Np(nwn),ue((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:YNt(rwn)}]})),jo()),iwn=e=>{if(e.type==="rollCall")return{type:"rollCall",userId:e.i,sessionId:e.session};if(e.type==="state"){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if(e.type==="disconnect")return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw new Error("Got unknown presence event: ".concat(JSON.stringify(e)))},swn=(e,t)=>{const n=e.request("presence").pipe(ue(iwn)),r=o=>o.type==="rollCall"?e.request("presence_rollcall",{session:t}):o.type==="state"?e.request("presence_announce",{data:{locations:o.locations,sessionId:t}}):o.type==="disconnect"?e.request("presence_disconnect",{session:t}):Zn;return[n.pipe(ra()),r]},w3e="presence_session_id",awn=()=>i1t(16);function lwn(){try{return window.sessionStorage.getItem(w3e)}catch{}return null}function cwn(e){try{window.sessionStorage.setItem(w3e,e)}catch{}return e}const r2=lwn()||cwn(awn());function uwn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[o,i]=swn(t,r2),s=new Lj([]),a=s.pipe(Qn()),c=A=>{s.next(A)},u=A=>i({type:"state",locations:A}),d=()=>i({type:"rollCall"}),f=o.pipe(mt(A=>A.type==="rollCall"),mt(A=>A.sessionId!==r2)),m=No(0,3e4),v=fo(()=>on(a,f)).pipe(it(()=>m),Zy(s),ue(A=>{let[,D]=A;return D}),nnt(200),it(A=>u(A)),Np(Zn),ra()),g=fo(()=>d()).pipe(Np(Zn)),y=n.connectionStatus$.pipe(ue(A=>A.type),mt(A=>A==="connected"||A==="error"),Qn()),x=b3e.pipe(ue(A=>A.find(D=>D.startsWith("presence="))),ue(A=>(A==null?void 0:A.split("presence=")[1].split(",").map(D=>D.trim()))||[])),b=x.pipe(mt(A=>A.includes("fake_others")),bn(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),mnt(own)),w=x.pipe(ue(A=>A.includes("show_own"))),C=on(g,o).pipe(mt(A=>A.type==="state"||A.type==="disconnect")),_=A=>({lastActiveAt:A.timestamp,locations:A.locations,sessionId:A.sessionId,userId:A.userId}),S=on(C,b).pipe(na((A,D)=>D.type==="disconnect"?Pi(A,D.sessionId):{...A,[D.sessionId]:_(D)},{})),E=y.pipe(it(A=>A==="connected"?on(S,v):V6),ue(A=>Object.values(A)),it(A=>{const D=ho(A.map(I=>I.userId));return Sr(r.getUsers(D)).pipe(ue(I=>A.map(P=>({user:I.find($=>$.id===P.userId),session:P})).filter(j)))}),Y6(Ii(window,"beforeunload").pipe(it(()=>i({type:"disconnect"})))),jo({refCount:!0,bufferSize:1}));function j(A){return!!(A.user&&A.session)}const k=E.pipe(ue(A=>{const D=s7(A.map(I=>I.session),I=>I.userId);return Object.keys(D).map(I=>{var P;return{user:(P=A.find($=>$.user.id===I))==null?void 0:P.user,sessions:D[I]}})}),Zy(w),ue(A=>{let[D,I]=A;return D.filter(P=>I?!0:!P.sessions.some(R=>R.sessionId===r2))}),ue(A=>A.map(D=>{var I;return{user:D.user,status:"online",lastActiveAt:(I=D.sessions.sort()[0])==null?void 0:I.lastActiveAt,locations:Dn((D.sessions||[]).map(P=>P.locations||[])).map(P=>({type:P.type,documentId:P.documentId,path:P.path,lastActiveAt:P.lastActiveAt})).reduce((P,$)=>P.concat($),[])}})));return{setLocation:c,reportLocations:u,debugPresenceParam$:x,globalPresence$:k,documentPresence:A=>E.pipe(Zy(w),it(D=>{let[I,P]=D;return Sr(I).pipe(mt($=>P||$.session.sessionId!==r2),hnt($=>($.session.locations||[]).filter(R=>R.documentId===A).map(R=>({user:$.user,lastActiveAt:$.session.lastActiveAt,path:R.path||[],sessionId:$.session.sessionId}))),wCe())}))}}function dwn(){const[e,t]=h.useState([]),n=UN();return h.useEffect(()=>{const r=n.globalPresence$.subscribe(t);return()=>{r.unsubscribe()}},[n]),e}function uC(e){const t=UN(),[n,r]=h.useState([]);return h.useEffect(()=>{const o=t.documentPresence(e).subscribe(r);return()=>{o.unsubscribe()}},[e,t]),n}function fwn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});function o(){return r.observable.request({url:"/projects/".concat(n)})}function i(){return r.observable.request({url:"/projects/".concat(n,"/datasets")})}return{get:o,getDatasets:i}}const hwn=(e,t)=>{try{return JSON.parse(e)}catch(n){return console.warn("Failed to parse settings: ".concat(n.message)),t}},pwn=(e,t)=>{const n=localStorage.getItem(e);return be(n===null?t:hwn(n,t))},mwn=(e,t)=>(typeof t>"u"||t===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)),be(t)),gwn={get:pwn,set:mwn},p5=Object.create(null),vwn=(e,t)=>be(e in p5?p5[e]:t),ywn=(e,t)=>(typeof t>"u"||t===null?delete p5[e]:p5[e]=t,be(t)),bwn={get:vwn,set:ywn};let ny=null;function xwn(){if(ny!==null)return ny;const e="__test__";try{localStorage.setItem(e,e),localStorage.removeItem(e),ny=!0}catch{ny=!1}return ny}function wwn(){return xwn()?gwn:bwn}function Cwn(){const e=wwn(),t=new _r,n=(a,c)=>"".concat(a,"::").concat(c),r=t.pipe(it(a=>e.set(a.key,a.value).pipe(ue(c=>({key:a.key,value:c}))))),o=(a,c)=>on(e.get(a,c),r.pipe(mt(u=>u.key===a),ue(u=>u.value))),i=(a,c)=>{t.next({key:a,value:c})},s=a=>({forKey:c=>{const u=n(a,c);return{listen:d=>o(u,d),set:d=>i(u,d),del:()=>i(u,void 0)}},listen:(c,u)=>o(n(a,c),u),set:(c,u)=>i(n(a,c),u),del:c=>i(n(a,c),void 0),forNamespace:c=>s(n(a,c))});return{forNamespace:s}}const _wn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function Swn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=new rzt(async s=>{const a=await r.request({uri:"/users/".concat(s.join(",")),withCredentials:!0,tag:"users.get"}),u=(Array.isArray(a)?a:[a]).reduce((d,f)=>(f!=null&&f.id&&(d[f.id]=f),d),{});return s.map(d=>u[d]||null)},{batchScheduleFn:s=>lzt(s)}),i=n&&{id:n.id,displayName:n.name,imageUrl:n.profileImage};return o.prime("me",i),i!=null&&i.id&&o.prime(i.id,i),_wn.forEach(s=>o.prime(s.id,s)),{getUser:async s=>{try{return await o.load(s)}catch(a){if(a.statusCode===403)return Promise.resolve(null);throw a}},getUsers:async s=>(await o.loadMany(s)).filter(c=>wt(c)&&typeof c.id=="string")}}function VN(){const{getClient:e,currentUser:t}=Mn(),n=md(),r=e(an);return h.useMemo(()=>{const o=n.get({namespace:"userStore",dependencies:[r,t]})||Swn({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:o}),o},[r,t,n])}function HN(){const{getClient:e}=Mn(),t=e(an),n=Uo(),r=md();return h.useMemo(()=>{const o=r.get({namespace:"grantsStore",dependencies:[t,n]})||jxn({client:t,currentUser:n});return r.set({namespace:"grantsStore",dependencies:[t,n],value:o}),o},[t,n,r])}function C3e(){const e=pr(an),t=md();return h.useMemo(()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||ewn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n},[e,t])}function Li(){const e=pr(an),t=md();return h.useMemo(()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||KKt({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n},[e,t])}function el(){const e=Mn().getClient,t=En(),n=n1(),r=md(),o=C3e(),i=Li();return h.useMemo(()=>{const s=r.get({namespace:"documentStore",dependencies:[e,i,o,t]})||oxn({getClient:e,documentPreviewStore:i,historyStore:o,initialValueTemplates:n,schema:t});return r.set({namespace:"documentStore",dependencies:[e,i,o,t],value:s}),s},[e,i,o,r,t,n])}function Ewn(){const{bifur:e}=Mn().__internal,t=md();return h.useMemo(()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||Fqt({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n},[e,t])}function UN(){const{__internal:{bifur:e}}=Mn(),t=md(),n=VN(),r=Ewn();return h.useMemo(()=>{const o=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||uwn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:o}),o},[e,r,t,n])}function kwn(){const e=pr(an),t=md();return h.useMemo(()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||fwn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n},[e,t])}function jwn(){const e=md(),t=Wl();return h.useMemo(()=>{const n=e.get({dependencies:[t],namespace:"settingsStore"})||Cwn();return e.set({dependencies:[t],namespace:"settingsStore",value:n}),n},[e,t])}const Twn=/[^\p{Alpha}\p{White_Space}]/gu,Awn=new RegExp("\\p{White_Space}+","u"),Dwn={small:0,medium:1,large:2};function Iwn(e){const t=e.replace(Twn,"").split(Awn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function Ua(e){const{user:t,...n}=e;return wt(t)?n.withTooltip?l.jsx(Pwn,{...n,user:t}):l.jsx(_3e,{...n,user:t}):l.jsx(Own,{...e,user:t})}function Pwn(e){const{user:{displayName:t}}=e;return l.jsx(at,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t})}),placement:"top",portal:!0,children:l.jsx("div",{style:{display:"inline-block"},children:l.jsx(_3e,{...e})})})}const _3e=h.forwardRef(function(t,n){const{user:r,animateArrowFrom:o,position:i,size:s,status:a,tone:c,...u}=t,[d,f]=h.useState(null),p=UZt(r.id),m=d||r==null?void 0:r.imageUrl;return l.jsx(gwe,{animateArrowFrom:o,arrowPosition:i,color:p.name,"data-legacy-tone":c,initials:(r==null?void 0:r.displayName)&&Iwn(r.displayName),src:m,onImageLoadError:f,ref:n,size:typeof s=="string"?Dwn[s]:s,status:a,title:r==null?void 0:r.displayName,...u})});function Own(e){let{user:t,...n}=e;const[r]=r1(t);return r?l.jsx(Ua,{...n,user:r}):null}var Wfe=Object.freeze,Rwn=Object.defineProperty,$wn=(e,t)=>Wfe(Rwn(e,"raw",{value:Wfe(t||e.slice())})),Yfe;const Mwn=O(w6)(e=>{let{theme:t}=e;const n=t.sanity.color.dark?50:700,r=t.sanity.color.dark?700:100,o=pe.purple[r].hex,i=pe.purple[n].hex;return he(Yfe||(Yfe=$wn([`
    background-color: `,`;
    box-shadow: inset 0 0 0 1px `,`;
    color: `,`;
  `])),o,o,i)});function Fwn(e){const{fontSize:t=1,children:n="Beta",...r}=e;return l.jsx(Mwn,{...r,fontSize:t,children:n})}function Uh(e,t,n){var r;if(t.length===0)return{...e||{},value:n};const[o,...i]=t,s=Rr(o)?o._key:String(o),a=(r=e==null?void 0:e.children)!=null?r:{};return{value:e==null?void 0:e.value,children:{...a,[s]:Uh(a[s]||{},i,n)}}}const WN=20,Lwn=3,tf={name:"all-fields",title:"All fields",hidden:!1};function Bwn(e){return Ya(e.schemaType)}function Nwn(e){return aF(e.schemaType)}function zwn(e,t){return[...t.map((n,r)=>({type:"expandPath",path:t.slice(0,r+1)})),...S3e(e,t)]}function S3e(e,t){return t.length===0?[]:Bwn(e)?E3e(e,t):Nwn(e)?k3e(e,t):[]}function E3e(e,t){var n,r;if(t.length===0)return[];const[o,...i]=t,s=e._allMembers.find(v=>v.kind==="fieldSet"&&v.fieldSet.members.some(g=>g.kind==="field"&&g.name===o)),c=(s?s.fieldSet.members:e._allMembers).find(v=>v!==null&&v.kind==="field"&&v.name===o),u=e.schemaType.fields.find(v=>v.name===o),d=(n=e.groups.find(v=>v.selected))==null?void 0:n.name,f=(r=(e.schemaType.groups||[]).find(v=>v.default))==null?void 0:r.name,p=d&&(d===tf.name||u&&Ew(u.group).includes(d)),m=[];return p||m.push({type:"setSelectedGroup",path:e.path,groupName:f||tf.name}),s&&m.push({type:"expandFieldSet",path:s.fieldSet.path}),c&&(JB(c)?m.push(...k3e(c.field,i)):wIe(c)&&m.push(...E3e(c.field,i))),m}function k3e(e,t){if(t.length===0)return[];const[n,...r]=t;if(!Rr(n))throw new Error("Expected path segment to be an object with a _key property");const o=e.members.find(i=>i.key===n._key);return o?S3e(o.item,r):[]}function lo(e,t){const{currentUser:n,document:r,parent:o,value:i}=t;return typeof e=="boolean"||e===void 0?!!e:e({document:r,parent:o,value:i,currentUser:n})===!0}function Vwn(e,t){const n=ks(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}function Hwn(e,t){const n=ks(t);return e==null?void 0:e.of.find(r=>r.name===n||r.jsonType===n)}function YN(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if((e==null?void 0:e.collapsible)===!1||(e==null?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(e==null?void 0:e.collapsed)=="boolean"?e.collapsed:t>=Lwn?!0:void 0;return{collapsible:(e==null?void 0:e.collapsible)===!0||(e==null?void 0:e.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function j3e(e,t,n){return n.name===tf.name?!0:t===void 0?!1:e.length===0&&n.name===tf.name?!0:Ew(t).includes(n.name)}function qfe(e){return typeof e>"u"||wt(e)}function Uwn(e){return typeof e>"u"||Array.isArray(e)}function Wwn(e){return typeof e>"u"||Array.isArray(e)}function Ywn(e){return e.length===0||e.every(t=>wt(t))}function qwn(e){const t=new Set;return e.reduce((n,r,o)=>(t.has(r._key)&&n.push([o,r._key]),t.add(r._key),n),[])}function Gwn(e){return"_key"in e}function Kwn(e){return e==null?void 0:e.every(t=>wt(t)&&Gwn(t))}function xv(e,t){return Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u"?!1:e&&!t?!0:!Ht(e,t)}function Gfe(e){var t,n,r,o,i,s,a,c,u,d,f,p,m,v,g,y,x,b;const{parent:w,field:C,index:_}=e,S=im([...w.path,C.name]),E=non(C.type,w.level+1),j=w.value,k=w.comparisonValue;if(!qfe(j))throw new Error("Unexpected non-object value");const T=C.group?Ew(C.group):[],A=j3e(w.groups,C.group,w.selectedGroup);if(Ya(C.type)){const D=j==null?void 0:j[C.name],I=wt(k)?k==null?void 0:k[C.name]:void 0;if(!qfe(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:ks(D),value:D}};const P={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(lo(C.type.hidden,P))return{kind:"hidden",key:"field-".concat(C.name),name:C.name,index:_};const R=w.readOnly||lo(C.type.readOnly,P),V=(n=(t=w.fieldGroupState)==null?void 0:t.children)==null?void 0:n[C.name],N=(o=(r=w.collapsedPaths)==null?void 0:r.children)==null?void 0:o[C.name],W=(s=(i=w.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[C.name],G=qN({schemaType:C.type,currentUser:w.currentUser,parent:w.value,document:w.document,value:D,changed:xv(D,I),comparisonValue:I,presence:w.presence,validation:w.validation,fieldGroupState:V,path:S,level:E,focusPath:w.focusPath,openPath:w.openPath,collapsedPaths:N,collapsedFieldSets:W,readOnly:R,changesOpen:w.changesOpen});if(G===null)return null;const H=YN(C.type.options,E),q=N?N.value:H.collapsed;return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:wi(S,w.openPath),field:G,collapsed:q,collapsible:H.collapsible}}else if(Ll(C.type)){const D=j==null?void 0:j[C.name],I=wt(k)?k==null?void 0:k[C.name]:void 0;if(aF(C.type)){const P=typeof D<"u";if(P&&!Uwn(D)){const H=ks(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:H,value:D}}}if(P&&!Ywn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MIXED_ARRAY",schemaType:C.type,value:D}};if(P&&!Kwn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MISSING_KEYS",value:D,schemaType:C.type}};const $=P?qwn(D):[];if($.length>0)return{kind:"error",key:C.name,fieldName:C.name,error:{type:"DUPLICATE_KEYS",duplicates:$,schemaType:C.type}};const R=(c=(a=w.fieldGroupState)==null?void 0:a.children)==null?void 0:c[C.name],V=(d=(u=w.collapsedPaths)==null?void 0:u.children)==null?void 0:d[C.name],N=(p=(f=w.collapsedFieldSets)==null?void 0:f.children)==null?void 0:p[C.name],W=w.readOnly||lo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),G=Xwn({schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,changed:xv(D,I),comparisonValue:I,fieldGroupState:R,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:V,collapsedFieldSets:N,level:E,path:S,readOnly:W});return G===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:wi(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:G}}else{if(!Wwn(D)){const W=ks(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:W,value:D}}}const P=(v=(m=w.fieldGroupState)==null?void 0:m.children)==null?void 0:v[C.name],$=(y=(g=w.collapsedPaths)==null?void 0:g.children)==null?void 0:y[C.name],R=(b=(x=w.collapsedFieldSets)==null?void 0:x.children)==null?void 0:b[C.name],V=w.readOnly||lo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),N=Zwn({changed:xv(D,I),comparisonValue:I,schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,fieldGroupState:P,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:$,collapsedFieldSets:R,level:E,path:S,readOnly:V});return N===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:wi(S,w.openPath),collapsible:!1,collapsed:!1,field:N}}}else{const D=j==null?void 0:j[C.name],I=wt(k)?k==null?void 0:k[C.name]:void 0,P={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(lo(C.type.hidden,P))return null;const R=w.readOnly||lo(C.type.readOnly,P),V=T3e({...w,comparisonValue:I,value:D,schemaType:C.type,path:S,readOnly:R});return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:wi(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:V}}}function qN(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var n;if(e.level===WN)return null;const r={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},o=e.readOnly||lo(e.schemaType.readOnly,r),i=e.schemaType.groups||[],s=(n=i.find(b=>b.default)||tf)==null?void 0:n.name,a=[tf,...i].flatMap(b=>{var w;const C=lo(b.hidden,r),_=b.name===(((w=e.fieldGroupState)==null?void 0:w.value)||s),S=e.changesOpen?b.name===tf.name:_,E=e.changesOpen?!S:!1;return C?[]:[{disabled:E,icon:b==null?void 0:b.icon,name:b.name,selected:S,title:b.title}]}),c=a.find(b=>b.selected),d=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(b=>({single:!0,field:b}))).flatMap((b,w)=>{var C,_,S,E;if(b.single){const P=b.field,$=Gfe({field:P,parent:{...e,readOnly:o,groups:a,selectedGroup:c},index:w});return $?[$]:[]}const j=b.fields.map(P=>P.name),k=lo(b.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:Et(e.value,j)}),T=lo(b.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:Et(e.value,j)}),A=b.fields.flatMap(P=>{if(k)return[{kind:"hidden",key:"field-".concat(P.name),name:P.name,index:w}];const $=Gfe({field:P,parent:{...e,readOnly:o||T,groups:a,selectedGroup:c},index:w});return $?[$]:[]}),D=YN(b.options,e.level),I=(S=(_=(((C=e.collapsedFieldSets)==null?void 0:C.children)||{})[b.name])==null?void 0:_.value)!=null?S:D.collapsed;return[{kind:"fieldSet",key:"fieldset-".concat(b.name),_inSelectedGroup:j3e(a,b.group,c),groups:b.group?Ew(b.group):[],fieldSet:{path:im(e.path.concat(b.name)),name:b.name,title:b.title,description:b.description,hidden:!1,level:e.level+1,members:A.filter(P=>P.kind!=="hidden"),collapsible:D==null?void 0:D.collapsible,collapsed:I,columns:(E=b==null?void 0:b.options)==null?void 0:E.columns}}]}),f=i.length>0,p=e.presence.filter(b=>yn(b.path,e.path)),m=p.length?p:pn,v=e.validation.filter(b=>yn(b.path,e.path)).map(b=>({level:b.level,message:b.item.message,path:b.path})),g=d.filter(b=>b.kind!=="hidden");if(g.length===0&&t)return null;const y=f?a.flatMap(b=>b.name===tf.name||g.some(C=>C.kind==="error"?!1:C.kind==="field"?C.groups.includes(b.name):C.groups.includes(b.name)||C.fieldSet.members.some(_=>_.kind!=="error"&&_.groups.includes(b.name)))?b:[]):[],x=g.flatMap(b=>{if(b.kind==="error")return[b];if(b.kind==="field")return b.inSelectedGroup?[b]:[];const w=b.fieldSet.members.filter(C=>C.kind!=="field"||C.inSelectedGroup);return w.length>0?[{...b,fieldSet:{...b.fieldSet,members:w}}]:[]});return{value:e.value,changed:xv(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:o,path:e.path,id:Br(e.path),level:e.level,focused:yn(e.path,e.focusPath),focusPath:pF(e.path,e.focusPath),presence:m,validation:v,_allMembers:d,members:x,groups:y}}function Zwn(e){if(e.level===WN)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(lo(e.schemaType.hidden,t))return null;const r=e.readOnly||lo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>yn(u.path,e.path)),s=i.length?i:pn,a=e.validation.filter(u=>yn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>Jwn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:yn(e.path,e.focusPath),focusPath:pF(e.path,e.focusPath),path:e.path,id:Br(e.path),level:e.level,validation:a,presence:s,members:c}}function Xwn(e){if(e.level===WN)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(lo(e.schemaType.hidden,t))return null;const r=e.readOnly||lo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>yn(u.path,e.path)),s=i.length?i:pn,a=e.validation.filter(u=>yn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>Qwn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:yn(e.path,e.focusPath),focusPath:pF(e.path,e.focusPath),path:e.path,id:Br(e.path),level:e.level,validation:a,presence:s,members:c}}function Qwn(e){var t,n,r,o,i,s,a;const{arrayItem:c,parent:u,index:d}=e,f=Vwn(u.schemaType,c),p=c._key;if(!f){const j=ks(c);return{kind:"error",key:p,index:d,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:j,value:c,validTypes:u.schemaType.of}}}const m=im([...u.path,{_key:p}]),v=u.level+1,g={value:u.value,parent:e.parent,document:u.document,currentUser:u.currentUser},y=u.readOnly||lo(u.schemaType.readOnly,g),x=(n=(t=u.fieldGroupState)==null?void 0:t.children)==null?void 0:n[p],b=(o=(r=u.collapsedPaths)==null?void 0:r.children)==null?void 0:o[p],w=(s=(i=u.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[p],C=Array.isArray(u.comparisonValue)&&u.comparisonValue.find(j=>j._key===c._key)||void 0,_=qN({schemaType:f,level:v,document:u.document,value:c,comparisonValue:C,changed:xv(c,C),path:m,focusPath:u.focusPath,openPath:u.openPath,currentUser:u.currentUser,collapsedPaths:b,collapsedFieldSets:w,presence:u.presence,validation:u.validation,fieldGroupState:x,readOnly:y},!1),S=YN(f.options,v),E=(a=b==null?void 0:b.value)!=null?a:S.collapsed;return{kind:"item",key:p,index:d,open:wi(m,u.openPath),collapsed:E,collapsible:!0,parentSchemaType:u.schemaType,item:_}}function Jwn(e){var t,n;const{arrayItem:r,parent:o,index:i}=e,s=Hwn(o.schemaType,r),a=im([...o.path,i]),c=(t=o.value)==null?void 0:t[i],u=(n=o.comparisonValue)==null?void 0:n[i],d=o.level+1,f="".concat((s==null?void 0:s.name)||"invalid-type","-").concat(String(i));if(!s)return{kind:"error",key:f,index:i,error:{type:"INVALID_ITEM_TYPE",validTypes:o.schemaType.of,resolvedValueType:ks(s),value:c}};const p=o.readOnly||lo(s.readOnly,{value:c,parent:o.value,document:o.document,currentUser:o.currentUser}),m=T3e({...o,path:a,schemaType:s,level:d,value:c,comparisonValue:u,readOnly:p});return{kind:"item",key:f,index:i,parentSchemaType:o.schemaType,open:yn(a,o.openPath),item:m}}function T3e(e){const t=e.presence.filter(o=>yn(o.path,e.path)),n=t.length?t:pn,r=e.validation.filter(o=>yn(o.path,e.path)).map(o=>({level:o.level,message:o.item.message,path:o.path}));return{schemaType:e.schemaType,changed:xv(e.value,e.comparisonValue),value:e.value,level:e.level,id:Br(e.path),readOnly:e.readOnly,focused:yn(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function eCn(e){return qN(e)}function tCn(e,t){let{comparisonValue:n,value:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,openPath:c,presence:u,validation:d,readOnly:f,changesOpen:p}=t;const m=Uo(),v=h.useRef(null);return h.useLayoutEffect(()=>{v.current=null},[e]),h.useMemo(()=>{const g=eCn({schemaType:e,document:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,value:r,comparisonValue:n,focusPath:a,openPath:c,readOnly:f,path:im([]),level:0,currentUser:m,presence:u,validation:d,changesOpen:p}),y=EB(v.current,g);return v.current=y,y},[e,r,o,i,s,n,a,c,f,m,u,d,p])}function nCn(e){return e.map(iCn)}function P4(e,t){return Dn(t.map(n=>oCn(e,n)))}const rCn=e=>t=>!e.includes(t);function oCn(e,t){return Dn(Object.keys(t).filter(rCn(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return t.unset.map(r=>({type:"unset",path:eg(r),origin:e}));if(n==="insert"){const r="before"in t.insert?"before":"after";return{type:"insert",position:r,path:eg(t.insert[r]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map(r=>n==="set"?{type:"set",path:eg(r),value:t[n][r],origin:e}:n==="inc"||n==="dec"?{type:n,path:eg(r),value:t[n][r],origin:e}:n==="setIfMissing"?{type:"setIfMissing",path:eg(r),value:t[n][r],origin:e}:n==="diffMatchPatch"?{type:n,path:eg(r),value:t[n][r],origin:e}:(console.warn(new Error("Unsupported patch type: ".concat(n))),null)).filter(Boolean)}))}function iCn(e){if(e.patchType!==Xp&&e.type)throw new Error('Patch is missing "patchType" - import and use "'.concat(e.type,'()" from "sanity/form"'));if(e.patchType!==Xp)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=Nje(e.path||[]);if(e.type==="insert"){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if(e.type==="unset")return{unset:[t]};if(!e.type)throw new Error("Missing patch type in patch ".concat(JSON.stringify(e)));return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}h.memo(function(t){const{transform:n}=t,r=ha(),o=h.useCallback(s=>{const a=s.patches,c=n(a);r.onChange(ft.from(c))},[r,n]),i=h.useMemo(()=>({...r,onChange:o}),[r,o]);return l.jsx(SB.Provider,{value:i,children:t.children})});Of.fonts.code.family,Of.fonts.text.family,lc.hex,_a.hex,ly[500].hex,_a.hex,lc.hex,x2[500].hex,x2[500].hex,x2[500].hex,_3[500].hex,ly[500].hex,E3[500].hex,S3[500].hex,ly[500].hex,ly[500].hex,E3[500].hex,S3[500].hex,_3[500].hex,lc.hex,_a.hex;({...Of});const sCn=pB(e=>{const{name:t,title:n,icon:r,...o}=e||{};return{name:"@sanity/vision",tools:[{name:t||"vision",title:n||"Vision",icon:r||DF,component:h.lazy(()=>S8(()=>import("./SanityVision-oM6_d46E-bd9bfb8c.js"),[])),options:o,router:xi.create("/*")}]}});var ZA={},aCn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},lCn=aCn,Kfe={"text/plain":"Text","text/html":"Url",default:"Text"},cCn="Copy to clipboard: #{key}, Enter";function uCn(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function dCn(e,t){var n,r,o,i,s,a,c=!1;t||(t={}),n=t.debug||!1;try{o=lCn(),i=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=Kfe[t.format]||Kfe.default;window.clipboardData.setData(f,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),s.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");c=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=uCn("message"in t?t.message:cCn),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),a&&document.body.removeChild(a),o()}return c}var fCn=dCn;function O4(e){"@babel/helpers - typeof";return O4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O4(e)}Object.defineProperty(ZA,"__esModule",{value:!0});ZA.CopyToClipboard=void 0;var o2=A3e(h),hCn=A3e(fCn),pCn=["text","onCopy","options","children"];function A3e(e){return e&&e.__esModule?e:{default:e}}function Zfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Xfe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zfe(Object(n),!0).forEach(function(r){GN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zfe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mCn(e,t){if(e==null)return{};var n=gCn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gCn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function vCn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qfe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yCn(e,t,n){return t&&Qfe(e.prototype,t),n&&Qfe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bCn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R4(e,t)}function R4(e,t){return R4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},R4(e,t)}function xCn(e){var t=CCn();return function(){var r=m5(e),o;if(t){var i=m5(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return wCn(this,o)}}function wCn(e,t){if(t&&(O4(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D3e(e)}function D3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CCn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m5(e){return m5=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},m5(e)}function GN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I3e=function(e){bCn(n,e);var t=xCn(n);function n(){var r;vCn(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),GN(D3e(r),"onClick",function(a){var c=r.props,u=c.text,d=c.onCopy,f=c.children,p=c.options,m=o2.default.Children.only(f),v=(0,hCn.default)(u,p);d&&d(u,v),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(a)}),r}return yCn(n,[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var i=o.children,s=mCn(o,pCn),a=o2.default.Children.only(i);return o2.default.cloneElement(a,Xfe(Xfe({},s),{},{onClick:this.onClick}))}}]),n}(o2.default.PureComponent);ZA.CopyToClipboard=I3e;GN(I3e,"defaultProps",{onCopy:void 0,options:void 0});var _Cn=ZA,$4=_Cn.CopyToClipboard;$4.CopyToClipboard=$4;var SCn=$4;const ECn=Pe(SCn);var kCn=Hf,jCn=Ga,TCn="[object Number]";function ACn(e){return typeof e=="number"||jCn(e)&&kCn(e)==TCn}var DCn=ACn;const ICn=Pe(DCn);function Jfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ehe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jfe(Object(n),!0).forEach(function(r){PCn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jfe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PCn(e,t,n){return t=OCn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OCn(e){var t=RCn(e,"string");return typeof t=="symbol"?t:String(t)}function RCn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g5(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function P3e(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function O3e(e){return P3e(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function R3e(e){return e._type==="@list"}function $3e(e){return e._type==="@span"}function M3e(e){return e._type==="@text"}const the=["strong","em","code","underline","strike-through"];function $Cn(e,t,n){if(!g5(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),o={};return r.forEach(i=>{o[i]=1;for(let s=t+1;s<n.length;s++){const a=n[s];if(a&&g5(a)&&Array.isArray(a.marks)&&a.marks.indexOf(i)!==-1)o[i]++;else break}}),r.sort((i,s)=>MCn(o,i,s))}function MCn(e,t,n){const r=e[t],o=e[n];if(r!==o)return o-r;const i=the.indexOf(t),s=the.indexOf(n);return i!==s?i-s:t.localeCompare(n)}function FCn(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const o=n.map($Cn),i={_type:"@span",children:[],markType:"<unknown>"};let s=[i];for(let a=0;a<n.length;a++){const c=n[a];if(!c)continue;const u=o[a]||[];let d=1;if(s.length>1)for(d;d<s.length;d++){const p=((t=s[d])==null?void 0:t.markKey)||"",m=u.indexOf(p);if(m===-1)break;u.splice(m,1)}s=s.slice(0,d);let f=s[s.length-1];if(f){for(const p of u){const m=r.find(y=>y._key===p),v=m?m._type:p,g={_type:"@span",_key:c._key,children:[],markDef:m,markType:v,markKey:p};f.children.push(g),s.push(g),f=g}if(g5(c)){const p=c.text.split(`
`);for(let m=p.length;m-- >1;)p.splice(m,0,`
`);f.children=f.children.concat(p.map(m=>({_type:"@text",text:m})))}else f.children=f.children.concat(c)}}return i.children}function LCn(e,t){const n=[];let r;for(let o=0;o<e.length;o++){const i=e[o];if(i){if(!O3e(i)){n.push(i),r=void 0;continue}if(!r){r=i2(i,o,t),n.push(r);continue}if(BCn(i,r)){r.children.push(i);continue}if((i.level||1)>r.level){const s=i2(i,o,t);if(t==="html"){const a=r.children[r.children.length-1],c=ehe(ehe({},a),{},{children:[...a.children,s]});r.children[r.children.length-1]=c}else r.children.push(s);r=s;continue}if((i.level||1)<r.level){const s=n[n.length-1],a=s&&M4(s,i);if(a){r=a,r.children.push(i);continue}r=i2(i,o,t),n.push(r);continue}if(i.listItem!==r.listItem){const s=n[n.length-1],a=s&&M4(s,{level:i.level||1});if(a&&a.listItem===i.listItem){r=a,r.children.push(i);continue}else{r=i2(i,o,t),n.push(r);continue}}console.warn("Unknown state encountered for block",i),n.push(i)}}return n}function BCn(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function i2(e,t,n){return{_type:"@list",_key:"".concat(e._key||"".concat(t),"-parent"),mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function M4(e,t){const n=t.level||1,r=t.listItem||"normal",o=typeof t.listItem=="string";if(R3e(e)&&(e.level||1)===n&&o&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!g5(i)?M4(i,t):void 0}function F3e(e){let t="";return e.children.forEach(n=>{M3e(n)?t+=n.text:$3e(n)&&(t+=F3e(n))}),t}const NCn="html",zCn=["block","list","listItem","marks","types"],VCn=["listItem"],HCn=["_key"];function nhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nhe(Object(n),!0).forEach(function(r){UCn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nhe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UCn(e,t,n){return t=WCn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WCn(e){var t=YCn(e,"string");return typeof t=="symbol"?t:String(t)}function YCn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F4(e,t){if(e==null)return{};var n=qCn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qCn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function GCn(e,t){const n=F4(t,zCn);return dc(dc({},e),{},{block:ry(e,t,"block"),list:ry(e,t,"list"),listItem:ry(e,t,"listItem"),marks:ry(e,t,"marks"),types:ry(e,t,"types")},n)}function ry(e,t,n){const r=t[n],o=e[n];return typeof r=="function"||r&&typeof o=="function"?r:r?dc(dc({},o),r):o}const KCn=e=>{let{children:t,value:n}=e;return l.jsx("a",{href:n==null?void 0:n.href,children:t})},ZCn={textDecoration:"underline"},XCn={em:e=>{let{children:t}=e;return l.jsx("em",{children:t})},strong:e=>{let{children:t}=e;return l.jsx("strong",{children:t})},code:e=>{let{children:t}=e;return l.jsx("code",{children:t})},underline:e=>{let{children:t}=e;return l.jsx("span",{style:ZCn,children:t})},"strike-through":e=>{let{children:t}=e;return l.jsx("del",{children:t})},link:KCn},QCn={number:e=>{let{children:t}=e;return l.jsx("ol",{children:t})},bullet:e=>{let{children:t}=e;return l.jsx("ul",{children:t})}},JCn=e=>{let{children:t}=e;return l.jsx("li",{children:t})},dC=(e,t)=>"[@portabletext/react] Unknown ".concat(e,", specify a component for it in the `components.").concat(t,"` prop"),L3e=e=>dC('block type "'.concat(e,'"'),"types"),e_n=e=>dC('mark type "'.concat(e,'"'),"marks"),t_n=e=>dC('block style "'.concat(e,'"'),"block"),n_n=e=>dC('list style "'.concat(e,'"'),"list"),r_n=e=>dC('list item style "'.concat(e,'"'),"listItem");function o_n(e){console.warn(e)}const rhe={display:"none"},i_n=e=>{let{value:t,isInline:n}=e;const r=L3e(t._type);return n?l.jsx("span",{style:rhe,children:r}):l.jsx("div",{style:rhe,children:r})},s_n=e=>{let{markType:t,children:n}=e;return l.jsx("span",{className:"unknown__pt__mark__".concat(t),children:n})},a_n=e=>{let{children:t}=e;return l.jsx("p",{children:t})},l_n=e=>{let{children:t}=e;return l.jsx("ul",{children:t})},c_n=e=>{let{children:t}=e;return l.jsx("li",{children:t})},u_n=()=>l.jsx("br",{}),d_n={normal:e=>{let{children:t}=e;return l.jsx("p",{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx("blockquote",{children:t})},h1:e=>{let{children:t}=e;return l.jsx("h1",{children:t})},h2:e=>{let{children:t}=e;return l.jsx("h2",{children:t})},h3:e=>{let{children:t}=e;return l.jsx("h3",{children:t})},h4:e=>{let{children:t}=e;return l.jsx("h4",{children:t})},h5:e=>{let{children:t}=e;return l.jsx("h5",{children:t})},h6:e=>{let{children:t}=e;return l.jsx("h6",{children:t})}},ohe={types:{},block:d_n,marks:XCn,list:QCn,listItem:JCn,hardBreak:u_n,unknownType:i_n,unknownMark:s_n,unknownList:l_n,unknownListItem:c_n,unknownBlockStyle:a_n};function f_n(e){let{value:t,components:n,listNestingMode:r,onMissingComponent:o=o_n}=e;const i=o||p_n,s=Array.isArray(t)?t:[t],a=LCn(s,r||NCn),c=h.useMemo(()=>n?GCn(ohe,n):ohe,[n]),u=h.useMemo(()=>h_n(c,i),[c,i]),d=a.map((f,p)=>u({node:f,index:p,isInline:!1,renderNode:u}));return l.jsx(l.Fragment,{children:d})}const h_n=(e,t)=>{function n(f){const{node:p,index:m,isInline:v}=f,g=p._key||"node-".concat(m);return R3e(p)?i(p,m,g):O3e(p)?o(p,m,g):$3e(p)?s(p,m,g):r(p)?d(p,m,g,v):P3e(p)?a(p,m,g,v):M3e(p)?c(p,g):u(p,m,g,v)}function r(f){return f._type in e.types}function o(f,p,m){const v=ihe({node:f,index:p,isInline:!1,renderNode:n}),g=e.listItem,x=(typeof g=="function"?g:g[f.listItem])||e.unknownListItem;if(x===e.unknownListItem){const w=f.listItem||"bullet";t(r_n(w),{type:w,nodeType:"listItemStyle"})}let b=v.children;if(f.style&&f.style!=="normal"){const w=F4(f,VCn);b=n({node:w,index:p,isInline:!1,renderNode:n})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:b},m)}function i(f,p,m){const v=f.children.map((b,w)=>n({node:b._key?b:dc(dc({},b),{},{_key:"li-".concat(p,"-").concat(w)}),index:w,isInline:!1,renderNode:n})),g=e.list,x=(typeof g=="function"?g:g[f.listItem])||e.unknownList;if(x===e.unknownList){const b=f.listItem||"bullet";t(n_n(b),{nodeType:"listStyle",type:b})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:v},m)}function s(f,p,m){const{markDef:v,markType:g,markKey:y}=f,x=e.marks[g]||e.unknownMark,b=f.children.map((w,C)=>n({node:w,index:C,isInline:!0,renderNode:n}));return x===e.unknownMark&&t(e_n(g),{nodeType:"mark",type:g}),l.jsx(x,{text:F3e(f),value:v,markType:g,markKey:y,renderNode:n,children:b},m)}function a(f,p,m,v){const g=ihe({node:f,index:p,isInline:v,renderNode:n}),y=F4(g,HCn),x=y.node.style||"normal",w=(typeof e.block=="function"?e.block:e.block[x])||e.unknownBlockStyle;return w===e.unknownBlockStyle&&t(t_n(x),{nodeType:"blockStyle",type:x}),l.jsx(w,dc(dc({},y),{},{value:y.node,renderNode:n}),m)}function c(f,p){if(f.text===`
`){const m=e.hardBreak;return m?l.jsx(m,{},p):`
`}return f.text}function u(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n};t(L3e(f._type),{nodeType:"block",type:f._type});const y=e.unknownType;return l.jsx(y,dc({},g),m)}function d(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n},y=e.types[f._type];return y?l.jsx(y,dc({},g),m):null}return n};function ihe(e){const{node:t,index:n,isInline:r,renderNode:o}=e,s=FCn(t).map((a,c)=>o({node:a,isInline:!0,index:c,renderNode:o}));return{_key:t._key||"block-".concat(n),children:s,index:n,isInline:r,node:t}}function p_n(){}var m_n=LSe,g_n=A8,v_n=g_n(function(e,t,n){return t=t.toLowerCase(),e+(n?m_n(t):t)}),y_n=v_n;const she=Pe(y_n);var b_n=A8,x_n=b_n(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),w_n=x_n;const C_n=Pe(w_n);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ahe=Object.getOwnPropertySymbols,__n=Object.prototype.hasOwnProperty,S_n=Object.prototype.propertyIsEnumerable;function E_n(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function k_n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var j_n=k_n()?Object.assign:function(e,t){for(var n,r=E_n(e),o,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var s in n)__n.call(n,s)&&(r[s]=n[s]);if(ahe){o=ahe(n);for(var a=0;a<o.length;a++)S_n.call(n,o[a])&&(r[o[a]]=n[o[a]])}}return r},s2=j_n,T_n={};function sl(e,t,n,r,o,i,s,a){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,s,a],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var lhe="mixins";function A_n(e,t,n){var r=[],o={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},i={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},s={displayName:function(C,_){C.displayName=_},mixins:function(C,_){if(_)for(var S=0;S<_.length;S++)c(C,_[S])},childContextTypes:function(C,_){C.childContextTypes=s2({},C.childContextTypes,_)},contextTypes:function(C,_){C.contextTypes=s2({},C.contextTypes,_)},getDefaultProps:function(C,_){C.getDefaultProps?C.getDefaultProps=f(C.getDefaultProps,_):C.getDefaultProps=_},propTypes:function(C,_){C.propTypes=s2({},C.propTypes,_)},statics:function(C,_){u(C,_)},autobind:function(){}};function a(C,_){var S=o.hasOwnProperty(_)?o[_]:null;x.hasOwnProperty(_)&&sl(S==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",_),C&&sl(S==="DEFINE_MANY"||S==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",_)}function c(C,_){if(_){sl(typeof _!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),sl(!t(_),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var S=C.prototype,E=S.__reactAutoBindPairs;_.hasOwnProperty(lhe)&&s.mixins(C,_.mixins);for(var j in _)if(_.hasOwnProperty(j)&&j!==lhe){var k=_[j],T=S.hasOwnProperty(j);if(a(T,j),s.hasOwnProperty(j))s[j](C,k);else{var A=o.hasOwnProperty(j),D=typeof k=="function",I=D&&!A&&!T&&_.autobind!==!1;if(I)E.push(j,k),S[j]=k;else if(T){var P=o[j];sl(A&&(P==="DEFINE_MANY_MERGED"||P==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",P,j),P==="DEFINE_MANY_MERGED"?S[j]=f(S[j],k):P==="DEFINE_MANY"&&(S[j]=p(S[j],k))}else S[j]=k}}}}function u(C,_){if(_)for(var S in _){var E=_[S];if(_.hasOwnProperty(S)){var j=S in s;sl(!j,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',S);var k=S in C;if(k){var T=i.hasOwnProperty(S)?i[S]:null;sl(T==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",S),C[S]=f(C[S],E);return}C[S]=E}}}function d(C,_){sl(C&&_&&typeof C=="object"&&typeof _=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var S in _)_.hasOwnProperty(S)&&(sl(C[S]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",S),C[S]=_[S]);return C}function f(C,_){return function(){var E=C.apply(this,arguments),j=_.apply(this,arguments);if(E==null)return j;if(j==null)return E;var k={};return d(k,E),d(k,j),k}}function p(C,_){return function(){C.apply(this,arguments),_.apply(this,arguments)}}function m(C,_){var S=_.bind(C);return S}function v(C){for(var _=C.__reactAutoBindPairs,S=0;S<_.length;S+=2){var E=_[S],j=_[S+1];C[E]=m(C,j)}}var g={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(C,_){this.updater.enqueueReplaceState(this,C,_)},isMounted:function(){return!!this.__isMounted}},b=function(){};s2(b.prototype,e.prototype,x);function w(C){var _=function(E,j,k){this.__reactAutoBindPairs.length&&v(this),this.props=E,this.context=j,this.refs=T_n,this.updater=k||n,this.state=null;var T=this.getInitialState?this.getInitialState():null;sl(typeof T=="object"&&!Array.isArray(T),"%s.getInitialState(): must return an object or null",_.displayName||"ReactCompositeComponent"),this.state=T};_.prototype=new b,_.prototype.constructor=_,_.prototype.__reactAutoBindPairs=[],r.forEach(c.bind(null,_)),c(_,g),c(_,C),c(_,y),_.getDefaultProps&&(_.defaultProps=_.getDefaultProps()),sl(_.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var S in o)_.prototype[S]||(_.prototype[S]=null);return _}return w}var D_n=A_n,v5=h,I_n=D_n;if(typeof v5>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var P_n=new v5.Component().updater,XA=I_n(v5.Component,v5.isValidElement,P_n),O_n=Date.now||R_n;function R_n(){return new Date().getTime()}var che=O_n,$_n=function(t,n,r){var o,i,s,a,c;n==null&&(n=100);function u(){var d=che()-a;d<n&&d>0?o=setTimeout(u,n-d):(o=null,r||(c=t.apply(s,i),o||(s=i=null)))}return function(){s=this,i=arguments,a=che();var f=r&&!o;return o||(o=setTimeout(u,n)),f&&(c=t.apply(s,i),s=i=null),c}},M_n=F_n;function F_n(e){for(var t=L_n(e),n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<t.length;s+=16){var a=n,c=r,u=o,d=i;n=pi(n,r,o,i,t[s+0],7,-680876936),i=pi(i,n,r,o,t[s+1],12,-389564586),o=pi(o,i,n,r,t[s+2],17,606105819),r=pi(r,o,i,n,t[s+3],22,-1044525330),n=pi(n,r,o,i,t[s+4],7,-176418897),i=pi(i,n,r,o,t[s+5],12,1200080426),o=pi(o,i,n,r,t[s+6],17,-1473231341),r=pi(r,o,i,n,t[s+7],22,-45705983),n=pi(n,r,o,i,t[s+8],7,1770035416),i=pi(i,n,r,o,t[s+9],12,-1958414417),o=pi(o,i,n,r,t[s+10],17,-42063),r=pi(r,o,i,n,t[s+11],22,-1990404162),n=pi(n,r,o,i,t[s+12],7,1804603682),i=pi(i,n,r,o,t[s+13],12,-40341101),o=pi(o,i,n,r,t[s+14],17,-1502002290),r=pi(r,o,i,n,t[s+15],22,1236535329),n=mi(n,r,o,i,t[s+1],5,-165796510),i=mi(i,n,r,o,t[s+6],9,-1069501632),o=mi(o,i,n,r,t[s+11],14,643717713),r=mi(r,o,i,n,t[s+0],20,-373897302),n=mi(n,r,o,i,t[s+5],5,-701558691),i=mi(i,n,r,o,t[s+10],9,38016083),o=mi(o,i,n,r,t[s+15],14,-660478335),r=mi(r,o,i,n,t[s+4],20,-405537848),n=mi(n,r,o,i,t[s+9],5,568446438),i=mi(i,n,r,o,t[s+14],9,-1019803690),o=mi(o,i,n,r,t[s+3],14,-187363961),r=mi(r,o,i,n,t[s+8],20,1163531501),n=mi(n,r,o,i,t[s+13],5,-1444681467),i=mi(i,n,r,o,t[s+2],9,-51403784),o=mi(o,i,n,r,t[s+7],14,1735328473),r=mi(r,o,i,n,t[s+12],20,-1926607734),n=gi(n,r,o,i,t[s+5],4,-378558),i=gi(i,n,r,o,t[s+8],11,-2022574463),o=gi(o,i,n,r,t[s+11],16,1839030562),r=gi(r,o,i,n,t[s+14],23,-35309556),n=gi(n,r,o,i,t[s+1],4,-1530992060),i=gi(i,n,r,o,t[s+4],11,1272893353),o=gi(o,i,n,r,t[s+7],16,-155497632),r=gi(r,o,i,n,t[s+10],23,-1094730640),n=gi(n,r,o,i,t[s+13],4,681279174),i=gi(i,n,r,o,t[s+0],11,-358537222),o=gi(o,i,n,r,t[s+3],16,-722521979),r=gi(r,o,i,n,t[s+6],23,76029189),n=gi(n,r,o,i,t[s+9],4,-640364487),i=gi(i,n,r,o,t[s+12],11,-421815835),o=gi(o,i,n,r,t[s+15],16,530742520),r=gi(r,o,i,n,t[s+2],23,-995338651),n=vi(n,r,o,i,t[s+0],6,-198630844),i=vi(i,n,r,o,t[s+7],10,1126891415),o=vi(o,i,n,r,t[s+14],15,-1416354905),r=vi(r,o,i,n,t[s+5],21,-57434055),n=vi(n,r,o,i,t[s+12],6,1700485571),i=vi(i,n,r,o,t[s+3],10,-1894986606),o=vi(o,i,n,r,t[s+10],15,-1051523),r=vi(r,o,i,n,t[s+1],21,-2054922799),n=vi(n,r,o,i,t[s+8],6,1873313359),i=vi(i,n,r,o,t[s+15],10,-30611744),o=vi(o,i,n,r,t[s+6],15,-1560198380),r=vi(r,o,i,n,t[s+13],21,1309151649),n=vi(n,r,o,i,t[s+4],6,-145523070),i=vi(i,n,r,o,t[s+11],10,-1120210379),o=vi(o,i,n,r,t[s+2],15,718787259),r=vi(r,o,i,n,t[s+9],21,-343485551),n=nf(n,a),r=nf(r,c),o=nf(o,u),i=nf(i,d)}return a2(n)+a2(r)+a2(o)+a2(i)}var uhe="0123456789abcdef";function KN(e,t){var n=e&1|t&1,r=e>>>1|t>>>1;return r<<1|n}function L4(e,t){var n=e&1^t&1,r=e>>>1^t>>>1;return r<<1|n}function y5(e,t){var n=e&1&(t&1),r=e>>>1&t>>>1;return r<<1|n}function nf(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function a2(e){var t="",n;for(n=0;n<=3;n++)t+=uhe.charAt(e>>n*8+4&15)+uhe.charAt(e>>n*8&15);return t}function L_n(e){var t=(e.length+8>>6)+1,n=new Array(t*16),r;for(r=0;r<t*16;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<(e.length*8+r)%4*8;n[r>>2]|=128<<(e.length*8+r)%4*8;var o=e.length*8;return n[t*16-2]=o&255,n[t*16-2]|=(o>>>8&255)<<8,n[t*16-2]|=(o>>>16&255)<<16,n[t*16-2]|=(o>>>24&255)<<24,n}function B_n(e,t){return e<<t|e>>>32-t}function QA(e,t,n,r,o,i){return nf(B_n(nf(nf(t,e),nf(r,i)),o),n)}function pi(e,t,n,r,o,i,s){return QA(KN(y5(t,n),y5(~t,r)),e,t,o,i,s)}function mi(e,t,n,r,o,i,s){return QA(KN(y5(t,r),y5(n,~r)),e,t,o,i,s)}function gi(e,t,n,r,o,i,s){return QA(L4(L4(t,n),r),e,t,o,i,s)}function vi(e,t,n,r,o,i,s){return QA(L4(n,KN(t,~r)),e,t,o,i,s)}var N_n=Math.ceil(Math.random()*10),z_n=function(){return++N_n},ZN=function(e){return Object.prototype.toString.call(e).slice(8,-1)},V_n=ZN;function H_n(e){var t=V_n(e);return t!=="Object"&&t!=="Array"}var B3e=H_n,U_n=h,W_n=XA,l2=U_n.createElement,Y_n=W_n({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||t===-1)return l2("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return l2("span",null,e.string.split(e.highlight).map(function(o,i){return l2("span",{key:i},i>0?l2("span",{className:"json-inspector__hl"},r):null,o)}))}}),q_n=h,G_n=XA,K_n=M_n,Z_n=z_n,N3e=ZN,DS=B3e,X_n=Y_n,xa=q_n.createElement,Q_n=".root.",z3e=G_n({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+Z_n(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return xa("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},xa("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),xa("label",{className:"json-inspector__line",htmlFor:e,onClick:r},xa("div",{className:"json-inspector__flatpath"},n.path),xa("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=N3e(e);switch(t){case"Array":var n=e.length;return xa("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[…] ":"[] ")+J_n(n));case"Object":var r=Object.keys(e).length;return xa("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"{…} ":"{} ")+e2n(r));default:return xa("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!DS(n)?Object.keys(n).map(function(r){var o=n[r],i=!this.state.original||(e.verboseShowOriginal?e.query:!1);return xa(z3e,{data:o,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:i?e.getOriginal:null,key:t2n(r,o),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var e=this.props;return DS(e.data)||this.state.original||!e.getOriginal||!e.query||qO(this.keypath(),e.query)?null:xa("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return typeof this.props.interactiveLabel=="function"?xa(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!qO(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(Q_n.length)},data:function(){return this.state.original||this.props.data},format:function(e){return xa(X_n,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),DS(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return e.root?!0:e.query?!qO(t,e.query)&&typeof e.getOriginal=="function":e.isExpanded(t,e.data)}});function J_n(e){return e+(e===1?" item":" items")}function e2n(e){return e+(e===1?" property":" properties")}function t2n(e,t){if(DS(t)){var n=K_n(String(t));return e+":"+n}else return e+"["+N3e(t)+"]"}function qO(e,t){return e.indexOf(t)!==-1}var n2n=z3e,V3e=function(){},r2n=h,o2n=XA,i2n=r2n.createElement,s2n=V3e,a2n=o2n({getDefaultProps:function(){return{onChange:s2n}},render:function(){return i2n("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}}),H3e=function(e){return Object.keys(e).length===0},l2n=Object.keys,c2n=B3e,u2n=H3e,d2n=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return IS(e,r,t);var o;if(!n[r]){for(var i=r.length-1;i>0;i-=1)if(o=r.substr(0,i),n[o]){n[r]=IS(n[o],r,t);break}}return n[r]||(n[r]=IS(e,r,t)),n[r]}};function IS(e,t,n){return l2n(e).reduce(function(r,o){var i=e[o],s;return c2n(i)?(GO(t,o,n)||GO(t,i,n))&&(r[o]=i):GO(t,o,n)?r[o]=i:(s=IS(i,t,n),u2n(s)||Object.assign(r,f2n(o,s))),r},{})}function GO(e,t,n){if(t){var r=String(t),o=e;return n.ignoreCase&&(r=r.toLowerCase(),o=o.toLowerCase()),r.indexOf(o)!==-1}}function f2n(e,t){var n={};return n[e]=t,n}var h2n=ZN,KO=".";function B4(e,t){var n=t.split(KO),r=n.shift();if(!r)return e;var o=h2n(e);if(o==="Array"&&e[dhe(r)])return B4(e[dhe(r)],n.join(KO));if(o==="Object"&&e[r])return B4(e[r],n.join(KO))}function dhe(e){return parseInt(e,10)}var p2n=B4,m2n=h,g2n=XA,v2n=$_n,oy=m2n.createElement,y2n=n2n,b2n=a2n,x2n=d2n,w2n=H3e,C2n=p2n,_2n=V3e,S2n=g2n({getDefaultProps:function(){return{data:null,search:b2n,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:_2n,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=t.query!==""&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,o=n&&w2n(r);return oy("div",{className:"json-inspector "+e.className},this.renderToolbar(),o?oy("div",{className:"json-inspector__not-found"},"Nothing found"):oy(y2n,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return oy("div",{className:"json-inspector__toolbar"},oy(e,{onChange:v2n(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions);var t=typeof e.query=="string"&&e.query!==this.state.query;t&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:x2n(e,t)})},getOriginal:function(e){return C2n(this.props.data,e)}});const E2n=Pe(S2n);var k2n=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function o(i,s){n[i]=s,t++,t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(i){return n[i]!==void 0||r[i]!==void 0},remove:function(i){n[i]!==void 0&&(n[i]=void 0),r[i]!==void 0&&(r[i]=void 0)},get:function(i){var s=n[i];if(s!==void 0)return s;if((s=r[i])!==void 0)return o(i,s),s},set:function(i,s){n[i]!==void 0?n[i]=s:o(i,s)},clear:function(){n=Object.create(null),r=Object.create(null)}}};const j2n=Pe(k2n);function XN(e){let{children:t,ms:n=0}=e;const[r,o]=h.useState(n<=0);return h.useEffect(()=>{if(n<=0)return;const i=setTimeout(()=>o(!0),n);return()=>{clearTimeout(i)}},[n]),!r||!t?l.jsx(l.Fragment,{}):typeof t=="function"?t():t}function U3e(e){const{document:t}=e,r=En().get(t._type),{error:o,value:i}=gB({schemaType:r,value:t});return r?o?l.jsxs(l.Fragment,{children:["Error: ",o.message]}):l.jsx(l.Fragment,{children:(i==null?void 0:i.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs("code",{children:["Unknown schema type: ",t._type]})}const QN=e=>{const{actions:t,children:n,actionProps:r,onActionComplete:o}=e;return l.jsx(SAe,{onReset:o,hooks:t,args:r,children:n})},T2n=e=>{const{badges:t,children:n,badgeProps:r,...o}=e;return l.jsx(SAe,{...o,hooks:t,args:r,children:n})};function A2n(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}const D2n=5e3;let ZO;const W3e=()=>(ZO||(ZO=Ii(document,"visibilitychange").pipe(ri(null),ue(()=>document.visibilityState==="visible"),Qn(),it(e=>e?No(0,D2n):Zn),jo({refCount:!0,bufferSize:1}))),ZO);function I2n(e,t){let{versionedClient:n}=t;const r=si(e),o=On(e),i={uri:n.getDataUrl("doc","".concat(r,",").concat(o)),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return n.observable.request(i).pipe(ue(s=>{let{omitted:a}=s;const c=a.filter(u=>u.reason==="existence");if(c.length!==2)return c.length===0||c.some(u=>u.id===r)?o:r}))}function P2n(e,t){const{versionedClient:n}=t;return W3e().pipe(it(()=>I2n(e,t)),it(r=>{if(!r)return be({totalCount:0,references:[]});const o=n.config().dataset;return n.observable.request({url:"/data/references/".concat(o,"/documents/").concat(r,"/to?excludeInternalReferences=true&excludePaths=true"),tag:"use-referring-documents.external"}).pipe(Pn(i=>{if(A2n(i)&&i.statusCode===404)return be({totalCount:0,references:[]});throw i}))}))}const O2n=sh(e=>{let[t,n]=e;const r="*[references($documentId)][0...100]{_id,_type}",o="count(*[references($documentId)])",i='{"references":'.concat(r,',"totalCount":').concat(o,"}"),s="*[references($documentId)]";return n.listenQuery({fetch:i,listen:s},{documentId:t},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})}),R2n=sh(e=>{let[t,n]=e;return W3e().pipe(it(()=>P2n(t,{versionedClient:n})))});function $2n(e){const t=pr(an),n=el(),r=On(e),[o,i]=O2n(h.useMemo(()=>[r,n],[n,r])),[s,a]=R2n(h.useMemo(()=>[r,t],[r,t])),c=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>f.projectId).filter(Boolean))).sort(),[s==null?void 0:s.references]),u=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>(f==null?void 0:f.datasetName)||"").filter(f=>!!f&&f!==""))).sort(),[s==null?void 0:s.references]),d=h.useMemo(()=>!!(s!=null&&s.references.some(f=>typeof f.datasetName!="string")),[s==null?void 0:s.references]);return{totalCount:((o==null?void 0:o.totalCount)||0)+((s==null?void 0:s.totalCount)||0),projectIds:c,datasetNames:u,hasUnknownDatasetNames:d,internalReferences:o,crossDatasetReferences:s,isLoading:i||a}}function M2n(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=t?"Published":"Not published",o=Xo(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t?"Published ".concat(o):"Not published"})}),children:l.jsx(lr,{tone:"positive",dimmed:!t,muted:!t,size:1,children:l.jsx(f0,{"aria-label":r})})})}function F2n(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=Xo(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(at,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t?"Edited ".concat(r):"No unpublished edits"})}),children:l.jsx(lr,{tone:"caution",dimmed:!t,muted:!t,size:1,children:l.jsx(Du,{})})})}function Y3e(e){const{icon:t,layout:n,presence:r,schemaType:o,value:i}=e,s=wt(i.title)&&h.isValidElement(i.title)||cT(i.title)||ICn(i.title)?i.title:null,{draft:a,published:c,isLoading:u}=go(()=>fA(e.documentPreviewStore,o,i._id,s),[e.documentPreviewStore,o,i._id,s]),d=u?null:l.jsxs(Gt,{space:4,children:[r&&r.length>0&&l.jsx(VB,{presence:r}),l.jsx(M2n,{document:c}),l.jsx(F2n,{document:a})]});return l.jsx(ch,{...yB({value:i,draft:a,published:c}),isPlaceholder:u,icon:t,layout:n,status:d})}function ls(){throw new Error("Pane is missing router context")}const JA=h.createContext({index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>ls(),ChildLink:()=>ls(),ReferenceChildLink:()=>ls(),handleEditReference:()=>ls(),ParameterizedLink:()=>ls(),replaceCurrent:()=>ls(),closeCurrentAndAfter:()=>ls(),closeCurrent:()=>ls(),duplicateCurrent:()=>ls(),setView:()=>ls(),setParams:()=>ls(),setPayload:()=>ls(),navigateIntent:()=>ls(),createPathWithParams:()=>ls()}),L2n=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o}=h.useContext(JA),i=h.useMemo(()=>r.slice(0,o),[o,r]),s=h.useMemo(()=>({panes:i}),[i]);return l.jsx(oT,{...t,ref:n,state:s})}),q3e=h.createContext(null);function o1(){const e=h.useContext(q3e);if(!e)throw new Error("PaneLayout: missing context value");return e}const B2n=h.forwardRef(function(t,n){const{childId:r,childPayload:o,childParameters:i,...s}=t,{routerPanesState:a,groupIndex:c}=h.useContext(JA);return l.jsx(oT,{...s,ref:n,state:{panes:[...a.slice(0,c+1),[{id:r,params:i,payload:o}]]}})}),d$n=h.forwardRef(function(t,n){let{documentId:r,documentType:o,parentRefPath:i,children:s,template:a,...c}=t;return l.jsx(B2n,{...c,ref:n,childId:r,childPayload:a==null?void 0:a.params,childParameters:{type:o,parentRefPath:Br(i),...a&&{template:a==null?void 0:a.id}},children:s})}),f$n=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o,siblingIndex:i}=h.useContext(JA),{params:s,payload:a,...c}=t,u=Mo(s),d=Mo(a),f=h.useMemo(()=>{const p=r[o],m=p[i],v={...m,params:u??m.params,payload:d??m.payload},g=[...p.slice(0,i),v,...p.slice(i+1)];return{panes:[...r.slice(0,o),g,...r.slice(o+1)]}},[r,o,u,d,i]);return l.jsx(oT,{ref:n,...c,state:f})});function qc(){return h.useContext(JA)}const fhe=[];function N2n(e){const{onClick:t,type:n,value:r}=e,o=On(r==null?void 0:r._id),i=uC(o),s=Li(),{ReferenceChildLink:a}=qc(),c=h.useCallback(function(d){return l.jsx(a,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:fhe,...d})},[a,n==null?void 0:n.name,r==null?void 0:r._id]);return l.jsx(wp,{__unstable_focusRing:!0,as:c,"data-as":"a",onClick:t,padding:2,radius:2,children:l.jsx(Y3e,{documentPreviewStore:s,icon:n==null?void 0:n.icon,layout:"default",presence:(i==null?void 0:i.length)>0?i:fhe,schemaType:n,value:r})})}var hhe=Object.freeze,z2n=Object.defineProperty,fC=(e,t)=>hhe(z2n(e,"raw",{value:hhe(t||e.slice())})),phe,mhe,ghe,vhe,yhe;const G3e=O(M)(phe||(phe=fC([`
  margin-left: auto;
`]))),V2n=O.details(mhe||(mhe=fC([`
  flex: none;

  &[open] `,` {
    transform: rotate(180deg);
  }
`])),G3e),H2n=O.summary(ghe||(ghe=fC([`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`]))),U2n=O.table(vhe||(vhe=fC([`
  width: 100%;
  text-align: left;
  padding: 0 `,`;
  border-collapse: collapse;

  th {
    padding: `,`;
  }

  td {
    padding: 0 `,`;
  }

  tr > *:last-child {
    text-align: right;
  }
`])),e=>{let{theme:t}=e;return ye(t.sanity.space[2])},e=>{let{theme:t}=e;return ye(t.sanity.space[1])},e=>{let{theme:t}=e;return ye(t.sanity.space[1])}),W2n=O(U)(yhe||(yhe=fC([`
  min-height: 35px;
`]))),bhe=e=>{const t=e.totalCount-e.references.length;return t?l.jsxs(Gt,{space:2,children:[l.jsxs(L,{size:1,muted:!0,children:[t," other reference",t===1?"":"s"," not shown"," "]}),l.jsx(at,{portal:!0,placement:"top",content:l.jsx(Qr,{width:0,children:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"We can't show metadata about these references because no token with access to the datasets they are in was found."})})}),children:l.jsx(L,{size:1,muted:!0,children:l.jsx(lm,{})})})]}):null};function Y2n(e){let{crossDatasetReferences:t,internalReferences:n,documentTitle:r,totalCount:o,action:i,datasetNames:s,hasUnknownDatasetNames:a,onReferenceLinkClick:c}=e;const u=En(),d=Ho(),f=h.useCallback(y=>{const x=u.get(y._type);return x?l.jsx(N2n,{type:x,value:y,onClick:c}):l.jsx(M,{padding:2,children:l.jsx(ch,{icon:Cl,title:"Preview Unavailable",subtitle:"ID: ".concat(y._id),layout:"default"})})},[u,c]);if((n==null?void 0:n.totalCount)===0&&(t==null?void 0:t.totalCount)===0)return l.jsxs(L,{as:"p",children:["Are you sure you want to ",i," ",l.jsxs("strong",{children:["“",r,"”"]}),"?"]});const p=t.totalCount===1?"1 document":"".concat(t.totalCount.toLocaleString()," documents"),m=[...s,...a?["unavailable"]:[]],v=m.length===1?"another dataset":"".concat(m.length," datasets");let g="Dataset".concat(m.length===1?"":"s",": ").concat(m.join(", "));return a&&m.length===1&&(g="Unavailable dataset"),l.jsxs(ee,{children:[l.jsx(ee,{padding:3,radius:2,tone:"caution",marginBottom:4,flex:"none",children:l.jsxs(U,{children:[l.jsx(L,{"aria-hidden":"true",size:1,children:l.jsx(Fr,{})}),l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(L,{size:1,children:o===1?l.jsxs(l.Fragment,{children:["1 document refers to “",r,"”"]}):l.jsxs(l.Fragment,{children:[o.toLocaleString()," documents refer to “",r,"”"]})})})]})}),l.jsx(M,{flex:"none",marginBottom:4,children:l.jsxs(L,{children:["You may not be able to ",i," “",r,"” because the following documents refer to it:"]})}),l.jsx(ee,{radius:2,shadow:1,marginBottom:4,flex:"auto",children:l.jsxs(U,{direction:"column",children:[n.totalCount>0&&l.jsxs(oe,{as:"ul",padding:2,space:3,"data-testid":"internal-references",children:[n==null?void 0:n.references.map(y=>l.jsx(M,{as:"li",children:f(y)},y._id)),n.totalCount>n.references.length&&l.jsx(M,{as:"li",padding:3,children:l.jsx(bhe,{...n})})]}),t.totalCount>0&&l.jsxs(V2n,{"data-testid":"cross-dataset-references",style:{borderTop:n.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[l.jsx(H2n,{children:l.jsx(ee,{as:"a",margin:2,radius:2,shadow:1,paddingY:1,children:l.jsxs(U,{align:"center",margin:2,children:[l.jsx(M,{marginLeft:3,marginRight:4,children:l.jsx(L,{size:3,children:l.jsx(jF,{})})}),l.jsxs(U,{marginRight:4,direction:"column",children:[l.jsx(M,{marginBottom:2,children:l.jsxs(L,{children:[p," in ",v]})}),l.jsx(M,{children:l.jsx(L,{title:g,textOverflow:"ellipsis",size:1,muted:!0,children:g})})]}),l.jsx(G3e,{children:l.jsx(L,{muted:!0,children:l.jsx(Za,{})})})]})})}),l.jsxs(M,{overflow:"auto",paddingBottom:2,paddingX:2,children:[l.jsxs(U2n,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:l.jsx(Vt,{muted:!0,size:0,style:{minWidth:"5rem"},children:"Project ID"})}),l.jsx("th",{children:l.jsx(Vt,{muted:!0,size:0,children:"Dataset"})}),l.jsx("th",{children:l.jsx(Vt,{muted:!0,size:0,children:"Document ID"})})]})}),l.jsx("tbody",{children:t.references.filter(y=>"projectId"in y).map((y,x)=>{let{projectId:b,datasetName:w,documentId:C}=y;return l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx(L,{size:1,children:b})}),l.jsx("td",{children:l.jsx(L,{size:1,children:w||"unavailable"})}),l.jsx("td",{children:l.jsxs(W2n,{align:"center",gap:2,justify:"flex-end",children:[l.jsx(L,{textOverflow:"ellipsis",size:1,children:C||"unavailable"}),C&&l.jsx(ECn,{text:C,onCopy:()=>{d.push({title:"Copied document ID to clipboard!",status:"success"})},children:l.jsx(se,{title:"Copy ID to clipboard",mode:"bleed",icon:Au,fontSize:0})})]})})]},"".concat(C,"-").concat(x))})})]}),l.jsx(M,{padding:2,children:l.jsx(bhe,{...t})})]})]})]})}),l.jsx(M,{flex:"none",children:l.jsxs(L,{children:["If you ",i," this document, documents that refer to it will no longer be able to access it."]})})]})}var xhe=Object.freeze,q2n=Object.defineProperty,K3e=(e,t)=>xhe(q2n(e,"raw",{value:xhe(t||e.slice())})),whe,Che;const G2n=O(M).attrs({padding:4})(whe||(whe=K3e([`
  box-sizing: border-box;
`]))),K2n=O(U).attrs({align:"center",direction:"column",justify:"center"})(Che||(Che=K3e([`
  height: 300px;
`])));function Z2n(e){let{id:t,type:n,action:r="delete",onCancel:o,onConfirm:i}=e;const s="deletion-confirmation-".concat(h.useId()),{internalReferences:a,crossDatasetReferences:c,isLoading:u,totalCount:d,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m}=$2n(t),v="".concat(r.substring(0,1).toUpperCase()).concat(r.substring(1)),g=l.jsx(U3e,{document:h.useMemo(()=>({_id:t,_type:n}),[t,n])}),y=!u;return l.jsx(Ri,{width:1,id:s,header:"".concat(v," document?"),footer:l.jsxs(Jt,{columns:y?2:1,gap:2,paddingX:4,paddingY:3,children:[l.jsx(se,{mode:"ghost",onClick:o,text:"Cancel"}),y&&l.jsx(se,{"data-testid":"confirm-delete-button",text:d>0?"".concat(v," anyway"):"".concat(v," now"),tone:"critical",onClick:i})]}),onClose:o,onClickOutside:o,children:l.jsx(G2n,{children:c&&a&&!u?l.jsx(Y2n,{crossDatasetReferences:c,internalReferences:a,documentTitle:g,isLoading:u,totalCount:d,action:r,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m,onReferenceLinkClick:o}):l.jsxs(K2n,{"data-testid":"loading-container",children:[l.jsx(fr,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Looking for referring documents…"})})]})})})}function Z3e(e){const t=h.useId(),[n,r]=h.useState(null),o=h.useCallback(()=>r(null),[]);return n?l.jsx(Ri,{id:"dialog-error-".concat(t),"data-testid":"confirm-delete-error-dialog",header:"Error",footer:l.jsx(U,{paddingX:4,paddingY:3,direction:"column",children:l.jsx(se,{mode:"ghost",text:"Retry",onClick:o})}),onClose:e.onCancel,children:l.jsx(M,{padding:4,children:l.jsx(L,{children:"An error occurred while loading referencing documents."})})}):l.jsx(x0,{onCatch:r,children:l.jsx(Z2n,{...e})})}const X2n={constrainSize:!0,placement:"left-start",portal:!0};function b5(e){const{disabled:t,isAfterGroup:n,node:r}=e;return r.type==="divider"?l.jsx(Pr,{}):r.type==="group"?r.children.length===0?null:r.expanded?l.jsxs(l.Fragment,{children:[n&&l.jsx(Pr,{}),r.title&&l.jsx(M,{padding:2,paddingBottom:1,children:l.jsx(Vt,{muted:!0,size:0,children:r.title})}),r.children.map((o,i)=>{var s;return l.jsx(b5,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx(Pr,{}),l.jsx(I6,{disabled:t,icon:r.icon,popover:X2n,text:r.title,children:r.children.map((o,i)=>{var s;return l.jsx(b5,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx(Pr,{}),l.jsx(Q2n,{disabled:t,node:r})]})}function Q2n(e){const{node:t}=e;return t.intent?l.jsx(eSn,{...e,intent:t.intent}):l.jsx(J2n,{...e})}function J2n(e){var t;const{disabled:n,node:r}=e,o=typeof r.disabled=="object"&&l.jsx(L,{size:1,children:r.disabled.reason});return l.jsx(Gw,{content:o,placement:"left",children:l.jsx(Ve,{disabled:n||!!r.disabled,hotkeys:(t=r.hotkey)==null?void 0:t.split("+"),icon:r.icon,iconRight:r.iconRight||r.selected&&Js,onClick:r.onAction,pressed:r.selected,text:r.title,tone:r.tone})})}function eSn(e){var t;const{disabled:n,intent:r,node:o}=e,i=typeof o.disabled=="object"&&l.jsx(L,{size:1,children:o.disabled.reason}),s=ww({intent:r.type,params:r.params}),a=h.useCallback(c=>{s.onClick(c),o.onAction()},[s,o]);return l.jsx(Gw,{content:i,placement:"left",children:l.jsx(Ve,{as:"a",disabled:n||!!o.disabled,hotkeys:(t=o.hotkey)==null?void 0:t.split("+"),href:s.href,icon:o.icon,iconRight:o.selected?Js:void 0,onClick:a,pressed:o.selected,text:o.title,tone:o.tone})})}const tSn={constrainSize:!0,placement:"bottom",portal:!0};function N4(e,t){return e.some(n=>n.type==="item"&&n.tone===t||n.type==="group"&&N4(n.children,t))}function X3e(e){const{nodes:t}=e,n=h.useId(),r=N4(t,"critical"),o=N4(t,"caution");return l.jsx(tn,{button:l.jsx(lh,{icon:To,mode:"bleed",title:"Show menu",tone:r?"critical":o?"caution":void 0}),id:n,menu:l.jsx(Bt,{children:t.map((i,s)=>{var a;const c=((a=t[s-1])==null?void 0:a.type)==="group";return l.jsx(b5,{isAfterGroup:c,node:i},i.key)})}),popover:tSn})}const nSn=!1,wv=51,Cv=wv*4,Q3e=h.createContext(null);var _he=Object.freeze,rSn=Object.defineProperty,oSn=(e,t)=>_he(rSn(e,"raw",{value:_he(t||e.slice())})),She;const iSn=O(ts)(She||(She=oSn([`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`])));function sSn(e){let{disabled:t,element:n}=e;const{resize:r}=o1(),[o,i]=h.useState(!1),s=h.useCallback(a=>{if(!n)return;i(!0),a.preventDefault();const c=a.pageX;r("start",n,0);const u=f=>{f.preventDefault();const p=f.pageX-c;r("move",n,p)},d=f=>{f.preventDefault(),i(!1),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),r("end",n,0)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},[n,r]);return l.jsx(iSn,{"data-disabled":t?"":void 0,"data-dragging":o?"":void 0,onMouseDown:s})}var Ehe=Object.freeze,aSn=Object.defineProperty,lSn=(e,t)=>Ehe(aSn(e,"raw",{value:Ehe(t||e.slice())})),khe;const cSn=O(ee)(khe||(khe=lSn([`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`]))),eD=h.forwardRef(function(t,n){var r,o,i;const{children:s,currentMinWidth:a,currentMaxWidth:c,flex:u=1,id:d,minWidth:f,maxWidth:p,selected:m=!1,...v}=t,[g,y]=h.useState(null),{collapse:x,collapsed:b,expand:w,expandedElement:C,mount:_,panes:S}=o1(),E=S.find(z=>z.element===g),j=E&&S.indexOf(E),k=typeof j=="number"?S[j+1]:void 0,T=j===S.length-1,A=b?!1:(E==null?void 0:E.collapsed)||!1,D=(k==null?void 0:k.collapsed)||!1,I=dr(n),P=(r=E==null?void 0:E.flex)!=null?r:u,$=(o=E==null?void 0:E.currentMinWidth)!=null?o:a,R=(i=E==null?void 0:E.currentMaxWidth)!=null?i:c,V=h.useCallback(z=>{y(z),I.current=z},[I]);h.useEffect(()=>{if(g)return _(g,{currentMinWidth:a,currentMaxWidth:c,flex:u,id:d,minWidth:f,maxWidth:p})},[a,c,u,d,f,p,_,g]);const N=h.useCallback(()=>{g&&x(g)},[x,g]),W=h.useCallback(()=>{g&&w(g)},[w,g]),G=h.useMemo(()=>({collapse:N,collapsed:b?!1:A,expand:W,index:j,isLast:T,rootElement:g}),[A,N,W,T,b,j,g]),H=h.useMemo(()=>{if(!b)return A?wv:$===0||T?f||Cv:$||f||Cv},[A,$,T,b,f]),q=h.useMemo(()=>{if(A)return wv;if(!(b&&T))return T?p?R??p:void 0:R??p},[A,R,T,b,p]),X=b&&!T,B=h.useMemo(()=>!T&&!b&&l.jsx(Ku,{zOffset:"paneResizer",children:l.jsx(sSn,{disabled:A||D,element:g})}),[A,T,b,D,g]),Y=h.useMemo(()=>({flex:P,minWidth:H,maxWidth:q===1/0?void 0:q}),[P,H,q]);return l.jsxs(l.Fragment,{children:[l.jsx(Ku,{zOffset:"pane",children:l.jsx(Q3e.Provider,{value:G,children:l.jsxs(cSn,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:X,id:d,overflow:b?void 0:"hidden",...v,"data-pane-collapsed":A?"":void 0,"data-pane-index":j,"data-pane-selected":m?"":void 0,ref:V,style:Y,children:[nSn,l.jsx(Lu,{element:g,children:!X&&l.jsx(U,{direction:"column",height:"fill",children:s})})]})})}),B]})});function hh(){const e=h.useContext(Q3e);if(!e)throw new Error("Pane: missing context value");return e}var jhe=Object.freeze,uSn=Object.defineProperty,dSn=(e,t)=>jhe(uSn(e,"raw",{value:jhe(t||e.slice())})),The;const J3e=O(ee)(The||(The=dSn([`
  position: relative;
  outline: none;
`])));J3e.displayName="PaneContent__root";const tD=h.forwardRef(function(t,n){const{as:r,children:o,overflow:i,padding:s,...a}=t,{collapsed:c}=hh(),{collapsed:u}=o1();return l.jsx(J3e,{"data-testid":"pane-content",forwardedAs:r,...a,flex:1,hidden:c,overflow:u?void 0:i,padding:s,ref:n,tone:"inherit",children:o})});var Ahe=Object.freeze,fSn=Object.defineProperty,eRe=(e,t)=>Ahe(fSn(e,"raw",{value:Ahe(t||e.slice())})),Dhe,Ihe;const hSn=O(ts)(Dhe||(Dhe=eRe([`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),pSn=O(ee)(Ihe||(Ihe=eRe([`
  padding-bottom: env(safe-area-inset-bottom);
`]))),mSn=h.forwardRef(function(t,n){const{children:r,padding:o}=t,{collapsed:i}=hh();return l.jsx(Ku,{zOffset:"paneFooter",children:l.jsx(hSn,{"data-testid":"pane-footer",hidden:i,ref:n,children:l.jsx(pSn,{tone:"inherit",children:l.jsx(M,{padding:o,children:r})})})})});var Phe=Object.freeze,gSn=Object.defineProperty,i1=(e,t)=>Phe(gSn(e,"raw",{value:Phe(t||e.slice())})),Ohe,Rhe,$he,Mhe,Fhe,Lhe;const vSn=O(ts)(Ohe||(Ohe=i1([`
  line-height: 0;
  position: sticky;
  top: 0;

  &:not([data-collapsed]):after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),ySn=O(U)(Rhe||(Rhe=i1([`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`]))),bSn=O(ee)(e=>{let{theme:t}=e;const{fg:n,bg:r}=t.sanity.color.card.enabled;return he($he||($he=i1([`
    background-color: `,`;

    [data-ui='Text'] {
      color: `,`;
    }
  `])),r,n)}),xSn=O(Di)(Mhe||(Mhe=i1([`
  width: 66%;
  max-width: 175px;
`]))),wSn=O(L)(Fhe||(Fhe=i1([`
  cursor: default;
  outline: none;
`]))),CSn=O(M)(e=>{let{theme:t}=e;const{color:n,space:r}=t.sanity;return he(Lhe||(Lhe=i1([`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: `,`px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, `,`, var(--card-bg-color));
      width: `,`px;
      pointer-events: none;
    }
  `])),r[3],Dt(n.base.bg,0),r[3])}),JN=h.forwardRef(function(t,n){const{actions:r,backButton:o,contentAfter:i,loading:s,subActions:a,tabs:c,tabIndex:u,title:d}=t,{collapse:f,collapsed:p,expand:m,rootElement:v}=hh(),g=Zf(v||null),y=h.useMemo(()=>({width:p?(g==null?void 0:g.height)||window.innerHeight:void 0}),[p,g]),x=h.useCallback(()=>{p||f()},[f,p]),b=h.useCallback(()=>{p&&m()},[p,m]),w=!!(!p&&(c||a));return l.jsx(Bu,{zOffset:100,children:l.jsx(vSn,{"data-collapsed":p?"":void 0,"data-testid":"pane-header",ref:n,children:l.jsx(Ku,{zOffset:"paneHeader",children:l.jsxs(ee,{"data-collapsed":p?"":void 0,tone:"inherit",children:[l.jsxs(ySn,{onClick:b,padding:2,sizing:"border",style:y,children:[o&&l.jsx(M,{flex:"none",padding:1,children:o}),l.jsxs(bSn,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",marginRight:r?1:0,onClick:x,paddingLeft:o?1:3,paddingY:3,tabIndex:u,children:[s&&l.jsx(xSn,{animated:!0,radius:1}),!s&&l.jsx(wSn,{textOverflow:"ellipsis",weight:"semibold",children:d})]}),r&&l.jsx(U,{align:"center",hidden:p,children:l.jsx(Ku,{zOffset:"paneHeader",children:r})})]}),w&&l.jsxs(U,{align:"center",hidden:p,overflow:"auto",paddingBottom:3,paddingX:3,paddingTop:1,children:[l.jsx(CSn,{flex:1,marginRight:a?3:0,children:c}),a&&a]}),!p&&i&&i]})})})})});function tRe(e){const{node:t,padding:n}=e;return t.type==="item"?l.jsx(_Sn,{node:t,padding:n}):t.type==="group"?l.jsx(ESn,{node:t,padding:n}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function _Sn(e){var t;const{node:n,padding:r}=e;if(n.intent)return l.jsx(SSn,{...e,intent:n.intent});const o=typeof n.disabled=="object"&&l.jsx(L,{size:1,children:n.disabled.reason});return l.jsx(Gw,{content:o,placement:"bottom",children:l.jsx(lh,{disabled:!!n.disabled,hotkey:(t=n.hotkey)==null?void 0:t.split("+"),icon:n.icon,label:o?void 0:n.title,onClick:n.onAction,padding:r,selected:n.selected,tone:n.tone})})}function SSn(e){var t;const{intent:n,node:r,padding:o}=e,i=typeof r.disabled=="object"&&l.jsx(L,{size:1,children:r.disabled.reason}),s=ww({intent:n.type,params:n.params}),a=h.useCallback(c=>{s.onClick(c),r.onAction()},[s,r]);return l.jsx(Gw,{content:i,placement:"bottom",children:l.jsx(lh,{as:"a",disabled:!!r.disabled,hotkey:(t=r.hotkey)==null?void 0:t.split("+"),href:s.href,icon:r.icon,label:i?void 0:r.title,onClick:a,padding:o,selected:r.selected,tone:r.tone})})}function ESn(e){var t;const{node:n,padding:r}=e;return l.jsx(tn,{button:l.jsx(lh,{disabled:n.disabled,icon:(t=n.icon)!=null?t:Cl,label:n.title,padding:r}),id:h.useId(),menu:l.jsx(Bt,{children:n.children.map((o,i)=>{var s;return l.jsx(b5,{disabled:!!n.disabled,isAfterGroup:((s=n.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})})}var Bhe=Object.freeze,kSn=Object.defineProperty,jSn=(e,t)=>Bhe(kSn(e,"raw",{value:Bhe(t||e.slice())})),Nhe;const TSn=O(ee)(Nhe||(Nhe=jSn([`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`])));function ASn(e,t,n,r){var o,i;const s={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},a=(o=t.minWidth)!=null?o:Cv,c=(i=n.minWidth)!=null?i:Cv,u=Math.min(t.maxWidth||1/0,s.width-c),d=Math.min(n.maxWidth||1/0,s.width-a);let f=a-e.left.width;const p=e.right.width-d;f<p&&(f=p);let m=e.right.width-c;const v=u-e.left.width;m>v&&(m=v);const g=Math.min(Math.max(r,f),m),y=e.left.width+g,x=e.right.width-g,b=y/s.width*s.flex,w=x/s.width*s.flex;return{leftFlex:b,leftW:y,rightFlex:w,rightW:x}}function DSn(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const zhe=[];function ISn(e,t){const n=new WeakMap;for(const o of t)n.set(o,DSn(e,o));const r=(o,i)=>{const s=n.get(o)||zhe,a=n.get(i)||zhe,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function PSn(){const e=[],t=[],n=new WeakMap,r=new Set,o={};let i=null,s=0,a=null,c=new Map,u=!1;function d(b){r.add(b),a===b&&(a=null),x()}function f(b){r.delete(b),a=b,x()}function p(b,w){return n.set(b,{...w,original:w}),t.push(b),i&&ISn(i,t),f(b),()=>{const C=t.indexOf(b);C>-1&&t.splice(C,1),n.delete(b),x()}}function m(b,w,C){var _,S,E,j;const k=t.indexOf(w),T=n.get(w);if(!T)return;const A=t[k+1],D=n.get(A);if(D){if(b==="start"&&(u=!0,o.left={element:w,flex:T.flex||1,width:w.offsetWidth},o.right={element:A,flex:D.flex||1,width:A.offsetWidth},x()),b==="move"&&o.left&&o.right){c=new Map;const{leftW:I,rightW:P,leftFlex:$,rightFlex:R}=ASn(o,T,D,C);c.set(w,{flex:$,width:I}),c.set(A,{flex:R,width:P}),x()}if(b==="end"){u=!1;const I=c.get(w),P=c.get(A);n.set(w,{...T,currentMinWidth:0,currentMaxWidth:(_=T.maxWidth)!=null?_:1/0,flex:(S=I==null?void 0:I.flex)!=null?S:T.flex}),n.set(A,{...D,currentMinWidth:0,currentMaxWidth:(E=T.maxWidth)!=null?E:1/0,flex:(j=P==null?void 0:P.flex)!=null?j:D.flex}),c=new Map,delete o.left,delete o.right,x()}}}function v(b){i=b}function g(b){s=b,x()}function y(b){return e.push(b),()=>{const w=e.push(b);w>-1&&e.splice(w,1)}}return{collapse:d,expand:f,mount:p,resize:m,setRootElement:v,setRootWidth:g,subscribe:y};function x(){var b,w,C,_;if(!s)return;const S=[];for(const I of t)I!==a&&S.unshift(I);a&&S.unshift(a);const E=new WeakMap,j=S.length,k=S[0],T=(j-1)*wv;let A=s-T;for(const I of S){const P=n.get(I);if(!P)continue;const $=P.currentMinWidth||P.minWidth||Cv,R=I===k,V=r.has(I),N=$>A,W=R?!1:V||N,G=c.get(I);E.set(I,{element:I,collapsed:W,currentMinWidth:(b=G==null?void 0:G.width)!=null?b:P.currentMinWidth,currentMaxWidth:(w=G==null?void 0:G.width)!=null?w:P.currentMaxWidth,flex:(_=(C=G==null?void 0:G.flex)!=null?C:P.flex)!=null?_:1}),W?A-=wv:A-=$-wv}const D=[];for(const I of t){const P=E.get(I);P&&D.push(P)}for(const I of e)I({expandedElement:a||t[t.length-1]||null,panes:D,resizing:u})}}function h$n(e){const{children:t,minWidth:n,onCollapse:r,onExpand:o,...i}=e,s=h.useMemo(()=>PSn(),[]),[a,c]=h.useState(null),u=Zf(a),d=(u==null?void 0:u.width)||0,f=d===void 0||!n?void 0:d<n,[p,m]=h.useState({expandedElement:null,panes:[],resizing:!1});h.useEffect(()=>s.setRootElement(a),[s,a]),h.useEffect(()=>s.setRootWidth(d),[s,d]),h.useEffect(()=>s.subscribe(m),[s]),h.useEffect(()=>{f!==void 0&&(f&&r&&r(),!f&&o&&o())},[f,r,o]);const v=h.useMemo(()=>({collapse:s.collapse,collapsed:f,expand:s.expand,expandedElement:p.expandedElement,mount:s.mount,panes:p.panes,resize:s.resize,resizing:p.resizing}),[f,s,p.expandedElement,p.panes,p.resizing]);return l.jsx(q3e.Provider,{value:v,children:l.jsx(TSn,{"data-ui":"PaneLayout",...i,"data-collapsed":f?"":void 0,"data-resizing":p.resizing?"":void 0,"data-mounted":d?"":void 0,ref:c,children:t})})}function ez(e){return(e.type==="item"||e.type==="group")&&e.renderAsButton}const nRe=lwt(ez);function rRe(e){var t,n;const{fieldActions:r=[],menuItems:o,menuItemGroups:i}=e,s=[];let a=0;for(let d=0;d<r.length;d+=1){const f=r[d];s.push(oRe(f,"".concat(d,"-").concat(f.type)))}a+=s.length;const c=[];for(const d of i)c.find(p=>p.key===d.id)||c.push({type:"group",key:d.id,children:[],expanded:!0,renderAsButton:!1,title:d.title});const u=[];for(let d=0;d<o.length;d+=1){const f=o[d];let p=f.group&&c.find(m=>m.key===f.group);f.group&&!p&&(p={type:"group",key:f.group,expanded:!0,icon:f.icon,title:f.group,children:[],renderAsButton:!1},c.push(p)),p?p.children.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(t=f.showAsAction)!=null?t:!1,selected:f.selected,title:f.title,tone:f.tone}):u.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(n=f.showAsAction)!=null?n:!1,selected:f.selected,title:f.title,tone:f.tone})}return[...u,...c,...s]}function oRe(e,t){var n,r,o;return e.type==="divider"?{type:"divider",key:t}:e.type==="group"?{type:"group",key:t,children:e.children.map((i,s)=>oRe(i,"".concat(t,"-").concat(s,"-").concat(i.type))),disabled:e.disabled,expanded:(n=e.expanded)!=null?n:!0,icon:e.icon,title:e.title,renderAsButton:(r=e.renderAsButton)!=null?r:!1}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:(o=e.renderAsButton)!=null?o:!1,selected:e.selected,title:e.title,tone:e.tone}}const OSn=h.forwardRef(function(t,n){const{intent:r,...o}=t,i=h.useMemo(()=>h.forwardRef(function(a,c){return l.jsx(_m,{...a,intent:r.type,params:r.params,ref:c})}),[r]);return t.disabled?l.jsx(se,{...t,as:"a",role:"link","aria-disabled":"true"}):l.jsx(se,{...o,as:i,"data-as":"a",ref:n})});function XO(e){let{reveal:t,loading:n,children:r}=e;const o=Uo();return t?l.jsx(at,{content:n?l.jsx(M,{padding:2,children:l.jsx(L,{children:"Loading…"})}):l.jsx(Ic,{currentUser:o}),portal:!0,children:l.jsx("div",{children:r})}):l.jsx(l.Fragment,{children:r})}const RSn={constrainSize:!0,placement:"bottom",portal:!0},Vhe=(e,t,n)=>{var r;const o=(r=t.find(s=>s.id===n.templateId))==null?void 0:r.schemaType;if(!o)return null;const i={template:n.templateId,type:o,id:n.initialDocumentId};return{type:"create",params:n.parameters?[i,n.parameters]:i}};function $Sn(e){let{templateItems:t}=e;const n=En(),r=n1(),[o,i]=zN({templateItems:t}),s=h.useMemo(()=>!i&&(o==null?void 0:o.every(c=>!c.granted)),[i,o]),a=h.useMemo(()=>o?o.reduce((c,u)=>(c[u.id]=u,c),{}):{},[o]);if(s)return l.jsx(XO,{reveal:!0,loading:i,children:l.jsx(se,{"aria-label":"Insufficient permissions",icon:ko,mode:"bleed",disabled:!0,"data-testid":"action-intent-button"})});if(t.length===1){const c=t[0],u=a[c.id],d=!(u!=null&&u.granted),f=Vhe(n,r,c);return f?l.jsx(XO,{reveal:d,loading:i,children:l.jsx(OSn,{"aria-label":c.title,icon:c.icon||ko,intent:f,mode:"bleed",disabled:d,"data-testid":"action-intent-button"})}):null}return l.jsx(tn,{button:l.jsx(se,{icon:ko,mode:"bleed","data-testid":"multi-action-intent-button"}),id:"create-menu",menu:l.jsxs(Bt,{children:[l.jsx(M,{paddingX:3,paddingTop:3,paddingBottom:2,children:l.jsx(Vt,{muted:!0,children:"Create"})}),t.map((c,u)=>{const d=a[c.id],f=!(d!=null&&d.granted),p=Vhe(n,r,c),m=r.find(g=>g.id===c.templateId);if(!m||!p)return null;const v=h.forwardRef((g,y)=>f?l.jsx("button",{type:"button",disabled:!0,...g,ref:y}):l.jsx(_m,{...g,intent:p.type,params:p.params,ref:y}));return v.displayName="Link",l.jsx(XO,{reveal:f,loading:i,children:l.jsx(Ve,{as:v,"data-as":f?"button":"a",text:c.title||m.title,"aria-label":f?"Insufficient permissions":c.title||m.title,disabled:f,"data-testid":"action-intent-button-".concat(u)})},c.id)})]}),popover:RSn})}function MSn(e){return e!=null}const FSn=e=>{const t=r=>typeof r!="object"||!r?r:Array.isArray(r)?r.map(t):Object.entries(r).sort((o,i)=>{let[s]=o,[a]=i;return s.localeCompare(a,"en")});return JSON.stringify(t((r=>JSON.parse(JSON.stringify(r)))(e)))},LSn=h.memo(function(t){const{initialValueTemplateItems:n=pn,menuItems:r=pn,menuItemGroups:o=pn,actionHandlers:i=FUt}=t,s=n1(),a=h.useCallback(m=>{if(typeof m.action=="string"&&!(m.action in i))return console.warn("No handler for action:",m.action),!1;const v=typeof m.action=="function"?m.action:typeof m.action=="string"?i[m.action]:null;return v?(v(m.params),!0):!1},[i]),c=h.useMemo(()=>rRe({actionHandler:a,menuItemGroups:o,menuItems:r.filter(m=>{var v;return((v=m.intent)==null?void 0:v.type)!=="create"})}),[a,o,r]),u=h.useMemo(()=>c.filter(ez),[c]),d=h.useMemo(()=>c.filter(nRe),[c]),f=h.useMemo(()=>r.map((m,v)=>{var g;if(((g=m.intent)==null?void 0:g.type)!=="create")return null;const{params:y}=m.intent;if(!y)return null;const x=Array.isArray(y)?y[0]:y,b=Array.isArray(y)?y[1]:void 0,w=x.template||x.type;if(!w)return null;const C=s.find(S=>S.id===w);if(!C)return null;const _=x.id;return{item:m,template:C,templateParams:b,menuItemIndex:v,initialDocumentId:_}}).filter(MSn).map(m=>{let{initialDocumentId:v,item:g,template:y,menuItemIndex:x,templateParams:b}=m;return{id:"menuItem".concat(x),initialDocumentId:v,templateId:y.id,type:"initialValueTemplateItem",title:g.title||y.title,icon:g.icon,description:y.description,parameters:b,schemaType:y.schemaType}}),[r,s]),p=h.useMemo(()=>Mf([...f,...n],m=>FSn([m.initialDocumentId,m.templateId,m.parameters])),[f,n]);return l.jsxs(U,{gap:1,children:[p.length>0&&l.jsx($Sn,{templateItems:p}),u.map(m=>l.jsx(tRe,{node:m},m.key)),d.length>0&&l.jsx(X3e,{nodes:d})]})}),BSn=(e,t)=>({title:l.jsxs("em",{children:["No schema found for type ",l.jsx("code",{children:t})]}),subtitle:l.jsxs("em",{children:["Document: ",l.jsx("code",{children:e})]}),media:()=>l.jsx(Fr,{})});function NSn(e){const{layout:t,value:n}=e;return l.jsx(ch,{...BSn(n._id,n._type),layout:t})}function Hhe(e,t,n){return e===!1?!1:e||t&&t.icon||n||!1}function zSn(e){const{icon:t,id:n,layout:r="default",pressed:o,schemaType:i,selected:s,title:a,value:c,margin:u,marginBottom:d,marginTop:f}=e,p=En(),m=Li(),{ChildLink:v}=qc(),g=uC(n),y=!!(i&&i.name&&p.get(i.name)),[x,b]=h.useState(!1),w=h.useMemo(()=>c&&_Me(c)?!i||!y?l.jsx(NSn,{value:c}):l.jsx(Y3e,{documentPreviewStore:m,icon:Hhe(t,i,Ef),layout:r,schemaType:i,value:c,presence:g}):l.jsx(ch,{status:l.jsx(L,{muted:!0,children:l.jsx(Rc,{})}),icon:Hhe(t,i,v0e),layout:r,title:a}),[m,y,t,r,i,a,c,g]),C=h.useMemo(()=>function(E){return l.jsx(v,{...E,childId:n})},[v,n]),_=h.useCallback(S=>{if(S.metaKey){b(!1);return}b(!0)},[]);return h.useEffect(()=>b(!1),[s]),l.jsx(wp,{__unstable_focusRing:!0,as:C,"data-as":"a","data-ui":"PaneItem",margin:u,marginBottom:d,marginTop:f,onClick:_,padding:2,pressed:o,radius:2,selected:s||x,sizing:"border",tabIndex:-1,tone:"inherit",children:w})}const iRe=h.createContext(null);function mr(){const e=h.useContext(iRe);if(!e)throw new Error("DocumentPane: missing context value");return e}const VSn={NOTHING_TO_DELETE:"This document doesn’t yet exist or is already deleted"},sRe=e=>{let{id:t,type:n,draft:r,onComplete:o}=e;const{setIsDeleting:i}=mr(),{delete:s}=ql(t,n),[a,c]=h.useState(!1),[u,d]=h.useState(!1),f=h.useCallback(()=>{d(!1),o()},[o]),p=h.useCallback(()=>{c(!0),d(!1),i(!0),s.execute(),o()},[s,o,i]),m=h.useCallback(()=>{d(!0)},[]),[v,g]=fh({id:t,type:n,permission:"delete"}),y=Uo();return!g&&!(v!=null&&v.granted)?{tone:"critical",icon:po,disabled:!0,label:"Delete",title:l.jsx(Ic,{operationLabel:"delete this document",currentUser:y})}:{tone:"critical",icon:po,disabled:a||!!s.disabled||g,title:s.disabled&&VSn[s.disabled]||"",label:a?"Deleting…":"Delete",shortcut:"Ctrl+Alt+D",onHandle:m,dialog:u&&{type:"custom",component:l.jsx(Z3e,{action:"delete",id:(r==null?void 0:r._id)||t,type:n,onCancel:f,onConfirm:p})}}};sRe.action="delete";const HSn={NO_CHANGES:"This document has no unpublished changes",NOT_PUBLISHED:"This document is not published"},aRe=e=>{let{id:t,type:n,published:r,liveEdit:o,onComplete:i}=e;const{discardChanges:s}=ql(t,n),[a,c]=h.useState(!1),[u,d]=fh({id:t,type:n,permission:"discardDraft"}),f=Uo(),p=h.useCallback(()=>{s.execute(),i()},[s,i]),m=h.useCallback(()=>{c(!0)},[]),v=h.useMemo(()=>a&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:p,message:l.jsx(l.Fragment,{children:"Are you sure you want to discard all changes since last published?"})},[p,a,i]);return!r||o?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:Iu,disabled:!0,label:"Discard changes",title:l.jsx(Ic,{operationLabel:"discard changes in this document",currentUser:f})}:{tone:"critical",icon:Iu,disabled:!!s.disabled||d,title:s.disabled&&HSn[s.disabled]||"",label:"Discard changes",onHandle:m,dialog:v}};aRe.action="discardChanges";const USn={NOTHING_TO_DUPLICATE:"This document doesn’t yet exist so there‘s nothing to duplicate"},lRe=e=>{let{id:t,type:n,onComplete:r}=e;const{duplicate:o}=ql(t,n),{navigateIntent:i}=zl(),[s,a]=h.useState(!1),[c,u]=fh({id:t,type:n,permission:"duplicate"}),d=Uo(),f=h.useCallback(()=>{const p=ld();a(!0),o.execute(p),i("edit",{id:p,type:n}),r()},[o,i,r,n]);return!u&&!(c!=null&&c.granted)?{icon:Au,disabled:!0,label:"Duplicate",title:l.jsx(Ic,{operationLabel:"duplicate this document",currentUser:d})}:{icon:Au,disabled:s||!!o.disabled||u,label:s?"Duplicating…":"Duplicate",title:o.disabled&&USn[o.disabled]||"",onHandle:f}};lRe.action="duplicate";const tz=e=>{let{id:t,type:n,revision:r,onComplete:o}=e;const{restore:i}=ql(t,n),s=JOe(t,n),{navigateIntent:a}=zl(),c=h.useRef(s),[u,d]=h.useState(!1),f=h.useCallback(()=>{i.execute(r),o()},[i,r,o]);h.useEffect(()=>{!s||s===c.current||(s.type==="success"&&s.op==="restore"&&a("edit",{id:t,type:n}),c.current=s)},[s,t,a,n]);const p=h.useCallback(()=>{d(!0)},[]),m=h.useMemo(()=>u?{type:"confirm",tone:"critical",onCancel:o,onConfirm:f,message:l.jsx(l.Fragment,{children:"Are you sure you want to restore this document?"})}:null,[f,u,o]),v=r==="@initial";return r===void 0?null:{label:"Restore",color:"primary",onHandle:p,title:v?"You can't restore to the initial version":"Restore to this version",icon:RF,dialog:m,disabled:v}};tz.action="restore";const WSn={LIVE_EDIT_ENABLED:"Cannot publish since liveEdit is enabled for this document type",ALREADY_PUBLISHED:"Already published",NO_CHANGES:"No unpublished changes",NOT_READY:"Operation not ready"};function YSn(e,t){return e==="ALREADY_PUBLISHED"&&t?l.jsx(l.Fragment,{children:l.jsxs("span",{children:["Published ",t]})}):WSn[e]}const cRe=e=>{var t;const{id:n,type:r,liveEdit:o,draft:i,published:s}=e,[a,c]=h.useState(null),{publish:u}=ql(n,r),d=RN(n,r),f=t3e(n,r),{changesOpen:p,onHistoryOpen:m,documentId:v,documentType:g}=mr(),y=ON(v,g),x=((y==null?void 0:y.draft)||(y==null?void 0:y.published)||{})._rev,b=d.validation.some(SMe),[w,C]=h.useState(!1),_=f.isSyncing,S=d.isValidating,[E,j]=fh({id:n,type:r,permission:"publish"}),k=Uo(),T=Xo((s==null?void 0:s._updatedAt)||"",{minimal:!0,agoSuffix:!0}),A=u.disabled?YSn(u.disabled,T)||"":b?"There are validation errors that need to be fixed before this document can be published":"",D=!!i,I=h.useCallback(()=>{u.execute(),c("publishing")},[u]);h.useEffect(()=>{const R=d.isValidating===!1&&d.revision!==x;!w||_||!R||(b||I(),C(!1))},[_,I,b,w,d.revision,x,S,d.isValidating]),h.useEffect(()=>{const R=a==="publishing"&&!D;R&&p&&m();const V=R?"published":null,W=setTimeout(()=>{c(V)},R?200:4e3);return()=>clearTimeout(W)},[p,a,D,m]);const P=h.useCallback(()=>{f.isSyncing||d.isValidating||d.revision!==x?C(!0):I()},[f.isSyncing,d.isValidating,d.revision,x,I]);if(o)return{tone:"positive",label:"Publish",title:"Live Edit is enabled for this content type and publishing happens automatically as you make changes",disabled:!0};if(!j&&!(E!=null&&E.granted))return{tone:"positive",label:"Publish",title:l.jsx(Ic,{operationLabel:"publish this document",currentUser:k}),disabled:!0};const $=!!(w||(t=y==null?void 0:y.transactionSyncLock)!=null&&t.enabled||a==="publishing"||a==="published"||b||u.disabled);return{disabled:$||j,tone:"positive",label:a==="published"?"Published":w||a==="publishing"?"Publishing…":"Publish",icon:a==="published"?Js:f0,title:w?"Waiting for tasks to finish before publishing":a==="published"||a==="publishing"?null:A,shortcut:$||w?null:"Ctrl+Alt+P",onHandle:P}};cRe.action="publish";const qSn={NOT_PUBLISHED:"This document is not published"},uRe=e=>{let{id:t,type:n,draft:r,onComplete:o,liveEdit:i}=e;const{unpublish:s}=ql(t,n),[a,c]=h.useState(!1),[u,d]=fh({id:t,type:n,permission:"unpublish"}),f=Uo(),p=h.useCallback(()=>{c(!1),o()},[o]),m=h.useCallback(()=>{c(!1),s.execute(),o()},[o,s]),v=h.useMemo(()=>a?{type:"dialog",onClose:o,content:l.jsx(Z3e,{id:(r==null?void 0:r._id)||t,type:n,action:"unpublish",onCancel:p,onConfirm:m})}:null,[r,t,p,m,a,o,n]);return i?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:NS,label:"Unpublish",title:l.jsx(Ic,{operationLabel:"unpublish this document",currentUser:f}),disabled:!0}:{tone:"critical",icon:NS,disabled:!!s.disabled||d,label:"Unpublish",title:s.disabled?qSn[s.disabled]:"",onHandle:()=>c(!0),dialog:v}};uRe.action="unpublish";const GSn=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null},KSn=!1,dRe={},p$n=Symbol("LOADING_PANE"),fRe="documentPanelPortalElement",hRe={activePanes:[]};function m$n(e){hRe.activePanes=e}function ZSn(e,t,n,r){var o;const i=(n==null?void 0:n.panes)||[],s=hRe.activePanes||[],a=t.id||ld(),c=e==="create"&&t.template;for(let u=s.length-1;u>=0;u--){const d=s[u];if(typeof d=="object"&&((o=d.canHandleIntent)!=null&&o.call(d,e,t,{pane:d,index:u})||d.type==="documentList"&&d.schemaTypeName===t.type&&d.options.filter==="_type == $type")){const f=c?{template:t.template}:dRe;return{panes:i.slice(0,u).concat([[{id:a,params:f,payload:r}]])}}}return{intent:e,params:t,payload:r}}const XSn={};function QSn(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function JSn(e){return(e||[]).map(t=>t.map(cEn).join("|")).map(encodeURIComponent).join(";")}function eEn(e){return JSON.stringify(e)}function tEn(e){return uEn(decodeURIComponent(e))}function nEn(e){return JSn(e)}const rEn=xi.create("/",[xi.intents("/intent"),xi.create("/edit/:type/:editDocumentId",[xi.create({path:"/:params",transform:{params:{toState:QSn,toPath:eEn}}})]),xi.create({path:"/:panes",children:[xi.create("/:action",xi.create("/:legacyEditDocumentId"))],transform:{panes:{toState:tEn,toPath:nEn}}})]),oEn=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,iEn=e=>/^[a-z0-9]+=[^=]+/i.test(e),sEn=e=>/^[A-Za-z0-9\-_]+(?:={0,2})$/.test(e),pRe=["view","since","rev","inspect","comment"],aEn=Boolean;function lEn(e,t){const n={...t,params:XSn,payload:void 0};return e.reduce((r,o)=>{if(iEn(o)){const i=o.slice(0,o.indexOf("=")),s=o.slice(i.length+1);r.params={...r.params,[decodeURIComponent(i)]:decodeURIComponent(s)}}else sEn(o)?r.payload=hEn(o):console.warn("Unknown pane segment: %s - skipping",o);return r},n)}function cEn(e,t,n){const{payload:r,params:o={},id:i}=e,[s]=n,a=e===s,c=t!==0&&i===s.id,u=typeof r>"u"?void 0:L_e(r),d=Object.entries(o).filter(f=>{var p;const[m,v]=f;if(!v)return!1;if(a)return!0;const g=(p=s.params)==null?void 0:p[m];return!(v===g&&!pRe.includes(m))}).map(f=>{let[p,m]=f;return"".concat(encodeURIComponent(p),"=").concat(encodeURIComponent(m))});return[c?"":i].concat([d.length>0&&d,u].filter(aEn).flat()).join(",")||","}function uEn(e){return e.indexOf(",{")!==-1?dEn(e):e.split(";").map(t=>{const[n,...r]=t.split("|").map(o=>{const[i,...s]=o.split(",");return lEn(s,{id:i})});return[n,...r.map(o=>({...n,...o,id:o.id||n.id,params:{...Pi(n.params,pRe),...o.params},payload:o.payload||n.payload}))]}).filter(t=>t.length>0)}function dEn(e){const t=[];let n=e;for(;n.length;){const[r,o,i]=n.match(oEn)||[];if(!r){n=n.slice(1);continue}const s=i&&fEn(i);t.push({id:o,payload:s}),n=n.slice(r.length)}return[t]}function fEn(e){try{return JSON.parse(e)}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}function hEn(e){try{return e?F_e(e):void 0}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}const pEn=320,mEn=600,z4=320,gEn=540,vEn={},V4="inspect:",yEn=[{id:"inspectors"},{id:"links"}],H4="sanity/desk/history",bEn="sanity/desk/validation",xb="sanity/desk/comments";var Uhe=Object.freeze,xEn=Object.defineProperty,wEn=(e,t)=>Uhe(xEn(e,"raw",{value:Uhe(t||e.slice())})),Whe;const Yhe=O(gwe)(Whe||(Whe=wEn([`
  svg > ellipse {
    stroke: transparent;
  }
`]))),CEn=/[^\p{Alpha}\p{White_Space}]/gu,_En=new RegExp("\\p{White_Space}+","u");function SEn(e){const t=e.replace(CEn,"").split(_En);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function nD(e){const{user:t,...n}=e,r=t,o=h.useMemo(()=>SEn((r==null?void 0:r.displayName)||""),[r==null?void 0:r.displayName]);return r?l.jsx(Yhe,{initials:o,src:r==null?void 0:r.imageUrl,title:r==null?void 0:r.displayName,...n}):l.jsx(Yhe,{...n})}const mRe=25,EEn={minWidth:mRe};function PS(){return l.jsx("div",{style:EEn})}var qhe=Object.freeze,kEn=Object.defineProperty,jEn=(e,t)=>qhe(kEn(e,"raw",{value:qhe(t||e.slice())})),Ghe;const TEn={open:500,close:0},Khe=O.span(e=>{let{theme:t}=e;var n,r,o;const{regular:i}=(n=t.sanity.fonts)==null?void 0:n.text.weights,{hovered:s}=(r=t.sanity.color)==null?void 0:r.card,{bg:a}=((o=t.sanity.color.selectable)==null?void 0:o.caution.pressed)||{};return he(Ghe||(Ghe=jEn([`
    font-weight: `,`;
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: `,`;
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: `,`;
    }
  `])),i,s.bg,a)});function gRe(e){const{selected:t,userId:n}=e,[r,o]=r1(n),i=Uo();return!r||o?l.jsx(Khe,{children:"@Loading"}):l.jsx(at,{portal:!0,open:t,delay:TEn,content:l.jsxs(U,{align:"center",padding:2,gap:2,children:[l.jsx(U,{children:l.jsx(nD,{user:r})}),l.jsx(L,{size:1,children:r.displayName})]}),children:l.jsxs(Khe,{"data-selected":t,"data-active":(i==null?void 0:i.id)===n,children:["@",r.displayName]})})}var Zhe=Object.freeze,AEn=Object.defineProperty,DEn=(e,t)=>Zhe(AEn(e,"raw",{value:Zhe(t||e.slice())})),Xhe;const IEn=O(L)(Xhe||(Xhe=DEn([`
  word-break: break-word;
`])));function Fs(e){const{children:t}=e;return l.jsx(IEn,{size:1,children:t})}var Qhe=Object.freeze,PEn=Object.defineProperty,OEn=(e,t)=>Qhe(PEn(e,"raw",{value:Qhe(t||e.slice())})),Jhe;const REn=O(oe)(()=>he(Jhe||(Jhe=OEn([`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `])))),$En=[],MEn={block:{normal:e=>{let{children:t}=e;return l.jsx(Fs,{children:t})},h1:e=>{let{children:t}=e;return l.jsx(Fs,{children:t})},h2:e=>{let{children:t}=e;return l.jsx(Fs,{children:t})},h3:e=>{let{children:t}=e;return l.jsx(Fs,{children:t})},h4:e=>{let{children:t}=e;return l.jsx(Fs,{children:t})},h5:e=>{let{children:t}=e;return l.jsx(Fs,{children:t})},h6:e=>{let{children:t}=e;return l.jsx(Fs,{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx(Fs,{children:t})},code:e=>{let{children:t}=e;return l.jsx(Fs,{children:t})}},list:{bullet:e=>{let{children:t}=e;return t},number:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},listItem:{bullet:e=>{let{children:t}=e;return l.jsx(Fs,{children:t})},number:e=>{let{children:t}=e;return l.jsx(Fs,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx(Fs,{children:t})}},marks:{strong:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},em:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},code:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},underline:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},strikeThrough:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},link:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},types:{mention:e=>{var t;return l.jsx(gRe,{userId:(t=e==null?void 0:e.value)==null?void 0:t.userId,selected:!1})}}};function FEn(e){const{blocks:t}=e;return l.jsx(REn,{children:l.jsx(f_n,{value:t||$En,components:MEn})})}const LEn=yve({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),BEn=yve({type:"block",name:"block",of:[LEn],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}),NEn=AMe({type:"array",name:"body",of:[BEn]}),zEn=B8.compile({name:"comments",types:[NEn]}),VEn=zEn.get("body"),HEn=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),UEn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),WEn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"add-comment",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M12.3368 5.97917H6.89453C5.78996 5.97917 4.89453 6.8746 4.89453 7.97917V13.4881C4.89453 14.5926 5.78996 15.4881 6.89453 15.4881H8.69808V19.2916L12.5016 15.4881H16.207C17.3115 15.4881 18.207 14.5926 18.207 13.4881V11.7158",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.2081 2.08333V9.87058M14.3145 5.97695H22.1017",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),YEn=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:n,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})});function vRe(e){const t=h.useRef(e);return h.useMemo(()=>!Ht(t.current,e),[e])}function hC(e){return e?e==null?void 0:e.some(t=>{var n;return Vf(t)&&((n=(t==null?void 0:t.children)||[])==null?void 0:n.some(r=>Ks(r)?r.text:r.userId))}):!1}const yRe=ie.createContext(null);function qEn(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:o=!1,mentionOptions:i,onMentionMenuOpenChange:s,value:a,readOnly:c}=e,u=vo(),[d,f]=h.useState(!1),[p,m]=h.useState(""),[v,g]=h.useState(null),y=h.useMemo(()=>hC(a),[a]),x=vRe(a),b=h.useCallback(()=>{c||Se.focus(u)},[u,c]),w=h.useCallback(()=>{f(!1),m(""),g(null)},[]),C=h.useCallback(()=>{f(!0),m(""),f(!0),g(Se.getSelection(u))},[u]),_=h.useCallback(k=>{const T=Se.getSelection(u),A=T?T.focus.offset:0,D=Se.focusChild(u),I=Ks(D)&&D||void 0,P=k.inputType==="insertText",$=k.inputType==="deleteContentBackward",R=P&&k.data==="@",V=(I==null?void 0:I.text.substring(0,A).lastIndexOf("@"))||0,N=(I==null?void 0:I.text.substring(A-1,A))===" ",W=P&&k.data===" "&&!p;if(R&&(A<1||N)){C();return}if(W||$&&((I==null?void 0:I.text.length)===1||V===((I==null?void 0:I.text.length)||0)-1)){w();return}if(Ks(D)){let G=D.text.substring(V+1,A);P&&(G+=k.data),$&&(G=G.substring(0,G.length-1)),m(G)}},[w,u,p,C]),S=h.useCallback(()=>{f(!0),Se.focus(u),Se.insertChild(u,u.schemaTypes.span,{text:"@"}),g(Se.getSelection(u))},[u]);Fi(d,()=>s==null?void 0:s(d));const E=h.useCallback(k=>{var T;const A=u.schemaTypes.inlineObjects.find(P=>P.name==="mention"),[D,I]=v&&Se.findByPath(u,v.focus.path)||[];if(D&&Ks(D)&&I&&A){Se.focus(u);const P=(T=Se.getSelection(u))==null?void 0:T.focus.offset;typeof P<"u"&&(Se.delete(u,{anchor:{path:I,offset:D.text.lastIndexOf("@")},focus:{path:I,offset:P}},{mode:"selected"}),Se.insertChild(u,A,{userId:k}),Se.insertChild(u,u.schemaTypes.span,{text:" "}))}},[u,v]),j=h.useMemo(()=>({canSubmit:y,closeMentions:w,editor:u,expandOnFocus:n,focused:r,focusEditor:b,focusOnMount:o,hasChanges:x,insertAtChar:S,insertMention:E,mentionOptions:i,mentionsMenuOpen:d,mentionsSearchTerm:p,onBeforeInput:_,openMentions:C,readOnly:!!c,value:a}),[y,w,u,n,r,b,o,x,S,E,i,d,p,_,C,c,a]);return l.jsx(yRe.Provider,{value:j,children:t})}function bRe(){const e=h.useContext(yRe);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}var epe=Object.freeze,GEn=Object.defineProperty,KEn=(e,t)=>epe(GEn(e,"raw",{value:epe(t||e.slice())})),tpe;const ZEn=O(U)(tpe||(tpe=KEn([""]))),XEn={width:"50%"};function QEn(e){const{user:t,onSelect:n}=e,[r]=r1(t.id),o=l.jsx(nD,{user:r,status:t.canBeMentioned?void 0:"inactive"}),i=r?l.jsx(L,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):l.jsx(Di,{size:1,style:XEn}),s=h.useCallback(()=>{n(t.id)},[n,t.id]);return l.jsx(ee,{as:"button",disabled:!t.canBeMentioned,onClick:s,padding:2,radius:2,children:l.jsxs(U,{align:"center",gap:3,children:[l.jsxs(ZEn,{align:"center",gap:2,flex:1,children:[o,l.jsx(M,{children:i})]}),!t.canBeMentioned&&l.jsx(w6,{fontSize:1,mode:"outline",children:"Unauthorized"})]})})}const npe=[],JEn=O(oe)({maxWidth:"220px"}),rpe=41,ekn=4,tkn=7,nkn=O(U)({maxHeight:rpe*tkn+ekn*2+rpe/2}),rkn=ie.forwardRef(function(t,n){const{loading:r,onSelect:o,options:i=[],inputElement:s}=t,[a,c]=h.useState(""),u=h.useRef(null);h.useImperativeHandle(n,()=>({setSearchTerm(v){c(v)}}),[]);const d=h.useCallback(v=>l.jsx(QEn,{user:v,onSelect:o}),[o]),f=h.useCallback(v=>{var g;return!((g=i==null?void 0:i[v])!=null&&g.canBeMentioned)},[i]),p=h.useMemo(()=>{var v;if(!a)return i||npe;const g=zG(a).toLocaleLowerCase(),y=i==null?void 0:i.map(b=>({...b,displayName:zG(b.displayName||"").toLocaleLowerCase()}));return((v=y==null?void 0:y.filter(b=>{var w;return(w=b==null?void 0:b.displayName)==null?void 0:w.includes(g)}))==null?void 0:v.sort((b,w)=>{var C,_;const S=(C=b.displayName)==null?void 0:C.startsWith(g),E=(_=w.displayName)==null?void 0:_.startsWith(g);return S&&!E?-1:!S&&E?1:0}))||npe},[i,a]);if(r)return l.jsx(JEn,{children:l.jsx(U,{align:"center",justify:"center",padding:4,children:l.jsx(fr,{muted:!0,size:1})})});const m=s||void 0;return l.jsxs(U,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[p.length===0&&l.jsx(M,{padding:5,children:l.jsx(L,{align:"center",size:1,muted:!0,children:"No users found"})}),p.length>0&&l.jsx(nkn,{direction:"column",flex:1,overflow:"hidden",children:l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:"List of users to mention",fixedHeight:!0,getItemDisabled:f,inputElement:m,itemHeight:41,items:p,padding:1,ref:u,renderItem:d})})]})}),okn=e=>{const{children:t}=e;return l.jsx(Fs,{children:t})},ikn=e=>{const{children:t,value:n,selected:r}=e;return n._type==="mention"&&n.userId?l.jsx(gRe,{selected:r,userId:n==null?void 0:n.userId}):t},skn={passive:!0};function akn(e){const{disabled:t,rootElement:n}=e,[r,o]=h.useState(null),i=h.useMemo(()=>r?{getBoundingClientRect:()=>r}:null,[r]),s=h.useCallback(()=>{if(t){o(null);return}const a=window.getSelection();if(!a||!a.isCollapsed||a.rangeCount===0)return;const c=a.getRangeAt(0);if(!(n==null?void 0:n.contains(c.commonAncestorContainer))){o(null);return}const d=c==null?void 0:c.getBoundingClientRect();d&&o(d)},[t,n]);return h.useEffect(()=>(document.addEventListener("selectionchange",s,skn),()=>{document.removeEventListener("selectionchange",s)}),[s]),i}var ope=Object.freeze,lkn=Object.defineProperty,xRe=(e,t)=>ope(lkn(e,"raw",{value:ope(t||e.slice())})),ipe,spe;const ckn=["bottom","top"],ukn={outline:"none"},ape=[],dkn=O.span(()=>he(ipe||(ipe=xRe([`
    overflow: hidden;
    text-overflow: ellipsis;
    text-wrap: nowrap;
    display: block;
  `])))),fkn=O(en)(e=>{let{theme:t}=e;const{space:n,radius:r}=t.sanity;return he(spe||(spe=xRe([`
    &[data-placement='bottom'] {
      transform: translateY(`,`px);
    }

    &[data-placement='top'] {
      transform: translateY(-`,`px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: `,`px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `])),n[1],n[1],r[3])});function hkn(e){const{focusLock:t,placeholder:n="Create a new comment",onFocus:r,onBlur:o,onKeyDown:i,onSubmit:s}=e,[a,c]=h.useState(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=B0(),{canSubmit:m,closeMentions:v,insertMention:g,mentionOptions:y,mentionsMenuOpen:x,mentionsSearchTerm:b,onBeforeInput:w,value:C}=bRe(),_=akn({disabled:!x,rootElement:u.current}),S=h.useCallback(()=>l.jsx(dkn,{children:n}),[n]),E=h.useCallback(()=>{x&&v()},[v,x]);ur(E,[a]);const j=h.useCallback(A=>{switch(A.key){case"Enter":if(A.shiftKey)break;if(A.preventDefault(),A.stopPropagation(),x){v();break}s&&m&&s();break;case"Escape":case"ArrowLeft":case"ArrowRight":x&&(A.preventDefault(),A.stopPropagation(),v());break}i&&i(A)},[m,v,x,i,s]),k=h.useMemo(()=>{if(p)return;const A=(C||ape).slice(-1)[0],D=Vf(A)?A.children.slice(-1)[0]:void 0;if(!D)return;const I={path:[{_key:A._key},"children",{_key:D._key}],offset:Ks(D)?D.text.length:0};return{focus:I,anchor:I}},[C,p]);h.useEffect(()=>{var A;(A=f.current)==null||A.setSearchTerm(b)},[b]),h.useEffect(()=>{x&&p&&!Ht(p.anchor,p.focus)&&v()},[x,v,p]);const T=l.jsx(rkn,{inputElement:d.current,loading:y.loading,onSelect:g,options:y.data||ape,ref:f});return l.jsxs("div",{ref:u,children:[l.jsx(fkn,{arrow:!1,constrainSize:!0,content:T,disabled:!x,fallbackPlacements:ckn,open:x,placement:"bottom",ref:c,referenceElement:_}),l.jsx(sje,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:w,onBlur:o,onFocus:r,onKeyDown:j,ref:d,renderBlock:okn,renderChild:ikn,renderPlaceholder:S,selection:k,style:ukn,tabIndex:t?0:void 0})]})}var lpe=Object.freeze,pkn=Object.defineProperty,nz=(e,t)=>lpe(pkn(e,"raw",{value:lpe(t||e.slice())})),cpe,upe,dpe;const OS=O(M)(cpe||(cpe=nz([`
  max-height: 20vh;
  overflow-y: auto;
`]))),mkn=O(Pr)({height:20,width:1}),fpe=O(se).attrs({fontSize:1,padding:2})(upe||(upe=nz([`
  /* border-radius: 50%; */
`]))),gkn=O(ee)(e=>{let{theme:t}=e;const n=t.sanity.radius[2];return he(dpe||(dpe=nz([`
    border-radius: `,`px;

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      `,` {
        min-height: 1em;
      }

      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    &:focus-within {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
  `])),n,OS,OS,OS)});function vkn(e){const{currentUser:t,focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a,withAvatar:c}=e,[u]=r1(t.id),{canSubmit:d,expandOnFocus:f,focused:p,hasChanges:m,insertAtChar:v,openMentions:g,readOnly:y}=bRe(),x=c?l.jsx(nD,{user:u}):null,b=h.useCallback(w=>{w.stopPropagation(),v(),g()},[v,g]);return l.jsxs(U,{align:"flex-start",gap:2,children:[x,l.jsx(gkn,{"data-expand-on-focus":f&&!d?"true":"false","data-focused":p?"true":"false",flex:1,shadow:1,sizing:"border",tone:y?"transparent":"default",children:l.jsxs(oe,{children:[l.jsx(OS,{paddingX:1,paddingY:2,sizing:"border",children:l.jsx(hkn,{focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a})}),l.jsxs(U,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:[l.jsx(fpe,{"aria-label":"Mention user","data-testid":"comment-mention-button",disabled:y,icon:UEn,mode:"bleed",onClick:b}),l.jsx(mkn,{}),l.jsx(fpe,{"aria-label":"Send comment",disabled:!d||!m||y,icon:HEn,mode:m&&d?"default":"bleed",onClick:s,tone:m&&d?"primary":"default"})]})]})})]})}const ykn=9999999;function bkn(e){const{onClose:t,onConfirm:n}=e,r=h.useCallback(i=>{i.stopPropagation(),t()},[t]),o=h.useCallback(i=>{i.stopPropagation(),n()},[n]);return l.jsx(lwe,{tone:"default",children:l.jsx(JR,{zOffset:ykn,children:l.jsx(Ri,{header:"Discard comment?",id:"discard-comment-dialog",onClose:t,width:0,onClickOutside:t,footer:l.jsxs(Jt,{columns:2,padding:2,gap:2,children:[l.jsx(se,{text:"Cancel",mode:"ghost",onClick:r}),l.jsx(se,{onClick:o,text:"Discard",tone:"critical"})]}),children:l.jsx(oe,{padding:4,children:l.jsx(L,{children:"Do you want to discard the comment?"})})})})})}const QO=[],xkn={behavior:"smooth",block:"center",inline:"center"},rD=h.forwardRef(function(t,n){const{currentUser:r,expandOnFocus:o,focusLock:i=!1,focusOnMount:s,mentionOptions:a,onBlur:c,onChange:u,onDiscardCancel:d,onDiscardConfirm:f,onFocus:p,onKeyDown:m,onMentionMenuOpenChange:v,onSubmit:g,placeholder:y,readOnly:x,value:b=QO,withAvatar:w=!0}=t,[C,_]=h.useState(!1),S=h.useRef(null),E=h.useRef(null),[j,k]=h.useState(!1),T=h.useRef(null),A=h.useRef(null),D=h.useRef(null),[I,P]=h.useState(Ak()),$=h.useCallback(()=>{requestAnimationFrame(()=>{S.current&&Se.focus(S.current)})},[]),R=h.useCallback(()=>{P(Ak())},[]),V=h.useCallback(X=>{if(X.type==="ready"&&s&&$(),X.type==="focus"&&_(!0),X.type==="blur"&&_(!1),X.type==="patch"&&S.current){const B=Se.getValue(S.current);u(B||QO)}},[s,u,$]),N=h.useCallback(()=>{var X;(X=E.current)==null||X.scrollIntoView(xkn)},[]),W=h.useCallback(()=>{g(),R(),$(),N()},[g,$,R,N]),G=h.useCallback(()=>{f(),R()},[f,R]),H=h.useMemo(()=>({open:()=>{k(!0)},close:()=>{k(!1),$()}}),[$]);h.useImperativeHandle(n,()=>({focus:$,blur(){S.current&&Se.blur(S.current)},scrollTo:N,reset:R,discardDialogController:H}),[H,$,R,N]);const q=h.useCallback(X=>{if(!i)return;const B=X.target,Y=D.current;if(Y&&B===T.current){S6(Y);return}Y&&B===A.current&&Fp(Y)},[i]);return l.jsxs(l.Fragment,{children:[j&&l.jsx(bkn,{onClose:d,onConfirm:G}),l.jsx(oe,{ref:E,"data-testid":"comment-input",onFocus:q,children:l.jsx(Se,{onChange:V,readOnly:x,ref:S,schemaType:VEn,value:b||QO,children:l.jsxs(qEn,{expandOnFocus:o,focused:C,focusOnMount:s,mentionOptions:a,onMentionMenuOpenChange:v,readOnly:x,value:b,children:[i&&l.jsx("div",{ref:T,tabIndex:0}),l.jsx(oe,{ref:D,children:l.jsx(vkn,{currentUser:r,focusLock:i,onBlur:c,onFocus:p,onKeyDown:m,onSubmit:W,placeholder:y,withAvatar:w})}),i&&l.jsx("div",{ref:A,tabIndex:0})]})},I)})]})}),JO=3;var hpe=Object.freeze,wkn=Object.defineProperty,Ckn=(e,t)=>hpe(wkn(e,"raw",{value:hpe(t||e.slice())})),ppe;const _kn={open:500},Skn=O(L)(ppe||(ppe=Ckn([`
  min-width: max-content;
`])));function Ekn(e){const{children:t,text:n}=e;return l.jsx(at,{delay:_kn,portal:!0,placement:"top",content:l.jsx(Skn,{size:1,children:n}),padding:2,children:l.jsx(U,{children:t})})}var mpe=Object.freeze,kkn=Object.defineProperty,jkn=(e,t)=>mpe(kkn(e,"raw",{value:mpe(t||e.slice())})),gpe;const Tkn={open:500},Akn={placement:"bottom-end"},Dkn=O(ee)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return he(gpe||(gpe=jkn([`
    gap: `,`px;
    padding: `,`px;

    &:empty {
      display: none;
    }
  `])),n[1]/2,n[1]/2)});function Ikn(e){const{canDelete:t,canEdit:n,isParent:r,onCopyLink:o,onDeleteStart:i,onEditStart:s,onMenuClose:a,onMenuOpen:c,onStatusChange:u,readOnly:d,status:f}=e,p=!!(o||i||s);return l.jsx(Pwe,{delay:Tkn,children:l.jsx(U,{children:l.jsxs(Dkn,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[r&&l.jsx(Ekn,{text:f==="open"?"Mark as resolved":"Re-open",children:l.jsx(se,{"aria-label":"Mark comment as resolved",disabled:d,fontSize:1,icon:f==="open"?Z5:BS,mode:"bleed",onClick:u,padding:2})}),l.jsx(tn,{id:"comment-actions-menu",button:l.jsx(se,{"aria-label":"Open comment actions menu",disabled:d,fontSize:1,hidden:!p,icon:To,mode:"bleed",padding:2}),onOpen:c,onClose:a,menu:l.jsxs(Bt,{children:[l.jsx(Ve,{fontSize:1,hidden:!n,icon:Du,onClick:s,text:"Edit comment"}),l.jsx(Ve,{fontSize:1,hidden:!t,icon:po,onClick:i,text:"Delete comment",tone:"critical"}),l.jsx(Pr,{hidden:!t&&!n}),l.jsx(Ve,{fontSize:1,hidden:!o,icon:kf,onClick:o,text:"Copy link to comment"})]}),popover:Akn})]})})})}var vpe=Object.freeze,Pkn=Object.defineProperty,s1=(e,t)=>vpe(Pkn(e,"raw",{value:vpe(t||e.slice())})),ype,bpe,xpe,wpe,Cpe,_pe;const Iy=O(M)(ype||(ype=s1([""])));function Okn(e){const{children:t,isParent:n}=e,r=h.useCallback(o=>{o.stopPropagation()},[]);return l.jsx(Iy,{"data-root-menu":n?"true":"false",onClick:r,children:t})}const Rkn={width:"50%"},Spe=O(L)(e=>{let{theme:t}=e;const n=t.sanity.color.dark,r=pe.gray[n?200:800].hex;return he(bpe||(bpe=s1([`
    min-width: max-content;
    --card-fg-color: `,`;
    color: var(--card-fg-color);
  `])),r)}),$kn=O(oe)(xpe||(xpe=s1([`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`]))),Mkn=O(U)(wpe||(wpe=s1([`
  min-height: `,`px;
`])),mRe),Fkn=O(ee)(Cpe||(Cpe=s1([`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`]))),Lkn=O(oe)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return he(_pe||(_pe=s1([`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      `,` {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: translate(`,"px, -",`px);
      }

      `,` {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        `,` {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      `,` {
        opacity: 1;
      }
    }
  `])),Iy,n[1],n[1],Iy,Iy,Iy)}),Bkn={agoSuffix:!0};function Epe(e){const{canDelete:t,canEdit:n,comment:r,currentUser:o,hasError:i,isParent:s,isRetrying:a,mentionOptions:c,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:p,onInputKeyDown:m,onStatusChange:v,readOnly:g}=e,{_createdAt:y,authorId:x,message:b,_id:w,lastEditedAt:C}=r,[_]=r1(x),[S,E]=h.useState(b),[j,k]=h.useState(!1),[T,A]=h.useState(null),D=h.useRef(b),[I,P]=h.useState(!1),$=vRe(S),R=h.useMemo(()=>hC(S),[S]),V=h.useRef(null),N=y?new Date(y):new Date,W=Xo(N,Bkn),G=Jo(N,"PPPPp"),H=C?Jo(new Date(C),"PPPPp"):null,q=i||a,X=h.useCallback(()=>P(!0),[]),B=h.useCallback(()=>P(!1),[]),Y=h.useCallback(()=>u==null?void 0:u(w),[w,u]),z=h.useCallback(Ae=>{Ae.stopPropagation(),d==null||d(w)},[w,d]),Z=h.useCallback(()=>f(w),[w,f]),Q=h.useCallback(()=>{k(!1),E(D.current)},[]),ne=h.useCallback(()=>{var Ae;if(!R||!$){Q();return}(Ae=V.current)==null||Ae.discardDialogController.open()},[Q,$,R]),K=h.useCallback(Ae=>{Ae.isDefaultPrevented()||(Ae.key==="Escape"&&(Ae.preventDefault(),Ae.stopPropagation(),ne()),m&&m(Ae))},[m,ne]),J=h.useCallback(()=>{var Ae;(Ae=V.current)==null||Ae.discardDialogController.close()},[]),re=h.useCallback(()=>{var Ae;(Ae=V.current)==null||Ae.discardDialogController.close(),Q()},[Q]),fe=h.useCallback(()=>{p(w,{message:S}),k(!1)},[w,p,S]),le=h.useCallback(()=>{v==null||v(w,r.status==="open"?"resolved":"open")},[w,r.status,v]),ge=h.useCallback(()=>{k(Ae=>!Ae)},[]),xe=h.useCallback(()=>P(!1),[]),ce=h.useCallback(()=>{$||Q()},[Q,$]),ve=h.useCallback(Ae=>{Ae.key==="Escape"&&!$&&Q()},[Q,$]);Fi(j,xe),ur(ce,[T]);const $e=_!=null&&_.displayName?l.jsx(L,{size:1,weight:"semibold",textOverflow:"ellipsis",title:_.displayName,children:_.displayName}):l.jsx(Di,{size:1,style:Rkn});return l.jsxs(Lkn,{"data-menu-open":I?"true":"false",onKeyDown:ve,ref:A,space:4,children:[l.jsxs($kn,{space:1,"data-muted":q,children:[l.jsxs(U,{align:"center",gap:JO,flex:1,children:[l.jsx(nD,{user:_}),l.jsx(U,{align:"center",paddingBottom:1,sizing:"border",flex:1,children:l.jsxs(U,{align:"flex-end",gap:2,children:[l.jsx(M,{flex:1,children:$e}),!q&&l.jsxs(U,{align:"center",gap:1,children:[l.jsx(Spe,{muted:!0,size:0,title:G,children:W}),H&&l.jsx(Spe,{muted:!0,size:0,title:H,children:"(edited)"})]})]})}),!j&&!q&&l.jsx(Okn,{isParent:s,children:l.jsx(Ikn,{canDelete:t,canEdit:n,isParent:s,onCopyLink:Y,onDeleteStart:Z,onEditStart:ge,onMenuClose:B,onMenuOpen:X,onStatusChange:le,readOnly:g,status:r.status})})]}),j&&l.jsxs(U,{align:"flex-start",gap:2,children:[l.jsx(PS,{}),l.jsx(oe,{flex:1,children:l.jsx(rD,{currentUser:o,focusOnMount:!0,mentionOptions:c,onChange:E,onDiscardCancel:J,onDiscardConfirm:re,onKeyDown:K,onSubmit:fe,readOnly:g,ref:V,value:S,withAvatar:!1})})]}),!j&&l.jsxs(U,{gap:JO,children:[l.jsx(PS,{}),l.jsx(FEn,{blocks:b})]})]}),q&&l.jsxs(Mkn,{gap:JO,children:[l.jsx(PS,{}),l.jsxs(U,{align:"center",gap:1,flex:1,children:[l.jsxs(L,{muted:!0,size:1,children:[i&&"Failed to send.",a&&"Posting..."]}),l.jsx(U,{hidden:a,children:l.jsx(Fkn,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:z,padding:1,radius:2,tone:"primary",children:l.jsx(L,{size:1,muted:!0,children:"Retry"})})})]})]})]})}var kpe=Object.freeze,Nkn=Object.defineProperty,zkn=(e,t)=>kpe(Nkn(e,"raw",{value:kpe(t||e.slice())})),jpe;const wRe=O(ee).attrs(e=>{let{tone:t}=e;return{padding:3,radius:3,sizing:"border",tone:t||"transparent"}})(jpe||(jpe=zkn([`
  // ...
`])));var Tpe=Object.freeze,Vkn=Object.defineProperty,rz=(e,t)=>Tpe(Vkn(e,"raw",{value:Tpe(t||e.slice())})),Ape,Dpe,Ipe;const iy=[],sy=5,Hkn=O(wRe)(e=>{let{theme:t}=e;const{hovered:n}=t.sanity.color.button.bleed.default;return he(Ape||(Ape=rz([`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    // When the comment is not selected, we want to apply hover styles.
    // The hover styles is managed with the [data-hovered] attribute instead of the :hover pseudo class
    // since we want to show the hover styles when hovering over the menu items in the context menu as well.
    // The context menu is rendered using a portal, so the :hover pseudo class won't work when hovering over
    // the menu items.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &[data-hovered='true'] {
          --card-bg-color: `,`;

          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `])),n.bg2)}),Ukn=O(se)(e=>{let{theme:t}=e;const{medium:n}=t.sanity.fonts.text.weights;return he(Dpe||(Dpe=rz([`
    font-weight: `,`;
  `])),n)}),Wkn=O(se)(Ipe||(Ipe=rz([`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`]))),Ykn=ie.memo(function(t){var n,r;const{canReply:o,currentUser:i,isSelected:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onKeyDown:p,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:y,readOnly:x,replies:b=iy}=t,[w,C]=h.useState(iy),[_,S]=h.useState(!0),E=h.useRef(!1),j=h.useRef(null),k=h.useMemo(()=>hC(w),[w]),[T,A]=h.useState(!1),D=h.useCallback(()=>A(!0),[]),I=h.useCallback(()=>A(!1),[]),P=h.useCallback(()=>{const Y={fieldPath:y.target.path.field,message:w,parentCommentId:y._id,status:(y==null?void 0:y.status)||"open",threadId:y.threadId};v==null||v(Y),C(iy)},[v,y._id,y==null?void 0:y.status,y.target.path.field,y.threadId,w]),$=h.useCallback(()=>{var Y;if(!k){C(iy);return}(Y=j.current)==null||Y.discardDialogController.open()},[k]),R=h.useCallback(Y=>{Y.isDefaultPrevented()||Y.key==="Escape"&&(Y.preventDefault(),Y.stopPropagation(),$())},[$]),V=h.useCallback(()=>{var Y;(Y=j.current)==null||Y.discardDialogController.close()},[]),N=h.useCallback(()=>{var Y,z;C(iy),(Y=j.current)==null||Y.discardDialogController.close(),(z=j.current)==null||z.focus()},[]),W=h.useCallback(Y=>{Y.stopPropagation(),m==null||m({fieldPath:y.target.path.field,origin:"inspector",threadId:y.threadId})},[m,y.target.path.field,y.threadId]),G=h.useCallback(Y=>{Y.stopPropagation(),S(!1),E.current=!0},[]),H=h.useMemo(()=>_?b==null?void 0:b.slice(-sy):b,[b,_]),q=h.useMemo(()=>b?b.length>sy:!1,[b]),X=h.useMemo(()=>"".concat((b==null?void 0:b.length)-sy," more ").concat((b==null?void 0:b.length)-sy===1?"comment":"comments"),[b==null?void 0:b.length]);h.useEffect(()=>{b.length>sy&&!E.current&&S(!0)},[b]);const B=h.useMemo(()=>H.map(Y=>{var z,Z;return l.jsx(oe,{as:"li","data-comment-id":Y._id,children:l.jsx(Epe,{canDelete:Y.authorId===i.id,canEdit:Y.authorId===i.id,comment:Y,currentUser:i,hasError:((z=Y._state)==null?void 0:z.type)==="createError",isRetrying:((Z=Y._state)==null?void 0:Z.type)==="createRetrying",mentionOptions:a,onInputKeyDown:R,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,readOnly:x})},Y._id)}),[i,R,a,c,u,d,f,x,H]);return l.jsx(oe,{space:2,children:l.jsxs(Hkn,{"data-active":s?"true":"false","data-hovered":T?"true":"false",onClick:W,onMouseEnter:D,onMouseLeave:I,tone:s?"primary":void 0,children:[l.jsx(Wkn,{"data-ui":"GhostButton","aria-label":"Go to field"}),l.jsxs(oe,{as:"ul",paddingBottom:o?void 0:1,space:4,children:[l.jsx(oe,{as:"li","data-comment-id":y._id,children:l.jsx(Epe,{canDelete:y.authorId===i.id,canEdit:y.authorId===i.id,comment:y,currentUser:i,hasError:((n=y._state)==null?void 0:n.type)==="createError",isParent:!0,isRetrying:((r=y._state)==null?void 0:r.type)==="createRetrying",mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onInputKeyDown:p,onStatusChange:g,readOnly:x})}),q&&!E.current&&l.jsxs(U,{gap:1,paddingY:1,sizing:"border",children:[l.jsx(PS,{}),l.jsx(Ukn,{fontSize:1,iconRight:Za,mode:"bleed",onClick:G,padding:2,space:2,text:X})]}),B,o&&l.jsx(rD,{currentUser:i,expandOnFocus:!0,mentionOptions:a,onChange:C,onDiscardCancel:V,onDiscardConfirm:N,onKeyDown:R,onSubmit:P,placeholder:"Reply",readOnly:x,ref:j,value:w})]})]})})}),qkn={close:0,open:500},Ppe=l.jsx(L,{muted:!0,children:l.jsx(Rc,{})}),e3=(e,t)=>l.jsx(M,{as:"li",children:l.jsx(L,{textOverflow:"ellipsis",size:1,weight:"semibold",children:e})},"".concat(e,"-").concat(t));function Gkn(e){const{titlePath:t,maxLength:n}=e,r=h.useMemo(()=>{const i=t.length,s=Math.ceil(n/2),a=Math.floor(n/2);return n&&i>n?[...t.slice(0,s-1),t.slice(s-1,i-a),...t.slice(i-a)]:t},[n,t]),o=h.useMemo(()=>r.map((i,s)=>{const a="".concat(i,"-").concat(s),c=s<r.length-1;return Array.isArray(i)?l.jsxs(h.Fragment,{children:[l.jsx(at,{delay:qkn,content:l.jsx(oe,{space:2,padding:2,children:i.map(e3)}),children:l.jsx(M,{children:e3("...",s)})}),c&&Ppe]},a):l.jsxs(h.Fragment,{children:[e3(i,s),c&&Ppe]},a)}),[r]);return l.jsx(U,{align:"center",as:"ol",gap:2,children:o})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Kkn=4,Ope=0,Rpe=1,Zkn=2;function a1(e){let t=e.length;for(;--t>=0;)e[t]=0}const Xkn=0,CRe=1,Qkn=2,Jkn=3,e5n=258,oz=29,pC=256,$x=pC+1+oz,_v=30,iz=19,_Re=2*$x+1,lp=15,t3=16,t5n=7,sz=256,SRe=16,ERe=17,kRe=18,U4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),RS=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),n5n=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),jRe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),r5n=512,uu=new Array(($x+2)*2);a1(uu);const wb=new Array(_v*2);a1(wb);const Mx=new Array(r5n);a1(Mx);const Fx=new Array(e5n-Jkn+1);a1(Fx);const az=new Array(oz);a1(az);const x5=new Array(_v);a1(x5);function n3(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let TRe,ARe,DRe;function r3(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const IRe=e=>e<256?Mx[e]:Mx[256+(e>>>7)],Lx=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Cs=(e,t,n)=>{e.bi_valid>t3-n?(e.bi_buf|=t<<e.bi_valid&65535,Lx(e,e.bi_buf),e.bi_buf=t>>t3-e.bi_valid,e.bi_valid+=n-t3):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},vc=(e,t,n)=>{Cs(e,n[t*2],n[t*2+1])},PRe=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},o5n=e=>{e.bi_valid===16?(Lx(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},i5n=(e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,f,p,m,v,g=0;for(p=0;p<=lp;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<_Re;u++)d=e.heap[u],p=n[n[d*2+1]*2+1]+1,p>c&&(p=c,g++),n[d*2+1]=p,!(d>r)&&(e.bl_count[p]++,m=0,d>=a&&(m=s[d-a]),v=n[d*2],e.opt_len+=v*(p+m),i&&(e.static_len+=v*(o[d*2+1]+m)));if(g!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(p=c;p!==0;p--)for(d=e.bl_count[p];d!==0;)f=e.heap[--u],!(f>r)&&(n[f*2+1]!==p&&(e.opt_len+=(p-n[f*2+1])*n[f*2],n[f*2+1]=p),d--)}},ORe=(e,t,n)=>{const r=new Array(lp+1);let o=0,i,s;for(i=1;i<=lp;i++)o=o+n[i-1]<<1,r[i]=o;for(s=0;s<=t;s++){let a=e[s*2+1];a!==0&&(e[s*2]=PRe(r[a]++,a))}},s5n=()=>{let e,t,n,r,o;const i=new Array(lp+1);for(n=0,r=0;r<oz-1;r++)for(az[r]=n,e=0;e<1<<U4[r];e++)Fx[n++]=r;for(Fx[n-1]=r,o=0,r=0;r<16;r++)for(x5[r]=o,e=0;e<1<<RS[r];e++)Mx[o++]=r;for(o>>=7;r<_v;r++)for(x5[r]=o<<7,e=0;e<1<<RS[r]-7;e++)Mx[256+o++]=r;for(t=0;t<=lp;t++)i[t]=0;for(e=0;e<=143;)uu[e*2+1]=8,e++,i[8]++;for(;e<=255;)uu[e*2+1]=9,e++,i[9]++;for(;e<=279;)uu[e*2+1]=7,e++,i[7]++;for(;e<=287;)uu[e*2+1]=8,e++,i[8]++;for(ORe(uu,$x+1,i),e=0;e<_v;e++)wb[e*2+1]=5,wb[e*2]=PRe(e,5);TRe=new n3(uu,U4,pC+1,$x,lp),ARe=new n3(wb,RS,0,_v,lp),DRe=new n3(new Array(0),n5n,0,iz,t5n)},RRe=e=>{let t;for(t=0;t<$x;t++)e.dyn_ltree[t*2]=0;for(t=0;t<_v;t++)e.dyn_dtree[t*2]=0;for(t=0;t<iz;t++)e.bl_tree[t*2]=0;e.dyn_ltree[sz*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},$Re=e=>{e.bi_valid>8?Lx(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},$pe=(e,t,n,r)=>{const o=t*2,i=n*2;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},o3=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&$pe(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!$pe(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},Mpe=(e,t,n)=>{let r,o,i=0,s,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,o=e.pending_buf[e.sym_buf+i++],r===0?vc(e,o,t):(s=Fx[o],vc(e,s+pC+1,t),a=U4[s],a!==0&&(o-=az[s],Cs(e,o,a)),r--,s=IRe(r),vc(e,s,n),a=RS[s],a!==0&&(r-=x5[s],Cs(e,r,a)));while(i<e.sym_next);vc(e,sz,t)},W4=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,a,c=-1,u;for(e.heap_len=0,e.heap_max=_Re,s=0;s<i;s++)n[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=r[u*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)o3(e,n,s);u=i;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],o3(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[u*2]=n[s*2]+n[a*2],e.depth[u]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=u,e.heap[1]=u++,o3(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],i5n(e,t),ORe(n,c,e.bl_count)},Fpe=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)&&(a<u?e.bl_tree[i*2]+=a:i!==0?(i!==o&&e.bl_tree[i*2]++,e.bl_tree[SRe*2]++):a<=10?e.bl_tree[ERe*2]++:e.bl_tree[kRe*2]++,a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},Lpe=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)){if(a<u)do vc(e,i,e.bl_tree);while(--a!==0);else i!==0?(i!==o&&(vc(e,i,e.bl_tree),a--),vc(e,SRe,e.bl_tree),Cs(e,a-3,2)):a<=10?(vc(e,ERe,e.bl_tree),Cs(e,a-3,3)):(vc(e,kRe,e.bl_tree),Cs(e,a-11,7));a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}},a5n=e=>{let t;for(Fpe(e,e.dyn_ltree,e.l_desc.max_code),Fpe(e,e.dyn_dtree,e.d_desc.max_code),W4(e,e.bl_desc),t=iz-1;t>=3&&e.bl_tree[jRe[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},l5n=(e,t,n,r)=>{let o;for(Cs(e,t-257,5),Cs(e,n-1,5),Cs(e,r-4,4),o=0;o<r;o++)Cs(e,e.bl_tree[jRe[o]*2+1],3);Lpe(e,e.dyn_ltree,t-1),Lpe(e,e.dyn_dtree,n-1)},c5n=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Ope;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Rpe;for(n=32;n<pC;n++)if(e.dyn_ltree[n*2]!==0)return Rpe;return Ope};let Bpe=!1;const u5n=e=>{Bpe||(s5n(),Bpe=!0),e.l_desc=new r3(e.dyn_ltree,TRe),e.d_desc=new r3(e.dyn_dtree,ARe),e.bl_desc=new r3(e.bl_tree,DRe),e.bi_buf=0,e.bi_valid=0,RRe(e)},MRe=(e,t,n,r)=>{Cs(e,(Xkn<<1)+(r?1:0),3),$Re(e),Lx(e,n),Lx(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},d5n=e=>{Cs(e,CRe<<1,3),vc(e,sz,uu),o5n(e)},f5n=(e,t,n,r)=>{let o,i,s=0;e.level>0?(e.strm.data_type===Zkn&&(e.strm.data_type=c5n(e)),W4(e,e.l_desc),W4(e,e.d_desc),s=a5n(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&t!==-1?MRe(e,t,n,r):e.strategy===Kkn||i===o?(Cs(e,(CRe<<1)+(r?1:0),3),Mpe(e,uu,wb)):(Cs(e,(Qkn<<1)+(r?1:0),3),l5n(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Mpe(e,e.dyn_ltree,e.dyn_dtree)),RRe(e),r&&$Re(e)},h5n=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Fx[n]+pC+1)*2]++,e.dyn_dtree[IRe(t)*2]++),e.sym_next===e.sym_end);var p5n=u5n,m5n=MRe,g5n=f5n,v5n=h5n,y5n=d5n,b5n={_tr_init:p5n,_tr_stored_block:m5n,_tr_flush_block:g5n,_tr_tally:v5n,_tr_align:y5n};const x5n=(e,t,n,r)=>{let o=e&65535|0,i=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do o=o+t[r++]|0,i=i+o|0;while(--s);o%=65521,i%=65521}return o|i<<16|0};var Bx=x5n;const w5n=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},C5n=new Uint32Array(w5n()),_5n=(e,t,n,r)=>{const o=C5n,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^o[(e^t[s])&255];return e^-1};var Io=_5n,em={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Lm={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:S5n,_tr_stored_block:Y4,_tr_flush_block:E5n,_tr_tally:wf,_tr_align:k5n}=b5n,{Z_NO_FLUSH:Cf,Z_PARTIAL_FLUSH:j5n,Z_FULL_FLUSH:T5n,Z_FINISH:Ia,Z_BLOCK:Npe,Z_OK:Go,Z_STREAM_END:zpe,Z_STREAM_ERROR:kc,Z_DATA_ERROR:A5n,Z_BUF_ERROR:i3,Z_DEFAULT_COMPRESSION:D5n,Z_FILTERED:I5n,Z_HUFFMAN_ONLY:c2,Z_RLE:P5n,Z_FIXED:O5n,Z_DEFAULT_STRATEGY:R5n,Z_UNKNOWN:$5n,Z_DEFLATED:oD}=Lm,M5n=9,F5n=15,L5n=8,B5n=29,N5n=256,q4=N5n+1+B5n,z5n=30,V5n=19,H5n=2*q4+1,U5n=15,qt=3,rf=258,jc=rf+qt+1,W5n=32,i0=42,lz=57,G4=69,K4=73,Z4=91,X4=103,cp=113,Py=666,Gi=1,l1=2,tm=3,c1=4,Y5n=3,up=(e,t)=>(e.msg=em[t],t),Vpe=e=>e*2-(e>4?9:0),Nd=e=>{let t=e.length;for(;--t>=0;)e[t]=0},q5n=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=o?n-o:0;while(--t);t=o,r=t;do n=e.prev[--r],e.prev[r]=n>=o?n-o:0;while(--t)};let G5n=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,_f=G5n;const Ls=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Gs=(e,t)=>{E5n(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ls(e.strm)},hn=(e,t)=>{e.pending_buf[e.pending++]=t},ay=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},Q4=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),o===0?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),e.state.wrap===1?e.adler=Bx(e.adler,t,o,n):e.state.wrap===2&&(e.adler=Io(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},FRe=(e,t)=>{let n=e.max_chain_length,r=e.strstart,o,i,s=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-jc?e.strstart-(e.w_size-jc):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+rf;let m=u[r+s-1],v=u[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(o=t,!(u[o+s]!==v||u[o+s-1]!==m||u[o]!==u[r]||u[++o]!==u[r+1])){r+=2,o++;do;while(u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&r<p);if(i=rf-(p-r),r=p-rf,i>s){if(e.match_start=t,s=i,i>=a)break;m=u[r+s-1],v=u[r+s]}}while((t=f[t&d])>c&&--n!==0);return s<=e.lookahead?s:e.lookahead},s0=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-jc)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),q5n(e),r+=t),e.strm.avail_in===0)break;if(n=Q4(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=qt)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=_f(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=_f(e,e.ins_h,e.window[o+qt-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<qt)););}while(e.lookahead<jc&&e.strm.avail_in!==0)},LRe=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,o,i,s=0,a=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,o=e.strstart-e.block_start,r>o+e.strm.avail_in&&(r=o+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==Ia||t===Cf||r!==o+e.strm.avail_in)))break;s=t===Ia&&r===o+e.strm.avail_in?1:0,Y4(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Ls(e.strm),o&&(o>r&&(o=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,r-=o),r&&(Q4(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?c1:t!==Cf&&t!==Ia&&e.strm.avail_in===0&&e.strstart===e.block_start?l1:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(Q4(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,o=e.strstart-e.block_start,(o>=n||(o||t===Ia)&&t!==Cf&&e.strm.avail_in===0&&o<=i)&&(r=o>i?i:o,s=t===Ia&&e.strm.avail_in===0&&r===o?1:0,Y4(e,e.block_start,r,s),e.block_start+=r,Ls(e.strm)),s?tm:Gi)},s3=(e,t)=>{let n,r;for(;;){if(e.lookahead<jc){if(s0(e),e.lookahead<jc&&t===Cf)return Gi;if(e.lookahead===0)break}if(n=0,e.lookahead>=qt&&(e.ins_h=_f(e,e.ins_h,e.window[e.strstart+qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-jc&&(e.match_length=FRe(e,n)),e.match_length>=qt)if(r=wf(e,e.strstart-e.match_start,e.match_length-qt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=qt){e.match_length--;do e.strstart++,e.ins_h=_f(e,e.ins_h,e.window[e.strstart+qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=_f(e,e.ins_h,e.window[e.strstart+1]);else r=wf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Gs(e,!1),e.strm.avail_out===0))return Gi}return e.insert=e.strstart<qt-1?e.strstart:qt-1,t===Ia?(Gs(e,!0),e.strm.avail_out===0?tm:c1):e.sym_next&&(Gs(e,!1),e.strm.avail_out===0)?Gi:l1},rg=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<jc){if(s0(e),e.lookahead<jc&&t===Cf)return Gi;if(e.lookahead===0)break}if(n=0,e.lookahead>=qt&&(e.ins_h=_f(e,e.ins_h,e.window[e.strstart+qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=qt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-jc&&(e.match_length=FRe(e,n),e.match_length<=5&&(e.strategy===I5n||e.match_length===qt&&e.strstart-e.match_start>4096)&&(e.match_length=qt-1)),e.prev_length>=qt&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-qt,r=wf(e,e.strstart-1-e.prev_match,e.prev_length-qt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=_f(e,e.ins_h,e.window[e.strstart+qt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=qt-1,e.strstart++,r&&(Gs(e,!1),e.strm.avail_out===0))return Gi}else if(e.match_available){if(r=wf(e,0,e.window[e.strstart-1]),r&&Gs(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Gi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=wf(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<qt-1?e.strstart:qt-1,t===Ia?(Gs(e,!0),e.strm.avail_out===0?tm:c1):e.sym_next&&(Gs(e,!1),e.strm.avail_out===0)?Gi:l1},K5n=(e,t)=>{let n,r,o,i;const s=e.window;for(;;){if(e.lookahead<=rf){if(s0(e),e.lookahead<=rf&&t===Cf)return Gi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=qt&&e.strstart>0&&(o=e.strstart-1,r=s[o],r===s[++o]&&r===s[++o]&&r===s[++o])){i=e.strstart+rf;do;while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);e.match_length=rf-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=qt?(n=wf(e,1,e.match_length-qt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=wf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Gs(e,!1),e.strm.avail_out===0))return Gi}return e.insert=0,t===Ia?(Gs(e,!0),e.strm.avail_out===0?tm:c1):e.sym_next&&(Gs(e,!1),e.strm.avail_out===0)?Gi:l1},Z5n=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(s0(e),e.lookahead===0)){if(t===Cf)return Gi;break}if(e.match_length=0,n=wf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Gs(e,!1),e.strm.avail_out===0))return Gi}return e.insert=0,t===Ia?(Gs(e,!0),e.strm.avail_out===0?tm:c1):e.sym_next&&(Gs(e,!1),e.strm.avail_out===0)?Gi:l1};function Jl(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const Oy=[new Jl(0,0,0,0,LRe),new Jl(4,4,8,4,s3),new Jl(4,5,16,8,s3),new Jl(4,6,32,32,s3),new Jl(4,4,16,16,rg),new Jl(8,16,32,32,rg),new Jl(8,16,128,128,rg),new Jl(8,32,128,256,rg),new Jl(32,128,258,1024,rg),new Jl(32,258,258,4096,rg)],X5n=e=>{e.window_size=2*e.w_size,Nd(e.head),e.max_lazy_match=Oy[e.level].max_lazy,e.good_match=Oy[e.level].good_length,e.nice_match=Oy[e.level].nice_length,e.max_chain_length=Oy[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=qt-1,e.match_available=0,e.ins_h=0};function Q5n(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=oD,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(H5n*2),this.dyn_dtree=new Uint16Array((2*z5n+1)*2),this.bl_tree=new Uint16Array((2*V5n+1)*2),Nd(this.dyn_ltree),Nd(this.dyn_dtree),Nd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(U5n+1),this.heap=new Uint16Array(2*q4+1),Nd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*q4+1),Nd(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const mC=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==i0&&t.status!==lz&&t.status!==G4&&t.status!==K4&&t.status!==Z4&&t.status!==X4&&t.status!==cp&&t.status!==Py?1:0},BRe=e=>{if(mC(e))return up(e,kc);e.total_in=e.total_out=0,e.data_type=$5n;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?lz:t.wrap?i0:cp,e.adler=t.wrap===2?0:1,t.last_flush=-2,S5n(t),Go},NRe=e=>{const t=BRe(e);return t===Go&&X5n(e.state),t},J5n=(e,t)=>mC(e)||e.state.wrap!==2?kc:(e.state.gzhead=t,Go),zRe=(e,t,n,r,o,i)=>{if(!e)return kc;let s=1;if(t===D5n&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>M5n||n!==oD||r<8||r>15||t<0||t>9||i<0||i>O5n||r===8&&s!==1)return up(e,kc);r===8&&(r=9);const a=new Q5n;return e.state=a,a.strm=e,a.status=i0,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+qt-1)/qt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=i,a.method=n,NRe(e)},ejn=(e,t)=>zRe(e,t,oD,F5n,L5n,R5n),tjn=(e,t)=>{if(mC(e)||t>Npe||t<0)return e?up(e,kc):kc;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Py&&t!==Ia)return up(e,e.avail_out===0?i3:kc);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Ls(e),e.avail_out===0)return n.last_flush=-1,Go}else if(e.avail_in===0&&Vpe(t)<=Vpe(r)&&t!==Ia)return up(e,i3);if(n.status===Py&&e.avail_in!==0)return up(e,i3);if(n.status===i0&&n.wrap===0&&(n.status=cp),n.status===i0){let o=oD+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=c2||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,o|=i<<6,n.strstart!==0&&(o|=W5n),o+=31-o%31,ay(n,o),n.strstart!==0&&(ay(n,e.adler>>>16),ay(n,e.adler&65535)),e.adler=1,n.status=cp,Ls(e),n.pending!==0)return n.last_flush=-1,Go}if(n.status===lz){if(e.adler=0,hn(n,31),hn(n,139),hn(n,8),n.gzhead)hn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),hn(n,n.gzhead.time&255),hn(n,n.gzhead.time>>8&255),hn(n,n.gzhead.time>>16&255),hn(n,n.gzhead.time>>24&255),hn(n,n.level===9?2:n.strategy>=c2||n.level<2?4:0),hn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(hn(n,n.gzhead.extra.length&255),hn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Io(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=G4;else if(hn(n,0),hn(n,0),hn(n,0),hn(n,0),hn(n,0),hn(n,n.level===9?2:n.strategy>=c2||n.level<2?4:0),hn(n,Y5n),n.status=cp,Ls(e),n.pending!==0)return n.last_flush=-1,Go}if(n.status===G4){if(n.gzhead.extra){let o=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=Io(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=a,Ls(e),n.pending!==0)return n.last_flush=-1,Go;o=0,i-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>o&&(e.adler=Io(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=K4}if(n.status===K4){if(n.gzhead.name){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Io(e.adler,n.pending_buf,n.pending-o,o)),Ls(e),n.pending!==0)return n.last_flush=-1,Go;o=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,hn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Io(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=Z4}if(n.status===Z4){if(n.gzhead.comment){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Io(e.adler,n.pending_buf,n.pending-o,o)),Ls(e),n.pending!==0)return n.last_flush=-1,Go;o=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,hn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Io(e.adler,n.pending_buf,n.pending-o,o))}n.status=X4}if(n.status===X4){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ls(e),n.pending!==0))return n.last_flush=-1,Go;hn(n,e.adler&255),hn(n,e.adler>>8&255),e.adler=0}if(n.status=cp,Ls(e),n.pending!==0)return n.last_flush=-1,Go}if(e.avail_in!==0||n.lookahead!==0||t!==Cf&&n.status!==Py){let o=n.level===0?LRe(n,t):n.strategy===c2?Z5n(n,t):n.strategy===P5n?K5n(n,t):Oy[n.level].func(n,t);if((o===tm||o===c1)&&(n.status=Py),o===Gi||o===tm)return e.avail_out===0&&(n.last_flush=-1),Go;if(o===l1&&(t===j5n?k5n(n):t!==Npe&&(Y4(n,0,0,!1),t===T5n&&(Nd(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Ls(e),e.avail_out===0))return n.last_flush=-1,Go}return t!==Ia?Go:n.wrap<=0?zpe:(n.wrap===2?(hn(n,e.adler&255),hn(n,e.adler>>8&255),hn(n,e.adler>>16&255),hn(n,e.adler>>24&255),hn(n,e.total_in&255),hn(n,e.total_in>>8&255),hn(n,e.total_in>>16&255),hn(n,e.total_in>>24&255)):(ay(n,e.adler>>>16),ay(n,e.adler&65535)),Ls(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Go:zpe)},njn=e=>{if(mC(e))return kc;const t=e.state.status;return e.state=null,t===cp?up(e,A5n):Go},rjn=(e,t)=>{let n=t.length;if(mC(e))return kc;const r=e.state,o=r.wrap;if(o===2||o===1&&r.status!==i0||r.lookahead)return kc;if(o===1&&(e.adler=Bx(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){o===0&&(Nd(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const i=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,s0(r);r.lookahead>=qt;){let c=r.strstart,u=r.lookahead-(qt-1);do r.ins_h=_f(r,r.ins_h,r.window[c+qt-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=qt-1,s0(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=qt-1,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=i,r.wrap=o,Go};var ojn=ejn,ijn=zRe,sjn=NRe,ajn=BRe,ljn=J5n,cjn=tjn,ujn=njn,djn=rjn,fjn="pako deflate (from Nodeca project)",Cb={deflateInit:ojn,deflateInit2:ijn,deflateReset:sjn,deflateResetKeep:ajn,deflateSetHeader:ljn,deflate:cjn,deflateEnd:ujn,deflateSetDictionary:djn,deflateInfo:fjn};const hjn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var pjn=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)hjn(n,r)&&(e[r]=n[r])}}return e},mjn=e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,i=e.length;r<i;r++){let s=e[r];n.set(s,o),o+=s.length}return n},iD={assign:pjn,flattenChunks:mjn};let VRe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{VRe=!1}const Nx=new Uint8Array(256);for(let e=0;e<256;e++)Nx[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Nx[254]=Nx[254]=1;var gjn=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,o,i,s=e.length,a=0;for(o=0;o<s;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),i=0,o=0;i<a;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const vjn=(e,t)=>{if(t<65534&&e.subarray&&VRe)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var yjn=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,o;const i=new Array(n*2);for(o=0,r=0;r<n;){let s=e[r++];if(s<128){i[o++]=s;continue}let a=Nx[s];if(a>4){i[o++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|e[r++]&63,a--;if(a>1){i[o++]=65533;continue}s<65536?i[o++]=s:(s-=65536,i[o++]=55296|s>>10&1023,i[o++]=56320|s&1023)}return vjn(i,o)},bjn=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Nx[e[n]]>t?n:t},zx={string2buf:gjn,buf2string:yjn,utf8border:bjn};function xjn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var HRe=xjn;const URe=Object.prototype.toString,{Z_NO_FLUSH:wjn,Z_SYNC_FLUSH:Cjn,Z_FULL_FLUSH:_jn,Z_FINISH:Sjn,Z_OK:w5,Z_STREAM_END:Ejn,Z_DEFAULT_COMPRESSION:kjn,Z_DEFAULT_STRATEGY:jjn,Z_DEFLATED:Tjn}=Lm;function gC(e){this.options=iD.assign({level:kjn,method:Tjn,chunkSize:16384,windowBits:15,memLevel:8,strategy:jjn},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new HRe,this.strm.avail_out=0;let n=Cb.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==w5)throw new Error(em[n]);if(t.header&&Cb.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=zx.string2buf(t.dictionary):URe.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Cb.deflateSetDictionary(this.strm,r),n!==w5)throw new Error(em[n]);this._dict_set=!0}}gC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?Sjn:wjn,typeof e=="string"?n.input=zx.string2buf(e):URe.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Cjn||i===_jn)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(o=Cb.deflate(n,i),o===Ejn)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=Cb.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===w5;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};gC.prototype.onData=function(e){this.chunks.push(e)};gC.prototype.onEnd=function(e){e===w5&&(this.result=iD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function cz(e,t){const n=new gC(t);if(n.push(e,!0),n.err)throw n.msg||em[n.err];return n.result}function Ajn(e,t){return t=t||{},t.raw=!0,cz(e,t)}function Djn(e,t){return t=t||{},t.gzip=!0,cz(e,t)}var Ijn=gC,Pjn=cz,Ojn=Ajn,Rjn=Djn,$jn=Lm,Mjn={Deflate:Ijn,deflate:Pjn,deflateRaw:Ojn,gzip:Rjn,constants:$jn};const u2=16209,Fjn=16191;var Ljn=function(t,n){let r,o,i,s,a,c,u,d,f,p,m,v,g,y,x,b,w,C,_,S,E,j,k,T;const A=t.state;r=t.next_in,k=t.input,o=r+(t.avail_in-5),i=t.next_out,T=t.output,s=i-(n-t.avail_out),a=i+(t.avail_out-257),c=A.dmax,u=A.wsize,d=A.whave,f=A.wnext,p=A.window,m=A.hold,v=A.bits,g=A.lencode,y=A.distcode,x=(1<<A.lenbits)-1,b=(1<<A.distbits)-1;e:do{v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=g[m&x];t:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C===0)T[i++]=w&65535;else if(C&16){_=w&65535,C&=15,C&&(v<C&&(m+=k[r++]<<v,v+=8),_+=m&(1<<C)-1,m>>>=C,v-=C),v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=y[m&b];n:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C&16){if(S=w&65535,C&=15,v<C&&(m+=k[r++]<<v,v+=8,v<C&&(m+=k[r++]<<v,v+=8)),S+=m&(1<<C)-1,S>c){t.msg="invalid distance too far back",A.mode=u2;break e}if(m>>>=C,v-=C,C=i-s,S>C){if(C=S-C,C>d&&A.sane){t.msg="invalid distance too far back",A.mode=u2;break e}if(E=0,j=p,f===0){if(E+=u-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}else if(f<C){if(E+=u+f-C,C-=f,C<_){_-=C;do T[i++]=p[E++];while(--C);if(E=0,f<_){C=f,_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}}else if(E+=f-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}for(;_>2;)T[i++]=j[E++],T[i++]=j[E++],T[i++]=j[E++],_-=3;_&&(T[i++]=j[E++],_>1&&(T[i++]=j[E++]))}else{E=i-S;do T[i++]=T[E++],T[i++]=T[E++],T[i++]=T[E++],_-=3;while(_>2);_&&(T[i++]=T[E++],_>1&&(T[i++]=T[E++]))}}else if(C&64){t.msg="invalid distance code",A.mode=u2;break e}else{w=y[(w&65535)+(m&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){A.mode=Fjn;break e}else{t.msg="invalid literal/length code",A.mode=u2;break e}else{w=g[(w&65535)+(m&(1<<C)-1)];continue t}break}}while(r<o&&i<a);_=v>>3,r-=_,v-=_<<3,m&=(1<<v)-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?5+(o-r):5-(r-o),t.avail_out=i<a?257+(a-i):257-(i-a),A.hold=m,A.bits=v};const og=15,Hpe=852,Upe=592,Wpe=0,a3=1,Ype=2,Bjn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Njn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zjn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Vjn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Hjn=(e,t,n,r,o,i,s,a)=>{const c=a.bits;let u=0,d=0,f=0,p=0,m=0,v=0,g=0,y=0,x=0,b=0,w,C,_,S,E,j=null,k;const T=new Uint16Array(og+1),A=new Uint16Array(og+1);let D=null,I,P,$;for(u=0;u<=og;u++)T[u]=0;for(d=0;d<r;d++)T[t[n+d]]++;for(m=c,p=og;p>=1&&T[p]===0;p--);if(m>p&&(m=p),p===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&T[f]===0;f++);for(m<f&&(m=f),y=1,u=1;u<=og;u++)if(y<<=1,y-=T[u],y<0)return-1;if(y>0&&(e===Wpe||p!==1))return-1;for(A[1]=0,u=1;u<og;u++)A[u+1]=A[u]+T[u];for(d=0;d<r;d++)t[n+d]!==0&&(s[A[t[n+d]]++]=d);if(e===Wpe?(j=D=s,k=20):e===a3?(j=Bjn,D=Njn,k=257):(j=zjn,D=Vjn,k=0),b=0,d=0,u=f,E=i,v=m,g=0,_=-1,x=1<<m,S=x-1,e===a3&&x>Hpe||e===Ype&&x>Upe)return 1;for(;;){I=u-g,s[d]+1<k?(P=0,$=s[d]):s[d]>=k?(P=D[s[d]-k],$=j[s[d]-k]):(P=32+64,$=0),w=1<<u-g,C=1<<v,f=C;do C-=w,o[E+(b>>g)+C]=I<<24|P<<16|$|0;while(C!==0);for(w=1<<u-1;b&w;)w>>=1;if(w!==0?(b&=w-1,b+=w):b=0,d++,--T[u]===0){if(u===p)break;u=t[n+s[d]]}if(u>m&&(b&S)!==_){for(g===0&&(g=m),E+=f,v=u-g,y=1<<v;v+g<p&&(y-=T[v+g],!(y<=0));)v++,y<<=1;if(x+=1<<v,e===a3&&x>Hpe||e===Ype&&x>Upe)return 1;_=b&S,o[_]=m<<24|v<<16|E-i|0}}return b!==0&&(o[E+b]=u-g<<24|64<<16|0),a.bits=m,0};var _b=Hjn;const Ujn=0,WRe=1,YRe=2,{Z_FINISH:qpe,Z_BLOCK:Wjn,Z_TREES:d2,Z_OK:nm,Z_STREAM_END:Yjn,Z_NEED_DICT:qjn,Z_STREAM_ERROR:Wa,Z_DATA_ERROR:qRe,Z_MEM_ERROR:GRe,Z_BUF_ERROR:Gjn,Z_DEFLATED:Gpe}=Lm,sD=16180,Kpe=16181,Zpe=16182,Xpe=16183,Qpe=16184,Jpe=16185,eme=16186,tme=16187,nme=16188,rme=16189,C5=16190,nu=16191,l3=16192,ome=16193,c3=16194,ime=16195,sme=16196,ame=16197,lme=16198,f2=16199,h2=16200,cme=16201,ume=16202,dme=16203,fme=16204,hme=16205,u3=16206,pme=16207,mme=16208,yr=16209,KRe=16210,ZRe=16211,Kjn=852,Zjn=592,Xjn=15,Qjn=Xjn,gme=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Jjn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<sD||t.mode>ZRe?1:0},XRe=e=>{if(Bm(e))return Wa;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=sD,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Kjn),t.distcode=t.distdyn=new Int32Array(Zjn),t.sane=1,t.back=-1,nm},QRe=e=>{if(Bm(e))return Wa;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,XRe(e)},JRe=(e,t)=>{let n;if(Bm(e))return Wa;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Wa:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,QRe(e))},e$e=(e,t)=>{if(!e)return Wa;const n=new Jjn;e.state=n,n.strm=e,n.window=null,n.mode=sD;const r=JRe(e,t);return r!==nm&&(e.state=null),r},eTn=e=>e$e(e,Qjn);let vme=!0,d3,f3;const tTn=e=>{if(vme){d3=new Int32Array(512),f3=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(_b(WRe,e.lens,0,288,d3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;_b(YRe,e.lens,0,32,f3,0,e.work,{bits:5}),vme=!1}e.lencode=d3,e.lenbits=9,e.distcode=f3,e.distbits=5},t$e=(e,t,n,r)=>{let o;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),r-=o,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},nTn=(e,t)=>{let n,r,o,i,s,a,c,u,d,f,p,m,v,g,y=0,x,b,w,C,_,S,E,j;const k=new Uint8Array(4);let T,A;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bm(e)||!e.output||!e.input&&e.avail_in!==0)return Wa;n=e.state,n.mode===nu&&(n.mode=l3),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,f=a,p=c,j=nm;e:for(;;)switch(n.mode){case sD:if(n.wrap===0){n.mode=l3;break}for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=u&255,k[1]=u>>>8&255,n.check=Io(n.check,k,2,0),u=0,d=0,n.mode=Kpe;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=yr;break}if((u&15)!==Gpe){e.msg="unknown compression method",n.mode=yr;break}if(u>>>=4,d-=4,E=(u&15)+8,n.wbits===0&&(n.wbits=E),E>15||E>n.wbits){e.msg="invalid window size",n.mode=yr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?rme:nu,u=0,d=0;break;case Kpe:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==Gpe){e.msg="unknown compression method",n.mode=yr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=yr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Io(n.check,k,2,0)),u=0,d=0,n.mode=Zpe;case Zpe:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,n.check=Io(n.check,k,4,0)),u=0,d=0,n.mode=Xpe;case Xpe:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Io(n.check,k,2,0)),u=0,d=0,n.mode=Qpe;case Qpe:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Io(n.check,k,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=Jpe;case Jpe:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+m),E)),n.flags&512&&n.wrap&4&&(n.check=Io(n.check,r,m,i)),a-=m,i+=m,n.length-=m),n.length))break e;n.length=0,n.mode=eme;case eme:if(n.flags&2048){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Io(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=tme;case tme:if(n.flags&4096){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Io(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.comment=null);n.mode=nme;case nme:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=yr;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=nu;break;case rme:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}e.adler=n.check=gme(u),u=0,d=0,n.mode=C5;case C5:if(n.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,qjn;e.adler=n.check=1,n.mode=nu;case nu:if(t===Wjn||t===d2)break e;case l3:if(n.last){u>>>=d&7,d-=d&7,n.mode=u3;break}for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=ome;break;case 1:if(tTn(n),n.mode=f2,t===d2){u>>>=2,d-=2;break e}break;case 2:n.mode=sme;break;case 3:e.msg="invalid block type",n.mode=yr}u>>>=2,d-=2;break;case ome:for(u>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=yr;break}if(n.length=u&65535,u=0,d=0,n.mode=c3,t===d2)break e;case c3:n.mode=ime;case ime:if(m=n.length,m){if(m>a&&(m=a),m>c&&(m=c),m===0)break e;o.set(r.subarray(i,i+m),s),a-=m,i+=m,c-=m,s+=m,n.length-=m;break}n.mode=nu;break;case sme:for(;d<14;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=yr;break}n.have=0,n.mode=ame;case ame:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.lens[D[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},j=_b(Ujn,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid code lengths set",n.mode=yr;break}n.have=0,n.mode=lme;case lme:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[u&(1<<n.lenbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(w<16)u>>>=x,d-=x,n.lens[n.have++]=w;else{if(w===16){for(A=x+2;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){e.msg="invalid bit length repeat",n.mode=yr;break}E=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(w===17){for(A=x+3;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=3+(u&7),u>>>=3,d-=3}else{for(A=x+7;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=yr;break}for(;m--;)n.lens[n.have++]=E}}if(n.mode===yr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=yr;break}if(n.lenbits=9,T={bits:n.lenbits},j=_b(WRe,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid literal/lengths set",n.mode=yr;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},j=_b(YRe,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,j){e.msg="invalid distances set",n.mode=yr;break}if(n.mode=f2,t===d2)break e;case f2:n.mode=h2;case h2:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,Ljn(e,p),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,n.mode===nu&&(n.back=-1);break}for(n.back=0;y=n.lencode[u&(1<<n.lenbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(b&&!(b&240)){for(C=x,_=b,S=w;y=n.lencode[S+((u&(1<<C+_)-1)>>C)],x=y>>>24,b=y>>>16&255,w=y&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,n.length=w,b===0){n.mode=hme;break}if(b&32){n.back=-1,n.mode=nu;break}if(b&64){e.msg="invalid literal/length code",n.mode=yr;break}n.extra=b&15,n.mode=cme;case cme:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ume;case ume:for(;y=n.distcode[u&(1<<n.distbits)-1],x=y>>>24,b=y>>>16&255,w=y&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(!(b&240)){for(C=x,_=b,S=w;y=n.distcode[S+((u&(1<<C+_)-1)>>C)],x=y>>>24,b=y>>>16&255,w=y&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,b&64){e.msg="invalid distance code",n.mode=yr;break}n.offset=w,n.extra=b&15,n.mode=dme;case dme:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=yr;break}n.mode=fme;case fme:if(c===0)break e;if(m=p-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=yr;break}m>n.wnext?(m-=n.wnext,v=n.wsize-m):v=n.wnext-m,m>n.length&&(m=n.length),g=n.window}else g=o,v=s-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do o[s++]=g[v++];while(--m);n.length===0&&(n.mode=h2);break;case hme:if(c===0)break e;o[s++]=n.length,c--,n.mode=h2;break;case u3:if(n.wrap){for(;d<32;){if(a===0)break e;a--,u|=r[i++]<<d,d+=8}if(p-=c,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Io(n.check,o,p,s-p):Bx(n.check,o,p,s-p)),p=c,n.wrap&4&&(n.flags?u:gme(u))!==n.check){e.msg="incorrect data check",n.mode=yr;break}u=0,d=0}n.mode=pme;case pme:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=yr;break}u=0,d=0}n.mode=mme;case mme:j=Yjn;break e;case yr:j=qRe;break e;case KRe:return GRe;case ZRe:default:return Wa}return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,(n.wsize||p!==e.avail_out&&n.mode<yr&&(n.mode<u3||t!==qpe))&&t$e(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Io(n.check,o,p,e.next_out-p):Bx(n.check,o,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===nu?128:0)+(n.mode===f2||n.mode===c3?256:0),(f===0&&p===0||t===qpe)&&j===nm&&(j=Gjn),j},rTn=e=>{if(Bm(e))return Wa;let t=e.state;return t.window&&(t.window=null),e.state=null,nm},oTn=(e,t)=>{if(Bm(e))return Wa;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,nm):Wa},iTn=(e,t)=>{const n=t.length;let r,o,i;return Bm(e)||(r=e.state,r.wrap!==0&&r.mode!==C5)?Wa:r.mode===C5&&(o=1,o=Bx(o,t,n,0),o!==r.check)?qRe:(i=t$e(e,t,n,n),i?(r.mode=KRe,GRe):(r.havedict=1,nm))};var sTn=QRe,aTn=JRe,lTn=XRe,cTn=eTn,uTn=e$e,dTn=nTn,fTn=rTn,hTn=oTn,pTn=iTn,mTn="pako inflate (from Nodeca project)",du={inflateReset:sTn,inflateReset2:aTn,inflateResetKeep:lTn,inflateInit:cTn,inflateInit2:uTn,inflate:dTn,inflateEnd:fTn,inflateGetHeader:hTn,inflateSetDictionary:pTn,inflateInfo:mTn};function gTn(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vTn=gTn;const n$e=Object.prototype.toString,{Z_NO_FLUSH:yTn,Z_FINISH:bTn,Z_OK:Vx,Z_STREAM_END:h3,Z_NEED_DICT:p3,Z_STREAM_ERROR:xTn,Z_DATA_ERROR:yme,Z_MEM_ERROR:wTn}=Lm;function vC(e){this.options=iD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new HRe,this.strm.avail_out=0;let n=du.inflateInit2(this.strm,t.windowBits);if(n!==Vx)throw new Error(em[n]);if(this.header=new vTn,du.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=zx.string2buf(t.dictionary):n$e.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=du.inflateSetDictionary(this.strm,t.dictionary),n!==Vx)))throw new Error(em[n])}vC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?bTn:yTn,n$e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=du.inflate(n,s),i===p3&&o&&(i=du.inflateSetDictionary(n,o),i===Vx?i=du.inflate(n,s):i===yme&&(i=p3));n.avail_in>0&&i===h3&&n.state.wrap>0&&e[n.next_in]!==0;)du.inflateReset(n),i=du.inflate(n,s);switch(i){case xTn:case yme:case p3:case wTn:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===h3))if(this.options.to==="string"){let c=zx.utf8border(n.output,n.next_out),u=n.next_out-c,d=zx.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===Vx&&a===0)){if(i===h3)return i=du.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};vC.prototype.onData=function(e){this.chunks.push(e)};vC.prototype.onEnd=function(e){e===Vx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=iD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function uz(e,t){const n=new vC(t);if(n.push(e),n.err)throw n.msg||em[n.err];return n.result}function CTn(e,t){return t=t||{},t.raw=!0,uz(e,t)}var _Tn=vC,STn=uz,ETn=CTn,kTn=uz,jTn=Lm,TTn={Inflate:_Tn,inflate:STn,inflateRaw:ETn,ungzip:kTn,constants:jTn};const{Deflate:ATn,deflate:DTn,deflateRaw:ITn,gzip:PTn}=Mjn,{Inflate:OTn,inflate:RTn,inflateRaw:$Tn,ungzip:MTn}=TTn;var FTn=ATn,LTn=DTn,BTn=ITn,NTn=PTn,zTn=OTn,VTn=RTn,HTn=$Tn,UTn=MTn,WTn=Lm,r$e={Deflate:FTn,deflate:LTn,deflateRaw:BTn,gzip:NTn,Inflate:zTn,inflate:VTn,inflateRaw:HTn,ungzip:UTn,constants:WTn};function YTn(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function o$e(e,t){return a0(e)?e[Number(t)]:e[t]}function i$e(e,t){if(e){var n=t.shift(),r=o$e(e,n);return t.length&&(a0(r)||Hx(r))?i$e(r,t):r}}function a0(e){return Array.isArray(e)}function Hx(e){return e&&typeof e=="object"}function m3(e,t,n){if(a0(e)){e[Number(t)]=n;return}if(Hx(e)){e[t]=n;return}throw new Error("shallowClone: target must be an object or an array")}function bme(e){if(a0(e))return e.slice(0);if(Hx(e))return YTn({},e);throw new Error("shallowClone: source must be an object or an array")}function qTn(e,t){return t?i$e(e,t.split("/")):e}function GTn(e,t,n){if(!t){if(a0(n)||Hx(n))return n;throw new Error("set: cannot replace value with a non-record value")}if(qTn(e,t)===n)return e;for(var r=bme(e),o=t.split("/"),i=e,s=r;o.length;){var a=o.shift();if(o.length){var c=o$e(i,a);if(c===void 0&&(c={},m3(i,a,c)),!a0(c)&&!Hx(c))throw new Error('set: path is not targeting an object nor an array: "'+t+'"');i=c;var u=bme(i);m3(s,a,u),s=u}else m3(s,a,n)}return r}const Sv=[],J4={},KTn="auto",ZTn=1,_5=[{name:"auto",title:"Full",rect:{width:"auto"}},{name:"768",title:"768px",rect:{width:768}},{name:"375",title:"375px",rect:{width:375,height:667}},{name:"320",title:"320px",rect:{width:320,height:568}}],xme=[{value:.5,title:"50%"},{value:.75,title:"75%"},{value:1,title:"100%"},{value:1.5,title:"150%"},{value:2,title:"200%"},{value:3,title:"300%"}];function s$e(){const e=new Set;return{publish(t){for(const n of e)n(t)},subscribe(t){return e.add(t),()=>{e.delete(t)}}}}const XTn={parse(e){const t=new URLSearchParams("?"+e),n={};return t.forEach((r,o)=>{n[o]=r}),n},stringify(e){return Object.entries(e).map(t=>{let[n,r]=t;return"".concat(n,"=").concat(r)}).join("&")}};function QTn(e,t){const n=t.split("/").slice(1).filter(Boolean),r=n.join("/");if(n.length===0)return{scope:null,story:null};for(const o of e)for(const i of o.stories){const s=[o.name,i.name].filter(Boolean).join("/");if(r===s)return{scope:o,story:i}}return{scope:null,story:null}}function a$e(e){const{baseUrl:t="/frame/",path:n,payload:r,scheme:o,viewport:i,zoom:s}=e;return[t,"?path=".concat(encodeURIComponent(n)),"&scheme=".concat(o),"&viewport=".concat(i),"&zoom=".concat(s),...Object.entries(r).map(a=>{let[c,u]=a;return"&".concat(c,"=").concat(u)})].join("")}const l$e=h.createContext(null);function u1(){const e=h.useContext(l$e);if(!e)throw new Error("Props: missing context value");return e}const JTn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=u1();return l.jsxs(U,{as:"label",padding:3,children:[l.jsx(M,{marginRight:2,style:{lineHeight:0},children:l.jsx(Oj,{checked:r||!1,onChange:i=>o(n.name,i.currentTarget.checked)})}),l.jsx(M,{paddingY:1,children:l.jsx(L,{size:1,weight:"semibold",children:n.name})})]})}),eAn=h.memo(function(t){const{schema:n,value:r=""}=t,{setPropValue:o}=u1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Mr,{fontSize:[2,2,1],onChange:i=>o(n.name,Number(i.currentTarget.value)),padding:2,value:r})})]})}),tAn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=u1(),i=h.useMemo(()=>{const s=Object.entries(n.options);for(const[a,c]of s)if(c===r)return a;return""},[n,r]);return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Rf,{fontSize:[2,2,1],onChange:s=>{const a=s.currentTarget.value,c=n.options[a];o(n.name,c)},padding:2,radius:2,value:String(i||""),children:Object.entries(n.options).map(s=>{let[a]=s;return l.jsx("option",{value:a,children:a},a)})})})]})}),nAn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=u1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Mr,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),padding:2,value:r||""})})]})}),rAn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=u1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Awe,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),rows:4,value:r||""})})]})});function oAn(e){const{schema:t,value:n}=e;return t.type==="boolean"?l.jsx(JTn,{schema:t,value:n}):t.type==="number"?l.jsx(eAn,{schema:t,value:n}):t.type==="select"?l.jsx(tAn,{schema:t,value:n}):t.type==="string"?l.jsx(nAn,{schema:t,value:n}):t.type==="text"?l.jsx(rAn,{schema:t,value:n}):l.jsx(M,{padding:2,children:l.jsxs(L,{size:1,weight:"semibold",children:["Unknown Prop type:"," ",l.jsxs("code",{children:[t.name,": ",t.type]})]})})}const iAn=h.memo(function(){const{schemas:t,value:n}=u1();return l.jsxs(M,{padding:2,children:[t.length===0&&l.jsx(M,{padding:2,children:l.jsx(L,{muted:!0,size:[2,2,1],children:"No properties"})}),t.length>0&&t.map((r,o)=>l.jsx(oAn,{schema:r,value:n[r.name]===void 0?r.defaultValue:n[r.name]},o))]})}),Ev=Ht,c$e=h.createContext(null);function tl(){const e=h.useContext(c$e);if(!e)throw new Error("Workshop: missing context value");return e}const sAn=typeof window>"u"?e=>Buffer.from(e,"binary").toString("base64"):window.btoa,aAn=typeof window>"u"?e=>Buffer.from(e,"base64").toString("binary"):window.atob;function lAn(e){let t="";for(let n=0,{length:r}=e;n<r;n++)t+=String.fromCharCode(e[n]);return sAn(t)}function cAn(e){const t=aAn(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}function uAn(e){if(e.length===0)return"";const t=cAn(e);return r$e.inflate(t,{to:"string"})}function dAn(e){if(e.length===0)return"";const t=r$e.deflate(e);return lAn(t)}function fAn(e){return dAn(JSON.stringify(e))}function wme(e){try{return JSON.parse(uAn(e))}catch{return{}}}function hAn(e,t){if(t.type==="workshop/props/setValue")return{...e,value:t.value};if(t.type==="workshop/props/registerProp")return{...e,schemas:e.schemas.concat([t.schema])};if(t.type==="workshop/props/unregisterProp"){const n={...e.value};return delete n[t.name],{...e,schemas:e.schemas.filter(r=>r.name!==t.name),value:n}}return t.type==="workshop/props/setPropValue"?{...e,value:{...e.value,[t.name]:t.value}}:e}const pAn=h.memo(function(t){const{children:n}=t,{channel:r,broadcast:o,payload:i}=tl(),s=i.value,a=h.useRef(s),[{schemas:c,value:u},d]=h.useState({schemas:[],value:wme(String(s))||{}}),f=h.useCallback(g=>{o({type:"workshop/props/registerProp",schema:g})},[o]),p=h.useCallback(g=>{o({type:"workshop/props/unregisterProp",name:g})},[o]),m=h.useCallback((g,y)=>{o({type:"workshop/props/setPropValue",name:g,value:y})},[o]),v=h.useMemo(()=>({registerProp:f,schemas:c,setPropValue:m,unregisterProp:p,value:u}),[f,c,m,p,u]);return h.useEffect(()=>r.subscribe(g=>{d(y=>{const x=hAn(y,g);return Ev(y,x)?y:x})}),[r]),h.useEffect(()=>{const g=fAn(u);a.current!==g&&(a.current=g,o({type:"workshop/setPayloadValue",key:"value",value:g}))},[o,u]),h.useEffect(()=>{a.current!==s&&(a.current=s,d(g=>({...g,value:wme(String(s))||{}})))},[s]),l.jsx(l$e.Provider,{value:v,children:n})});function mAn(){return{name:"props",title:"Properties",inspector:iAn,provider:pAn}}const u$e=h.memo(function(t){const{broadcast:n,children:r,channel:o,config:i,frameReady:s,origin:a,path:c,payload:u,scheme:d,viewport:f="auto",zoom:p=1}=t,{plugins:m=Sv,collections:v=Sv,frameUrl:g="/frame/",scopes:y,title:x="Workshop"}=i;if(!u)throw new Error("missing `payload` property");const b=h.useMemo(()=>[mAn(),...m],[m]),{scope:w,story:C}=h.useMemo(()=>QTn(y,c),[c,y]),_=h.useMemo(()=>({plugins:b,broadcast:n,channel:o,collections:v,frameReady:s,frameUrl:g,origin:a,path:c,payload:u,scheme:d,scope:w,scopes:y,story:C,title:x,viewport:f,zoom:p}),[b,n,o,v,s,g,a,c,u,d,w,y,C,x,f,p]);let S=r;for(const E of b)E.provider&&(S=h.createElement(E.provider,{options:E.options||J4},S));return l.jsx(c$e.Provider,{value:_,children:S})});function d$e(e,t){if(t.type==="workshop/frameReady")return{...e,frameReady:!0};if(t.type==="workshop/setState")return Ev(e,t.value)?e:t.value;if(t.type==="workshop/setZoom")return e.zoom===t.value?e:{...e,zoom:t.value};if(t.type==="workshop/setViewport")return e.viewport===t.value?e:{...e,viewport:t.value};if(t.type==="workshop/toggleScheme")return{...e,scheme:e.scheme==="light"?"dark":"light"};if(t.type==="workshop/setScheme")return e.scheme===t.value?e:{...e,scheme:t.value};if(t.type==="workshop/setPath")return e.path===t.value?e:{...e,path:t.value};if(t.type==="workshop/setPayload")return Ev(e.payload,t.value)?e:{...e,payload:t.value};if(t.type==="workshop/setPayloadValue"){const n={...e.payload,[t.key]:t.value};return Ev(e.payload,n)?e:{...e,payload:n}}return e}const Cme=(()=>{try{return{}.ROOT_PATH}catch{return}})(),gAn=/http:\/\/([^:/\s]+)(:[0-9]+)?/g,vAn=/\/@fs\//g,yAn=/\?([a-z]{1})=([0-9]+)/g;function _me(e){let t=decodeURIComponent(e);return t=e.replace(gAn,"").replace(vAn,"/").replace(yAn,""),Cme?bAn(t,Cme+"/"):t}function bAn(e,t){const n=new RegExp(t.replace(/\//g,"\\/"),"g");return e.replace(n,"")}const xAn=h.memo(function(){const{story:t}=tl(),[n,r]=h.useState({error:null,errorInfo:null}),o=h.useCallback(s=>{let{error:a,info:c}=s;r({error:a,errorInfo:c})},[]),i=h.useCallback(()=>{r({error:null,errorInfo:null})},[]);return t?n.error?l.jsx(ee,{as:"main",height:"fill",overflow:"auto",tone:"critical",children:l.jsx(CAn,{error:n.error,errorInfo:n.errorInfo,onRetry:i})}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{hidden:!0,children:t.title}),l.jsx(h.Suspense,{fallback:l.jsx(wAn,{story:t}),children:l.jsx(ee,{as:"main",height:"fill",children:l.jsx(x0,{onCatch:o,children:h.createElement(t.component)})})})]}):l.jsx(l.Fragment,{})}),wAn=h.memo(function(t){const{story:n}=t;return l.jsxs(l.Fragment,{children:[l.jsxs("h1",{hidden:!0,children:["Loading ",l.jsx("em",{children:n.title}),"…"]}),l.jsx(U,{align:"center",as:"main",height:"fill",justify:"center",children:l.jsx(fr,{muted:!0})})]})}),CAn=h.memo(function(t){const{error:n,errorInfo:r,onRetry:o}=t;return l.jsx(M,{padding:4,children:l.jsxs(oe,{space:4,children:[l.jsx(Vo,{as:"h1",size:[1,1,2],children:n.message}),l.jsx(M,{children:l.jsx(se,{onClick:o,text:"Retry"})}),n.stack&&l.jsx(ar,{size:1,children:_me(n.stack)}),r&&l.jsx(ar,{size:1,children:"Component stack:"+_me(r.componentStack)})]})})});function f$e(e){return Array.isArray(e)}function h$e(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function _An(){const e=new Set;let t=[],n=null;function r(){n&&clearInterval(n),n=setTimeout(()=>{window.parent.postMessage(t),t=[],n=null},0)}function o(a){const c=a.data;if(f$e(c)){for(const u of c)if(h$e(u)&&typeof u.type=="string"&&u.type.startsWith("workshop/"))for(const d of e)d(u)}}function i(){window.addEventListener("message",o,!1)}function s(){window.removeEventListener("message",o,!1)}return{message:{publish(a){t.push(a),r()},subscribe(a){return e.add(a),e.size===1&&i(),()=>{e.delete(a),e.size===0&&s()}}}}}function SAn(){const e=typeof window>"u"?{}:XTn.parse(window.location.search.slice(1)),{path:t="/",scheme:n,viewport:r,zoom:o,...i}=e;return{frameReady:!1,path:t,payload:i,scheme:typeof n=="string"?n:"light",viewport:typeof r=="string"?r:"auto",zoom:typeof o=="string"?Number(o):1}}h.memo(function(t){const{config:n,setScheme:r}=t,o=h.useMemo(()=>_An(),[]),i=h.useMemo(()=>s$e(),[]),[s,a]=h.useState(null),[c,u]=h.useState(null),d=h.useCallback(b=>{i.publish(b),o.message.publish(b)},[i,o]),[{frameReady:f,path:p,payload:m,scheme:v,viewport:g,zoom:y},x]=h.useState(()=>SAn());return h.useEffect(()=>i.subscribe(b=>x(w=>d$e(w,b))),[i]),h.useEffect(()=>o.message.subscribe(i.publish),[i,o]),h.useEffect(()=>r(v),[r,v]),h.useEffect(()=>d({type:"workshop/frameReady"}),[d]),l.jsx(P6,{children:l.jsx(Lu,{element:s,children:l.jsx(ym,{element:c,children:l.jsx(u$e,{broadcast:d,config:n,channel:i,frameReady:f,origin:"frame",path:p,payload:m,scheme:v,viewport:g,zoom:y,children:l.jsxs(ee,{height:"fill",ref:a,children:[l.jsx(xAn,{}),l.jsx("div",{"data-portal":"",ref:u})]})})})})})});var Sme=Object.freeze,EAn=Object.defineProperty,kAn=(e,t)=>Sme(EAn(e,"raw",{value:Sme(t||e.slice())})),Eme;Jve(Eme||(Eme=kAn([`
  body {
    background-color: `,`;
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.base.bg});var kme=Object.freeze,jAn=Object.defineProperty,TAn=(e,t)=>kme(jAn(e,"raw",{value:kme(t||e.slice())})),jme;const AAn=h.memo(Gb),DAn=O(ee)(jme||(jme=TAn([`
  line-height: 0;

  @media screen and (max-width: `,`px) {
    text-align: center;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]-1}),IAn=h.memo(function(t){const{currentTabId:n,onTabChange:r,tabs:o}=t,i=h.useMemo(()=>({flex:"none",position:"sticky",top:0}),[]),s=h.useMemo(()=>o.map(a=>l.jsx(PAn,{onTabChange:r,selected:a.id===n,tab:a},a.id)),[n,r,o]);return l.jsx(ts,{style:i,children:l.jsx(DAn,{padding:2,shadow:1,children:l.jsx(Fj,{space:1,children:s})})})});function PAn(e){const{onTabChange:t,selected:n,tab:r}=e,o=h.useCallback(()=>{t(r.id)},[t,r]);return l.jsx(AAn,{"aria-controls":"".concat(r.id,"-panel"),fontSize:[2,2,1],id:r.id,label:r.label,onClick:o,selected:n,tone:r.tone})}var Tme=Object.freeze,OAn=Object.defineProperty,RAn=(e,t)=>Tme(OAn(e,"raw",{value:Tme(t||e.slice())})),Ame;const $An=O(ee)(Ame||(Ame=RAn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-left: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),Dme=h.memo(function(t){return h.createElement(t.component,{options:t.options})}),MAn=h.memo(function(t){const{expanded:n}=t,{plugins:r}=tl(),o=h.useMemo(()=>r.filter(d=>d.inspector).map(d=>({id:d.name,label:d.title,tone:void 0,plugin:d})),[r]),[i,s]=h.useState(o.length>0?o[0].id:null),a=o.find(d=>d.id===i),c=o.length>1,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx($An,{display:u,flex:1,children:l.jsxs(U,{direction:"column",height:"fill",children:[c&&l.jsx(IAn,{currentTabId:i,onTabChange:s,tabs:o}),c&&o.map(d=>l.jsx(Nwe,{"aria-labelledby":"".concat(d.id,"-tab"),flex:1,hidden:d.id!==i,id:"".concat(d.id,"-panel"),overflow:"auto",children:d.plugin.inspector&&l.jsx(Dme,{component:d.plugin.inspector,options:d.plugin.options||J4})},d.id)),!c&&(a==null?void 0:a.plugin.inspector)&&l.jsx(M,{flex:1,overflow:"auto",children:l.jsx(Dme,{component:a.plugin.inspector,options:a.plugin.options||J4})})]})})}),Ime=Kx;function FAn(){const{broadcast:e,scope:t,story:n,title:r}=tl(),o=h.useCallback(i=>{i.preventDefault(),e({type:"workshop/setPath",value:"/"})},[e]);return l.jsx(LAn,{onHomeClick:o,scopeTitle:t==null?void 0:t.title,storyTitle:n==null?void 0:n.title,title:r})}const LAn=h.memo(function(t){const{onHomeClick:n,scopeTitle:r,storyTitle:o,title:i}=t;return l.jsxs(A6,{separator:l.jsx(L,{muted:!0,size:[2,2,1],children:"/"}),space:2,children:[l.jsx(L,{size:[2,2,1],weight:"bold",children:l.jsx("a",{href:"/",onClick:n,style:{color:"inherit"},children:i})}),r&&l.jsx(L,{align:"center",size:[2,2,1],children:r}),o&&l.jsx(L,{size:[2,2,1],children:o})]})}),BAn=h.memo(function(){const{frameUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}=tl(),a=h.useMemo(()=>n==="/"?void 0:a$e({baseUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}),[t,n,r,o,i,s]);return l.jsx(se,{as:a?"a":"button",disabled:!a,fontSize:1,href:a,iconRight:Uf,mode:"ghost",padding:2,rel:"noopener noreferrer",target:"_blank",text:"Open story"})});function NAn(){const{broadcast:e,scheme:t}=tl(),n=h.useCallback(()=>{e({type:"workshop/toggleScheme"})},[e]);return l.jsx(zAn,{dark:t==="dark",onToggleScheme:n})}const zAn=h.memo(function(t){const{dark:n,onToggleScheme:r}=t;return l.jsx(se,{fontSize:1,icon:n?OF:FF,mode:"bleed",onClick:r,padding:2})}),VAn=h.memo(function(){const{broadcast:t,story:n,viewport:r}=tl(),o=h.useCallback(i=>{t({type:"workshop/setViewport",value:i})},[t]);return l.jsx(UAn,{disabled:!n,setViewport:o,viewport:r})}),HAn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},UAn=h.memo(function(t){var n;const{disabled:r,setViewport:o,viewport:i}=t;return l.jsx(tn,{button:l.jsx(se,{disabled:r,fontSize:1,iconRight:Nl,mode:"ghost",padding:2,style:{minWidth:80},text:(n=_5.find(s=>s.name===i))==null?void 0:n.title}),id:"viewport-menu",menu:l.jsx(Bt,{children:_5.map(s=>l.jsx(Ve,{fontSize:1,onClick:()=>o(s.name),padding:2,selected:s.name===i,text:s.title},s.name))}),popover:HAn})});function WAn(){const{broadcast:e,story:t,zoom:n}=tl(),r=h.useCallback(o=>e({type:"workshop/setZoom",value:o}),[e]);return l.jsx(qAn,{disabled:!t,setZoom:r,zoom:n})}const YAn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},qAn=h.memo(function(t){var n;const{disabled:r,setZoom:o,zoom:i}=t;return l.jsx(tn,{button:l.jsx(se,{disabled:r,fontSize:1,iconRight:Nl,mode:"ghost",padding:2,style:{minWidth:80},text:(n=xme.find(s=>s.value===i))==null?void 0:n.title}),id:"zoom-menu",menu:l.jsx(Bt,{children:xme.map(s=>l.jsx(Ve,{fontSize:1,onClick:()=>o(s.value),padding:2,selected:s.value===i,text:s.title},s.value))}),popover:YAn})}),GAn=h.memo(function(t){const{inspectorExpanded:n,navigatorExpanded:r,onInspectorToggle:o,onNavigatorToggle:i}=t,s=pm(),{story:a,title:c}=tl();return l.jsx(ee,{borderBottom:!0,flex:"none",padding:2,style:{lineHeight:0},children:l.jsxs(U,{gap:1,children:[l.jsx(M,{display:["block","block","none"],flex:"none",children:l.jsx(se,{"aria-label":"Open navigator",fontSize:[2,2,1],icon:PF,mode:"bleed",onClick:i,padding:2,selected:r})}),l.jsxs(U,{flex:1,justify:["center","center","flex-start"],padding:2,sizing:"border",style:{minWidth:250},children:[s<2&&l.jsx(L,{weight:"bold",children:(a==null?void 0:a.title)||c}),s>=2&&l.jsx(FAn,{})]}),l.jsx(M,{display:["block","block","none"],flex:"none",children:l.jsx(se,{"aria-label":"Open inspector",fontSize:[2,2,1],icon:J5,mode:"bleed",onClick:o,padding:2,selected:n})}),l.jsx(M,{display:["none","none","block"],flex:"none",children:l.jsxs(Gt,{space:1,children:[l.jsx(BAn,{}),l.jsx(VAn,{}),l.jsx(WAn,{}),l.jsx(NAn,{})]})})]})})});function p$e(e,t,n){if(t.__scope__){const s=t.__scope__;return s.name==="@@root@@"?s.stories.map(a=>({type:"story",...a})):[{type:"scope",name:s.name||"@@root@@",title:s.title||"(root)",scope:s}]}const r=e.find(s=>s.name===n),i=Object.entries(t).filter(s=>{let[a]=s;return a!=="__scope__"}).flatMap(s=>{let[a,c]=s;return p$e((r==null?void 0:r.children)||[],c,a)});return[{type:"list",name:n,title:(r==null?void 0:r.title)||n,items:i}]}function KAn(e,t){const n={};for(const i of t){const s=i.name||"@@root@@",a=n[s]||{name:s,title:i.title,stories:[]},c={...a,name:s,stories:a.stories.concat(i.stories)};n[s]=c}let r={};for(const i of Object.values(n))r=GTn(r,i.name||"@@root@@",{__scope__:i});const o={type:"list",name:"@@root@@",items:[]};for(const[i,s]of Object.entries(r))o.items.push(...p$e(e,s,i));return o}const ZAn=h.memo(function(t){const{matches:n,onStoryClick:r}=t;return l.jsx(oe,{space:1,children:n.map(o=>{let{scope:i,story:s}=o;return l.jsx(ee,{as:"a","data-path":"/".concat(i.name,"/").concat(s.name),href:"/".concat(i.name,"/").concat(s.name),onClick:r,padding:2,radius:2,children:l.jsx(L,{size:1,textOverflow:"ellipsis",children:[i.title||"",s.title].filter(Boolean).join(" / ")})},"".concat(i.name,"/").concat(s.name))})})}),XAn=h.memo(function(t){const{items:n}=t;return l.jsx(Uwe,{space:1,children:l.jsx(m$e,{items:n})})}),m$e=h.memo(function(t){const{basePath:n="",items:r}=t,{broadcast:o,path:i,scope:s,story:a}=tl(),c=h.useCallback(u=>{u.preventDefault();const f=u.currentTarget.getAttribute("data-path");f&&o({type:"workshop/setPath",value:f})},[o]);return h.useMemo(()=>r.length===0?null:l.jsx(l.Fragment,{children:r.map((u,d)=>{if(u.type==="list"){const f="".concat(n,"/").concat(u.name);return l.jsx(QAn,{expanded:i.startsWith(f+"/"),item:u,path:f},u.name||d)}return u.type==="story"?l.jsx(Kb,{"data-path":"/".concat(u.name||""),fontSize:[2,2,1],href:"/".concat(u.name||""),onClick:c,padding:2,selected:(a==null?void 0:a.component)===u.component,text:u.title},u.name):u.type==="scope"?l.jsx(JAn,{currentStory:a,expanded:u.scope===s,item:u,onStoryClick:c},u.name):l.jsx(Kb,{text:"unknown"},d)})}),[n,s,a,c,r,i])}),QAn=h.memo(function(t){const{expanded:n,item:r,path:o}=t,i=h.useMemo(()=>l.jsx(m$e,{basePath:o,items:r.items}),[r,o]);return l.jsx(Kb,{expanded:n,fontSize:[2,2,1],padding:2,text:r.title,weight:"semibold",children:i})}),JAn=h.memo(function(t){const{currentStory:n,expanded:r,item:o,onStoryClick:i}=t,s=h.useMemo(()=>o.scope.stories.map(a=>l.jsx(Kb,{"data-path":"/".concat(o.scope.name,"/").concat(a.name),fontSize:[2,2,1],href:"/".concat(o.scope.name,"/").concat(a.name),onClick:i,padding:2,selected:n===a,text:a.title},a.name)),[n,o,i]);return l.jsx(Kb,{expanded:r,fontSize:[2,2,1],padding:2,text:o.title,weight:"semibold",children:s})});var Pme=Object.freeze,eDn=Object.defineProperty,tDn=(e,t)=>Pme(eDn(e,"raw",{value:Pme(t||e.slice())})),Ome;const nDn=O(ee)(Ome||(Ome=tDn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-right: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),rDn={flex:"none"},oDn={lineHeight:0},iDn=[2,2,1],sDn=h.memo(function(t){const{collections:n=[],expanded:r}=t,{broadcast:o,scopes:i}=tl(),s=h.useMemo(()=>KAn(n,i),[n,i]),[a,c]=h.useState(""),u=h.useMemo(()=>{var m;if(!a)return Sv;const v=a.toLowerCase(),g=[];for(const y of i)for(const x of y.stories)((m=y.title)!=null&&m.toLowerCase().includes(v)||x.title.toLowerCase().includes(v))&&g.push({scope:y,story:x});return g},[a,i]),d=h.useCallback(m=>c(m.currentTarget.value),[]),f=h.useCallback(()=>c(""),[]),p=h.useCallback(m=>{m.preventDefault();const g=m.currentTarget.getAttribute("data-path");g&&(o({type:"workshop/setPath",value:g}),c(""))},[o]);return l.jsx(aDn,{expanded:r,matches:u,menu:s,onSearchQueryChange:d,onSearchQueryClear:f,onStoryClick:p,query:a})}),aDn=h.memo(function(t){const{expanded:n,matches:r,menu:o,onSearchQueryChange:i,onSearchQueryClear:s,onStoryClick:a,query:c}=t,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx(nDn,{display:u,flex:1,children:l.jsxs(U,{direction:"column",height:"fill",children:[l.jsx(ts,{style:rDn,children:l.jsx(ee,{padding:2,shadow:1,style:oDn,children:l.jsx(Mr,{border:!1,clearButton:!!c,fontSize:iDn,icon:ei,onChange:i,onClear:s,padding:2,placeholder:"Stories",radius:2,space:2,value:c})})}),l.jsxs(ee,{flex:1,overflow:"auto",children:[c&&r.length>0&&l.jsx(M,{padding:2,children:l.jsx(ZAn,{matches:r,onStoryClick:a})}),!c&&o.type==="list"&&l.jsx(M,{padding:2,children:l.jsx(XAn,{items:o.items})})]})]})})});var Rme=Object.freeze,lDn=Object.defineProperty,cDn=(e,t)=>Rme(lDn(e,"raw",{value:Rme(t||e.slice())})),$me;const uDn=O.iframe($me||($me=cDn([`
  display: block;
  border: 0;
  height: 100%;
  width: 100%;
`]))),dDn=h.memo(function(t){const{frameRef:n,hidden:r}=t,{frameReady:o,frameUrl:i,path:s,payload:a,scheme:c,title:u,viewport:d,zoom:f}=tl(),p=_5.find(w=>w.name===d)||_5[0],m=p==null?void 0:p.rect.width,v=p==null?void 0:p.rect.height,[g]=h.useState(()=>a$e({baseUrl:i,path:s,payload:a,scheme:c,viewport:d,zoom:f})),y=h.useMemo(()=>({maxWidth:m==="auto"?void 0:"".concat((m||1)*f,"px"),maxHeight:v?"".concat((v||1)*f,"px"):void 0}),[m,v,f]),x=h.useMemo(()=>r?"none":"block",[r]),b=h.useMemo(()=>({transform:"scale(".concat(f,")"),transformOrigin:"0 0",width:"".concat(100/f,"%"),height:"".concat(100/f,"%")}),[f]);return l.jsx(ee,{display:x,flex:1,overflow:"hidden",tone:"transparent",children:l.jsxs(U,{align:"center",height:"fill",justify:"center",sizing:"border",children:[s==="/"&&l.jsx(Qr,{width:0,children:l.jsxs(oe,{padding:4,space:4,children:[l.jsx(Vo,{align:"center",children:u}),l.jsx(L,{align:"center",muted:!0,children:"Browse workshop stories in the navigator to the left."})]})}),!o&&s!=="/"&&l.jsx(fr,{muted:!0}),l.jsx(Qr,{height:"fill",hidden:!o||s==="/",style:y,width:"auto",children:l.jsx(ee,{height:"fill",shadow:1,children:l.jsx(uDn,{ref:n,src:g,style:b})})})]})})});function fDn(){const e=new Set;let t=null,n=[],r=null;function o(){r&&clearInterval(r),r=setTimeout(()=>{var c;(c=t==null?void 0:t.contentWindow)==null||c.postMessage(n,window.location.origin),n=[],r=null},0)}function i(c){const u=c.data;if(f$e(u)){for(const d of u)if(h$e(d)&&typeof d.type=="string"&&d.type.startsWith("workshop/"))for(const f of e)f(d)}}function s(){t!=null&&t.contentWindow&&window.addEventListener("message",i)}function a(c){c!=null&&c.contentWindow&&window.removeEventListener("message",i)}return{message:{publish(c){n.push(c),o()},subscribe(c){return e.add(c),()=>{e.delete(c)}}},setElement(c){const u=t;t=c,c?s():u&&a(u)}}}function Mme(e,t,n){const r=e.path,o=e.query||{},{scheme:i,viewport:s,zoom:a,...c}=o;return{frameReady:n||!1,path:r,payload:c,scheme:t||(typeof i=="string"?i:"light"),viewport:typeof s=="string"?s:"auto",zoom:typeof a=="number"?a:1}}function Fme(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{payload:n,scheme:r,viewport:o,zoom:i}=e,s={scheme:r};if(o&&o!==KTn&&(s.viewport=o),i&&i!==ZTn&&(s.zoom=i),t)for(const[a,c]of Object.entries(n))["schema","viewport","zoom"].includes(a)?console.warn('Workshop: the payload cannot contain a property named "'.concat(a,'" (protected name)')):s[a]=c;return s}h.memo(function(t){var n,r;const{config:o,locationStore:i,onSchemeChange:s,scheme:a}=t,c=(r=(n=o.features)==null?void 0:n.navbar)!=null?r:!0,u=h.useMemo(()=>s$e(),[]),d=h.useMemo(()=>fDn(),[]),[f,p]=h.useState(null),[m,v]=h.useState(null),[{frameReady:g,path:y,payload:x,scheme:b,viewport:w,zoom:C},_]=h.useState(()=>Mme(i.get(),a)),S=pm(),[E,j]=h.useState(!1),[k,T]=h.useState(!1),A=h.useRef(g),D=h.useRef(b),I=h.useRef(y),P=h.useRef({scheme:b,viewport:w,zoom:C,...x}),$=h.useCallback(H=>{u.publish(H),d.message.publish(H)},[u,d]),R=h.useMemo(()=>Ime(H=>i.push(H),150),[i]),V=h.useMemo(()=>Ime(H=>i.replace(H),150),[i]),N=h.useCallback(()=>{j(H=>!H),T(!1)},[]),W=h.useCallback(()=>{j(!1),T(H=>!H)},[]),G=h.useRef(S);return h.useEffect(()=>{G.current<2&&S>=2&&(j(!1),T(!1)),G.current=S},[S]),h.useEffect(()=>{j(!1)},[y]),h.useEffect(()=>()=>R.cancel(),[R]),h.useEffect(()=>()=>V.cancel(),[V]),h.useEffect(()=>u.subscribe(H=>{_(q=>{const X=d$e(q,H),B=!Ev(q,X);if(B){if(H.type==="workshop/setPath"){if(I.current!==X.path){I.current=X.path;const Y=Fme(X,!1);R({path:X.path,query:Y})}}else if(H.type!=="workshop/setState"){const Y=Fme(X);Ev(P.current,Y)||(P.current=Y,V({path:X.path,query:Y}))}}return B?X:q})}),[R,V,u,i]),h.useEffect(()=>d.message.subscribe(u.publish),[u,d]),h.useEffect(()=>{A.current=g},[g]),h.useEffect(()=>i.subscribe(H=>{const q=Mme(H,void 0,g);$({type:"workshop/setState",value:q})}),[$,g,i]),h.useEffect(()=>{D.current=b,s(b)},[s,b]),h.useEffect(()=>{a&&D.current!==a&&(D.current=a,$({type:"workshop/setScheme",value:a}))},[$,a]),o.scopes?l.jsx(u$e,{config:o,broadcast:$,channel:u,frameReady:g,origin:"main",path:y,payload:x,scheme:b,viewport:w,zoom:C,children:l.jsx(P6,{children:l.jsx(Lu,{element:f,children:l.jsx(ym,{element:m,children:l.jsxs(U,{"data-boundary":"",direction:"column",height:"fill",ref:p,style:{minWidth:320},children:[c&&l.jsx(GAn,{inspectorExpanded:k,navigatorExpanded:E,onInspectorToggle:W,onNavigatorToggle:N}),l.jsxs(U,{flex:1,children:[l.jsx(sDn,{collections:o.collections,expanded:E}),l.jsx(dDn,{frameRef:d.setElement,hidden:E||k}),l.jsx(MAn,{expanded:k})]}),l.jsx("div",{"data-portal":"",ref:v})]})})})})}):l.jsx(l.Fragment,{children:"No scopes"})});function hDn(e){const{currentUser:t,fieldName:n,mentionOptions:r,onBlur:o,onFocus:i,onKeyDown:s,onNewThreadCreate:a,readOnly:c}=e,[u,d]=h.useState(Sv),f=h.useRef(null),p=h.useCallback(()=>{a==null||a(u),d(Sv)},[a,u]),m=h.useMemo(()=>hC(u),[u]),v=h.useCallback(()=>{var w;m&&((w=f.current)==null||w.discardDialogController.open())},[m]),g=h.useCallback(w=>{w.isDefaultPrevented()||(w.key==="Escape"&&(w.preventDefault(),w.stopPropagation(),v()),s&&s(w))},[s,v]),y=h.useCallback(()=>{var w,C;d(Sv),(w=f.current)==null||w.discardDialogController.close(),(C=f.current)==null||C.focus()},[]),x=h.useCallback(()=>{var w;(w=f.current)==null||w.discardDialogController.close()},[]),b=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:n})]});return l.jsx(rD,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:o,onChange:d,onDiscardCancel:x,onDiscardConfirm:y,onKeyDown:g,onFocus:i,onSubmit:p,placeholder:b,readOnly:c,ref:f,value:u})}var Lme=Object.freeze,pDn=Object.defineProperty,g$e=(e,t)=>Lme(pDn(e,"raw",{value:Lme(t||e.slice())})),Bme,Nme;const mDn=O(U)(Bme||(Bme=g$e([`
  min-height: 25px;
`]))),gDn=O(se)(e=>{let{theme:t}=e;const n=t.sanity.color.base.fg;return he(Nme||(Nme=g$e([`
    --card-fg-color: `,`;

    // The width is needed to make the text ellipsis work
    // in the breadcrumbs component
    max-width: 100%;
  `])),n)});function vDn(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:o,fieldPath:i,isSelected:s,mentionOptions:a,onNewThreadCreate:c,onPathSelect:u,readOnly:d}=e,f=h.useCallback(y=>{const x={fieldPath:i,message:y,parentCommentId:void 0,status:"open",threadId:ld()};c==null||c(x)},[c,i]),p=h.useCallback(y=>{y.stopPropagation(),u==null||u({fieldPath:i,origin:"inspector",threadId:null})},[i,u]),m=h.useCallback(y=>{y.stopPropagation(),y.detail!==0&&(u==null||u({fieldPath:i,origin:"inspector",threadId:null}))},[i,u]),v=h.useMemo(()=>(t==null?void 0:t.map(y=>y.title))||[],[t]),g=v[v.length-1];return l.jsxs(oe,{space:2,children:[l.jsx(mDn,{align:"center",gap:2,paddingRight:1,sizing:"border",children:l.jsx(oe,{flex:1,children:l.jsx(U,{align:"center",children:l.jsx(gDn,{"aria-label":"Go to ".concat(g," field"),mode:"bleed",onClick:p,padding:2,children:l.jsx(Gkn,{maxLength:3,titlePath:v})})})})}),n&&l.jsx(wRe,{onClick:m,tone:s?"primary":void 0,children:l.jsx(hDn,{currentUser:o,fieldName:g,mentionOptions:a,onNewThreadCreate:f,readOnly:d})}),l.jsx(oe,{space:2,children:r})]})}const zme={open:{title:"No open comments yet",message:l.jsxs("span",{children:["Open comments on this document ",l.jsx("br",{}),"will be shown here."]})},resolved:{title:"No resolved comments yet",message:l.jsxs(l.Fragment,{children:["Resolved comments on this document ",l.jsx("br",{}),"will be shown here."]})}};function yDn(e){const{status:t,error:n,loading:r,hasNoComments:o}=e;return n?l.jsx(U,{align:"center",justify:"center",flex:1,padding:4,children:l.jsx(U,{align:"center",children:l.jsx(L,{size:1,muted:!0,children:"Something went wrong"})})}):r?l.jsx(U,{align:"center",justify:"center",flex:1,padding:4,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(fr,{muted:!0,size:1}),l.jsx(L,{size:1,muted:!0,children:"Loading comments..."})]})}):o?l.jsx(U,{align:"center",justify:"center",flex:1,sizing:"border",children:l.jsx(Qr,{width:0,padding:4,children:l.jsxs(oe,{space:3,children:[l.jsx(L,{align:"center",size:1,muted:!0,weight:"semibold",children:zme[t].title}),l.jsx(L,{align:"center",size:1,muted:!0,children:zme[t].message})]})})}):null}const bDn={behavior:"smooth",block:"start",inline:"nearest"};function xDn(e){return e.reduce((t,n)=>{const r=n.fieldPath;return t[r]||(t[r]=[]),t[r].push(n),t},{})}const wDn=h.forwardRef(function(t,n){const{comments:r,currentUser:o,error:i,loading:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onNewThreadCreate:p,onPathSelect:m,onReply:v,onStatusChange:g,readOnly:y,selectedPath:x,status:b}=t,[w,C]=h.useState(null),_=h.useCallback(j=>{const k=document==null?void 0:document.querySelector('[data-comment-id="'.concat(j,'"]'));k&&k.scrollIntoView(bDn)},[]);h.useImperativeHandle(n,()=>({scrollToComment:_}),[_]);const S=h.useMemo(()=>Object.entries(xDn(r)),[r]),E=!s&&!i&&S.length>0;return l.jsxs(U,{direction:"column",flex:1,height:"fill",overflow:"hidden",ref:C,sizing:"border",children:[l.jsx(yDn,{error:i,hasNoComments:S.length===0,loading:s,status:b}),E&&l.jsx(oe,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,children:l.jsx(Lu,{element:w,children:S==null?void 0:S.map(j=>{let[k,T]=j;const A=T[0].breadcrumbs,D=T[0].threadId,I=(x==null?void 0:x.fieldPath)===k&&!x.threadId;return l.jsx(oe,{as:"li","data-group-id":D,paddingTop:3,children:l.jsx(vDn,{breadcrumbs:A,canCreateNewThread:b==="open",currentUser:o,fieldPath:k,isSelected:I,mentionOptions:a,onNewThreadCreate:p,onPathSelect:m,readOnly:y,children:T.map(P=>{var $,R;const V=P.replies.slice().reverse(),N=b==="open"&&(($=P.parentComment._state)==null?void 0:$.type)!=="createError"&&((R=P.parentComment._state)==null?void 0:R.type)!=="createRetrying",W=(x==null?void 0:x.threadId)===P.parentComment.threadId&&(x==null?void 0:x.fieldPath)===P.parentComment.target.path.field;return l.jsx(Ykn,{canReply:N,currentUser:o,isSelected:W,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:P.parentComment,readOnly:y,replies:V},P.parentComment._id)})},k)},k)})})})]})}),CDn=ie.memo(wDn),_Dn={thread:{title:"Delete this comment thread?",body:"This comment and its replies will be deleted, and once deleted cannot be recovered.",confirmButtonText:"Delete thread"},comment:{title:"Delete this comment?",body:"Once deleted, a comment cannot be recovered.",confirmButtonText:"Delete comment"}};function SDn(e){const{isParent:t,onClose:n,commentId:r,onConfirm:o,loading:i,error:s}=e,{title:a,body:c,confirmButtonText:u}=_Dn[t?"thread":"comment"],d=h.useCallback(()=>{o(r)},[r,o]);return l.jsx(Ri,{header:a,id:"delete-comment-dialog",onClose:n,width:0,footer:l.jsxs(Jt,{columns:2,padding:2,gap:2,children:[l.jsx(se,{text:"Cancel",mode:"ghost",onClick:n}),l.jsx(se,{loading:i,onClick:d,text:u,tone:"critical"})]}),children:l.jsxs(oe,{padding:4,space:4,children:[l.jsx(L,{children:c}),s&&l.jsx(lr,{tone:"critical",children:"An error occurred while deleting the comment. Please try again."})]})})}var Vme=Object.freeze,EDn=Object.defineProperty,dz=(e,t)=>Vme(EDn(e,"raw",{value:Vme(t||e.slice())})),Hme,Ume,Wme;const kDn=O(M)(Hme||(Hme=dz([`
  max-width: 280px;
`]))),jDn=am(Ume||(Ume=dz([`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`]))),TDn=O(en)(Wme||(Wme=dz([`
  opacity: 0;
  // Fade in the popover after 500ms
  animation: `,` 200ms 500ms forwards;
`])),jDn);function ADn(e){const{onDismiss:t}=e;return l.jsx(TDn,{content:l.jsx(kDn,{padding:4,children:l.jsxs(oe,{space:3,children:[l.jsx(L,{weight:"semibold",size:1,children:"Document fields now have comments"}),l.jsx(L,{size:1,children:"You can add comments to any field in a document. They'll show up here, grouped by field."}),l.jsx(U,{justify:"flex-end",marginTop:2,children:l.jsx(se,{fontSize:1,padding:2,text:"Got it",tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}const fz=h.createContext(null);function DDn(e){const t={};return e!==null&&(t.identity=e.id),t}const g3=new Map;async function IDn(e,t,n){g3.has(t)||g3.set(t,lTe("*[".concat(t,"]")));const r=g3.get(t),o=DDn(e),{identity:i}=o,s={...o},a=await(await nTe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}async function PDn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await IDn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}const Yme={data:[],error:null,loading:!0};let qme=null;function ODn(e){const{documentValue:t}=e,n=kwn(),r=VN(),o=pr(an),[i,s]=h.useState(Yme),a=h.useMemo(()=>{const u=n.get().pipe(ue(v=>{var g;return(g=v.members)==null?void 0:g.filter(y=>!y.isRobot)})).pipe(it(async v=>{const g=v.map(x=>{let{id:b}=x;return b});return await r.getUsers(g)}),ue(v=>v.map(g=>({displayName:g.displayName,id:g.id,canBeMentioned:!1})))),d=qme,f=d?be(d):o.observable.fetch('*[_type == "system.group"]');return ztt([u,f]).pipe(ht(async v=>{let[g,y]=v;d||(qme=y);const x=g==null?void 0:g.map(async w=>{const _=[...y.map(E=>E.members.includes(w.id)?E.grants:[])].flat(),{granted:S}=await PDn(w,_,"read",t);return{...w,canBeMentioned:S}});return await Promise.all(x||[])})).pipe(ue(v=>({error:null,loading:!1,data:Cm(v,"displayName")})))},[o.observable,t,n,r]);return h.useEffect(()=>{const c=be(Yme),d=Hr(c,a).subscribe(s);return()=>{d.unsubscribe()}},[a]),i}function RDn(e){const{documentId:t,documentType:n}=e||{},r=En().get(n),{title:o}=Wl(),{createPathWithParams:i,params:s}=qc(),a=Li(),c=go(()=>!t||!r?be(null):fA(a,r,t,""),[t,a,r]),{published:u,draft:d}=c||{},f=(d==null?void 0:d.title)||(u==null?void 0:u.title)||"Sanity document";return{getNotificationValue:h.useCallback(m=>{let{commentId:v}=m;const g=i({...s,comment:v,inspect:xb}),y="".concat(window.location.origin).concat(g);return{documentTitle:f,url:y,workspaceTitle:o}},[i,f,s,o])}}function $Dn(e){const{client:t,currentUser:n,dataset:r,documentId:o,documentType:i,getThreadLength:s,onCreate:a,onCreateError:c,onEdit:u,onRemove:d,onUpdate:f,projectId:p,runSetup:m,workspace:v}=e,g=n==null?void 0:n.id,y=iT(h.useCallback(k=>typeof k.tool=="string"?k.tool:void 0,[])),{tools:x}=Wl(),b=h.useMemo(()=>x.find(k=>k.name===y),[y,x]),{getNotificationValue:w}=RDn({documentId:o,documentType:i}),C=h.useCallback(async k=>{const T=(k==null?void 0:k.id)||ld(),A=((s==null?void 0:s(k.threadId))||0)+1,{documentTitle:D="",url:I="",workspaceTitle:P=""}=w({commentId:T})||{},$={currentThreadLength:A,documentTitle:D,url:I,workspaceTitle:P},R={_id:T,_type:"comment",authorId:g||"",lastEditedAt:void 0,message:k.message,parentCommentId:k.parentCommentId,status:k.status,threadId:k.threadId,context:{payload:{workspace:v},notification:$,tool:(b==null?void 0:b.name)||""},target:{path:{field:k.fieldPath},document:{_dataset:r,_projectId:p,_ref:o,_type:"crossDatasetReference",_weak:!0},documentType:i}};if(a==null||a(R),!t){try{await m(R)}catch(V){throw c==null||c(R._id,V),V}return}try{await t.create(R)}catch(V){throw c==null||c(R._id,V),V}},[b==null?void 0:b.name,g,t,r,o,i,w,s,a,c,p,m,v]),_=h.useCallback(async k=>{t&&(d==null||d(k),await Promise.all([t.delete({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}),t.delete(k)]))},[t,d]),S=h.useCallback(async(k,T)=>{if(!t)return;const A={message:T.message,lastEditedAt:new Date().toISOString()};u==null||u(k,A),await t.patch(k).set(A).commit()},[t,u]),E=h.useCallback(async(k,T)=>{if(t){if(f==null||f(k,T),T.status){await Promise.all([t.patch({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}).set({status:T.status}).commit(),t.patch(k).set(T).commit()]);return}await(t==null?void 0:t.patch(k).set(T).commit())}},[t,f]);return{operation:h.useMemo(()=>({create:C,edit:S,remove:_,update:E}),[C,_,S,E])}}function v$e(){const e=h.useContext(fz);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function MDn(){const e=h.useContext(S$e);if(!e)throw new Error("useCommentsSetup: missing context value");return e}function hz(e){const{documentId:t,documentType:n}=e,{enabled:r,isLoading:o}=n3e("studioComments"),{enabled:i}=Mn().document.unstable_comments,s=i({documentType:n,documentId:On(t)});return h.useMemo(()=>o?{isEnabled:!1,reason:"loading"}:r?s?{isEnabled:!0,reason:null}:{isEnabled:!1,reason:"disabled-by-config"}:{isEnabled:!1,reason:"plan-upgrade-required"},[s,r,o])}const y$e=h.createContext(null),FDn=1,b$e="sanityStudio:comments:inspector:onboarding:dismissed:v".concat(FDn),LDn=e=>{try{window.localStorage.setItem(b$e,JSON.stringify(e))}catch{}},BDn=()=>{try{const e=window.localStorage.getItem(b$e);return e?JSON.parse(e):!1}catch{return!1}};function NDn(e){const{children:t}=e,[n,r]=h.useState(BDn()),o=h.useCallback(()=>{r(!0),LDn(!0)},[r]),i=h.useMemo(()=>({setDismissed:o,isDismissed:n}),[o,n]);return l.jsx(y$e.Provider,{value:i,children:t})}function zDn(){const e=h.useContext(y$e);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}function x$e(){const e=h.useContext(E$e);if(!e)throw new Error("useCommentsSelectedPath: missing context value");return e}function VDn(e){return e.reduce((n,r)=>({...n,[r._id]:r}),{})}function HDn(e,t){switch(t.type){case"COMMENTS_SET":{const n=VDn(t.comments);return{...e,comments:n}}case"COMMENT_ADDED":{const n=t.payload,r=n,o={[n._id]:{...e.comments[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};if(e.comments&&e.comments[n._id])return{...e,comments:{...e.comments,...o}};const s={...e.comments||{},...o};return{...e,comments:s}}case"COMMENT_RECEIVED":{const n=t.payload;return{...e,comments:{...e.comments,[n._id]:n}}}case"COMMENT_DELETED":{const{[t.id]:n,...r}=e.comments;return Object.keys(r).forEach(o=>{r[o].parentCommentId===t.id&&delete r[o]}),{...e,comments:r}}case"COMMENT_UPDATED":{const n=t.payload,r=n._id;return{...e,comments:{...e.comments,[r]:{...e.comments[r],...n}}}}default:return e}}const UDn={comments:{}},WDn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},YDn="_createdAt",qDn="desc",GDn=['_type == "comment"',"target.document._ref == $documentId"],KDn=`{
  _createdAt,
  _id,
  authorId,
  lastEditedAt,
  message,
  parentCommentId,
  status,
  target,
  threadId,
}`,ZDn="order(".concat(YDn," ").concat(qDn,")"),Gme="*[".concat(GDn.join(" && "),"] ").concat(KDn," | ").concat(ZDn);function XDn(e){const{client:t,documentId:n}=e,[r,o]=h.useReducer(HDn,UDn),[i,s]=h.useState(t!==null),[a,c]=h.useState(null),u=h.useMemo(()=>({documentId:On(n)}),[n]),d=h.useCallback(async()=>{if(!t){s(!1);return}try{const v=await t.fetch(Gme,u);o({type:"COMMENTS_SET",comments:v}),s(!1)}catch(v){c(v)}},[t,u]),f=h.useCallback(async v=>{if(v.type==="welcome"&&(s(!0),await d(),s(!1)),v.type==="reconnect"&&s(!0),v.type==="mutation"){if(v.transition==="appear"){const g=v.result;g&&o({type:"COMMENT_RECEIVED",payload:g})}if(v.transition==="disappear"&&o({type:"COMMENT_DELETED",id:v.documentId}),v.transition==="update"){const g=v.result;g&&o({type:"COMMENT_UPDATED",payload:g})}}},[d]),p=h.useMemo(()=>t?t.observable.listen(Gme,u,WDn).pipe(Pn(g=>(c(g),be(g)))):be(),[t,u]);return h.useEffect(()=>{const v=p.subscribe(f);return()=>{v==null||v.unsubscribe()}},[f,p]),{data:h.useMemo(()=>Object.values(r.comments),[r.comments]),dispatch:o,error:a,loading:i}}function w$e(e,t){var n;const r=jl(t),o=r[0];if(o&&Ya(e)){const i=(n=e==null?void 0:e.fields)==null?void 0:n.find(s=>s.name===o);if(i){const s=Br(r.slice(1));return s?w$e(i.type,s):i}}}function QDn(e,t){if(typeof t=="number")return t;const n=K9(e,t);return n===-1?!1:n}function JDn(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:o}=e,i=jl(r),s=[];let a=null;return i.forEach((c,u)=>{var d,f,p,m,v;const g=i.slice(0,u+1),y=i.slice(0,u),x=w$e(n,Br(g)),b=c.hasOwnProperty("_key"),w=El(o,y),C=El(o,g),_={document:o,currentUser:t,parent:w,value:C};if(b&&Array.isArray(w)){const S=QDn(w,c),E=typeof S=="number";s.push({invalid:S===!1,isArrayItem:!0,title:E?"#".concat(Number(S)+1):"Unknown array item"});return}if(x!=null&&x.type){const S=lo(x.type.hidden,_);s.push({invalid:S,isArrayItem:!1,title:Cp(x.type)}),a=x.type;return}if(Ll(a)){const S=El(o,y),E=S==null?void 0:S._type,j=(d=a==null?void 0:a.of)==null?void 0:d.find(P=>P.name===E),k=(f=j==null?void 0:j.fields)==null?void 0:f.find(P=>P.name===c);if(!E&&C){const P=(p=a==null?void 0:a.of)==null?void 0:p.map(V=>V==null?void 0:V.fields).filter(Boolean).flat(),$=P==null?void 0:P.find(V=>(V==null?void 0:V.name)===c),R=lo((m=$==null?void 0:$.type)==null?void 0:m.hidden,_);$&&(s.push({invalid:R,isArrayItem:!1,title:Cp($==null?void 0:$.type)}),a=$==null?void 0:$.type);return}if(!k){s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const T=Cp(k==null?void 0:k.type),A=lo((v=j==null?void 0:j.type)==null?void 0:v.hidden,_),D=lo(k==null?void 0:k.type.hidden,_),I=A||D;s.push({invalid:I,isArrayItem:!1,title:T}),a=k==null?void 0:k.type;return}s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),s}function eIn(e){const{comments:t,currentUser:n,documentValue:r,schemaType:o}=e;return(t==null?void 0:t.filter(a=>!a.parentCommentId)).map(a=>{const c=JDn({currentUser:n,documentValue:r,fieldPath:a.target.path.field,schemaType:o});if(c.some(p=>p.invalid))return;const d=t==null?void 0:t.filter(p=>p.parentCommentId===a._id),f=[a,...d].length;return{breadcrumbs:c,commentsCount:f,fieldPath:a.target.path.field,parentComment:a,replies:d,threadId:a.threadId}}).filter(Boolean)}const eF=[],C$e={open:eF,resolved:eF},tIn={data:C$e,error:null,loading:!1},nIn={data:[],error:null,loading:!1},_$e=async()=>{await Promise.resolve()},p2={execute:_$e},rIn={comments:tIn,create:p2,edit:p2,getComment:()=>{},isRunningSetup:!1,mentionOptions:nIn,remove:p2,setStatus:_$e,status:"open",update:p2},oIn=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,{isEnabled:i}=hz({documentId:r,documentType:o});return i?l.jsx(iIn,{...t}):l.jsx(fz.Provider,{value:rIn,children:n})}),iIn=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,[i,s]=h.useState("open"),{client:a,runSetup:c,isRunningSetup:u}=MDn(),d=On(r),f=ON(d,o,"low"),p=h.useMemo(()=>f.draft||f.published,[f.draft,f.published]),{dispatch:m,data:v=eF,error:g,loading:y}=XDn({documentId:d,client:a}),x=ODn(h.useMemo(()=>({documentValue:p}),[p])),b=En().get(o),w=Uo(),{name:C,dataset:_,projectId:S}=Wl(),E=h.useMemo(()=>{if(!b||!w)return C$e;const R=$0(v,["_createdAt"],["desc"]),V=eIn({comments:R,schemaType:b,currentUser:w,documentValue:p});return{open:V.filter(N=>N.parentComment.status==="open"),resolved:V.filter(N=>N.parentComment.status==="resolved")}},[w,v,p,b]),j=h.useCallback(R=>E.open.filter(V=>V.threadId===R).length,[E.open]),k=h.useCallback(R=>v==null?void 0:v.find(V=>V._id===R),[v]),T=h.useCallback(async R=>{var V,N;const W=((N=(V=v==null?void 0:v.find(G=>G._id===R._id))==null?void 0:V._state)==null?void 0:N.type)==="createError";m({type:"COMMENT_ADDED",payload:{...R,_state:W?{type:"createRetrying"}:void 0}})},[v,m]),A=h.useCallback((R,V)=>{m({type:"COMMENT_UPDATED",payload:{_id:R,...V}})},[m]),D=h.useCallback((R,V)=>{m({type:"COMMENT_UPDATED",payload:{_id:R,...V}})},[m]),I=h.useCallback((R,V)=>{m({type:"COMMENT_UPDATED",payload:{_id:R,_state:{error:V,type:"createError"}}})},[m]),{operation:P}=$Dn(h.useMemo(()=>({client:a,currentUser:w,dataset:_,documentId:d,documentType:o,projectId:S,schemaType:b,workspace:C,getThreadLength:j,runSetup:c,onCreate:T,onCreateError:I,onEdit:D,onUpdate:A}),[a,w,_,d,o,S,b,C,j,c,T,I,D,A])),$=h.useMemo(()=>({isRunningSetup:u,status:i,setStatus:s,getComment:k,comments:{data:E,error:g,loading:y||u},create:{execute:P.create},remove:{execute:P.remove},edit:{execute:P.edit},update:{execute:P.update},mentionOptions:x}),[u,i,k,E,g,y,P.create,P.remove,P.edit,P.update,x]);return l.jsx(fz.Provider,{value:$,children:n})}),S$e=h.createContext(null),Kme="v2023-11-13";function sIn(e){const{children:t}=e,{dataset:n,projectId:r}=Wl(),o=pr(an),[i,s]=h.useState(null),[a,c]=h.useState(!1),u=h.useCallback(async()=>{var m;const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/projects/".concat(r,"/datasets?datasetProfile=comments&addonFor=").concat(n),tag:"sanity.studio"});return(m=v==null?void 0:v[0])==null?void 0:m.name},[n,o,r]),d=h.useCallback(m=>o.withConfig({apiVersion:Kme,dataset:m,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[o,r]),f=h.useCallback(async m=>{c(!0);try{const v=await u();if(v){const g=d(v);s(g),await g.create(m),c(!1);return}}catch{}try{const v=await o.withConfig({apiVersion:Kme}).request({uri:"/comments/".concat(n,"/setup"),method:"POST"}),g=v==null?void 0:v.datasetName;if(!g){c(!1);return}const y=d(g);s(y),await y.create(m)}catch(v){throw v}finally{c(!1)}},[n,u,d,o]);h.useEffect(()=>{u().then(m=>{if(!m)return;const v=d(m);s(v)})},[u,d]);const p=h.useMemo(()=>({client:i,runSetup:f,isRunningSetup:a}),[i,f,a]);return l.jsx(S$e.Provider,{value:p,children:t})}const E$e=h.createContext(null),aIn=ie.memo(function(t){const{children:n}=t,[r,o]=h.useState(null),i=h.useCallback(a=>{o(a)},[]),s=h.useMemo(()=>({selectedPath:r,setSelectedPath:i}),[r,i]);return l.jsx(E$e.Provider,{value:s,children:n})}),lIn=O(ee)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}}),cIn=h.forwardRef(function(t,n){const{onClose:r,onViewChange:o,view:i}=t,s=h.useCallback(()=>o("open"),[o]),a=h.useCallback(()=>o("resolved"),[o]);return l.jsx(lIn,{ref:n,children:l.jsxs(U,{padding:2,children:[l.jsxs(U,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:[l.jsx(L,{as:"h1",size:1,weight:"semibold",children:"Comments"}),l.jsx(Fwn,{})]}),l.jsxs(U,{flex:"none",padding:1,gap:2,children:[l.jsx(tn,{id:"comment-status-menu-button",button:l.jsx(se,{text:un(i),fontSize:1,padding:2,mode:"bleed",iconRight:Za,space:2}),menu:l.jsxs(Bt,{style:{width:"180px"},children:[l.jsx(Ve,{fontSize:1,iconRight:i==="open"?Js:void 0,onClick:s,text:"Open comments"}),l.jsx(Ve,{fontSize:1,iconRight:i==="resolved"?Js:void 0,onClick:a,text:"Resolved comments"})]}),popover:{placement:"bottom-end"}}),l.jsx(se,{"aria-label":"Close comments",fontSize:1,icon:TF,mode:"bleed",onClick:r,padding:2})]})]})})});var Zme=Object.freeze,uIn=Object.defineProperty,k$e=(e,t)=>Zme(uIn(e,"raw",{value:Zme(t||e.slice())})),Xme,Qme;const dIn="https://snty.link/comments-beta-feedback",fIn=O.span(Xme||(Xme=k$e([`
  margin-right: 0.2em;
`]))),hIn=O.a(Qme||(Qme=k$e([`
  white-space: nowrap;
`]))),pIn=O(ee)({position:"relative",zIndex:1,"&:after":{content:'""',display:"block",position:"absolute",left:0,top:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function mIn(){return l.jsx(pIn,{padding:3,children:l.jsxs(L,{muted:!0,size:1,children:["Help improve comments."," ",l.jsxs(hIn,{href:dIn,target:"_blank",rel:"noreferrer",children:[l.jsx(fIn,{children:"Share your feedback "})," ",l.jsx(Uf,{})]})]})})}var Jme=Object.freeze,gIn=Object.defineProperty,vIn=(e,t)=>Jme(gIn(e,"raw",{value:Jme(t||e.slice())})),ege;const yIn=O(ts)(ege||(ege=vIn([`
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
`])));function bIn(e){return l.jsx(yIn,{children:l.jsx(xIn,{...e})})}function xIn(e){const{onClose:t}=e,[n,r]=h.useState(!1),[o,i]=h.useState(null),[s,a]=h.useState(!1),[c,u]=h.useState(null),d=h.useRef(null),f=h.useRef(null),p=Uo(),{params:m,createPathWithParams:v,setParams:g}=qc(),y=Mo(m)||dRe,x=h.useRef(y==null?void 0:y.comment),b=h.useRef(!1),w=Ho().push,{onPathOpen:C,ready:_}=mr(),{isDismissed:S,setDismissed:E}=zDn(),{comments:j,create:k,edit:T,getComment:A,isRunningSetup:D,mentionOptions:I,remove:P,setStatus:$,status:R,update:V}=v$e(),{isTopLayer:N}=ua(),W=h.useMemo(()=>j.data[R],[j,R]),G=h.useMemo(()=>j.loading||!_,[j.loading,_]),{selectedPath:H,setSelectedPath:q}=x$e(),X=h.useCallback(ce=>{$(ce),q(null)},[q,$]),B=h.useCallback(()=>{t(),q(null)},[t,q]),Y=h.useCallback(ce=>{const ve=v({...m,comment:ce}),$e="".concat(window.location.origin).concat(ve);navigator.clipboard.writeText($e).then(()=>{w({closable:!0,status:"info",title:"Copied link to clipboard"})}).catch(()=>{w({closable:!0,status:"error",title:"Unable to copy link to clipboard"})})},[v,m,w]),z=h.useCallback(ce=>{const ve=A(ce);ve&&k.execute({fieldPath:ve.target.path.field,id:ve._id,message:ve.message,parentCommentId:ve.parentCommentId,status:ve.status,threadId:ve.threadId})},[k,A]),Z=h.useCallback(()=>{s||(r(!1),i(null))},[s]),Q=h.useCallback(ce=>{if(q(ce),ce!=null&&ce.fieldPath){const ve=jl(ce.fieldPath);C(ve)}},[C,q]),ne=h.useCallback(ce=>{k.execute(ce),q({fieldPath:ce.fieldPath,origin:"inspector",threadId:ce.threadId})},[k,q]),K=h.useCallback(ce=>{k.execute(ce)},[k]),J=h.useCallback((ce,ve)=>{T.execute(ce,ve)},[T]),re=h.useCallback(ce=>{var ve;const $e=W.find(st=>{var et;return((et=st.parentComment)==null?void 0:et._id)===ce}),Ae=!!($e&&((ve=$e==null?void 0:$e.replies)==null?void 0:ve.length)>0);r(!0),i({commentId:ce,isParent:Ae})},[W]),fe=h.useCallback(async ce=>{try{a(!0),await P.execute(ce),Z()}catch(ve){u(ve)}finally{a(!1)}},[Z,P]),le=h.useCallback((ce,ve)=>{const $e=A(ce);$e&&(q({fieldPath:$e.target.path.field||null,origin:ve||"inspector",threadId:$e.threadId||null}),setTimeout(()=>{var Ae;(Ae=d.current)==null||Ae.scrollToComment(ce)}))},[A,q]),ge=h.useCallback((ce,ve)=>{V.execute(ce,{status:ve}),ve==="open"&&($("open"),le(ce))},[le,$,V]),xe=h.useCallback(()=>{H&&N&&q(null)},[N,H,q]);return ur(xe,[f.current]),h.useEffect(()=>{const ce=A(x.current||"");!G&&ce&&b.current===!1&&($(ce.status||"open"),le(ce._id,"url"),b.current=!0,x.current=void 0,g({...m,comment:void 0}))},[A,le,G,m,g,$]),l.jsxs(h.Fragment,{children:[o&&n&&l.jsx(SDn,{...o,error:c,loading:s,onClose:Z,onConfirm:fe}),l.jsxs(U,{direction:"column",flex:1,height:"fill",onClick:xe,overflow:"hidden",ref:f,children:[l.jsx(ADn,{onDismiss:E,open:!S,placement:"left-start",children:l.jsx(cIn,{onClose:B,onViewChange:X,view:R})}),p&&l.jsx(CDn,{comments:W,currentUser:p,error:j.error,loading:G,mentionOptions:I,onCopyLink:Y,onCreateRetry:z,onDelete:re,onEdit:J,onNewThreadCreate:ne,onPathSelect:Q,onReply:K,onStatusChange:ge,readOnly:D,ref:d,selectedPath:H,status:R}),l.jsx(mIn,{})]})]})}function wIn(e){const{documentId:t,documentType:n}=e,{isEnabled:r}=hz({documentId:t,documentType:n});return{hidden:!r,icon:d0e,showAsAction:!0,title:"Comments"}}const CIn={name:xb,component:bIn,useMenuItem:wIn};var tge=Object.freeze,_In=Object.defineProperty,j$e=(e,t)=>tge(_In(e,"raw",{value:tge(t||e.slice())})),nge,rge;const oge={open:500},SIn=O(L)(nge||(nge=j$e([`
  width: max-content;
`]))),EIn=O(oe)(rge||(rge=j$e([`
  width: 320px;
`])));function kIn(e){const{count:t,currentUser:n,fieldTitle:r,isRunningSetup:o,mentionOptions:i,onChange:s,onClick:a,onCommentAdd:c,onDiscard:u,onInputKeyDown:d,open:f,setOpen:p,value:m}=e,[v,g]=h.useState(null),[y,x]=h.useState(null),b=h.useRef(null),w=t>0,C=h.useCallback(()=>{f&&(p(!1),y==null||y.focus())},[y,f,p]),_=h.useCallback(()=>{c(),C()},[C,c]),S=h.useMemo(()=>hC(m),[m]),E=h.useCallback(()=>{var I;if(!S){C();return}(I=b.current)==null||I.discardDialogController.open()},[C,S]),j=h.useCallback(I=>{I.isDefaultPrevented()||d&&d(I)},[d]),k=h.useCallback(()=>{var I;(I=b.current)==null||I.discardDialogController.close()},[]),T=h.useCallback(()=>{var I;(I=b.current)==null||I.discardDialogController.close(),C(),u()},[C,u]),A=h.useCallback(I=>{I.key==="Escape"&&(I.preventDefault(),I.stopPropagation(),E())},[E]),D=h.useCallback(()=>{f&&E()},[f,E]);if(ur(D,[v]),!w){const I=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:r})]}),P=l.jsx(EIn,{padding:2,space:4,children:l.jsx(rD,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:i,onChange:s,onDiscardCancel:k,onDiscardConfirm:T,onKeyDown:j,onSubmit:_,placeholder:I,readOnly:o,ref:b,value:m})});return l.jsx(en,{constrainSize:!0,content:P,fallbackPlacements:["bottom-end"],open:f,placement:"right-start",portal:!0,ref:g,onKeyDown:A,children:l.jsx("div",{children:l.jsx(at,{delay:oge,disabled:f,portal:!0,placement:"top",content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Add comment"})}),children:l.jsx(se,{"aria-label":"Add comment",disabled:o,fontSize:1,icon:WEn,mode:"bleed",onClick:a,padding:2,ref:x,selected:f})})})})}return l.jsx(at,{portal:!0,placement:"top",content:l.jsx(M,{padding:2,sizing:"border",children:l.jsxs(SIn,{size:1,children:["View comment",t>1?"s":""]})}),delay:oge,fallbackPlacements:["bottom"],children:l.jsx(se,{"aria-label":"Open comments",mode:"bleed",onClick:a,padding:2,children:l.jsxs(U,{align:"center",gap:2,children:[l.jsx(L,{size:1,children:l.jsx(YEn,{})}),l.jsx(L,{size:0,children:t>9?"9+":t})]})})})}var ige=Object.freeze,jIn=Object.defineProperty,T$e=(e,t)=>ige(jIn(e,"raw",{value:ige(t||e.slice())})),sge,age;const TIn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function AIn(e){const{documentId:t,documentType:n}=mr(),{isEnabled:r}=hz({documentId:t,documentType:n});return r?l.jsx(PIn,{...e}):e.renderDefault(e)}const lge={behavior:"smooth",block:"start"},DIn=O(od.div)(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=pe.blue[o.dark?900:50].hex;return he(sge||(sge=T$e([`
    mix-blend-mode: `,`;
    border-radius: `,`px;
    top: -`,`px;
    left: -`,`px;
    bottom: -`,`px;
    right: -`,`px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + `,`px);
    height: calc(100% + `,`px);
    background-color: `,`;
  `])),o.dark?"screen":"multiply",n[3],r[2],r[2],r[2],r[2],r[2]*2,r[2]*2,i)}),IIn=O(oe)(age||(age=T$e([`
  position: relative;
`])));function PIn(e){const[t,n]=h.useState(!1),[r,o]=h.useState(null),i=h.useRef(null),{element:s}=mm(),{openInspector:a,inspector:c}=mr(),u=Uo(),{comments:d,create:f,isRunningSetup:p,mentionOptions:m,setStatus:v,status:g}=v$e(),{selectedPath:y,setSelectedPath:x}=x$e(),b=h.useMemo(()=>Cp(e.schemaType),[e.schemaType]),[w,C]=h.useState(null),_=h.useMemo(()=>(c==null?void 0:c.name)===xb,[c==null?void 0:c.name]),S=h.useMemo(()=>!_||(y==null?void 0:y.origin)==="form"||(y==null?void 0:y.origin)==="url"?!1:(y==null?void 0:y.fieldPath)===Br(e.path),[_,e.path,y]),E=h.useMemo(()=>{const R=Br(e.path);return d.data.open.map(N=>N.fieldPath===R?N.commentsCount:0).reduce((N,W)=>N+W,0)||0},[d.data.open,e.path]),j=E>0,k=h.useCallback(()=>a(xb),[a]),T=h.useCallback(R=>{x({threadId:R,origin:"form",fieldPath:Br(e.path)}),C(R)},[e.path,x]),A=h.useCallback(()=>{var R;if(j){g==="resolved"&&v("open"),n(!1),a(xb);const V=(R=d.data.open.find(N=>N.fieldPath===Br(e.path)))==null?void 0:R.threadId;V&&T(V);return}n(V=>!V)},[g,j,T,d.data,v,a,e.path]),D=h.useCallback(()=>{if(r){const R=ld(),V={fieldPath:Br(e.path),message:r,parentCommentId:void 0,status:"open",threadId:R};f.execute(V),k(),g==="resolved"&&v("open"),o(null),T(R)}},[f,k,T,e.path,v,g,r]),I=h.useCallback(()=>o(null),[]),P=h.useMemo(()=>({...lge,boundary:s,scrollMode:"if-needed",block:"start"}),[s]);h.useEffect(()=>{S&&i.current&&_&&Yv(i.current,P)},[s,_,S,e.path,P]),h.useEffect(()=>{if(_&&w){const R=document.querySelector('[data-group-id="'.concat(w,'"]'));R&&(R.scrollIntoView(lge),C(null))}},[_,w]);const $=h.useMemo(()=>({button:u&&l.jsx(kIn,{count:Number(E),currentUser:u,fieldTitle:b,isRunningSetup:p,mentionOptions:m,onChange:o,onClick:A,onCommentAdd:D,onDiscard:I,open:t,setOpen:n,value:r}),hasComments:j,isAddingComment:t}),[u,E,b,m,A,D,I,t,r,p,j]);return l.jsxs(IIn,{ref:i,children:[e.renderDefault({...e,__internal_comments:$}),l.jsx(g6,{children:S&&l.jsx(DIn,{animate:"animate",exit:"exit",initial:"initial",variants:TIn})})]})}function OIn(e){return l.jsx(sIn,{children:l.jsx(NDn,{children:e.renderDefault(e)})})}const RIn=pB({name:"sanity/desk/comments",document:{inspectors:[CIn]},form:{components:{field:AIn}},studio:{components:{layout:OIn}}}),pz="sanityStudio:desk:renameDismissed",mz=(()=>{if(typeof localStorage>"u")return!1;const e="lsCheck";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}})();function $In(){const[e,t]=h.useState(()=>!FIn());h.useEffect(()=>{if(typeof window>"u"||!mz)return()=>{};function r(o){o.newValue!==o.oldValue&&o.key===pz&&t(o.newValue!=="1")}return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[]);const n=h.useCallback(()=>{t(!1),MIn()},[]);return{showOnboarding:e,dismissOnboarding:n}}function MIn(){mz&&localStorage.setItem(pz,"1")}function FIn(){return mz?localStorage.getItem(pz)==="1":!0}const LIn=Y8("desk-is-now-structure");function BIn(e){return function(){const[n,r]=h.useState(void 0),{showOnboarding:o,dismissOnboarding:i}=$In(),s=h.useCallback(a=>{const c=a==null?void 0:a.closest("[data-hidden]");r((c==null?void 0:c.getAttribute("data-hidden"))!=="true")},[]);return l.jsx("div",{ref:s,children:l.jsx(en,{content:l.jsx(NIn,{onDismiss:i}),open:o&&n,portal:!0,placement:"bottom",fallbackPlacements:["top","bottom"],__unstable_margins:[9,0,0,0],tone:"default",width:0,children:l.jsx(e,{})})})}}function NIn(e){const t=h.useCallback(n=>{n.stopPropagation()},[]);return l.jsxs(oe,{as:"section",padding:3,space:3,onClick:t,children:[l.jsxs(oe,{padding:2,space:4,children:[l.jsx(U,{gap:2,align:"center",children:l.jsxs(L,{as:"h1",size:1,weight:"semibold",children:[l.jsx("strong",{children:"Desk"})," is now ",l.jsx("strong",{children:"Structure"})]})}),l.jsx(oe,{space:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:"We've renamed this tool to better reflect its purpose alongside the new Presentation tool."})})]}),l.jsxs(Jt,{columns:2,gap:3,children:[l.jsx(se,{as:"a","data-as":"a",href:LIn,icon:Uf,target:"_blank",rel:"noreferrer",fontSize:1,padding:3,text:"Learn more",mode:"ghost"}),l.jsx(se,{fontSize:1,icon:Js,onClick:e.onDismiss,padding:3,text:"Got it",tone:"primary"})]})]})}const A$e=h.createContext(null);function d1(){const e=h.useContext(A$e);if(!e)throw new Error("DeskTool: missing context value");return e}const zIn={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},VIn={create:k3,delete:po,discardDraft:Ti,initial:k3,editDraft:Du,editLive:Du,publish:f0,unpublish:NS};function D$e(e){return zIn[e]}function HIn(e){return VIn[e]}function UIn(e){let{maxLength:t,userIds:n}=e;return l.jsx(Pj,{maxLength:t,children:n.map(r=>l.jsx(Ua,{user:r,withTooltip:!0},r))})}var cge=Object.freeze,WIn=Object.defineProperty,Sp=(e,t)=>cge(WIn(e,"raw",{value:cge(t||e.slice())})),uge,dge,fge,hge,pge,mge,gge;const $S=O(U)(e=>{let{theme:t}=e;var n;const r=(n=t.sanity.color.base.skeleton)==null?void 0:n.from;return he(uge||(uge=Sp([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),YIn=O(se)(e=>{let{$selected:t,$disabled:n}=e;return he(hge||(hge=Sp([`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] `,`::before {
      height: 50%;
    }

    `,`

    `,`
  `])),$S,$S,t&&he(dge||(dge=Sp([`
      `,`::before {
        background: transparent;
      }
    `])),$S),n&&he(fge||(fge=Sp([`
      cursor: not-allowed;
    `]))))}),qIn=O(M)(pge||(pge=Sp([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),GIn=O(L)(mge||(mge=Sp([`
  text-transform: capitalize;
`]))),KIn=O(M)(gge||(gge=Sp([`
  min-width: 1rem;
  margin-left: `,`;
`])),e=>{let{theme:t}=e;return"-".concat(ye(t.sanity.space[1]))}),vge={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function ZIn(e){let{chunk:t,isFirst:n,isLast:r,isLatest:o,isSelected:i,onSelect:s,timestamp:a,type:c}=e;const u=HIn(c),d=Array.from(t.authors),f=c!=="delete",p=h.useMemo(()=>{const v=new Date(a);return Jo(v,"MMM d, yyyy, hh:mm a")},[a]),m=h.useCallback(v=>{v.preventDefault(),v.stopPropagation(),f&&s(t)},[s,t,f]);return l.jsx(YIn,{$selected:i,$disabled:!f,"data-chunk-id":t.id,"data-first":n?!0:void 0,"data-last":r?!0:void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:m,padding:0,radius:2,tone:i?"primary":vge[t.type],children:l.jsx(M,{paddingX:2,children:l.jsxs(U,{align:"stretch",children:[l.jsx($S,{align:"center",children:l.jsx(qIn,{padding:2,children:l.jsx(L,{size:2,children:u&&h.createElement(u)})})}),l.jsxs(oe,{space:2,margin:2,children:[o&&l.jsx(U,{children:l.jsx(ee,{padding:1,radius:2,shadow:1,tone:i?"primary":vge[t.type],children:l.jsx(Vt,{muted:!0,size:0,children:"Latest"})})}),l.jsx(M,{children:l.jsx(GIn,{size:1,weight:"medium",children:D$e(c)||l.jsx("code",{children:c})})}),l.jsx(KIn,{paddingX:1,children:l.jsx(L,{size:0,muted:!0,children:p})})]}),l.jsx(U,{flex:1,justify:"flex-end",align:"center",children:l.jsx(UIn,{maxLength:3,userIds:d})})]})})})}var yge=Object.freeze,XIn=Object.defineProperty,S5=(e,t)=>yge(XIn(e,"raw",{value:yge(t||e.slice())})),bge,xge,wge,Cge;const QIn=O(oe)(bge||(bge=S5([`
  max-width: 200px;
`]))),JIn=O(U)(xge||(xge=S5([`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`]))),ePn=O(M)(e=>{let{$visible:t}=e;return he(Cge||(Cge=S5([`
    opacity: 0;
    pointer-events: none;

    `,`
  `])),t&&he(wge||(wge=S5([`
      opacity: 1;
      pointer-events: auto;
    `]))))}),tF=e=>{let{chunks:t,disabledBeforeFirstChunk:n,hasMoreChunks:r,lastChunk:o,onLoadMore:i,onSelect:s,firstChunk:a}=e;const[c,u]=h.useState(!1),d=h.useMemo(()=>t.filter(m=>n&&a?m.index<a.index:!0),[t,n,a]),f=h.useMemo(()=>o!=null&&o.id?d.findIndex(m=>m.id===o.id):-1,[o==null?void 0:o.id,d]),p=h.useCallback((m,v)=>{let{activeIndex:g}=v;const y=g===0,x=d&&g===d.length-1||!1;return l.jsxs(M,{paddingBottom:x?1:0,paddingTop:y?1:0,paddingX:1,children:[l.jsx(ZIn,{chunk:m,isFirst:y,isLast:x,isLatest:g===0&&!n,isSelected:g===f,onSelect:s,timestamp:m.endTimestamp,type:m.type}),g===d.length-1&&r&&l.jsx(U,{align:"center",justify:"center",padding:4,children:l.jsx(fr,{muted:!0})})]})},[n,d,r,s,f]);return h.useEffect(()=>u(!0),[]),l.jsxs(ePn,{$visible:!f||c,"data-ui":"timeline",children:[d.length===0&&l.jsxs(QIn,{padding:3,space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"No document history"}),l.jsx(L,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),d.length>0&&l.jsx(JIn,{direction:"column",children:l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:"Document revisions",autoFocus:"list",initialIndex:f,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:p,wrapAround:!1})})]})};tF.displayName="Timeline";function tPn(){return l.jsxs(U,{align:"flex-start",gap:3,padding:4,children:[l.jsx(lr,{tone:"critical",children:l.jsx(aa,{})}),l.jsxs(oe,{space:4,children:[l.jsx(lr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst retrieving document changes."}),l.jsx(lr,{size:1,tone:"critical",children:"Document history transactions have not been affected."})]})]})}var _ge=Object.freeze,nPn=Object.defineProperty,rPn=(e,t)=>_ge(nPn(e,"raw",{value:_ge(t||e.slice())})),Sge;const oPn=O(en)(Sge||(Sge=rPn([`
  overflow: hidden;
  overflow: clip;
`])));function I$e(e){let{chunk:t,mode:n,placement:r}=e;const{setTimelineRange:o,setTimelineMode:i,timelineError:s,ready:a,timelineStore:c,isDeleted:u}=mr(),[d,f]=h.useState(!1),[p,m]=h.useState(null),[v,g]=h.useState(null),y=Ho(),x=ao(c,N=>N.chunks),b=ao(c,N=>N.isLoading),w=ao(c,N=>N.hasMoreChunks),C=ao(c,N=>N.realRevChunk),_=ao(c,N=>N.sinceTime),S=h.useCallback(()=>{i(n),f(!0)},[n,i]),E=h.useCallback(()=>{i("closed"),f(!1)},[i]),j=h.useCallback(()=>{d&&E()},[E,d]),k=h.useCallback(N=>{d&&(N.key==="Escape"||N.key==="Tab")&&(E(),p==null||p.focus())},[p,E,d]);ur(j,[p,v]),Ts(k);const T=h.useCallback(N=>{try{const[W,G]=c.findRangeForRev(N);i("closed"),o(W,G)}catch(W){y.push({closable:!0,description:W.message,status:"error",title:"Unable to load revision"})}},[i,o,c,y]),A=h.useCallback(N=>{try{const[W,G]=c.findRangeForSince(N);i("closed"),o(W,G)}catch(W){y.push({closable:!0,description:W.message,status:"error",title:"Unable to load revision"})}},[i,o,c,y]),D=h.useCallback(()=>{b||c.loadMore()},[b,c]),I=s?l.jsx(tPn,{}):l.jsxs(l.Fragment,{children:[n==="rev"&&l.jsx(tF,{chunks:x,firstChunk:C,hasMoreChunks:w,lastChunk:C,onLoadMore:D,onSelect:T}),n==="since"&&l.jsx(tF,{chunks:x,disabledBeforeFirstChunk:!0,firstChunk:C,hasMoreChunks:w,lastChunk:_,onLoadMore:D,onSelect:A})]}),P=iPn((t==null?void 0:t.endTimestamp)||""),$=t?"".concat(DSe(D$e(t.type)),": ").concat(P):"Latest version",R=t?"Since: ".concat(P):"Since: unknown version",V=n==="rev"?$:R;return l.jsx(oPn,{constrainSize:!0,content:d&&I,"data-ui":"versionMenu",open:d,placement:r,portal:!0,ref:g,children:l.jsx(se,{disabled:!a,mode:"bleed",fontSize:1,padding:2,iconRight:Nl,onClick:d?E:S,ref:m,selected:d,style:{maxWidth:"100%"},text:a?V:"Loading history"})})}function iPn(e){return h.useMemo(()=>{const n=e?new Date(e):new Date;return Jo(n,"MMM d, yyyy, hh:mm a")},[e])}const sPn=O(ee)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function P$e(e){const{as:t,children:n,closeButtonLabel:r,onClose:o,title:i,...s}=e;return l.jsxs(sPn,{...s,as:t,children:[l.jsxs(U,{padding:2,children:[l.jsx(M,{flex:1,padding:3,children:l.jsx(L,{as:"h1",size:1,weight:"semibold",children:i})}),l.jsx(M,{flex:"none",padding:1,children:l.jsx(se,{"aria-label":r,fontSize:1,icon:Ti,mode:"bleed",onClick:o,padding:2})})]}),n]})}var Ege=Object.freeze,aPn=Object.defineProperty,lPn=(e,t)=>Ege(aPn(e,"raw",{value:Ege(t||e.slice())})),kge;const cPn=O.div(kge||(kge=lPn([`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
    opacity: 0.5;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`])));function uPn(e){const{onResize:t,onResizeStart:n}=e,r=h.useRef(0),o=h.useCallback(i=>{i.preventDefault(),r.current=i.pageX,n();const s=c=>{c.preventDefault(),t(c.pageX-r.current)},a=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)},[t,n]);return l.jsxs(cPn,{onMouseDown:o,children:[l.jsx("span",{}),l.jsx("span",{})]})}var jge=Object.freeze,dPn=Object.defineProperty,fPn=(e,t)=>jge(dPn(e,"raw",{value:jge(t||e.slice())})),Tge;const hPn=O(M)(Tge||(Tge=fPn([`
  position: relative;
  flex: 1;
  padding-left: 1px;
`])));function pPn(e){const{as:t,children:n,minWidth:r,maxWidth:o,...i}=e,[s,a]=h.useState(null),c=h.useRef(),[u,d]=h.useState(),f=h.useCallback(()=>{c.current=s==null?void 0:s.offsetWidth},[s]),p=h.useCallback(v=>{const g=c.current;g&&d(Math.min(Math.max(g-v,r),o))},[r,o]),m=h.useMemo(()=>u?{flex:"none",width:u}:{minWidth:r,maxWidth:o},[r,o,u]);return l.jsxs(hPn,{as:t,...i,ref:a,style:m,children:[n,l.jsx(uPn,{onResize:p,onResizeStart:f})]})}function mPn(e){const{documentId:t,documentType:n,flex:r}=e,{collapsed:o}=hh(),{closeInspector:i,inspector:s}=mr(),{features:a}=d1(),c=h.useCallback(()=>{s&&i(s.name)},[i,s]);if(o||!s)return null;const u=h.createElement(s.component,{onClose:c,documentId:t,documentType:n});return a.resizablePanes?l.jsx(pPn,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,maxWidth:gEn,minWidth:z4,children:u}):l.jsx(M,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,children:u})}function gPn(){return l.jsx(XN,{ms:300,children:l.jsxs(U,{align:"center",direction:"column",height:"fill",justify:"center",paddingTop:3,children:[l.jsx(fr,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Loading changes"})})]})})}function vPn(e){const t=new Map;return hA(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:o}=n.annotation,i=t.get(r);return(!i||i.timestamp<o)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}var Age=Object.freeze,yPn=Object.defineProperty,bPn=(e,t)=>Age(yPn(e,"raw",{value:Age(t||e.slice())})),Dge;const xPn=O(lA)(Dge||(Dge=bPn([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function wPn(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:o,timelineStore:i,value:s}=mr(),a=h.useRef(null),c=ao(i,y=>y.diff),u=ao(i,y=>y.onOlderRevision),d=ao(i,y=>y.selectionState),f=ao(i,y=>y.sinceTime),p=d==="loading",m=!u,v=ie.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:OUt,rootDiff:c,isComparingCurrent:m,value:s}),[n,c,m,r,s]),g=ie.useMemo(()=>c?vPn(c):[],[c]);return l.jsxs(U,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(P$e,{as:"header",closeButtonLabel:"Close review changes",flex:"none",onClose:t,title:"Review changes",children:l.jsxs(U,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[l.jsx(M,{flex:1,children:l.jsx(I$e,{mode:"since",chunk:f,placement:"bottom-start"})}),l.jsx(M,{flex:"none",children:l.jsx(Xi,{annotations:g,description:"Changes by",portal:!0,children:l.jsx(Pj,{maxLength:4,"aria-label":"Changes by",children:g.map(y=>{let{author:x}=y;return l.jsx(Ua,{user:x},x)})})})})]})}),l.jsx(ee,{flex:1,children:l.jsx(Lu,{element:a.current,children:l.jsx(xPn,{"data-ui":"Scroller",ref:a,children:l.jsx(M,{flex:1,padding:4,children:l.jsx(CPn,{diff:c,documentContext:v,error:o,loading:p,schemaType:r})})})})})]})}function CPn(e){let{error:t,diff:n,documentContext:r,loading:o,schemaType:i}=e;return t?l.jsx(l4,{}):o?l.jsx(gPn,{}):n?l.jsx(CDe.Provider,{value:r,children:l.jsx(Jw,{diff:n,schemaType:i})}):l.jsx(l4,{})}const _Pn={name:H4,useMenuItem:()=>{const{features:e}=d1();return{hidden:!e.reviewChanges,icon:RF,title:"Review changes"}},component:wPn,onClose:e=>{let{params:t}=e;return{params:{...t,since:void 0}}},onOpen:e=>{let{params:t}=e;return{params:{...t,since:"@lastPublished"}}}};function SPn(e){const{path:t,schemaType:n,value:r}=e,o=[];let i=n,s=r;for(const a of t){if(typeof a=="string"){if(!wt(s)&&s!==void 0)throw new Error("Parent value is not an object, cannot get path segment: .".concat(a));if(i.jsonType!=="object")throw new Error("Parent type is not an object schema type, cannot get path segment: .".concat(a));s=s==null?void 0:s[a];const c=i.fields.find(u=>u.name===a);if(!c)throw new Error("Field type not found: .".concat(a));i=c.type,o.push(i);continue}if(typeof a=="number"){if(!aee(s)&&s!==void 0)throw new Error("Parent value is not an array, cannot get path segment: [".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: [".concat(a,"]"));s=s==null?void 0:s[a];const c=i.of.find(u=>typeof s=="string"?u.jsonType==="string":typeof s=="number"?u.jsonType==="number":typeof s=="boolean"?u.jsonType==="boolean":wt(s)?u.name===(s==null?void 0:s._type):!1);if(!c)throw new Error("Item type not found: [".concat(a,"]"));i=c,o.push(i);continue}if(wt(a)&&a._key){if(!aee(s))throw new Error("Parent value is not an array, cannot get path segment: [_key == ".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: .".concat(a));if(s=(s??[]).find(d=>wt(d)&&d._key===a._key),!wt(s))throw new Error("Array item not found: [_key == ".concat(a._key,"]"));const u=i.of.find(d=>wt(s)&&d.name===(s==null?void 0:s._type));if(!u)throw new Error("Array item type not found: .".concat(s==null?void 0:s._type));i=u,o.push(i);continue}throw new Error("Invalid path segment: ".concat(JSON.stringify(a)))}return o}const EPn={error:aa,warning:Fr,info:lm},kPn={error:"critical",warning:"caution",info:"primary"};function jPn(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:o,validation:i,value:s}=mr(),a=h.useCallback(c=>{r(c),n(c)},[n,r]);return l.jsxs(U,{direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(P$e,{as:"header",closeButtonLabel:"Close validation",flex:"none",onClose:t,title:"Validation"}),l.jsxs(ee,{flex:1,overflow:"auto",padding:3,children:[i.length===0&&l.jsx(M,{padding:2,children:l.jsx(L,{muted:!0,size:1,children:"No validation errors"})}),i.length>0&&l.jsx(oe,{space:2,children:i.map((c,u)=>l.jsx(TPn,{marker:c,onOpen:a,schemaType:o,value:s},u))})]})]})}function TPn(e){const{marker:t,onOpen:n,schemaType:r,value:o}=e,i=h.useCallback(()=>n(t.path),[t,n]),[s,a]=h.useState(null);return l.jsxs(x0,{onCatch:a,children:[s&&l.jsx(ee,{padding:3,radius:2,tone:"critical",children:l.jsxs(L,{size:1,children:["ERROR: ",s.error.message]})}),!s&&l.jsx(ee,{__unstable_focusRing:!0,as:"button",onClick:i,padding:3,radius:2,tone:kPn[t.level],children:l.jsxs(U,{align:"flex-start",gap:3,children:[l.jsx(M,{flex:"none",children:l.jsx(L,{size:1,children:h.createElement(EPn[t.level])})}),l.jsxs(oe,{flex:1,space:2,children:[l.jsx(APn,{path:t.path,schemaType:r,value:o}),l.jsx(L,{muted:!0,size:1,children:t.item.message})]})]})})]})}function APn(e){const{path:t,schemaType:n,value:r}=e,o=h.useMemo(()=>SPn({path:t,schemaType:n,value:r}),[t,n,r]);return l.jsx(L,{size:1,children:o.map((i,s)=>l.jsxs(h.Fragment,{children:[s>0&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),l.jsx("span",{style:{fontWeight:500},children:i.title||i.name})]},s))})}function DPn(e){const{documentId:t,documentType:n}=e,{validation:r}=RN(t,n),o=h.useMemo(()=>r.map(u=>({level:u.level,message:u.item.message,path:u.path})),[r]),i=o.some(DMe),s=o.some(IMe),a=h.useMemo(()=>i?aa:s?Fr:Z5,[i,s]),c=h.useMemo(()=>i?"critical":s?"caution":"positive",[i,s]);return{hidden:o.length===0,icon:a,title:"Validation",tone:c,showAsAction:!0}}const IPn={name:bEn,component:jPn,useMenuItem:DPn},PPn=[cRe,uRe,aRe,lRe,sRe,tz],OPn=[GSn],RPn=[IPn,_Pn],$Pn=pB(e=>{const t=e?typeof e.name=="string":!1,n=(e==null?void 0:e.icon)||C0e,r=t?n:BIn(n);return{name:"@sanity/desk-tool",document:{actions:o=>Array.from(new Set([...o,...PPn])),badges:o=>Array.from(new Set([...o,...OPn])),inspectors:o=>Array.from(new Set([...o,...RPn]))},plugins:[RIn()],tools:[{name:(e==null?void 0:e.name)||"structure",title:(e==null?void 0:e.title)||"Structure",icon:r,component:h.lazy(()=>S8(()=>import("./index-tPvISQ9P-3a54ea8f.js"),[])),canHandleIntent:(o,i)=>o==="create"?MPn(i):o==="edit"?FPn(i):!1,getIntentState:ZSn,controlsDocumentTitle:!0,options:e,router:rEn}]}});function MPn(e){return"type"in e?"template"in e?{template:!0}:!0:!1}function FPn(e){return"id"in e?"mode"in e?{mode:e.mode==="structure"}:!0:!1}class sn extends Error{constructor(t,n,r,o){super(t);const i=typeof r>"u"?"<unknown>":"".concat(r);this.path=(n||[]).concat(o?"".concat(i," (").concat(o,")"):i)}withHelpUrl(t){return this.helpId=t,this}}var In=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(In||{});const LPn=["_id","_type","_createdAt","_updatedAt","_rev"];function nF(e,t){const[n,...r]=t;if(!("fields"in e))return"";const o=e.fields.find(a=>a.name===n);if(!o)return LPn.includes(n)||console.warn('The current ordering config targeted the nonexistent field "%s" on schema type "%s". It should be one of %o',n,e.name,e.fields.map(a=>a.name)),"";if("to"in o.type&&o.type.name==="reference"){const a=o.type.to;return"".concat(n,"->{").concat(a.map(c=>nF(c,r)).join(","),"}")}const i=r.length>0&&nF(o.type,r),s=i?"{".concat(i,"}"):"";return r.length>0?"".concat(n).concat(s):n}function BPn(e,t){return t.map(n=>nF(e,n.field.split("."))).join(", ")}const O$e={title:"Last edited",name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},NPn={title:"Created",name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},zPn=O$e,Ige=[O$e,NPn];function R$e(e,t,n){return e instanceof Nf?e.serialize({path:n,index:t}):e}class Nf{constructor(t,n){this._context=t,this.spec=n||{}}action(t){return this.clone({action:t})}getAction(){return this.spec.action}intent(t){return this.clone({intent:t})}getIntent(){return this.spec.intent}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}group(t){return this.clone({group:t})}getGroup(){return this.spec.group}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}params(t){return this.clone({params:t})}getParams(){return this.spec.params}showAsAction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({showAsAction:!!t})}getShowAsAction(){return this.spec.showAsAction}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{title:n,action:r,intent:o}=this.spec;if(!n){const i=typeof r=="string"?'action: "'.concat(r,'"'):void 0;throw new sn("`title` is required for menu item",t.path,t.index,i).withHelpUrl(In.TITLE_REQUIRED)}if(!r&&!o)throw new sn("`action` or `intent` required for menu item with title ".concat(this.spec.title),t.path,t.index,'"'.concat(n,'"')).withHelpUrl(In.ACTION_OR_INTENT_REQUIRED);if(o&&r)throw new sn("cannot set both `action` AND `intent`",t.path,t.index,'"'.concat(n,'"')).withHelpUrl(In.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(t){const n=new Nf(this._context);return n.spec={...this.spec,...t||{}},n}}function $$e(e,t,n){return new Nf(e).group("sorting").title("Sort by ".concat(t.title)).icon(MF).action("setSortOrder").params({by:t.by,extendedProjection:n})}function M$e(e,t){const{schema:n}=e,r=typeof t=="string"?n.get(t):t;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(Ige):Ige).map(o=>$$e(e,o,BPn(r,o.by)))}function F$e(e,t,n){return e instanceof Ux?e.serialize({path:n,index:t}):e}class Ux{constructor(t,n){this._context=t,this._id=n?n.id:"",this._title=n?n.title:""}id(t){return new Ux(this._context,{id:t,title:this._title})}getId(){return this._id}title(t){return new Ux(this._context,{id:this._id,title:t})}getTitle(){return this._title}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{_id:n,_title:r}=this;if(!n)throw new sn("`id` is required for a menu item group",t.path,t.index,r).withHelpUrl(In.ID_REQUIRED);if(!r)throw new sn("`title` is required for a menu item group",t.path,n).withHelpUrl(In.TITLE_REQUIRED);return{id:n,title:r}}}const L$e=/([^A-Za-z0-9-_.])/;function yC(e,t,n){if(typeof e!="string")throw new sn("Structure node id must be of type string, got ".concat(typeof e),t,n);const[r]=e.match(L$e)||[];if(r)throw new sn('Structure node id cannot contain character "'.concat(r,'"'),t,n);if(e.startsWith("__edit__"))throw new sn("Structure node id cannot start with __edit__",t,n);return e}function aD(e,t){if(t)return t;const n=she(e);return L$e.test(n)?she(qje(e)):n}class Wx{constructor(t){this.spec={options:{},...t||{}}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:aD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o,options:i,component:s}=this.spec;if(!n)throw new sn("`id` is required for `component` structure item",t.path,t.index).withHelpUrl(In.ID_REQUIRED);if(!s)throw new sn("`component` is required for `component` structure item",t.path,t.index).withHelpUrl(In.ID_REQUIRED);return{id:yC(n,t.path,t.index),title:r,type:"component",child:o,component:s,options:i||{},menuItems:(this.spec.menuItems||[]).map((a,c)=>R$e(a,c,t.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((a,c)=>F$e(a,c,t.path))}}clone(t){const n=new Wx;return n.spec={...this.spec,...t||{}},n}}async function B$e(e,t){const n="*[_id in [$documentId, $draftId]]._type",r=On(t),o=si(t);return(await e(an).fetch(n,{documentId:r,draftId:o},{tag:"structure.resolve-type"}))[0]}class gz{constructor(){this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:this.spec.id||C_n(t)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,icon:o}=this.spec;if(!n)throw new sn("`id` is required for view item",t.path,t.index).withHelpUrl(In.ID_REQUIRED);if(!r)throw new sn("`title` is required for view item",t.path,t.index).withHelpUrl(In.TITLE_REQUIRED);return{id:yC(n,t.path,t.index),title:r,icon:o}}}function VPn(e){return typeof e.serialize=="function"}function N$e(e,t,n){return VPn(e)?e.serialize({path:n,index:t}):e}const HPn=e=>wt(e)&&e.type==="component";class lD extends gz{constructor(t){const n=HPn(t)?{...t}:{options:{}};super(),this.spec=n;const r=typeof t=="function"?t:this.spec.component;r&&(this.spec=this.component(r).spec)}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize(t),r=this.spec.component;if(typeof r!="function")throw new sn("`component` is required and must be a function for `component()` view item",t.path,t.index).withHelpUrl(In.COMPONENT_REQUIRED);return{...n,component:r,options:this.spec.options||{},type:"component"}}clone(t){const n=new lD;return n.spec={...this.spec,...t||{}},n}}class cD extends gz{constructor(t){super(),this.spec={id:"editor",title:"Editor",...t||{}}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};return{...super.serialize(t),type:"form"}}clone(t){const n=new cD;return n.spec={...this.spec,...t||{}},n}}const z$e=e=>new cD(e),UPn=e=>new lD(e);var WPn=Object.freeze({__proto__:null,ComponentViewBuilder:lD,FormViewBuilder:cD,GenericViewBuilder:gz,component:UPn,form:z$e,maybeSerializeView:N$e});const YPn=e=>{let{resolveDocumentNode:t,getClient:n}=e;return async(r,o)=>{let{params:i,path:s}=o,a=i.type;const c=s.slice(0,s.length-1),u=s[s.length-1];if(a||(a=await B$e(n,r)),!a)throw new sn("Failed to resolve document, and no type provided in parameters.",c,u);return t({documentId:r,schemaType:a})}};class zf{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:aD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}documentId(t){const n=this.spec.id||t;return this.clone({id:n,options:{...this.spec.options||{},id:t}})}getDocumentId(){var t;return(t=this.spec.options)==null?void 0:t.id}schemaType(t){return this.clone({options:{...this.spec.options||{},type:typeof t=="string"?t:t.name}})}getSchemaType(){var t;return(t=this.spec.options)==null?void 0:t.type}initialValueTemplate(t,n){return this.clone({options:{...this.spec.options||{},template:t,templateParameters:n}})}getInitialValueTemplate(){var t;return(t=this.spec.options)==null?void 0:t.template}getInitialValueTemplateParameters(){var t;return(t=this.spec.options)==null?void 0:t.templateParameters}views(t){return this.clone({views:t})}getViews(){return this.spec.views||[]}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const o=t[n||t.length-1],i=this.spec.id||o&&"".concat(o)||"",s={id:i,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof i!="string"||!i)throw new sn("`id` is required for document nodes",t,n,r).withHelpUrl(In.ID_REQUIRED);if(!s||!s.id)throw new sn("document id (`id`) is required for document nodes",t,i,r).withHelpUrl(In.DOCUMENT_ID_REQUIRED);if(!s||!s.type)throw new sn("document type (`schemaType`) is required for document nodes",t,i,r);const a=(this.spec.views&&this.spec.views.length>0?this.spec.views:[z$e()]).map((d,f)=>N$e(d,f,t)),c=a.map(d=>d.id),u=ho(c.filter((d,f)=>c.includes(d,f+1)));if(u.length>0)throw new sn("document node has views with duplicate IDs: ".concat(u.join(",  ")),t,i,r);return{...this.spec,child:this.spec.child||YPn(this._context),id:yC(i,t,n),type:"document",options:qPn(s),views:a}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new zf(this._context),r={...this.spec.options||{},...t.options||{}};return n.spec={...this.spec,...t,options:r},n}}function qPn(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function GPn(e,t){let n=t!=null&&t.type?e.resolveDocumentNode({schemaType:t.type}):new zf(e);if(!t)return n;const{id:r,type:o,template:i,templateParameters:s}=t.options;return n=n.id(t.id).documentId(r),o&&(n=n.schemaType(o)),i&&(n=n.initialValueTemplate(i,s)),t.child&&(n=n.child(t.child)),n}function KPn(e,t,n){let{resolveDocumentNode:r,templates:o}=e;const i=o.find(s=>s.id===t);if(!i)throw new Error('Template with ID "'.concat(t,'" not defined'));return r({schemaType:i.schemaType}).initialValueTemplate(t,n)}const Pge=["default","card","media","detail","block"],V$e=Symbol("Document type list canHandleIntent"),vz=(e,t,n)=>{let{pane:r}=n;var o,i;const s=e==="edit",a=e==="create",c=r,u=((o=c.options)==null?void 0:o.filter)||"",d=((i=c.options)==null?void 0:i.params)||{},f=c.schemaTypeName?[c.schemaTypeName]:yz(u,d),p=c.initialValueTemplates||[];return a&&t.template?p.some(m=>m.templateId===t.template):s&&t.id&&f.includes(t.type)||a&&f.includes(t.type)};vz.identity=V$e;class uD{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}description(t){return this.clone({description:t})}getDescription(){return this.spec.description}templateId(t){const n=this.spec.id||t;return this.clone({id:n,templateId:t})}getTemplateId(){return this.spec.templateId}parameters(t){return this.clone({parameters:t})}getParameters(){return this.spec.parameters}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{spec:o,_context:i}=this,{templates:s}=i;if(typeof o.id!="string"||!o.id)throw new sn("`id` is required for initial value template item nodes",t,n,r).withHelpUrl(In.ID_REQUIRED);if(!o.templateId)throw new sn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(In.ID_REQUIRED);const a=s.find(c=>c.id===o.templateId);if(!a)throw new sn("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(In.ID_REQUIRED);return{id:o.id,templateId:o.id,schemaType:a.schemaType,type:"initialValueTemplateItem",description:o.description||a.description,title:o.title||a.title,subtitle:o.subtitle,icon:o.icon||a.icon,initialDocumentId:o.initialDocumentId,parameters:o.parameters}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new uD(this._context);return n.spec={...this.spec,...t},n}}function ZPn(e){const{schema:t,getStructureBuilder:n,templates:r}=e,o=t.getTypeNames();return r.filter(s=>{var a;return!((a=s.parameters)!=null&&a.length)}).sort((s,a)=>o.indexOf(s.schemaType)-o.indexOf(a.schemaType)).map(s=>n().initialValueTemplateItem(s.id))}function XPn(e,t,n){return e instanceof uD?e.serialize({path:n,index:t}):e}function QPn(e,t){const{schema:n,templates:r}=e;return t.map(o=>{const i=r.find(d=>d.id===o.templateId),s=o.title||(i==null?void 0:i.title)||"Create new",a={};i&&i.schemaType&&(a.type=i.schemaType),o.templateId&&(a.template=o.templateId);const c=o.parameters?[a,o.parameters]:a,u=i&&n.get(i.schemaType);return new Nf(e).title(s).icon(i&&i.icon||(u==null?void 0:u.icon)||ko).intent({type:"create",params:c}).serialize()})}function JPn(){}const H$e=(e,t,n)=>{let{pane:r,index:o}=n;return o<=1&&vz(e,t,{pane:r,index:o})};class U$e{constructor(){this.initialValueTemplatesSpecified=!1,this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:aD(t,this.spec.id)})}getTitle(){return this.spec.title}defaultLayout(t){return this.clone({defaultLayout:t})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}child(t){return this.clone({child:t})}getChild(){return this.spec.child}canHandleIntent(t){return this.clone({canHandleIntent:t})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:t}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(t){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(t)?t:[t]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id||"",r=t.path,o=this.spec.defaultLayout;if(o&&!Pge.includes(o))throw new sn("`layout` must be one of ".concat(Pge.map(s=>'"'.concat(s,'"')).join(", ")),r,n||t.index,this.spec.title);const i=(this.spec.initialValueTemplates||[]).map((s,a)=>XPn(s,a,r));return{id:yC(n,t.path,n||t.index),title:this.spec.title,type:"genericList",defaultLayout:o,child:this.spec.child||JPn,canHandleIntent:this.spec.canHandleIntent||H$e,displayOptions:this.spec.displayOptions,initialValueTemplates:i,menuItems:(this.spec.menuItems||[]).map((s,a)=>R$e(s,a,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((s,a)=>F$e(s,a,r))}}}const eOn=(e,t)=>{var n;const r=((n=e.options)==null?void 0:n.filter.trim())||"";if(["*","{"].includes(r[0]))throw new sn("`filter` cannot start with `".concat(r[0],"` - looks like you are providing a query, not a filter"),t.path,e.id,e.title).withHelpUrl(In.QUERY_PROVIDED_FOR_FILTER);return r},tOn=e=>(t,n)=>{var r;const o=n.parent,i=(r=n.params)!=null&&r.template?e.templates.find(a=>a.id===n.params.template):void 0,s=i?i.schemaType:o.schemaTypeName||B$e(e.getClient,t);return Promise.resolve(s).then(a=>a?e.resolveDocumentNode({schemaType:a,documentId:t}):new zf(e).id("editor").documentId(t).schemaType(""))};class bC extends U$e{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n!=null&&n.initialValueTemplates)}apiVersion(t){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:t}})}getApiVersion(){var t;return(t=this.spec.options)==null?void 0:t.apiVersion}filter(t){return this.clone({options:{...this.spec.options||{},filter:t}})}getFilter(){var t;return(t=this.spec.options)==null?void 0:t.filter}schemaType(t){const n=typeof t=="string"?t:t.name;return this.clone({schemaTypeName:n})}getSchemaType(){return this.spec.schemaTypeName}params(t){return this.clone({options:{...this.spec.options||{filter:""},params:t}})}getParams(){var t;return(t=this.spec.options)==null?void 0:t.params}defaultOrdering(t){if(!Array.isArray(t))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:t}})}getDefaultOrdering(){var t;return(t=this.spec.options)==null?void 0:t.defaultOrdering}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};var n;if(typeof this.spec.id!="string"||!this.spec.id)throw new sn("`id` is required for document lists",t.path,t.index,this.spec.title).withHelpUrl(In.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new sn("`filter` is required for document lists",t.path,this.spec.id,this.spec.title).withHelpUrl(In.FILTER_REQUIRED);return!(((n=this.spec.options)==null?void 0:n.filter)==="_type == $type")&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn("No apiVersion specified for document type list with custom filter: `".concat(this.spec.options.filter,"`. This will be required in the future. See %s for more info."),Y8(In.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(t),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||tOn(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||an.apiVersion,filter:eOn(this.spec,t)}}}clone(t){const n=new bC(this._context);return n.spec={...this.spec,...t||{}},this.initialValueTemplatesSpecified||(n.spec.initialValueTemplates=nOn(this._context,n.spec)),n.spec.schemaTypeName||(n.spec.schemaTypeName=rOn(n.spec)),n}getSpec(){return this.spec}}function nOn(e,t){const{document:n}=e,{schemaTypeName:r,options:o}=t,{filter:i,params:s}=o||{filter:"",params:{}},a=r?[r]:Array.from(new Set(yz(i,s)));if(a.length!==0)return a.flatMap(c=>n.resolveNewDocumentOptions({type:"structure",schemaType:c})).map(c=>({...c,icon:ko}))}function rOn(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},o=yz(n,r);return o.length===1?o[0]:void 0}function yz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=oOn(e,t);return n.length===0&&(n=iOn(e,t)),n}function oOn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let o;for(;(o=n.exec(e))!==null;)r.push(o[1]||o[2]);return r.map(i=>((i[0]==="$"?t[i.slice(1)]:i)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function iOn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s+in\s+\[(.*?)\]/,r=e.match(n);return r?r[1].split(/,\s*/).map(o=>o.trim().replace(/^["']+|["']+$/g,"")).map(o=>o[0]==="$"?t[o.slice(1)]:o).filter(Boolean):[]}const sOn=e=>e instanceof f1?"ListBuilder":dOn(e)?"Promise":Array.isArray(e)?"array":typeof e,aOn=e=>e.type==="listItem",lOn=(e,t,n)=>(n.pane.items||[]).filter(hOn).some(i=>i.schemaType.name===t.type&&i._id===t.id)||H$e(e,t,n),cOn=(e,t)=>{const o=(t.parent.items.filter(aOn).find(i=>i.id===e)||{child:void 0}).child;return!o||typeof o!="function"?o:typeof o=="function"?o(e,t):o};function uOn(e,t,n){if(e instanceof h1)return e.serialize({path:n,index:t});const r=e;if(r&&r.type==="divider")return e;if(!r||r.type!=="listItem"){const o=r&&r.type||sOn(r),i=o==="array"?" - did you forget to spread (...moreItems)?":"";throw new sn('List items must be of type "listItem", got "'.concat(o,'"').concat(i),n,t).withHelpUrl(In.INVALID_LIST_ITEM)}return e}function dOn(e){return wt(e)&&typeof e.then=="function"}class f1 extends U$e{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n&&n.initialValueTemplates)}items(t){return this.clone({items:t})}getItems(){return this.spec.items}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id;if(typeof n!="string"||!n)throw new sn("`id` is required for lists",t.path,t.index).withHelpUrl(In.ID_REQUIRED);const r=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(r))throw new sn("`items` must be an array of items",t.path,t.index).withHelpUrl(In.LIST_ITEMS_MUST_BE_ARRAY);const o=(t.path||[]).concat(n),i=r.map((a,c)=>uOn(a,c,o)),s=i.filter((a,c)=>Wje(i,{id:a.id},c+1));if(s.length>0){const a=s.map(u=>u.id).slice(0,5),c=s.length>5?"".concat(a.join(", "),"..."):a.join(", ");throw new sn("List items with same ID found (".concat(c,")"),t.path,t.index).withHelpUrl(In.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(t),type:"list",canHandleIntent:this.spec.canHandleIntent||lOn,child:this.spec.child||cOn,items:i}}clone(t){const n=new f1(this._context);return n.spec={...this.spec,...t||{}},n}}class h1{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:aD(t,this.spec.id)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}showIcon(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:t}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(t){return this.clone({child:t})}getChild(){return this.spec.child}schemaType(t){return this.clone({schemaType:t})}getSchemaType(){const t=this.spec.schemaType;return typeof t=="string"?this._context.schema.get(t):this.spec.schemaType}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o}=this.spec;if(typeof n!="string"||!n)throw new sn("`id` is required for list items",t.path,t.index).withHelpUrl(In.ID_REQUIRED);if(!t.titleIsOptional&&(typeof r!="string"||!r))throw new sn("`title` is required for list items",t.path,n).withHelpUrl(In.TITLE_REQUIRED);let i=this.spec.schemaType;if(typeof i=="string"){const c=this._context.schema.get(i);if(!c)throw new sn('Could not find type "'.concat(i,'" in schema'),t.path,n).withHelpUrl(In.SCHEMA_TYPE_NOT_FOUND);i=c}const s={path:t.path.concat(n),hint:"child"};let a=o instanceof Wx||o instanceof bC||o instanceof zf||o instanceof f1?o.serialize(s):o;if(typeof a=="function"){const c=a;a=(u,d)=>c(u,{...d,serializeOptions:s})}return{...this.spec,id:yC(n,t.path,t.index),schemaType:i,child:a,title:r,type:"listItem"}}clone(t){const n=new h1(this._context);return n.spec={...this.spec,...t||{}},n}}const fOn=(e,t)=>n=>{const r=t.schemaType&&(typeof t.schemaType=="string"?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new zf(e).id("documentEditor").documentId(n)};class bz extends h1{constructor(t,n){super(t,n),this._context=t,this.spec=n||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize({...t,titleIsOptional:!0});if(!n.schemaType)throw new sn("`schemaType` is required for document list items",t.path,t.index).withHelpUrl(In.SCHEMA_TYPE_REQUIRED);const r=n.child||fOn(this._context,n);return{...n,child:r,schemaType:n.schemaType,_id:n.id}}clone(t){const n=new bz(this._context);return n.spec={...this.spec,...t||{}},n}}function hOn(e){return wt(e)&&typeof e.schemaType<"u"&&typeof e._id=="string"}class E5 extends bC{constructor(t,n){super(t),this._context=t,this.spec=n||{}}child(t){return this.cloneWithoutDefaultIntentHandler({child:t})}clone(t){const n=super.clone(t),r=new E5(this._context);return r.spec={...this.spec,...n.getSpec(),...t||{}},r}cloneWithoutDefaultIntentHandler(t){const n=super.clone(t),r=new E5(this._context),o=this.spec.canHandleIntent,s=o&&o.identity===V$e?{canHandleIntent:void 0}:{};return r.spec={...n.getSpec(),...this.spec,...t||{},...s},r}}function pOn(e){const t=e.preview;return!!(t&&(t.prepare||t.select&&t.select.media))}const mOn=["sanity.imageAsset","sanity.fileAsset"];function gOn(e){return mOn.includes(e)}function vOn(e){var t;return((t=e.type)==null?void 0:t.name)==="document"}function yOn(e){return e.type==="list"}function bOn(e){let{schema:t}=e;return t.getTypeNames().filter(n=>{const r=t.get(n);return r&&vOn(r)}).filter(n=>!gOn(n))}function W$e(e){return bOn(e).map(n=>Y$e(e,n))}function Y$e(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error('Schema type with name "'.concat(t,'" not found'));const o=r.title||un(t);return new h1(e).id(t).title(o).schemaType(r).child((i,s)=>{const a=s.parent,c=yOn(a)?a.items.find(d=>d.id===i):null;let u=q$e(e,t);return c&&c.title&&(u=u.title(c.title)),u})}function q$e(e,t){const{schema:n,resolveDocumentNode:r}=e,o=typeof t=="string"?t:t.schemaType,i=typeof o=="string"?o:o.name,s=typeof t=="string"?{schemaType:o}:t,a=n.get(i);if(!a)throw new Error('Schema type with name "'.concat(i,'" not found'));const c=a.title||un(i),u=pOn(a);return new E5(e).id(s.id||i).title(s.title||c).filter("_type == $type").params({type:i}).schemaType(a).showIcons(u).defaultOrdering(zPn.by).menuItemGroups(s.menuItemGroups||[{id:"sorting",title:"Sort"},{id:"layout",title:"Layout"},{id:"actions",title:"Actions"}]).child(s.child||(d=>r({schemaType:i,documentId:d}))).canHandleIntent(s.canHandleIntent||vz).menuItems(s.menuItems||[...M$e(e,a),new Nf(e).group("layout").title("Compact view").icon(A0e).action("setLayout").params({layout:"default"}),new Nf(e).group("layout").title("Detailed view").icon(D0e).action("setLayout").params({layout:"detail"})])}function xOn(e){return!e||typeof e=="string"?!1:!!e.icon}function wOn(e){const t=W$e(e);return new f1(e).id("__root__").title("Content").items(t).showIcons(t.some(n=>xOn(n.getSchemaType())))}function COn(e){let{defaultDocumentNode:t,source:n}=e;const r=Qmn(n),o={...n,getStructureBuilder:()=>i,resolveDocumentNode:s=>{let a=(t==null?void 0:t(i,{...s,...r}))||new zf(o);return a.getId()||(a=a.id("documentEditor")),s.documentId&&(a=a.documentId(On(s.documentId))),a.schemaType(s.schemaType)}},i={defaults:()=>wOn(o),documentTypeList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return q$e(o,...a)},documentTypeListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return Y$e(o,...a)},documentTypeListItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return W$e(o,...a)},document:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new zf(o,...a)},documentWithInitialValueTemplate:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return KPn(o,...a)},defaultDocument:o.resolveDocumentNode,list:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new f1(o,...a)},listItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new h1(o,...a)},menuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Nf(o,...a)},menuItemGroup:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Ux(o,...a)},menuItemsFromInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return QPn(o,...a)},documentList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new bC(o,...a)},documentListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new bz(o,...a)},orderingMenuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return $$e(o,...a)},orderingMenuItemsForType:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return M$e(o,...a)},editor:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return GPn(o,...a)},defaultInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return ZPn(o,...a)},initialValueTemplateItem:(s,a)=>new uD(o,{id:s,parameters:a,templateId:s}),component:s=>Xn.isValidElementType(s)?new Wx().component(s):new Wx(s),divider:()=>({id:gEe("__divider__"),type:"divider"}),view:WPn,context:o};return i}function g$n(e){let{defaultDocumentNode:t,structure:n,children:r}=e;const[o,i]=h.useState(!1),s=Mn(),a=Xmn(s),c=el(),u=h.useMemo(()=>COn({defaultDocumentNode:t,source:s}),[t,s]),d=h.useMemo(()=>n?n(u,{...a,documentStore:c}):u.defaults(),[u,n,a,c]),f=h.useMemo(()=>({backButton:o,resizablePanes:!o,reviewChanges:!o,splitPanes:!o,splitViews:!o}),[o]),p=h.useMemo(()=>({features:f,layoutCollapsed:o,setLayoutCollapsed:i,rootPaneNode:d,structureContext:u.context}),[f,o,d,u.context]);return l.jsx(A$e.Provider,{value:p,children:r})}function G$e(e){const{children:t,currentMinWidth:n,flex:r,minWidth:o,paneKey:i,title:s="Error",tone:a="critical"}=e;return l.jsxs(eD,{currentMinWidth:n,flex:r,id:i,minWidth:o,tone:a,children:[l.jsx(JN,{title:s}),l.jsx(tD,{overflow:"auto",children:l.jsx(M,{paddingX:4,paddingY:5,children:t})})]})}function _On(e){const t=[{ms:300,message:"Loading…"},{ms:5e3,message:"Still loading…"}],n=be(null);return on(...t.map(r=>{let{ms:o,message:i}=r;return n.pipe(zj(i),SCe(o))}))}var Oge=Object.freeze,SOn=Object.defineProperty,EOn=(e,t)=>Oge(SOn(e,"raw",{value:Oge(t||e.slice())})),Rge;const kOn="Loading…",jOn=O(U)(Rge||(Rge=EOn([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),K$e=h.memo(e=>{const{delay:t=300,flex:n,message:r=_On,minWidth:o,paneKey:i,path:s,selected:a,title:c,tone:u}=e,d=h.useMemo(()=>typeof r=="function"?r(s?s.split(";"):[]):r,[r,s]),[f,p]=h.useState(()=>typeof d=="string"?d:kOn);h.useEffect(()=>{if(typeof d!="object"||typeof d.subscribe=="function")return;const b=d.subscribe(p);return()=>b.unsubscribe()},[d]);const[m,v]=h.useState(null),[g,y]=h.useState(!1);h.useEffect(()=>{if(m)return HXe(()=>y(!0))},[m]);const x=l.jsxs(jOn,{align:"center","data-mounted":g?"":void 0,direction:"column",height:"fill",justify:"center",ref:v,children:[l.jsx(fr,{muted:!0}),(c||f)&&l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:c||f})})]});return l.jsx(eD,{flex:n,id:i,minWidth:o,selected:a,tone:u,children:l.jsx(tD,{children:x})})});K$e.displayName="LoadingPane";function TOn(e){return e==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:e==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(e)}function AOn(e){return e==="publish"?"The document was published":e==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":e==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":e==="delete"?"The document was successfully deleted":"Successfully performed ".concat(e," on document")}const DOn=["patch","commit"],IOn=h.memo(function(){const{push:t}=Ho(),{documentId:n,documentType:r}=mr(),o=JOe(n,r),i=h.useRef(o),s=qc();return h.useEffect(()=>{if(!o||o===i.current)return;let a;return o.type==="error"&&t({closable:!0,duration:3e4,status:"error",title:TOn(o.op),description:l.jsxs("details",{children:[l.jsx("summary",{children:"Details"}),o.error.message]})}),o.type==="success"&&!DOn.includes(o.op)&&t({closable:!0,status:"success",title:AOn(o.op)}),o.type==="success"&&o.op==="delete"&&(a=setTimeout(()=>s.closeCurrentAndAfter(),0)),i.current=o,()=>clearTimeout(a)},[o,s,t]),null});function POn(e){let{currentInspector:t,hasValue:n,inspectors:r,inspectorMenuItems:o}=e;return r.map((i,s)=>{var a;const c=o[s];return!c||c.hidden?null:{action:"".concat(V4).concat(i.name),group:c.showAsAction?void 0:"inspectors",icon:c.icon,isDisabled:!n,selected:(t==null?void 0:t.name)===i.name,shortcut:(a=c.hotkeys)==null?void 0:a.join("+"),showAsAction:c.showAsAction,title:c.title,tone:c.tone}}).filter(Boolean)}function OOn(e){let{hasValue:t}=e;return{action:"inspect",group:"inspectors",title:"Inspect",icon:d0,isDisabled:!t,shortcut:"Ctrl+Alt+I"}}function ROn(e){let{previewUrl:t}=e;return t?{action:"production-preview",group:"links",title:"Open preview",icon:m0e,shortcut:"Ctrl+Alt+O"}:null}function $On(e){const t=POn(e),n=[ROn(e)].filter(Boolean);return[...t,OOn(e),...n]}const MOn=e=>wt(e)&&typeof e._id=="string"&&typeof e._type=="string";function FOn(e){const[t,n]=h.useState(void 0),[r,o]=h.useState(null),{resolveProductionUrl:i}=Mn().document,s=gnt(e);if(r)throw r;return h.useEffect(()=>{s.pipe(W6(500),it(a=>MOn(a)?Sr(i({document:a})):be(void 0)),Pn(a=>{const c=wt(a)&&typeof a.message=="string"?a.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(c))})).subscribe({next:n,error:o})},[i,s]),t}function LOn(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(t.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const o=r||t.urlTemplate,i=e.filter(c=>c.schemaType===t.documentType),s={...t.templateParams,...typeof n=="object"?n||{}:{}};let a=o;return!o&&i.length===1&&(a=i[0].id),{templateName:a,templateParams:s}}const BOn=h.memo(function(t){const{documentId:n,documentType:r,index:o,setMenuItem:i,useMenuItem:s}=t,a=Mo(s({documentId:n,documentType:r}));return h.useEffect(()=>{i(o,a)},[o,a,i]),l.jsx(l.Fragment,{})});function NOn(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:o}=e,i=r.length,s=h.useRef(i),[a,c]=h.useState(()=>Array.from(new Array(i))),u=h.useRef(a);h.useEffect(()=>{if(s.current!==i){const f=Array.from(new Array(i));for(let p=0;p<i;p++)f[p]=u.current[p];s.current=i,c(()=>(u.current=f,f))}},[i]);const d=h.useCallback((f,p)=>{c(m=>{const v=[...m];return v[f]=p,u.current=v,v})},[]);return h.useEffect(()=>{o(a.filter(Boolean))},[a,o]),l.jsx(l.Fragment,{children:r.map((f,p)=>f.useMenuItem&&l.jsx(BOn,{documentId:t,documentType:n,index:p,setMenuItem:d,useMenuItem:f.useMenuItem},f.name))})}const Z$e=h.memo(e=>{const{children:t,index:n,pane:r,paneKey:o,onFocusPath:i}=e,s=En(),a=n1(),{actions:c,badges:u,unstable_fieldActions:d,unstable_languageFilter:f,inspectors:p}=Mn().document,m=UN(),v=qc(),g=v.setParams,{features:y}=d1(),{push:x}=Ho(),{options:b,menuItemGroups:w=yEn,title:C=null,views:_=[]}=r,S=Mo(b),E=S.id,j=On(E),k=b.type,T=Mo(v.params)||vEn,A=Mo(v.payload),{templateName:D,templateParams:I}=h.useMemo(()=>LOn(a,{documentType:k,templateName:S.template,templateParams:S.templateParameters,panePayload:A,urlTemplate:T.template}),[k,S,T,A,a]),P=axn({documentId:j,documentType:k,templateName:D,templateParams:I}),$=Mo(P),{patch:R}=ql(j,k),V=ON(j,k),{validation:N}=RN(j,k),W=ubn(j,k),G=s.get(k),H=(V==null?void 0:V.draft)||(V==null?void 0:V.published)||$.value,[q,X]=h.useState(!1),[B,Y]=h.useState([]),z=h.useMemo(()=>c({schemaType:k,documentId:j}),[c,j,k]),Z=h.useMemo(()=>u({schemaType:k,documentId:j}),[u,j,k]),Q=h.useMemo(()=>f({schemaType:k,documentId:j}),[j,k,f]),ne=Mo(N),K=Mo(_),[J,re]=h.useState(()=>T.path?jl(T.path):pn),fe=h.useRef(J),le=T.view||K[0]&&K[0].id||null,[ge,xe]=h.useState("closed"),[ce,ve]=h.useState(null),$e=twn({documentId:j,documentType:k,onError:ve,rev:T.rev,since:T.since}),Ae=ao($e,Ye=>Ye.onOlderRevision),st=ao($e,Ye=>Ye.revTime),et=ao($e,Ye=>Ye.sinceAttributes),lt=ao($e,Ye=>Ye.timelineDisplayed),Oe=ao($e,Ye=>Ye.timelineReady),we=ao($e,Ye=>Ye.isPristine),We=h.useMemo(()=>Oe?!(V!=null&&V.draft)&&!(V!=null&&V.published)&&!we:!1,[V==null?void 0:V.draft,V==null?void 0:V.published,we,Oe]),ze=FOn(H),[Ze,Ct]=h.useState([]);h.useEffect(()=>{const Ye=m.documentPresence(j).subscribe(Nn=>{Ct(Nn)});return()=>{Ye.unsubscribe()}},[j,m]);const ke=h.useMemo(()=>p({documentId:j,documentType:k}),[j,k,p]),[Ne,dt]=h.useState(()=>T.inspect||null),ci=h.useRef(T.inspect);h.useEffect(()=>{ci.current!==T.inspect&&(ci.current=T.inspect,dt(T.inspect||null))},[T.inspect]);const Jn=ke==null?void 0:ke.find(Ye=>Ye.name===Ne),Wo=ke.find(Ye=>Ye.name===H4),Yt=(Jn==null?void 0:Jn.name)===H4,eo=!!H,nl=h.useMemo(()=>$On({currentInspector:Jn,features:y,hasValue:eo,inspectorMenuItems:B,inspectors:ke,previewUrl:ze}),[Jn,y,eo,B,ke,ze]),rl=T.inspect==="on",Is=Yt?et:(V==null?void 0:V.published)||null,Fn=h.useMemo(()=>G?d({documentId:j,documentType:k,schemaType:G}):[],[j,k,d,G]),Bn=W==="connected"&&V.ready&&(Oe||!!ce),Yr=h.useMemo(()=>Ae?lt||{_id:H._id,_type:H._type}:H,[Ae,lt,H]),Ge=h.useCallback((Ye,Nn)=>{g({...T,since:Ye,rev:Nn||void 0})},[T,g]),_t=h.useCallback(Ye=>{re(Ye),fe.current!==Ye&&(fe.current=Ye,i==null||i(Ye)),m.setLocation([{type:"document",documentId:j,path:Ye,lastActiveAt:new Date().toISOString()}])},[j,i,m,re]),er=h.useCallback(Ye=>{mD.current||(re(pn),fe.current!==pn&&(fe.current=pn,i==null||i(pn)))},[i,re]),Ln=h.useRef(()=>{throw new Error("Nope")});Ln.current=Ye=>{R.execute(nCn(Ye.patches),$.value)};const pa=h.useCallback(Ye=>Ln.current(Ye),[]),kr=h.useCallback(Ye=>{var Nn,kn,qr,Kc;const Zc=Ye&&ke.find(di=>di.name===Ye);if(Ye&&!Zc){console.warn('No inspector named "'.concat(Ye,'"'));return}if(Jn){if(Zc){const di=(kn=(Nn=Zc.onClose)==null?void 0:Nn.call(Zc,{params:T}))!=null?kn:{params:T};dt(null),ci.current=void 0,g({...di.params,inspect:void 0});return}if(Jn){const di=(Kc=(qr=Jn.onClose)==null?void 0:qr.call(Jn,{params:T}))!=null?Kc:{params:T};dt(null),ci.current=void 0,g({...di.params,inspect:void 0})}}},[Jn,ke,T,g]),ui=h.useCallback((Ye,Nn)=>{var kn,qr,Kc,Zc;const di=ke.find(Dz=>Dz.name===Ye);if(!di){console.warn('No inspector named "'.concat(Ye,'"'));return}if((Jn==null?void 0:Jn.name)===di.name){g({...T,...Nn,inspect:di.name});return}let g1=T;Jn&&(g1=((qr=(kn=di.onClose)==null?void 0:kn.call(di,{params:g1}))!=null?qr:{params:g1}).params);const wMe=(Zc=(Kc=di.onOpen)==null?void 0:Kc.call(di,{params:g1}))!=null?Zc:{params:g1};dt(di.name),ci.current=di.name,g({...wMe.params,...Nn,inspect:di.name})},[Jn,ke,T,g]),Ps=h.useCallback(()=>{Wo&&kr(Wo.name)},[kr,Wo]),ma=h.useCallback(()=>{y.reviewChanges&&Wo&&ui(Wo.name)},[y.reviewChanges,ui,Wo]),Nm=h.useCallback(()=>v.closeCurrent(),[v]),xC=h.useCallback(()=>v.duplicateCurrent(),[v]),Gl=h.useCallback(function(){let Ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!rl;g(Ye?{...T,inspect:"on"}:Pi(T,"inspect"))},[rl,T,g]),Gc=h.useCallback(Ye=>{if(Ye.action==="production-preview"&&ze)return window.open(ze),!0;if(Ye.action==="inspect")return Gl(!0),!0;if(Ye.action==="reviewChanges")return ma(),!0;if(typeof Ye.action=="string"&&Ye.action.startsWith(V4)){const Nn=Ye.action.slice(V4.length),kn=ke.find(qr=>qr.name===Nn);if(kn)return kn.name===Ne?kr(kn.name):ui(kn.name),!0}return!1},[kr,ma,Ne,ke,ui,ze,Gl]),p1=h.useCallback(Ye=>{for(const Nn of nl)if(Nn.shortcut&&yi(Nn.shortcut,Ye)){Ye.preventDefault(),Ye.stopPropagation(),Gc(Nn);return}},[Gc,nl]),lMe=h.useCallback(()=>Gl(!1),[Gl]),[cMe,uMe]=h.useState([]),[dMe,_z]=h.useState(),[Sz,Ez]=h.useState(),[kz,jz]=h.useState(),fMe=h.useCallback((Ye,Nn)=>{Ez(kn=>Uh(kn,Ye,Nn))},[]),hMe=h.useCallback((Ye,Nn)=>{jz(kn=>Uh(kn,Ye,Nn))},[]),pMe=h.useCallback((Ye,Nn)=>_z(kn=>Uh(kn,Ye,Nn)),[]),mMe=H._createdAt?"update":"create",Tz=!!(G!=null&&G.liveEdit),dD=H._id?H._id:"dummy-id",gMe=h.useMemo(()=>({...H,_id:Tz?On(dD):si(dD)}),[Tz,H,dD]),[m1,fD]=hxn({document:gMe,permission:mMe}),Az=!(H!=null&&H._id),vMe=h.useMemo(()=>{var Ye;const Nn=!fD&&!(m1!=null&&m1.granted),kn=!ZK(G,"update"),qr=Az&&!ZK(G,"create"),Kc=W==="reconnecting",Zc=(Ye=V.transactionSyncLock)==null?void 0:Ye.enabled;return!Bn||st!==null||Nn||kn||qr||Kc||Zc||q||We},[W,V.transactionSyncLock,Az,We,q,fD,m1==null?void 0:m1.granted,Bn,st,G]),hD=tCn(G,{value:Yr,readOnly:vMe,comparisonValue:Is,focusPath:J,openPath:cMe,collapsedPaths:Sz,presence:Ze,validation:ne,collapsedFieldSets:kz,fieldGroupState:dMe,changesOpen:Yt}),wC=h.useRef(hD);wC.current=hD;const pD=h.useCallback(Ye=>{zwn(wC.current,Ye).forEach(kn=>{kn.type==="expandPath"&&Ez(qr=>Uh(qr,kn.path,!1)),kn.type==="expandFieldSet"&&jz(qr=>Uh(qr,kn.path,!1)),kn.type==="setSelectedGroup"&&_z(qr=>Uh(qr,kn.path,kn.groupName))}),uMe(Ye)},[wC]),yMe={actions:z,activeViewId:le,badges:Z,changesOpen:Yt,closeInspector:kr,collapsedFieldSets:kz,collapsedPaths:Sz,compareValue:Is,connectionState:W,displayed:Yr,documentId:j,documentIdRaw:E,documentType:k,editState:V,fieldActions:Fn,focusPath:J,inspector:Jn||null,inspectors:ke,menuItems:nl,onBlur:er,onChange:pa,onFocus:_t,onPathOpen:pD,onHistoryClose:Ps,onHistoryOpen:ma,onInspectClose:lMe,onKeyUp:p1,onMenuAction:Gc,onPaneClose:Nm,onPaneSplit:xC,onSetActiveFieldGroup:pMe,onSetCollapsedPath:fMe,onSetCollapsedFieldSet:hMe,openInspector:ui,index:n,inspectOpen:rl,validation:ne,menuItemGroups:w||[],paneKey:o,previewUrl:ze,ready:Bn,schemaType:G,isPermissionsLoading:fD,permissions:m1,setTimelineMode:xe,setTimelineRange:Ge,setIsDeleting:X,isDeleting:q,isDeleted:We,timelineError:ce,timelineMode:ge,timelineStore:$e,title:C,value:H,views:K,formState:hD,unstable_languageFilter:Q};h.useEffect(()=>{W==="reconnecting"&&x({id:"sanity/desk/reconnecting",status:"warning",title:l.jsx(l.Fragment,{children:"Connection lost. Reconnecting…"})})},[W,x]);const mD=h.useRef(!1);h.useEffect(()=>{var Ye;if(Bn&&T.path){const{path:Nn,...kn}=T,qr=r4e((Ye=wC.current)==null?void 0:Ye.value,jl(Nn));mD.current=!0,re(qr),pD(qr),fe.current!==qr&&(fe.current=qr,i==null||i(qr));const Kc=setTimeout(()=>{mD.current=!1},0);return v.setParams(kn),()=>clearTimeout(Kc)}},[T,j,i,pD,Bn,v]);const[bMe,xMe]=h.useState([]);return l.jsxs(iRe.Provider,{value:yMe,children:[ke.length>0&&l.jsx(NOn,{documentId:j,documentType:k,inspectors:ke,onMenuItems:Y}),Fn.length>0&&G&&l.jsx(Zw,{actions:Fn,documentId:j,documentType:k,onActions:xMe,path:pn,schemaType:G}),l.jsx(eC,{actions:bMe,path:pn,children:l.jsx(oIn,{documentId:j,documentType:k,children:l.jsx(aIn,{children:t})})})]})});Z$e.displayName="DocumentPaneProvider";function rF(e,t,n){const r=jwn(),[o,i]=h.useState(n),s=h.useMemo(()=>r.forNamespace("desk-tool"),[r]),a=h.useMemo(()=>e?s.forNamespace(e).forKey(t):s.forKey(t),[s,e,t]);h.useEffect(()=>{const u=a.listen(n).subscribe({next:i});return()=>u==null?void 0:u.unsubscribe()},[n,t,e,a]);const c=h.useCallback(u=>{i(u),a.set(u)},[a]);return h.useMemo(()=>[o,c],[c,o])}const vg={id:"parsed",title:"Parsed"},yg={id:"raw",title:"Raw JSON"},zOn=[vg,yg],k5=j2n(1e3);function X$e(e,t){const n=k5.get(e);return n===void 0?(k5.set(e,Array.isArray(t)||wt(t)),X$e(e,t)):n}function VOn(e){const{path:t}=e,n=k5.get(t);n!==void 0&&k5.set(t,!n)}function Q$e(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function $ge(e){Q$e(e.currentTarget)}function HOn(e){e.keyCode===65&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),Q$e(e.currentTarget))}function UOn(e){return wt(e)&&vv(e._id)&&vv(e._type)}var Mge=Object.freeze,WOn=Object.defineProperty,YOn=(e,t)=>Mge(WOn(e,"raw",{value:Mge(t||e.slice())})),Fge;const qOn=O.div(e=>{let{theme:t}=e;const{color:n,fonts:r,space:o}=t.sanity;return he(Fge||(Fge=YOn([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),r.code.family,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ye(o[4]),ye(o[3]),ye(o[4]),r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ye(o[4]/2),n.syntax.property,n.syntax.constant,ye(o[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function GOn(e){const{onChange:t,query:n}=e,r=h.useCallback(o=>t(o.target.value),[t]);return l.jsx(Mr,{icon:ei,onChange:r,placeholder:"Search",radius:2,value:n||""})}function KOn(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=mr(),o="".concat(r,"_inspect_"),[i,s]=rF("desk-tool","inspect-view-preferred-view-mode-".concat(r),"parsed"),a=zOn.find(d=>d.id===i),c=h.useCallback(()=>{s(vg.id)},[s]),u=h.useCallback(()=>{s(yg.id)},[s]);return l.jsx(Ri,{id:"".concat(o,"dialog"),header:UOn(t)?l.jsxs(l.Fragment,{children:["Inspecting"," ",l.jsx("em",{children:l.jsx(U3e,{document:t})})]}):l.jsx("em",{children:"No value"}),onClose:n,onClickOutside:n,width:3,children:l.jsxs(U,{direction:"column",height:"fill",children:[l.jsx(ee,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:l.jsxs(Fj,{space:1,children:[l.jsx(Gb,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(vg.id),label:vg.title,onClick:c,selected:a===vg}),l.jsx(Gb,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(yg.id),label:yg.title,onClick:u,selected:a===yg})]})}),l.jsxs(Nwe,{"aria-labelledby":"".concat(o,"tab-").concat(i),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[a===vg&&l.jsx(qOn,{children:l.jsx(E2n,{data:t,isExpanded:X$e,onClick:VOn,search:GOn})}),a===yg&&l.jsx(ar,{language:"json",tabIndex:0,onKeyDown:HOn,onDoubleClick:$ge,onFocus:$ge,children:JSON.stringify(t,null,2)})]})]})})}var Lge=Object.freeze,ZOn=Object.defineProperty,XOn=(e,t)=>Lge(ZOn(e,"raw",{value:Lge(t||e.slice())})),Bge;const QOn=O(ee)(Bge||(Bge=XOn([`
  position: relative;
  z-index: 50;
`])));function JOn(e){let{revisionId:t}=e;const{documentId:n,documentType:r}=mr(),{restore:o}=ql(n,r),{navigateIntent:i}=zl(),s=h.useCallback(()=>{t&&(o.execute(t),i("edit",{id:n,type:r}))},[n,r,i,o,t]);return l.jsx(QOn,{"data-testid":"deleted-document-banner",shadow:1,tone:"transparent",children:l.jsx(Qr,{paddingX:4,paddingY:t?2:3,sizing:"border",width:1,children:l.jsxs(U,{align:"center",children:[l.jsx(L,{size:1,children:l.jsx(Xx,{})}),l.jsxs(U,{align:"center",gap:2,flex:1,marginLeft:3,children:[l.jsx(L,{size:1,children:"This document has been deleted."}),t&&l.jsx(se,{fontSize:1,padding:2,mode:"bleed",tone:"primary",onClick:s,text:"Restore most recent version"})]})]})})})}var Nge=Object.freeze,e3n=Object.defineProperty,J$e=(e,t)=>Nge(e3n(e,"raw",{value:Nge(t||e.slice())})),zge,Vge;const t3n=O(ee)(zge||(zge=J$e([`
  position: relative;
  z-index: 50;
`]))),Hge=O(L)(Vge||(Vge=J$e([`
  & > * {
    overflow: hidden;
    overflow: clip;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),eMe=h.memo(()=>{var e,t,n,r,o,i;const s=Li(),{params:a,groupIndex:c,routerPanesState:u,replaceCurrent:d,BackLink:f}=qc(),p=(e=u[c])==null?void 0:e[0].id,m=u[c-1],v=m==null?void 0:m[0],g=v==null?void 0:v.id,y=!!((t=v==null?void 0:v.params)!=null&&t.rev),x=h.useMemo(()=>(a==null?void 0:a.parentRefPath)&&jl(a.parentRefPath)||null,[a==null?void 0:a.parentRefPath]),b=go(()=>{const _=x==null?void 0:x[0];if(!g||!_||!x)return be({loading:!1});const S=On(g),E=jl(_),j=E.findIndex(k=>typeof k=="object"&&"_key"in k);return Hr(be({loading:!0}),s.unstable_observePathsDocumentPair(S,j===-1?E:E.slice(0,j)).pipe(W6(750),ue(k=>{let{draft:T,published:A}=k;var D;return{loading:!1,result:{availability:{draft:T.availability,published:A.availability},refValue:(D=om(T.snapshot||A.snapshot,x))==null?void 0:D._ref}}})))},[s,g,x],{loading:!0}),w=h.useCallback(()=>{var _;b.loading||(_=b.result)!=null&&_.refValue&&d({id:b.result.refValue,params:a})},[b.loading,b.result,d,a]);return!g||!x||y||b.loading||!((n=b.result)!=null&&n.availability.draft.available)&&!((r=b.result)!=null&&r.availability.published.available)||((o=b.result)==null?void 0:o.refValue)===p?null:l.jsx(t3n,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:l.jsx(Qr,{paddingX:4,paddingY:2,sizing:"border",width:1,children:l.jsxs(U,{align:"center",children:[l.jsx(L,{size:1,children:l.jsx(Fr,{})}),(i=b.result)!=null&&i.refValue?l.jsxs(l.Fragment,{children:[l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(Hge,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),l.jsx(M,{marginLeft:3,children:l.jsx(se,{onClick:w,icon:h0,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(Hge,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),l.jsx(M,{marginLeft:3,children:l.jsx(se,{as:f,icon:Ti,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});eMe.displayName="ReferenceChangedBanner";var Uge=Object.freeze,n3n=Object.defineProperty,r3n=(e,t)=>Uge(n3n(e,"raw",{value:Uge(t||e.slice())})),Wge;const o3n=O(ee)(Wge||(Wge=r3n([`
  position: relative;
  z-index: 50;
`])));function i3n(e){let{granted:t,requiredPermission:n}=e;var r,o;const i=Uo(),s=((r=i==null?void 0:i.roles)==null?void 0:r.length)!==1,a=s3n(((o=i==null?void 0:i.roles)==null?void 0:o.map(c=>l.jsx("code",{children:c.title},c.name)))||[],", ");return t?null:l.jsx(o3n,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:l.jsx(Qr,{paddingX:4,paddingY:3,sizing:"border",width:1,children:l.jsxs(U,{align:"flex-start",children:[l.jsx(L,{size:1,children:l.jsx(Xx,{})}),l.jsx(M,{flex:1,marginLeft:3,children:l.jsxs(L,{size:1,children:["Your role",s&&"s"," ",a," ",s?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function s3n(e,t){return e.reduce((n,r)=>n===null?[r]:n.concat([t,r]),null)}function a3n(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}const l3n=1e3*60*60*24*24;function c3n(e){const t=Ho(),n=a3n(e.enabled);h.useEffect(()=>{!n&&e.enabled&&t.push({...e,duration:l3n}),n&&!e.enabled&&t.push({...e,duration:.01})},[e,t,n])}const u3n=e=>e.preventDefault(),d3n=h.forwardRef(function(t,n){var r;const{hidden:o,margins:i}=t,{collapsedFieldSets:s,collapsedPaths:a,displayed:c,editState:u,documentId:d,documentType:f,fieldActions:p,onChange:m,validation:v,ready:g,formState:y,onFocus:x,onBlur:b,onSetCollapsedPath:w,onPathOpen:C,onSetCollapsedFieldSet:_,onSetActiveFieldGroup:S}=mr(),E=el(),j=uC(d),k=h.useMemo(()=>xZt(),[]),T=(r=u==null?void 0:u.transactionSyncLock)==null?void 0:r.enabled;c3n({id:"sync-lock-".concat(d),status:"warning",enabled:T,title:"Syncing document…",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),h.useEffect(()=>{const $=E.pair.documentEvents(d,f).pipe(bn(R=>{R.type==="mutation"&&k.publish(f3n(R)),R.type==="rebase"&&k.publish(h3n(R))})).subscribe();return()=>{$.unsubscribe()}},[d,E,f,k]);const A=!!(c!=null&&c._rev);h.useEffect(()=>{A&&k.publish({type:"mutation",patches:[],snapshot:c})},[A]);const[D,I]=h.useState(null);h.useEffect(()=>{g&&!(y!=null&&y.focusPath.length)&&D&&Fp(D)},[g]);const P=h.useCallback($=>{I($),typeof n=="function"?n($):n&&(n.current=$)},[n]);return l.jsx(Qr,{hidden:o,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:l.jsx(nC,{margins:i,children:l.jsx(M,{as:"form",onSubmit:u3n,ref:P,children:g?y===null?l.jsx(M,{padding:2,children:l.jsx(L,{children:"This form is hidden"})}):l.jsx(yen,{__internal_fieldActions:p,__internal_patchChannel:k,collapsedFieldSets:s,collapsedPaths:a,focusPath:y.focusPath,changed:y.changed,focused:y.focused,groups:y.groups,id:"root",members:y.members,onChange:m,onFieldGroupSelect:S,onPathBlur:b,onPathFocus:x,onPathOpen:C,onSetFieldSetCollapsed:_,onSetPathCollapsed:w,presence:j,readOnly:y.readOnly,schemaType:y.schemaType,validation:v,value:y.value}):l.jsx(XN,{ms:300,children:l.jsxs(U,{align:"center",direction:"column",height:"fill",justify:"center",children:[l.jsx(fr,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})});function f3n(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:P4(e.origin,t)}}function h3n(e){const t=e.remoteMutations.map(r=>r.patch).filter(Boolean),n=e.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:P4("remote",t).concat(P4("local",n))}}function p3n(){const{activeViewId:e,paneKey:t,views:n}=mr(),r="".concat(t,"tabpanel");return l.jsx(Fj,{space:1,children:n.map((o,i)=>{var s;return l.jsx(m3n,{icon:o.icon,id:"".concat(t,"tab-").concat(o.id),isActive:e===o.id,label:l.jsx(l.Fragment,{children:o.title}),tabPanelId:r,viewId:i===0?null:(s=o.id)!=null?s:null},o.id)})})}function m3n(e){const{isActive:t,tabPanelId:n,viewId:r,...o}=e,{ready:i}=mr(),{setView:s}=qc(),a=h.useCallback(()=>s(r),[s,r]);return l.jsx(Gb,{...o,"aria-controls":n,disabled:!i,fontSize:1,selected:t,onClick:a})}function g3n(){const{connectionState:e,schemaType:t,title:n,value:r}=mr(),o=!!r&&e==="connected",{error:i,value:s}=gB({enabled:o,schemaType:t,value:r});return e!=="connected"?l.jsx(l.Fragment,{}):n?l.jsx(l.Fragment,{children:n}):r?i?l.jsxs(l.Fragment,{children:["Error: ",i.message]}):l.jsx(l.Fragment,{children:(s==null?void 0:s.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs(l.Fragment,{children:["New ",(t==null?void 0:t.title)||(t==null?void 0:t.name)]})}const v3n=h.memo(h.forwardRef(function(t,n){const{onMenuAction:r,onPaneClose:o,onPaneSplit:i,menuItems:s,menuItemGroups:a,schemaType:c,timelineStore:u,ready:d,views:f,unstable_languageFilter:p}=mr(),{features:m}=d1(),{index:v,BackLink:g,hasGroupSiblings:y}=qc(),{actions:x}=zB(),b=h.useMemo(()=>rRe({actionHandler:r,fieldActions:x,menuItems:s,menuItemGroups:a}),[r,x,a,s]),w=h.useMemo(()=>b.filter(ez),[b]),C=h.useMemo(()=>b.filter(nRe),[b]),_=f.length>1,S=ao(u,I=>I.revTime),{collapsed:E,isLast:j}=hh(),k=j&&!E?-1:0,T=m.splitViews&&i&&f.length>1,A=T&&y,D=!A&&!m.backButton;return l.jsx(JN,{ref:n,loading:!d,title:l.jsx(g3n,{}),tabs:_&&l.jsx(p3n,{}),tabIndex:k,backButton:m.backButton&&v>0&&l.jsx(se,{as:g,"data-as":"a",icon:Zx,mode:"bleed",padding:2}),subActions:l.jsx(I$e,{chunk:S,mode:"rev",placement:"bottom-end"}),actions:l.jsxs(U,{align:"center",gap:1,children:[p.length>0&&l.jsx(l.Fragment,{children:p.map((I,P)=>h.createElement(I,{key:"language-filter-".concat(P),schemaType:c}))}),w.map(I=>l.jsx(tRe,{node:I},I.key)),l.jsx(X3e,{nodes:C},"context-menu"),T&&l.jsx(at,{content:l.jsx(L,{size:1,style:{whiteSpace:"nowrap"},children:"Split pane right"}),padding:2,placement:"bottom",portal:!0,children:l.jsx(se,{"aria-label":"Split pane right",icon:T0e,mode:"bleed",onClick:i},"split-pane-button")}),A&&l.jsx(se,{icon:Ti,mode:"bleed",onClick:o,title:"Close split pane"},"close-view-button"),D&&l.jsx(se,{icon:Ti,mode:"bleed",title:"Close pane group",as:g},"close-view-button")]})})}));var Yge=Object.freeze,y3n=Object.defineProperty,b3n=(e,t)=>Yge(y3n(e,"raw",{value:Yge(t||e.slice())})),qge;const x3n=O(M)({position:"relative"}),w3n=O(lA)(e=>{let{$disabled:t}=e;return t?{height:"100%"}:he(qge||(qge=b3n([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),C3n=function(t){const{footerHeight:n,isInspectOpen:r,rootElement:o,setDocumentPanelPortalElement:i}=t,{activeViewId:s,displayed:a,documentId:c,editState:u,inspector:d,value:f,views:p,ready:m,schemaType:v,permissions:g,isPermissionsLoading:y,isDeleting:x,isDeleted:b,timelineStore:w,formState:C}=mr(),{collapsed:_}=o1(),{collapsed:S}=hh(),E=gm(),{features:j}=d1(),[k,T]=h.useState(null),A=Zf(k),D=h.useRef(null),[I,P]=h.useState(null),$=h.useRef(null),R=f._createdAt?"update":"create",V=h.useMemo(()=>{if(C)return C.groups.find(z=>z.selected)},[C]),N=h.useMemo(()=>p.find(z=>z.id===s)||p[0]||{type:"form"},[s,p]),W=j.splitPanes&&D.current||E.element,G=h.useMemo(()=>_?[(A==null?void 0:A.height)||0,0,n?n+2:2,0]:[0,0,2,0],[_,n,A]),H=N.type!=="form",q=h.useMemo(()=>N.type==="component"&&N.component&&h.createElement(N.component,{document:{draft:(u==null?void 0:u.draft)||null,displayed:a||f,historical:a,published:(u==null?void 0:u.published)||null},documentId:c,options:N.options,schemaType:v}),[N,a,c,u==null?void 0:u.draft,u==null?void 0:u.published,v,f]),X=ao(w,z=>z.lastNonDeletedRevId);h.useEffect(()=>{I!=null&&I.scrollTo&&I.scrollTo(0,0)},[c,I]),h.useEffect(()=>{W&&i(W)},[W,i]);const B=h.useMemo(()=>r?l.jsx(KOn,{value:a||f}):null,[r,a,f]),Y=!!(!S&&d);return l.jsxs(l.Fragment,{children:[l.jsx(v3n,{ref:T}),l.jsx(tD,{children:l.jsxs(U,{height:"fill",children:[(j.resizablePanes||!Y)&&l.jsx(x3n,{flex:2,overflow:"hidden",children:l.jsx(ym,{element:W,__unstable_elements:{documentScrollElement:I},children:l.jsx(Lu,{element:I,children:l.jsxs(Dx,{scrollElement:I,containerElement:$,children:[N.type==="form"&&!y&&m&&l.jsxs(l.Fragment,{children:[l.jsx(i3n,{granted:!!(g!=null&&g.granted),requiredPermission:R}),!x&&b&&l.jsx(JOn,{revisionId:X}),l.jsx(eMe,{})]}),l.jsxs(w3n,{$disabled:_||!1,"data-testid":"document-panel-scroller",ref:P,children:[l.jsx(d3n,{hidden:H,margins:G,ref:$},c+(m?"_ready":"_pending")),q]},"".concat(V==null?void 0:V.name,"-").concat(c,"}")),B,l.jsx("div",{"data-testid":"document-panel-portal",ref:D})]})})})}),Y&&l.jsx(Lu,{element:o,children:l.jsx(mPn,{documentId:c,documentType:v.name,flex:1})})]})})]})},tMe=["left","bottom"],_3n={small:0,medium:1,large:2,full:"auto"};function S3n(e){const{dialog:t,referenceElement:n}=e;return l.jsx(en,{content:l.jsx(E3n,{dialog:t}),fallbackPlacements:tMe,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function E3n(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:o,confirmButtonText:i,message:s,onCancel:a,onConfirm:c,tone:u}=t,{isTopLayer:d}=ua(),[f,p]=h.useState(null),m=h.useCallback(()=>{d&&a()},[d,a]),v=h.useCallback(g=>{g.key==="Escape"&&d&&a()},[d,a]);return ur(m,[f]),Ts(v),l.jsxs(U,{direction:"column",ref:p,style:{minWidth:320-16,maxWidth:400},children:[l.jsx(M,{flex:1,overflow:"auto",padding:4,children:l.jsx(L,{children:s})}),l.jsx(M,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:l.jsxs(Jt,{columns:2,gap:2,children:[l.jsx(se,{icon:n,onClick:a,mode:"ghost",text:r||"Cancel"}),l.jsx(se,{icon:o,onClick:c,text:i||"Confirm",tone:u})]})})]})}function k3n(e){const{dialog:t}=e,n=h.useId(),r=t.footer&&l.jsx(M,{paddingX:4,paddingY:3,children:t.footer});return l.jsx(Ku,{zOffset:"fullscreen",children:l.jsx(Ri,{__unstable_hideCloseButton:t.showCloseButton===!1,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:_3n[t.width],children:l.jsx(M,{padding:4,children:t.content})})})}function j3n(e){const{dialog:t,referenceElement:n}=e;return l.jsx(en,{content:l.jsx(T3n,{dialog:t}),fallbackPlacements:tMe,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function T3n(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:o}=ua(),[i,s]=h.useState(null),a=h.useCallback(()=>{o&&r()},[o,r]),c=h.useCallback(u=>{u.key==="Escape"&&o&&r()},[o,r]);return ur(a,[i]),Ts(c),l.jsx("div",{ref:s,children:n})}function Gge(e){const{children:t}=e,{element:n,elements:r}=gm(),o=(r==null?void 0:r[fRe])||n;return l.jsx(ym,{element:o,children:t})}function xz(e){const{dialog:t,referenceElement:n=null}=e,r=h.useId();if(t.type==="confirm")return l.jsx(S3n,{dialog:t,referenceElement:n});if(t.type==="popover")return l.jsx(j3n,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return l.jsx(Gge,{children:l.jsx(k3n,{dialog:t})});if(t.type==="custom")return l.jsx(Gge,{children:t==null?void 0:t.component});const o=t;return console.warn("Unsupported modal type ".concat(o.type)),l.jsx(Ri,{id:r,onClose:o.onClose,onClickOutside:o.onClose,width:2,children:l.jsx(M,{padding:4,children:o.content||l.jsxs(l.Fragment,{children:["Unexpected modal type (",l.jsx("code",{children:o.type}),")"]})})})}function A3n(e){const{actionStates:t,disabled:n}=e,r=h.useId(),o=h.useRef(null),[i,s]=h.useState(-1),[a,c]=h.useState(null),u=h.useCallback(p=>{s(p)},[]),d=h.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),f=t[i];return l.jsxs(l.Fragment,{children:[l.jsx(tn,{id:"".concat(r,"-action-menu"),button:l.jsx(se,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:Za,mode:"ghost",ref:o}),menu:l.jsx(Bt,{padding:1,children:t.map((p,m)=>l.jsx(D3n,{actionState:p,disabled:n,index:m,onAction:u},m))}),popover:d,ref:c}),f&&f.dialog&&l.jsx(Ku,{zOffset:"paneFooter",children:l.jsx(xz,{dialog:f.dialog,referenceElement:a})})]})}function D3n(e){const{actionState:t,disabled:n,index:r,onAction:o}=e,{onHandle:i}=t,s=h.useCallback(()=>{o(r),i&&i()},[r,o,i]),a=t.title&&l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t.title})});return l.jsx(Ve,{"data-testid":"action-".concat(t.label.replace(" ","")),disabled:n||!!t.disabled,onClick:s,padding:0,tone:t.tone,children:l.jsx(at,{content:a,disabled:!a,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:l.jsxs(U,{align:"center",paddingX:3,children:[l.jsxs(U,{flex:1,paddingY:3,children:[t.icon&&l.jsx(M,{marginRight:3,children:l.jsxs(L,{children:[h.isValidElement(t.icon)&&t.icon,Xn.isValidElementType(t.icon)&&h.createElement(t.icon)]})}),l.jsx(L,{children:t.label})]}),t.shortcut&&l.jsx(M,{marginLeft:3,children:l.jsx(rB,{keys:String(t.shortcut).split("+").map(c=>c.slice(0,1).toUpperCase()+c.slice(1))})})]})})})}function nMe(e){const{disabled:t,showMenu:n,states:r}=e,[o,...i]=r,[s,a]=h.useState(null),c=h.useMemo(()=>!o||!o.title&&!o.shortcut?null:l.jsxs(U,{padding:2,style:{maxWidth:300},align:"center",children:[l.jsx(L,{size:1,children:o.title}),o.shortcut&&l.jsx(M,{marginLeft:o.title?2:0,children:l.jsx(rB,{keys:String(o.shortcut).split("+").map(u=>u.slice(0,1).toUpperCase()+u.slice(1).toLowerCase())})})]}),[o]);return l.jsxs(U,{children:[o&&l.jsx(Bu,{zOffset:200,children:l.jsx(at,{disabled:!c,content:c,portal:!0,placement:"top",children:l.jsx(oe,{flex:1,children:l.jsx(se,{"data-testid":"action-".concat(o.label),disabled:t||!!o.disabled,icon:o.icon,onClick:o.onHandle,ref:a,text:o.label,tone:o.tone||"primary"})})})}),n&&i.length>0&&l.jsx(M,{marginLeft:1,children:l.jsx(A3n,{actionStates:i,disabled:t})}),o&&o.dialog&&l.jsx(xz,{dialog:o.dialog,referenceElement:s})]})}const I3n=h.memo(function(){const{actions:t,connectionState:n,documentId:r,editState:o}=mr();return!t||!o?null:l.jsx(QN,{actions:t,actionProps:o,children:i=>{let{states:s}=i;return l.jsx(nMe,{disabled:n!=="connected",showMenu:t.length>1,states:s},r)}})}),P3n=h.memo(function(){const{connectionState:t,editState:n,timelineStore:r}=mr(),o=ao(r,u=>u.revTime),i=(o==null?void 0:o.id)||"",s=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===i,a=h.useMemo(()=>({...n||{},revision:i}),[n,i]),c=h.useMemo(()=>[tz],[]);return l.jsx(QN,{actions:c,actionProps:a,children:u=>{let{states:d}=u;return l.jsx(nMe,{disabled:t!=="connected"||!!s,showMenu:!1,states:d})}})}),O3n={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function R3n(e){let{states:t}=e;return l.jsx(Gt,{space:1,children:t.map((n,r)=>l.jsx(at,{content:n.title&&l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:l.jsx(w6,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?O3n[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(r)))})}function $3n(){const{badges:e,editState:t}=mr();return!t||!e?null:l.jsx(T2n,{badges:e,badgeProps:t,children:n=>{let{states:r}=n;return l.jsx(R3n,{states:r})}})}var Kge=Object.freeze,M3n=Object.defineProperty,F3n=(e,t)=>Kge(M3n(e,"raw",{value:Kge(t||e.slice())})),Zge;const L3n=O(U)(Zge||(Zge=F3n([`
  cursor: default;
`])));function B3n(e){const{collapsed:t,disabled:n,lastPublished:r,lastUpdated:o,liveEdit:i}=e,s=Xo(r||"",{minimal:!0,agoSuffix:!0}),a=Xo(r||"",{minimal:!0}),c=Xo(o||"",{minimal:!0,agoSuffix:!0}),u=Xo(o||"",{minimal:!0}),d=Xo(o||"",{minimal:!1,agoSuffix:!0}),f=Xo(r||"",{minimal:!1,agoSuffix:!0}),p=i?"Last updated ".concat(d):"Last published ".concat(f);return l.jsx(L3n,{align:"center","data-ui":"SessionLayout",sizing:"border",children:l.jsx(at,{placement:"top",portal:!0,content:l.jsx(oe,{padding:3,space:3,children:l.jsx(L,{size:1,children:i?l.jsxs(l.Fragment,{children:["Last updated"," ",l.jsx("abbr",{"aria-label":o?d:f,children:o?c:s})]}):l.jsxs(l.Fragment,{children:["Last published ",l.jsx("abbr",{"aria-label":f,children:s})]})})}),children:l.jsx(se,{mode:"bleed",tone:i?"critical":"positive",tabIndex:-1,disabled:n,"aria-label":p,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:t?0:3,children:l.jsx(L,{size:2,"aria-hidden":"true",children:i?l.jsx(E0e,{}):l.jsx(f0,{})})}),!t&&l.jsx(L,{size:1,weight:"medium",children:i?l.jsx("abbr",{"aria-label":p,children:o?u:a}):l.jsx("abbr",{"aria-label":p,children:a})})]})})})})}var Xge=Object.freeze,N3n=Object.defineProperty,wz=(e,t)=>Xge(N3n(e,"raw",{value:Xge(t||e.slice())})),Qge,Jge,eve;const z3n=O(od.path)(Qge||(Qge=wz([`
  transform-origin: center;
`]))),V3n=e=>l.jsx(od.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),H3n=e=>l.jsx(z3n,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),U3n=e=>l.jsx(od.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),W3n=e=>l.jsx(od.path,{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",...e}),Y3n=am(Jge||(Jge=wz([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),q3n=O.g(eve||(eve=wz([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),Y3n),G3n={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},K3n={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},Z3n={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},X3n={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},Q3n={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function J3n(e){const{status:t}=e;return t?l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:l.jsxs(od.g,{variants:G3n,initial:t,animate:t,children:[l.jsxs(q3n,{"data-rotate":t==="changes"?void 0:"",children:[l.jsx(H3n,{variants:Z3n,initial:t,animate:t}),l.jsx(V3n,{variants:K3n,initial:t,animate:t})]}),l.jsx(U3n,{variants:X3n,initial:t,animate:t}),l.jsx(W3n,{variants:Q3n,initial:t,animate:t})]})}):null}const eRn=ie.forwardRef(function(t,n){const{collapsed:r,status:o,lastUpdated:i,...s}=t,a=Xo(i||"",{minimal:!0}),c=Xo(i||"",{minimal:!0,agoSuffix:!0}),u=Xo(i||"",{minimal:!1,agoSuffix:!0}),d=h.useMemo(()=>o==="syncing"?{text:"Saving...",tone:void 0}:o==="changes"?{text:a,tone:"caution"}:o==="saved"?{text:"Saved!",tone:"positive"}:{},[o,a]);return o?l.jsx(at,{placement:"top",portal:!0,disabled:o!=="changes",content:l.jsxs(oe,{padding:3,space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Review changes"}),l.jsxs(L,{size:1,muted:!0,children:["Changes saved ",l.jsx("abbr",{"aria-label":u,children:c})]})]}),children:l.jsx(se,{mode:"bleed",justify:"flex-start",tone:d==null?void 0:d.tone,...s,"data-testid":"review-changes-button",ref:n,"aria-label":"Review changes",children:l.jsxs(U,{align:"center",children:[l.jsx(M,{marginRight:r?0:3,"aria-hidden":"true",children:l.jsx(L,{children:l.jsx(J3n,{status:o})})}),!r&&l.jsx(L,{size:1,weight:"medium",children:d==null?void 0:d.text})]})})}):null}),tRn=ie.memo(eRn),nRn=1e3,rRn=3e3,oRn=h.memo(function(){var t;const{changesOpen:n,documentId:r,documentType:o,editState:i,onHistoryClose:s,onHistoryOpen:a,timelineStore:c,value:u}=mr(),d=t3e(r,o),f=u==null?void 0:u._updatedAt,p=(t=i==null?void 0:i.published)==null?void 0:t._updatedAt,m=!!(i!=null&&i.liveEdit),v=!!(i!=null&&i.published),g=!!(i!=null&&i.draft),[y,x]=h.useState(null),b=Zf(y),w=!b||(b==null?void 0:b.width)<300,[C,_]=h.useState(null),S=ao(c,k=>k.onOlderRevision);h.useEffect(()=>{if(C==="syncing"&&!d.isSyncing){const k=setTimeout(()=>_("saved"),nRn);return()=>clearTimeout(k)}if(C==="saved"){const k=setTimeout(()=>_(null),rRn);return()=>clearTimeout(k)}},[C,f,d.isSyncing]),h.useLayoutEffect(()=>{_(null)},[r]),h.useLayoutEffect(()=>{d.isSyncing&&_("syncing")},[d.isSyncing,f]);const E=h.useMemo(()=>l.jsx(tRn,{lastUpdated:f,status:C||(g?"changes":void 0),onClick:n?s:a,disabled:S,selected:n,collapsed:w}),[g,n,s,a,f,S,C,w]),j=h.useMemo(()=>(m||v)&&l.jsx(M,{marginRight:1,children:l.jsx(B3n,{disabled:S,lastPublished:p,lastUpdated:f,liveEdit:m,collapsed:w})}),[w,p,f,m,v,S]);return l.jsxs(U,{align:"center","data-ui":"DocumentSparkline",ref:x,children:[j,l.jsxs(U,{align:"center",flex:1,children:[E,!w&&l.jsx(M,{marginLeft:3,children:l.jsx($3n,{})})]})]})});var tve=Object.freeze,iRn=Object.defineProperty,sRn=(e,t)=>tve(iRn(e,"raw",{value:tve(t||e.slice())})),nve;const aRn=O(M)(nve||(nve=sRn([`
  min-width: 10em;
  max-width: 16em;
`])));function lRn(e){const{actionsBoxRef:t}=e,{badges:n,timelineStore:r}=mr(),o=ao(r,i=>i.onOlderRevision);return h.useMemo(()=>l.jsx(M,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:l.jsxs(U,{align:"center",children:[l.jsx(M,{flex:[1,2],children:n&&l.jsx(oRn,{})}),l.jsx(aRn,{flex:1,marginLeft:[1,3],ref:t,children:o?l.jsx(P3n,{}):l.jsx(I3n,{})})]})}),[t,n,o])}function cRn(e){const{actionsBoxElement:t,activeIndex:n,as:r="div",children:o,id:i,onActionStart:s,onKeyDown:a,rootRef:c,states:u,...d}=e,f=u[n],p=h.useCallback(m=>{const v=u.filter(y=>y.shortcut&&yi(y.shortcut,m)),g=v[0];if(v.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(g.shortcut,'"')),g&&!g.disabled&&g.onHandle){m.preventDefault(),g.onHandle(),s(u.indexOf(g));return}a&&a(m)},[s,a,u]);return h.createElement(r,{id:i,onKeyDown:p,tabIndex:-1,...d,ref:c},[o,f&&f.dialog&&l.jsx(Ku,{zOffset:"paneFooter",children:l.jsx(xz,{dialog:f.dialog,referenceElement:t})})])}const rMe=ie.memo(e=>{const{actionsBoxElement:t,as:n="div",children:r,...o}=e,{actions:i,editState:s}=mr(),[a,c]=h.useState(-1),u=h.useCallback(f=>{c(f)},[]),d=h.useMemo(()=>s&&{...s,onComplete:()=>{},revision:void 0},[s]);return!d||!i?null:l.jsx(QN,{actionProps:d,actions:i,children:f=>{let{states:p}=f;return l.jsx(cRn,{...o,activeIndex:a,actionsBoxElement:t,as:n,onActionStart:u,states:p,children:r})}})});rMe.displayName="DocumentActionShortcuts";var rve=Object.freeze,uRn=Object.defineProperty,dRn=(e,t)=>rve(uRn(e,"raw",{value:rve(t||e.slice())})),ove;const ive=["fixed","fixed","absolute"],fRn=O(jWt)(ove||(ove=dRn([`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`]))),v$n=h.memo(function(t){const{name:n}=Mn();return l.jsx(bN,{name:t.pane.source||n,children:l.jsx(hRn,{...t})})});function hRn(e){var t;const{pane:n,paneKey:r}=e,{resolveNewDocumentOptions:o}=Mn().document,i=qc(),s=pRn(n.options,i.params),{documentType:a,isLoaded:c}=ixn(s.id,s.type),u=h.useMemo(()=>o({type:"document",documentId:s.id,schemaType:s.type}),[s.id,s.type,o]),[d,f]=zN({templateItems:u}),p=c&&!f,m=h.useMemo(()=>p&&a&&s.type!==a?mRn(e,s,a):e,[e,a,p,s]),{ReferenceChildLink:v,handleEditReference:g,groupIndex:y,routerPanesState:x}=i,b=((t=x[y+1])==null?void 0:t[0].params)||{},w=x.length,{parentRefPath:C}=b,_=h.useMemo(()=>C?{path:jl(C),state:y>=w-1?"none":y>=w-2?"selected":"pressed"}:{path:[],state:"none"},[C,y,w]);return s.type==="*"&&!p?l.jsx(K$e,{flex:2.5,minWidth:320,paneKey:r,title:"Loading document…"}):a?l.jsx(Z$e,{...m,children:l.jsx(xen,{EditReferenceLinkComponent:v,onEditReference:g,initialValueTemplateItems:d,activePath:_,children:l.jsx(gRn,{})})},"".concat(a,"-").concat(s.id)):l.jsx(G$e,{flex:2.5,minWidth:320,paneKey:r,title:l.jsx(l.Fragment,{children:"The document was not found"}),children:l.jsx(oe,{space:4,children:l.jsxs(L,{as:"p",children:["The document type is not defined, and a document with the ",l.jsx("code",{children:s.id})," ","identifier could not be found."]})})})}function pRn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=n1();return h.useMemo(()=>{if(e.type&&e.type!=="*")return e;const r=e.template||t.template,o=r?n.find(s=>s.id===r):void 0,i=o==null?void 0:o.schemaType;return i?{...e,type:i}:e},[e,t.template,n])}function mRn(e,t,n){return{...e,pane:{...e.pane,options:{...t,type:n}}}}function gRn(){const{changesOpen:e,documentType:t,inspector:n,inspectOpen:r,onFocus:o,onPathOpen:i,onHistoryOpen:s,onKeyUp:a,paneKey:c,schemaType:u,value:d}=mr(),{collapsed:f}=o1(),p=IAe(),[m,v]=h.useState(null),[g,y]=h.useState(null),[x,b]=h.useState(null),[w,C]=h.useState(null),_=Zf(g),S=_==null?void 0:_.height,E=h.useCallback(T=>{i(T),o(T)},[i,o]),j=mEn+(n?z4:0),k=pEn+(n?z4:0);return u?l.jsxs(rMe,{actionsBoxElement:x,as:eD,currentMinWidth:j,"data-testid":"document-pane",flex:2.5,id:c,minWidth:k,onKeyUp:a,rootRef:v,children:[l.jsx(JR,{position:ive,zOffset:p.portal,children:l.jsx(U,{direction:"column",flex:1,height:f?void 0:"fill",children:l.jsx(fRn,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:s,onSetFocus:E,children:l.jsx(C3n,{footerHeight:S||null,isInspectOpen:r,rootElement:m,setDocumentPanelPortalElement:C})})})}),l.jsx(ym,{__unstable_elements:{[fRe]:w},children:l.jsx(JR,{position:ive,zOffset:p.portal,children:l.jsx(mSn,{ref:y,children:l.jsx(lRn,{actionsBoxRef:b})})})}),l.jsx(IOn,{})]}):l.jsx(G$e,{currentMinWidth:j,flex:2.5,minWidth:k,paneKey:c,title:l.jsxs(l.Fragment,{children:["Unknown document type: ",l.jsx("code",{children:t})]}),tone:"caution",children:l.jsxs(oe,{space:4,children:[t&&l.jsxs(L,{as:"p",children:["This document has the schema type ",l.jsx("code",{children:t}),", which is not defined as a type in the local content studio schema."]}),!t&&l.jsx(L,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),Uc]})})}const sve=100,oF=2e3,oMe={by:[{field:"_updatedAt",direction:"desc"}]},vRn={};function yRn(e){return aA(e).map(t=>({...t.draft||t.published,hasPublished:!!t.published,hasDraft:!!t.draft}))}const bRn=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type\b/;function iMe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e.match(bRn);if(!n)return null;const r=(n[1]||n[2]).trim().replace(/^["']|["']$/g,"");if(r[0]==="$"){const o=r.slice(1),i=t[o];return typeof i=="string"?i:null}return r}function xRn(e){return/^_type\s*==\s*['"$]\w+['"]?\s*$/.test(e.trim())}function wRn(e,t){const n=e.by.map(r=>{if(r.mapWith)return r;const o=CRn(t,r.field);return o?SRn(o,"datetime")?{...r,mapWith:"dateTime"}:o.jsonType==="string"?{...r,mapWith:"lower"}:r:r});return n.every((r,o)=>r===e.by[o])?e:{...e,by:n}}function CRn(e,t){const n=jl(t);let r=e;for(const o of n){if(!r)return;if(typeof o=="string"){r=_Rn(r,o);continue}if(!(Rr(o)||wl(o))||r.jsonType!=="array")return;const[s,a]=r.of||[];if(a||!s)return;if(!Tu(s)){r=s;continue}const[c,u]=s.to||[];if(u||!c)return;r=c}return r}function _Rn(e,t){if(!("fields"in e))return;const n=e.fields.find(r=>r.name===t);return n?n.type:void 0}function SRn(e,t){let n=e.type;for(;n;){if(n.name===t||!n.type&&n.jsonType===t)return!0;n=n.type}return!1}var ave=Object.freeze,ERn=Object.defineProperty,sMe=(e,t)=>ave(ERn(e,"raw",{value:ave(t||e.slice())})),lve,cve;const kRn=O(M)(lve||(lve=sMe([`
  position: relative;
`]))),jRn=O(M)(cve||(cve=sMe([`
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
`]))),TRn=[...Array(30).keys()];function ARn(e){const{layout:t}=e;return l.jsx(oe,{padding:2,space:1,children:TRn.map(n=>l.jsx(ee,{padding:2,children:l.jsx(ch,{isPlaceholder:!0,layout:t})},n))})}function DRn(e){const{childItemId:t,error:n,filterIsSimpleTypeConstraint:r,hasMaxItems:o,hasSearchQuery:i,isActive:s,isLazyLoading:a,isLoading:c,items:u,layout:d,loadingVariant:f,onListChange:p,onRetry:m,paneTitle:v,searchInputElement:g,showIcons:y}=e,x=En(),{collapsed:b}=o1(),{collapsed:w,index:C}=hh(),[_,S]=h.useState(!1),E=h.useCallback(()=>{c||a||!_||p()},[a,c,p,_]);h.useEffect(()=>{if(w)return;const A=setTimeout(()=>{S(!0)},0);return()=>{clearTimeout(A)}},[w,u]);const j=h.useCallback((A,D)=>{let{activeIndex:I}=D;const P=On(A._id),$=t===P,R=!s&&$,V=s&&$,N=I===u.length-1,W=N&&a,G=N&&o;return l.jsxs(l.Fragment,{children:[l.jsx(zSn,{icon:y===!1?!1:void 0,id:P,layout:d,marginBottom:1,pressed:R,schemaType:x.get(A._type),selected:V,value:A}),W&&l.jsx(U,{align:"center",justify:"center",padding:4,children:l.jsx(fr,{muted:!0})}),G&&l.jsx(M,{marginY:1,paddingX:3,paddingY:4,children:l.jsxs(L,{align:"center",muted:!0,size:1,children:["Displaying a maximum of ",oF," documents"]})})]})},[t,s,u.length,d,x,y,o,a]),k=h.useMemo(()=>i?l.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(Qr,{width:1,children:l.jsx(M,{paddingX:4,paddingY:5,children:l.jsx(L,{align:"center",muted:!0,children:"No results found"})})})}):l.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(Qr,{width:1,children:l.jsx(M,{paddingX:4,paddingY:5,children:l.jsx(L,{align:"center",muted:!0,children:r?"No documents of this type":"No matching documents"})})})}),[r,i]),T=h.useMemo(()=>{if(!_)return null;if(n)return l.jsx(U,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(Qr,{width:1,children:l.jsxs(oe,{paddingX:4,paddingY:5,space:4,children:[l.jsx(Vo,{as:"h3",children:"Could not fetch list items"}),l.jsxs(L,{as:"p",children:["Error: ",l.jsx("code",{children:n.message})]}),m&&l.jsx(M,{children:l.jsx(se,{icon:h0,onClick:m,text:"Retry",tone:"primary"})})]})})});if(!c&&u.length===0)return k;if(f==="initial"&&c)return l.jsx(XN,{ms:300,children:l.jsx(ARn,{layout:d})});if(f==="spinner"&&c)return null;const A="".concat(C,"-").concat(w);return l.jsx(kRn,{overflow:"hidden",height:"fill",children:l.jsx(jRn,{children:l.jsx(ah,{activeItemDataAttr:"data-hovered",ariaLabel:v,canReceiveFocus:!0,focusRingOffset:-3,inputElement:g,itemHeight:51,items:u,onEndReached:E,onlyShowSelectionWhenActive:!0,overscan:10,padding:2,paddingBottom:1,renderItem:j,wrapAround:!1},A)})})},[w,n,E,C,c,u,d,f,m,j,g,_]);return l.jsx(tD,{overflow:b||f==="initial"?"hidden":"auto",children:T})}const aMe=h.memo(e=>{let{contentAfter:t,index:n,initialValueTemplates:r=[],menuItemGroups:o=[],menuItems:i=[],setLayout:s,setSortOrder:a,title:c}=e;const{features:u}=d1(),{collapsed:d,isLast:f}=hh(),p=f&&!d?-1:0,m=h.useMemo(()=>({setLayout:v=>{let{layout:g}=v;s(g)},setSortOrder:v=>{a(v)}}),[s,a]);return l.jsx(JN,{actions:l.jsx(LSn,{initialValueTemplateItems:r,actionHandlers:m,menuItemGroups:o,menuItems:i}),backButton:u.backButton&&n>0&&l.jsx(se,{as:L2n,"data-as":"a",icon:Zx,mode:"bleed"}),contentAfter:t,tabIndex:p,title:c})});aMe.displayName="DocumentListPaneHeader";function IRn(e){const{client:t,schema:n,sort:r,limit:o,params:i,filter:s,searchQuery:a,staticTypeNames:c}=e,u=r.by,d=r==null?void 0:r.extendedProjection,f=fo(()=>t.listen("*[".concat(s,"]"),i,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query"})).pipe(ht((v,g)=>g===0&&v.type!=="welcome"?Nu(()=>new Error(v.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(v.type,'"'))):be(v)),ra()),[p,m]=H6(f,v=>v.type==="welcome");return on(p.pipe(Ei(1)),m.pipe(Xb(1e3,Il,{leading:!0,trailing:!0}))).pipe(x7(v=>(c?be(c):t.observable.fetch("array::unique(*[".concat(s,"][]._type)"),i)).pipe(ht(y=>{const x=y.flatMap(E=>n.get(E)||[]),b={filter:s,query:a||"",types:x},w={__unstable_extendedProjection:d,comments:["findability-source: ".concat(a?"list-query":"list")],limit:o,params:i,sort:u},{query:C,params:_}=XAe(b,w),S=()=>t.observable.fetch(C,_);return v.type==="mutation"&&v.visibility!=="query"?No(1200).pipe(ht(S)):S()}))))}const PRn=[],uve={error:null,onRetry:void 0,result:null},ORn={result:null,error:null};function RRn(e){const{filter:t,params:n,sortOrder:r,searchQuery:o,apiVersion:i}=e,s=pr({...an,apiVersion:i||an.apiVersion}),a=En(),[c,u]=h.useState(uve),{onRetry:d,error:f,result:p}=c,m=p==null?void 0:p.documents,v=h.useMemo(()=>m?yRn(m):PRn,[m]),[g,y]=h.useState(!1),[x,b]=h.useState(!1),[w,C]=h.useState(!1),_=h.useMemo(()=>iMe(t,n),[t,n]),S=p===null&&!f,E=(m==null?void 0:m.length)===oF,j=h.useCallback(()=>{S||x||w||C(!0)},[S,x,w]),k=h.useCallback(D=>{var I,P;if(D.error){u(D);return}const $=((P=(I=D.result)==null?void 0:I.documents)==null?void 0:P.length)||0;if(!D.error&&(D==null?void 0:D.result)===null&&w){y(!0);return}if($<sve&&$!==0&&!w&&b(!0),(D==null?void 0:D.result)===null){u(V=>({...V.error?D:V}));return}y(!1),u(D)},[w]),T=h.useMemo(()=>{const D=new _r,I=()=>D.next();return IRn({client:s,filter:t,limit:w?oF:sve,params:n,schema:a,searchQuery:o||"",sort:r||oMe,staticTypeNames:_?[_]:void 0}).pipe(ue(R=>({result:{documents:R},error:null})),ri(ORn),Pn(R=>R instanceof ProgressEvent?Nu(()=>new Error("Request error")):Nu(()=>R)),Pn((R,V)=>Hr(be({result:null,error:R}),on(Ii(window,"online"),D).pipe(Ei(1),ht(()=>V)))),na((R,V)=>({...R,...V,onRetry:I})))},[s,t,n,a,o,w,r,_]);h.useEffect(()=>{const D=T.subscribe(k);return()=>{D.unsubscribe()}},[k,T]);const A=h.useCallback(()=>{b(!1),y(!1),u(uve),C(!1)},[]);return h.useEffect(()=>{A()},[A,t,n,r,o]),{error:f,hasMaxItems:E,isLazyLoading:g,isLoading:S,isSearchReady:!f,items:v,onListChange:j,onRetry:d}}var dve=Object.freeze,$Rn=Object.defineProperty,Cz=(e,t)=>dve($Rn(e,"raw",{value:dve(t||e.slice())})),fve,hve,pve;const iF=[],MRn=am(fve||(fve=Cz([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),FRn=O(Qx)(hve||(hve=Cz([`
  animation: `,` 500ms linear infinite;
`])),MRn),LRn=O(ee)(pve||(pve=Cz([`
  [data-ui='TextInput'] {
    border-radius: inherit;
  }
`])));function BRn(e){const t=h.useRef(e);return zu(t.current,e)||(t.current=e),t.current}const NRn=e=>{const{menuItems:t,sortOrderRaw:n,layout:r}=e;return t==null?void 0:t.map(o=>{var i,s,a,c;return(i=o.params)!=null&&i.layout?{...o,selected:r===((s=o.params)==null?void 0:s.layout)}:(a=o==null?void 0:o.params)!=null&&a.by?{...o,selected:Ht(n==null?void 0:n.by,((c=o==null?void 0:o.params)==null?void 0:c.by)||iF)}:{...o,selected:!1}})},y$n=h.memo(function(t){const{childItemId:n,index:r,isActive:o,isSelected:i,pane:s,paneKey:a}=t,c=En(),{name:u}=Mn(),{defaultLayout:d="default",displayOptions:f,initialValueTemplates:p=iF,menuItemGroups:m,menuItems:v,options:g,title:y}=s,{apiVersion:x,defaultOrdering:b=iF,filter:w}=g,C=BRn(g.params||vRn),_=s.source,S=h.useMemo(()=>iMe(w,C),[w,C]),E=(f==null?void 0:f.showIcons)!==!1,[j,k]=rF(S,"layout",d),[T,A]=h.useState(""),[D,I]=h.useState(""),[P,$]=h.useState(null),R=h.useRef(!1),V=h.useMemo(()=>(b==null?void 0:b.length)>0?{by:b}:oMe,[b]),[N,W]=rF(S,"sortOrder",V),G=S&&N?wRn(N,c.get(S)):N,H=Mo(G),q=xRn(w),{error:X,hasMaxItems:B,isLazyLoading:Y,isLoading:z,isSearchReady:Z,items:Q,onListChange:ne,onRetry:K}=RRn({apiVersion:x,filter:w,params:C,searchQuery:T==null?void 0:T.trim(),sortOrder:H}),J=h.useMemo(()=>NRn({menuItems:v,sortOrderRaw:N,layout:j}),[j,v,N]),re=Vj(ce=>ce.pipe(ue(ve=>ve.target.value),bn(I),U6(ve=>ve===""?be(""):No(300)),bn(A)),[]),fe=h.useCallback(()=>{A(""),I("")},[]),le=h.useCallback(ce=>{ce.key==="Escape"&&fe()},[fe]);h.useEffect(()=>(R.current===!1&&!z&&(R.current=!0),()=>{R.current=!1}),[z]),h.useEffect(()=>{fe(),R.current=!1},[a,fe]);const ge=h.useMemo(()=>z&&Q.length===0&&R.current?"spinner":"initial",[z,Q.length]),xe=l.jsx(M,{paddingX:2,paddingBottom:2,children:l.jsx(LRn,{radius:4,tone:"transparent",children:l.jsx(Mr,{"aria-label":"Search list",autoComplete:"off",border:!1,clearButton:!!T,disabled:!Z,fontSize:[2,2,1],icon:ge==="spinner"?FRn:ei,onChange:re,onClear:fe,onKeyDown:le,placeholder:"Search list",radius:2,ref:$,spellCheck:!1,value:D})})});return l.jsx(bN,{name:_||u,children:l.jsxs(eD,{currentMaxWidth:350,"data-ui":"DocumentListPane",id:a,maxWidth:640,minWidth:320,selected:i,children:[KSn,l.jsx(aMe,{contentAfter:xe,index:r,initialValueTemplates:p,menuItemGroups:m,menuItems:J,setLayout:k,setSortOrder:W,title:y}),l.jsx(DRn,{childItemId:n,error:X,filterIsSimpleTypeConstraint:q,hasMaxItems:B,hasSearchQuery:!!T,isActive:o,isLazyLoading:Y,isLoading:z,items:Q,layout:j,loadingVariant:ge,onListChange:ne,onRetry:K,paneTitle:y,searchInputElement:P,showIcons:E},a)]})})}),zRn=Oc({name:"anniversary-shoot",title:"Anniversary Shoot",type:"document",fields:[{name:"image",title:"Image",type:"image",options:{hotspot:!0}}],preview:{select:{media:"image"}}}),VRn=Oc({name:"birthday-shoot",title:"Birthday Shoot",type:"document",fields:[{name:"image",title:"Image",type:"image",options:{hotspot:!0}}],preview:{select:{media:"image"}}}),HRn=Oc({name:"cinematic-shoot",title:"Cinematic Shoot",type:"document",fields:[{name:"image",title:"Image",type:"image",options:{hotspot:!0}}],preview:{select:{media:"image"}}}),URn=Oc({name:"maternity-shoot",title:"Maternity Shoot",type:"document",fields:[{name:"image",title:"Image",type:"image",options:{hotspot:!0}}],preview:{select:{media:"image"}}}),WRn=Oc({name:"new-born-baby-shoot",title:"New Born Baby Shoot",type:"document",fields:[{name:"image",title:"Image",type:"image",options:{hotspot:!0}}],preview:{select:{media:"image"}}}),YRn=Oc({name:"pages-slider",title:"All Pages Slider Images",type:"document",fields:[{name:"image",title:"Image",type:"image",options:{hotspot:!0}},{name:"type",title:"Type",type:"string",initialValue:"wedding",options:{list:[{title:"Wedding",value:"wedding"},{title:"Pre-Wedding",value:"pre-wedding"},{title:"Maternity",value:"maternity"},{title:"Cinematic",value:"cinematic"},{title:"Birthday",value:"birthday"},{title:"Pre-Birthday",value:"pre-birthday"},{title:"Anniversary",value:"anniversary"},{title:"New Born Baby",value:"new-born-baby"}]}}],preview:{select:{media:"image"}}}),qRn=Oc({name:"pre-birthday-shoot",title:"Pre-Birthday Shoot",type:"document",fields:[{name:"image",title:"Image",type:"image",options:{hotspot:!0}}],preview:{select:{media:"image"}}}),GRn=Oc({name:"pre-wedding-shoot",title:"Pre-Wedding Shoot",type:"document",fields:[{name:"image",title:"Image",type:"image",options:{hotspot:!0}}],preview:{select:{media:"image"}}}),KRn=Oc({name:"slider-images",title:"Slider Images",type:"document",fields:[{name:"image",title:"Image",type:"image",options:{hotspot:!0}}],preview:{select:{media:"image"}}}),ZRn=Oc({name:"wedding",title:"Wedding Shoot",type:"document",fields:[{name:"image",title:"Image",type:"image",options:{hotspot:!0}}],preview:{select:{media:"image"}}}),XRn=[ZRn,GRn,URn,HRn,KRn,zRn,VRn,qRn,WRn,YRn],QRn={types:XRn},JRn={basePath:"/studio",projectId:{}.PROJECT_ID,dataset:{}.DATASET,schema:QRn,plugins:[$Pn(),sCn()]};cbn(document.getElementById("sanity"),JRn,{reactStrictMode:!1,basePath:"/"});export{Vo as $,Zx as A,se as B,ah as C,v$n as D,Bj as E,a$n as F,ym as G,p$n as H,Wl as I,m$n as J,x0 as K,K$e as L,bN as M,g$n as N,Br as O,eD as P,B2n as Q,d$n as R,Zb as S,f$n as T,Pi as U,JA as V,ue as W,sn as X,ee as Y,Qr as Z,KSn as _,y$n as a,oe as a0,Vt as a1,ar as a2,L as a3,Y8 as a4,h0 as a5,U as a6,Fr as a7,h$n as a8,ri as a9,Rf as aA,Mr as aB,Gt as aC,at as aD,Au as aE,aa as aF,D6 as aG,Y6e as aH,E0e as aI,pr as aJ,fr as aK,r_e as aL,Kx as aM,E2n as aN,ur as aO,en as aP,w6 as aQ,Av as aR,pe as aS,na as aa,it as ab,Qn as ac,Jwe as ad,ld as ae,ON as af,gB as ag,Att as ah,Sr as ai,be as aj,Hr as ak,V6 as al,i1t as am,yl as an,vl as ao,ys as ap,Pe as aq,M0e as ar,ie as as,e$n as at,mpt as au,Vu as av,ye as aw,he as ax,j2n as ay,Jt as az,Xn as b,JN as c,LSn as d,L2n as e,M as f,hh as g,o1 as h,zSn as i,l as j,tD as k,Ut as l,zl as m,iT as n,mn as o,wt as p,el as q,h as r,O as s,S8 as t,d1 as u,Ht as v,yi as w,Ho as x,En as y,As as z};
